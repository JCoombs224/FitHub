"use strict";(self.webpackChunkfithub_client=self.webpackChunkfithub_client||[]).push([[179],{2011:(Ht,Ne,N)=>{N.d(Ne,{Dh:()=>ge,GT:()=>ae,cc:()=>Ae,hO:()=>Je,on:()=>$,pX:()=>de,xv:()=>_e});var o=N(4650),j=N(9260),F=N(8100);Ht=N.hmd(Ht);const le=["ngOnDestroy"],de=(Ie,Re,Oe,Be={})=>new Proxy(Ie,{get:(je,Pe)=>Oe.runOutsideAngular(()=>{var it;if(Ie[Pe])return!(null===(it=Be?.spy)||void 0===it)&&it.get&&Be.spy.get(Pe,Ie[Pe]),Ie[Pe];if(le.indexOf(Pe)>-1)return()=>{};const oe=Re.toPromise().then(he=>{const ze=he&&he[Pe];return"function"==typeof ze?ze.bind(he):ze&&ze.then?ze.then(ct=>Oe.run(()=>ct)):Oe.run(()=>ze)});return new Proxy(()=>{},{get:(he,ze)=>oe[ze],apply:(he,ze,ct)=>oe.then(Ze=>{var jt;const ut=Ze&&Ze(...ct);return!(null===(jt=Be?.spy)||void 0===jt)&&jt.apply&&Be.spy.apply(Pe,ct,ut),ut})})})}),ae=(Ie,Re)=>{Re.forEach(Oe=>{Object.getOwnPropertyNames(Oe.prototype||Oe).forEach(Be=>{Object.defineProperty(Ie.prototype,Be,Object.getOwnPropertyDescriptor(Oe.prototype||Oe,Be))})})};class ke{constructor(Re){return Re}}const ge=new o.OlP("angularfire2.app.options"),_e=new o.OlP("angularfire2.app.name");function $(Ie,Re,Oe){const je="object"==typeof Oe&&Oe||{};je.name=je.name||"string"==typeof Oe&&Oe||"[DEFAULT]";const it=j.Z.apps.filter(oe=>oe&&oe.name===je.name)[0]||Re.runOutsideAngular(()=>j.Z.initializeApp(Ie,je));try{JSON.stringify(Ie)!==JSON.stringify(it.options)&&K("error",`${it.name} Firebase App already initialized with different options${Ht.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ke(it)}const K=(Ie,...Re)=>{(0,o.X6Q)()&&typeof console<"u"&&console[Ie](...Re)},ie={provide:ke,useFactory:$,deps:[ge,o.R0b,[new o.FiY,_e]]};let Je=(()=>{class Ie{constructor(Oe){j.Z.registerVersion("angularfire",F.q4.full,"core"),j.Z.registerVersion("angularfire",F.q4.full,"app-compat"),j.Z.registerVersion("angular",o.q4F.full,Oe.toString())}static initializeApp(Oe,Be){return{ngModule:Ie,providers:[{provide:ge,useValue:Oe},{provide:_e,useValue:Be}]}}}return Ie.\u0275fac=function(Oe){return new(Oe||Ie)(o.LFG(o.Lbi))},Ie.\u0275mod=o.oAB({type:Ie}),Ie.\u0275inj=o.cJS({providers:[ie]}),Ie})();function Ae(Ie,Re,Oe,Be,je){const[,Pe,it]=globalThis.\u0275AngularfireInstanceCache.find(oe=>oe[0]===Ie)||[];if(Pe)return function ot(Ie,Re){try{return Ie.toString()===Re.toString()}catch{return Ie===Re}}(je,it)||(Me("error",`${Re} was already initialized on the ${Oe} Firebase App with different settings.${st?" You may need to reload as Firebase is not HMR aware.":""}`),Me("warn",{is:je,was:it})),Pe;{const oe=Be();return globalThis.\u0275AngularfireInstanceCache.push([Ie,oe,je]),oe}}const st=!!Ht.hot,Me=(Ie,...Re)=>{(0,o.X6Q)()&&typeof console<"u"&&console[Ie](...Re)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8100:(Ht,Ne,N)=>{N.d(Ne,{q4:()=>ro,iC:()=>ao,fc:()=>ia,HU:()=>qu,vb:()=>zc,JM:()=>Yu,n1:()=>rr,u3:()=>qi});var o=N(4650),j=N(259),F=N(5861),le=N(9681),de=N(2090),ae=N(4859),ke=N(1877);N(2833);const _e="@firebase/remote-config",$="0.4.4",Ae=new de.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class He{constructor(Y,J,Te,Se){this.client=Y,this.storage=J,this.storageCache=Te,this.logger=Se}isCachedDataFresh(Y,J){if(!J)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Te=Date.now()-J,Se=Te<=Y;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Te}. Cache max age millis (minimumFetchIntervalMillis setting): ${Y}. Is cache hit: ${Se}.`),Se}fetch(Y){var J=this;return(0,F.Z)(function*(){const[Te,Se]=yield Promise.all([J.storage.getLastSuccessfulFetchTimestampMillis(),J.storage.getLastSuccessfulFetchResponse()]);if(Se&&J.isCachedDataFresh(Y.cacheMaxAgeMillis,Te))return Se;Y.eTag=Se&&Se.eTag;const tt=yield J.client.fetch(Y),St=[J.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===tt.status&&St.push(J.storage.setLastSuccessfulFetchResponse(tt)),yield Promise.all(St),tt})()}}function Ue(W=navigator){return W.languages&&W.languages[0]||W.language}class qe{constructor(Y,J,Te,Se,tt,St){this.firebaseInstallations=Y,this.sdkVersion=J,this.namespace=Te,this.projectId=Se,this.apiKey=tt,this.appId=St}fetch(Y){var J=this;return(0,F.Z)(function*(){const[Te,Se]=yield Promise.all([J.firebaseInstallations.getId(),J.firebaseInstallations.getToken()]),St=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${J.projectId}/namespaces/${J.namespace}:fetch?key=${J.apiKey}`,ln={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":Y.eTag||"*"},yn={sdk_version:J.sdkVersion,app_instance_id:Te,app_instance_id_token:Se,app_id:J.appId,language_code:Ue()},Sn={method:"POST",headers:ln,body:JSON.stringify(yn)},On=fetch(St,Sn),Y1=new Promise((_i,g1)=>{Y.signal.addEventListener(()=>{const Ac=new Error("The operation was aborted.");Ac.name="AbortError",g1(Ac)})});let mi;try{yield Promise.race([On,Y1]),mi=yield On}catch(_i){let g1="fetch-client-network";throw"AbortError"===_i?.name&&(g1="fetch-timeout"),Ae.create(g1,{originalErrorMessage:_i?.message})}let f2=mi.status;const Ls=mi.headers.get("ETag")||void 0;let gi,yr;if(200===mi.status){let _i;try{_i=yield mi.json()}catch(g1){throw Ae.create("fetch-client-parse",{originalErrorMessage:g1?.message})}gi=_i.entries,yr=_i.state}if("INSTANCE_STATE_UNSPECIFIED"===yr?f2=500:"NO_CHANGE"===yr?f2=304:("NO_TEMPLATE"===yr||"EMPTY_CONFIG"===yr)&&(gi={}),304!==f2&&200!==f2)throw Ae.create("fetch-status",{httpStatus:f2});return{status:f2,eTag:Ls,config:gi}})()}}class bt{constructor(Y,J){this.client=Y,this.storage=J}fetch(Y){var J=this;return(0,F.Z)(function*(){const Te=(yield J.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return J.attemptFetch(Y,Te)})()}attemptFetch(Y,{throttleEndTimeMillis:J,backoffCount:Te}){var Se=this;return(0,F.Z)(function*(){yield function $e(W,Y){return new Promise((J,Te)=>{const Se=Math.max(Y-Date.now(),0),tt=setTimeout(J,Se);W.addEventListener(()=>{clearTimeout(tt),Te(Ae.create("fetch-throttle",{throttleEndTimeMillis:Y}))})})}(Y.signal,J);try{const tt=yield Se.client.fetch(Y);return yield Se.storage.deleteThrottleMetadata(),tt}catch(tt){if(!function Xe(W){if(!(W instanceof de.ZR&&W.customData))return!1;const Y=Number(W.customData.httpStatus);return 429===Y||500===Y||503===Y||504===Y}(tt))throw tt;const St={throttleEndTimeMillis:Date.now()+(0,de.$s)(Te),backoffCount:Te+1};return yield Se.storage.setThrottleMetadata(St),Se.attemptFetch(Y,St)}})()}}class Lt{constructor(Y,J,Te,Se,tt){this.app=Y,this._client=J,this._storageCache=Te,this._storage=Se,this._logger=tt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function lt(W,Y){const J=W.target.error||void 0;return Ae.create(Y,{originalErrorMessage:J&&J?.message})}const rn="app_namespace_store";class s1{constructor(Y,J,Te,Se=function An(){return new Promise((W,Y)=>{try{const J=indexedDB.open("firebase_remote_config",1);J.onerror=Te=>{Y(lt(Te,"storage-open"))},J.onsuccess=Te=>{W(Te.target.result)},J.onupgradeneeded=Te=>{0===Te.oldVersion&&Te.target.result.createObjectStore(rn,{keyPath:"compositeKey"})}}catch(J){Y(Ae.create("storage-open",{originalErrorMessage:J?.message}))}})}()){this.appId=Y,this.appName=J,this.namespace=Te,this.openDbPromise=Se}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(Y){return this.set("last_fetch_status",Y)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(Y){return this.set("last_successful_fetch_timestamp_millis",Y)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(Y){return this.set("last_successful_fetch_response",Y)}getActiveConfig(){return this.get("active_config")}setActiveConfig(Y){return this.set("active_config",Y)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(Y){return this.set("active_config_etag",Y)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(Y){return this.set("throttle_metadata",Y)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(Y){var J=this;return(0,F.Z)(function*(){const Te=yield J.openDbPromise;return new Promise((Se,tt)=>{const ln=Te.transaction([rn],"readonly").objectStore(rn),yn=J.createCompositeKey(Y);try{const Sn=ln.get(yn);Sn.onerror=On=>{tt(lt(On,"storage-get"))},Sn.onsuccess=On=>{const Y1=On.target.result;Se(Y1?Y1.value:void 0)}}catch(Sn){tt(Ae.create("storage-get",{originalErrorMessage:Sn?.message}))}})})()}set(Y,J){var Te=this;return(0,F.Z)(function*(){const Se=yield Te.openDbPromise;return new Promise((tt,St)=>{const yn=Se.transaction([rn],"readwrite").objectStore(rn),Sn=Te.createCompositeKey(Y);try{const On=yn.put({compositeKey:Sn,value:J});On.onerror=Y1=>{St(lt(Y1,"storage-set"))},On.onsuccess=()=>{tt()}}catch(On){St(Ae.create("storage-set",{originalErrorMessage:On?.message}))}})})()}delete(Y){var J=this;return(0,F.Z)(function*(){const Te=yield J.openDbPromise;return new Promise((Se,tt)=>{const ln=Te.transaction([rn],"readwrite").objectStore(rn),yn=J.createCompositeKey(Y);try{const Sn=ln.delete(yn);Sn.onerror=On=>{tt(lt(On,"storage-delete"))},Sn.onsuccess=()=>{Se()}}catch(Sn){tt(Ae.create("storage-delete",{originalErrorMessage:Sn?.message}))}})})()}createCompositeKey(Y){return[this.appId,this.appName,this.namespace,Y].join()}}class F1{constructor(Y){this.storage=Y}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var Y=this;return(0,F.Z)(function*(){const J=Y.storage.getLastFetchStatus(),Te=Y.storage.getLastSuccessfulFetchTimestampMillis(),Se=Y.storage.getActiveConfig(),tt=yield J;tt&&(Y.lastFetchStatus=tt);const St=yield Te;St&&(Y.lastSuccessfulFetchTimestampMillis=St);const ln=yield Se;ln&&(Y.activeConfig=ln)})()}setLastFetchStatus(Y){return this.lastFetchStatus=Y,this.storage.setLastFetchStatus(Y)}setLastSuccessfulFetchTimestampMillis(Y){return this.lastSuccessfulFetchTimestampMillis=Y,this.storage.setLastSuccessfulFetchTimestampMillis(Y)}setActiveConfig(Y){return this.activeConfig=Y,this.storage.setActiveConfig(Y)}}function D2(){return Un.apply(this,arguments)}function Un(){return(Un=(0,F.Z)(function*(){if(!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}!function P2(){(0,le._registerComponent)(new ae.wA("remote-config",function W(Y,{instanceIdentifier:J}){const Te=Y.getProvider("app").getImmediate(),Se=Y.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ae.create("registration-window");if(!(0,de.hl)())throw Ae.create("indexed-db-unavailable");const{projectId:tt,apiKey:St,appId:ln}=Te.options;if(!tt)throw Ae.create("registration-project-id");if(!St)throw Ae.create("registration-api-key");if(!ln)throw Ae.create("registration-app-id");const yn=new s1(ln,Te.name,J=J||"firebase"),Sn=new F1(yn),On=new ke.Yd(_e);On.logLevel=ke.in.ERROR;const Y1=new qe(Se,le.SDK_VERSION,J,tt,St,ln),mi=new bt(Y1,yn),f2=new He(mi,yn,Sn,On),Ls=new Lt(Te,f2,Sn,yn,On);return function it(W){const Y=(0,de.m9)(W);Y._initializePromise||(Y._initializePromise=Y._storageCache.loadFromStorage().then(()=>{Y._isInitializationComplete=!0}))}(Ls),Ls},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(_e,$),(0,le.registerVersion)(_e,$,"esm2017")}();var C1=N(751);const ht="analytics",V1="firebase_id",k2="origin",z1=6e4,I1="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",z2="https://www.googletagmanager.com/gtag/js",xt=new ke.Yd("@firebase/analytics");function zt(W){return Promise.all(W.map(Y=>Y.catch(J=>J)))}function x1(){return(x1=(0,F.Z)(function*(W,Y,J,Te,Se,tt){const St=Te[Se];try{if(St)yield Y[St];else{const yn=(yield zt(J)).find(Sn=>Sn.measurementId===Se);yn&&(yield Y[yn.appId])}}catch(ln){xt.error(ln)}W("config",Se,tt)})).apply(this,arguments)}function b1(){return(b1=(0,F.Z)(function*(W,Y,J,Te,Se){try{let tt=[];if(Se&&Se.send_to){let St=Se.send_to;Array.isArray(St)||(St=[St]);const ln=yield zt(J);for(const yn of St){const Sn=ln.find(Y1=>Y1.measurementId===yn),On=Sn&&Y[Sn.appId];if(!On){tt=[];break}tt.push(On)}}0===tt.length&&(tt=Object.values(Y)),yield Promise.all(tt),W("event",Te,Se||{})}catch(tt){xt.error(tt)}})).apply(this,arguments)}const $n=new de.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),M1=30,pt=new class Ve{constructor(Y={},J=1e3){this.throttleMetadata=Y,this.intervalMillis=J}getThrottleMetadata(Y){return this.throttleMetadata[Y]}setThrottleMetadata(Y,J){this.throttleMetadata[Y]=J}deleteThrottleMetadata(Y){delete this.throttleMetadata[Y]}};function Vt(W){return new Headers({Accept:"application/json","x-goog-api-key":W})}function vn(){return(vn=(0,F.Z)(function*(W){var Y;const{appId:J,apiKey:Te}=W,Se={method:"GET",headers:Vt(Te)},tt=I1.replace("{app-id}",J),St=yield fetch(tt,Se);if(200!==St.status&&304!==St.status){let ln="";try{const yn=yield St.json();null!==(Y=yn.error)&&void 0!==Y&&Y.message&&(ln=yn.error.message)}catch{}throw $n.create("config-fetch-failed",{httpStatus:St.status,responseMessage:ln})}return St.json()})).apply(this,arguments)}function Z(){return(Z=(0,F.Z)(function*(W,Y=pt,J){const{appId:Te,apiKey:Se,measurementId:tt}=W.options;if(!Te)throw $n.create("no-app-id");if(!Se){if(tt)return{measurementId:tt,appId:Te};throw $n.create("no-api-key")}const St=Y.getThrottleMetadata(Te)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ln=new se;return setTimeout((0,F.Z)(function*(){ln.abort()}),void 0!==J?J:z1),q({appId:Te,apiKey:Se,measurementId:tt},St,ln,Y)})).apply(this,arguments)}function q(W,Y,J){return I.apply(this,arguments)}function I(){return I=(0,F.Z)(function*(W,{throttleEndTimeMillis:Y,backoffCount:J},Te,Se=pt){var tt;const{appId:St,measurementId:ln}=W;try{yield function P(W,Y){return new Promise((J,Te)=>{const Se=Math.max(Y-Date.now(),0),tt=setTimeout(J,Se);W.addEventListener(()=>{clearTimeout(tt),Te($n.create("fetch-throttle",{throttleEndTimeMillis:Y}))})})}(Te,Y)}catch(yn){if(ln)return xt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ln} provided in the "measurementId" field in the local Firebase config. [${yn?.message}]`),{appId:St,measurementId:ln};throw yn}try{const yn=yield function Xt(W){return vn.apply(this,arguments)}(W);return Se.deleteThrottleMetadata(St),yn}catch(yn){const Sn=yn;if(!function V(W){if(!(W instanceof de.ZR&&W.customData))return!1;const Y=Number(W.customData.httpStatus);return 429===Y||500===Y||503===Y||504===Y}(Sn)){if(Se.deleteThrottleMetadata(St),ln)return xt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ln} provided in the "measurementId" field in the local Firebase config. [${Sn?.message}]`),{appId:St,measurementId:ln};throw yn}const On=503===Number(null===(tt=Sn?.customData)||void 0===tt?void 0:tt.httpStatus)?(0,de.$s)(J,Se.intervalMillis,M1):(0,de.$s)(J,Se.intervalMillis),Y1={throttleEndTimeMillis:Date.now()+On,backoffCount:J+1};return Se.setThrottleMetadata(St,Y1),xt.debug(`Calling attemptFetch again in ${On} millis`),q(W,Y1,Te,Se)}}),I.apply(this,arguments)}class se{constructor(){this.listeners=[]}addEventListener(Y){this.listeners.push(Y)}abort(){this.listeners.forEach(Y=>Y())}}let me,mt;function Ot(){return(Ot=(0,F.Z)(function*(W,Y,J,Te,Se){if(Se&&Se.global)W("event",J,Te);else{const tt=yield Y;W("event",J,Object.assign(Object.assign({},Te),{send_to:tt}))}})).apply(this,arguments)}function ve(){return(ve=(0,F.Z)(function*(){if(!(0,de.hl)())return xt.warn($n.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,de.eu)()}catch(W){return xt.warn($n.create("indexeddb-unavailable",{errorInfo:W?.toString()}).message),!1}return!0})).apply(this,arguments)}function et(){return et=(0,F.Z)(function*(W,Y,J,Te,Se,tt,St){var ln;const yn=function m1(W){return Z.apply(this,arguments)}(W);yn.then(f2=>{J[f2.measurementId]=f2.appId,W.options.measurementId&&f2.measurementId!==W.options.measurementId&&xt.warn(`The measurement ID in the local Firebase config (${W.options.measurementId}) does not match the measurement ID fetched from the server (${f2.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f2=>xt.error(f2)),Y.push(yn);const Sn=function Q(){return ve.apply(this,arguments)}().then(f2=>{if(f2)return Te.getId()}),[On,Y1]=yield Promise.all([yn,Sn]);(function Z2(W){const Y=window.document.getElementsByTagName("script");for(const J of Object.values(Y))if(J.src&&J.src.includes(z2)&&J.src.includes(W))return J;return null})(tt)||function Gt(W,Y){const J=document.createElement("script");J.src=`${z2}?l=${W}&id=${Y}`,J.async=!0,document.head.appendChild(J)}(tt,On.measurementId),mt&&(Se("consent","default",mt),function Mt(W){mt=W}(void 0)),Se("js",new Date);const mi=null!==(ln=St?.config)&&void 0!==ln?ln:{};return mi[k2]="firebase",mi.update=!0,null!=Y1&&(mi[V1]=Y1),Se("config",On.measurementId,mi),me&&(Se("set",me),function Nt(W){me=W}(void 0)),On.measurementId}),et.apply(this,arguments)}class cn{constructor(Y){this.app=Y}_delete(){return delete Bt[this.app.options.appId],Promise.resolve()}}let Bt={},Ft=[];const t1={};let nn,jn,B1="dataLayer",at="gtag",U1=!1;function _r(W,Y,J){!function u2(){const W=[];if((0,de.ru)()&&W.push("This is a browser extension environment."),(0,de.zI)()||W.push("Cookies are not available."),W.length>0){const Y=W.map((Te,Se)=>`(${Se+1}) ${Te}`).join(" "),J=$n.create("invalid-analytics-context",{errorInfo:Y});xt.warn(J.message)}}();const Te=W.options.appId;if(!Te)throw $n.create("no-app-id");if(!W.options.apiKey){if(!W.options.measurementId)throw $n.create("no-api-key");xt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${W.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Bt[Te])throw $n.create("already-exists",{id:Te});if(!U1){!function l1(W){let Y=[];Array.isArray(window[W])?Y=window[W]:window[W]=Y}(B1);const{wrappedGtag:tt,gtagCore:St}=function Jt(W,Y,J,Te,Se){let tt=function(...St){window[Te].push(arguments)};return window[Se]&&"function"==typeof window[Se]&&(tt=window[Se]),window[Se]=function R2(W,Y,J,Te){function tt(){return tt=(0,F.Z)(function*(St,ln,yn){try{"event"===St?yield function N1(W,Y,J,Te,Se){return b1.apply(this,arguments)}(W,Y,J,ln,yn):"config"===St?yield function u1(W,Y,J,Te,Se,tt){return x1.apply(this,arguments)}(W,Y,J,Te,ln,yn):"consent"===St?W("consent","update",yn):W("set",ln)}catch(Sn){xt.error(Sn)}}),tt.apply(this,arguments)}return function Se(St,ln,yn){return tt.apply(this,arguments)}}(tt,W,Y,J),{gtagCore:tt,wrappedGtag:window[Se]}}(Bt,Ft,t1,B1,at);jn=tt,nn=St,U1=!0}return Bt[Te]=function Ge(W,Y,J,Te,Se,tt,St){return et.apply(this,arguments)}(W,Ft,t1,Y,nn,B1,J),new cn(W)}function Ts(){return hn.apply(this,arguments)}function hn(){return(hn=(0,F.Z)(function*(){if((0,de.ru)()||!(0,de.zI)()||!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}const vr="@firebase/analytics";!function na(){(0,le._registerComponent)(new ae.wA(ht,(Y,{options:J})=>_r(Y.getProvider("app").getImmediate(),Y.getProvider("installations-internal").getImmediate(),J),"PUBLIC")),(0,le._registerComponent)(new ae.wA("analytics-internal",function W(Y){try{const J=Y.getProvider(ht).getImmediate();return{logEvent:(Te,Se,tt)=>function ks(W,Y,J,Te){W=(0,de.m9)(W),function vt(W,Y,J,Te,Se){return Ot.apply(this,arguments)}(jn,Bt[W.app.options.appId],Y,J,Te).catch(Se=>xt.error(Se))}(J,Te,Se,tt)}}catch(J){throw $n.create("interop-component-reg-failed",{reason:J})}},"PRIVATE")),(0,le.registerVersion)(vr,"0.9.4"),(0,le.registerVersion)(vr,"0.9.4","esm2017")}();var Rn=N(233),Vl=N(4986),Dc=N(9751),W1=N(8505),io=N(5363),As=N(9468);const ro=new o.GfV("7.5.0"),d2="__angularfire_symbol__analyticsIsSupportedValue",e3="__angularfire_symbol__analyticsIsSupported",O2="__angularfire_symbol__remoteConfigIsSupportedValue",Ai="__angularfire_symbol__remoteConfigIsSupported",Wi="__angularfire_symbol__messagingIsSupportedValue",Rr="__angularfire_symbol__messagingIsSupported";globalThis[e3]||(globalThis[e3]=Ts().then(W=>globalThis[d2]=W).catch(()=>globalThis[d2]=!1)),globalThis[Rr]||(globalThis[Rr]=(0,C1.Gb)().then(W=>globalThis[Wi]=W).catch(()=>globalThis[Wi]=!1)),globalThis[Ai]||(globalThis[Ai]=D2().then(W=>globalThis[O2]=W).catch(()=>globalThis[O2]=!1));const rr={async:()=>globalThis[Rr],sync:()=>{const W=globalThis[Wi];if(void 0===W)throw new Error((W=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${W} in the constructor, first ensure that ${W} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${W})\`.`)("Messaging"));return W}};function Yu(W,Y,J){if(Y){if(1===Y.length)return Y[0];const tt=Y.filter(St=>St.app===J);if(1===tt.length)return tt[0]}return J.container.getProvider(W).getImmediate({optional:!0})}const zc=(W,Y)=>{const J=Y?[Y]:(0,j.C6)(),Te=[];return J.forEach(Se=>{Se.container.getProvider(W).instances.forEach(St=>{Te.includes(St)||Te.push(St)})}),Te};function Hi(){}class so{constructor(Y,J=Rn.N){this.zone=Y,this.delegate=J}now(){return this.delegate.now()}schedule(Y,J,Te){const Se=this.zone;return this.delegate.schedule(function(St){Se.runGuarded(()=>{Y.apply(this,[St])})},J,Te)}}class t3{constructor(Y){this.zone=Y,this.task=null}call(Y,J){const Te=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Hi,{},Hi,Hi)),J.pipe((0,W1.b)({next:Te,complete:Te,error:Te})).subscribe(Y).add(Te)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let qu=(()=>{class W{constructor(J){this.ngZone=J,this.outsideAngular=J.runOutsideAngular(()=>new so(Zone.current)),this.insideAngular=J.run(()=>new so(Zone.current,Vl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return W.\u0275fac=function(J){return new(J||W)(o.LFG(o.R0b))},W.\u0275prov=o.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})();function Hs(){const W=globalThis.\u0275AngularFireScheduler;if(!W)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return W}function oo(W){return Hs().ngZone.run(()=>W())}function ia(W){return W.pipe((0,io.Q)(Hs().outsideAngular))}function ao(W){return Hs(),function Hh(W){return function(J){return(J=J.lift(new t3(W.ngZone))).pipe((0,As.R)(W.outsideAngular),(0,io.Q)(W.insideAngular))}}(Hs())(W)}const $u=(W,Y)=>function(){const Te=arguments;return Y&&setTimeout(()=>{"scheduled"===Y.state&&Y.invoke()},10),oo(()=>W.apply(void 0,Te))},qi=(W,Y)=>function(){let J;const Te=arguments;for(let tt=0;tt<arguments.length;tt++)"function"==typeof Te[tt]&&(Y&&(J||(J=oo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Hi,{},Hi,Hi)))),Te[tt]=$u(Te[tt],J));const Se=function Gu(W){return Hs().ngZone.runOutsideAngular(()=>W())}(()=>W.apply(this,Te));if(!Y){if(Se instanceof Dc.y){const tt=Hs();return Se.pipe((0,As.R)(tt.outsideAngular),(0,io.Q)(tt.insideAngular))}return oo(()=>Se)}return Se instanceof Dc.y?Se.pipe(ao):Se instanceof Promise?oo(()=>new Promise((tt,St)=>Se.then(ln=>oo(()=>tt(ln)),ln=>oo(()=>St(ln))))):"function"==typeof Se&&J?function(){return setTimeout(()=>{J&&"scheduled"===J.state&&J.invoke()},10),Se.apply(this,arguments)}:oo(()=>Se)}},5114:(Ht,Ne,N)=>{N.d(Ne,{$:()=>sr,A:()=>K,B:()=>Ae,G:()=>ve,H:()=>Ft,J:()=>W1,L:()=>m1,M:()=>zc,N:()=>qu,P:()=>K2,Q:()=>Hs,R:()=>FS,T:()=>Gu,U:()=>t3,V:()=>ao,W:()=>Hh,X:()=>J,Y:()=>_i,Z:()=>Ac,_:()=>ri,a:()=>Gl,a0:()=>Ku,a1:()=>pn,a2:()=>Q_,a3:()=>Lh,a4:()=>Qu,a5:()=>Eh,a6:()=>Fn,a7:()=>X1,a8:()=>vi,a9:()=>Vh,aA:()=>Z,aB:()=>Ps,aC:()=>V6,aD:()=>Ci,aE:()=>Nt,aI:()=>D6,aL:()=>ia,aa:()=>Ul,ab:()=>PS,ac:()=>yi,af:()=>or,ag:()=>Ih,ah:()=>t7,ak:()=>ln,al:()=>Rh,an:()=>ev,ao:()=>o7,ap:()=>ze,aq:()=>an,ar:()=>vt,as:()=>Oe,at:()=>f8,au:()=>$i,av:()=>Zt,aw:()=>Be,ax:()=>oe,ay:()=>l8,az:()=>Ze,b:()=>T6,c:()=>av,d:()=>cr,e:()=>cv,f:()=>Uc,g:()=>N6,h:()=>g3,i:()=>A6,j:()=>p2,k:()=>p8,l:()=>sv,m:()=>F2,n:()=>_8,o:()=>ge,r:()=>p7,s:()=>Zh,u:()=>BS});var o=N(5861),j=N(2090),F=N(9681),le=N(1877),de=N(655),ae=N(4859);const ge={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},K={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ae=function ie(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ot=function Je(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},st=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ie=new le.Yd("@firebase/auth");function Re(w,...v){Ie.logLevel<=le.in.ERROR&&Ie.error(`Auth (${F.SDK_VERSION}): ${w}`,...v)}function Oe(w,...v){throw it(w,...v)}function Be(w,...v){return it(w,...v)}function je(w,v,C){const T=Object.assign(Object.assign({},ot()),{[v]:C});return new j.LL("auth","Firebase",T).create(v,{appName:w.name})}function Pe(w,v,C){if(!(v instanceof C))throw C.name!==v.constructor.name&&Oe(w,"argument-error"),je(w,"argument-error",`Type of ${v.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function it(w,...v){if("string"!=typeof w){const C=v[0],T=[...v.slice(1)];return T[0]&&(T[0].appName=w.name),w._errorFactory.create(C,...T)}return st.create(w,...v)}function oe(w,v,...C){if(!w)throw it(v,...C)}function he(w){const v="INTERNAL ASSERTION FAILED: "+w;throw Re(v),new Error(v)}function ze(w,v){w||he(v)}const ct=new Map;function Ze(w){ze(w instanceof Function,"Expected a class definition");let v=ct.get(w);return v?(ze(v instanceof w,"Instance stored in cache mismatched with class"),v):(v=new w,ct.set(w,v),v)}function pe(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function we(){return"http:"===He()||"https:"===He()}function He(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class $e{constructor(v,C){this.shortDelay=v,this.longDelay=C,ze(C>v,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return function Ue(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(we()||(0,j.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Xe(w,v){ze(w.emulator,"Emulator should always be set here");const{url:C}=w.emulator;return v?`${C}${v.startsWith("/")?v.slice(1):v}`:C}class bt{static initialize(v,C,T){this.fetchImpl=v,C&&(this.headersImpl=C),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void he("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void he("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void he("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Pn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Pt=new $e(3e4,6e4);function Lt(w,v){return w.tenantId&&!v.tenantId?Object.assign(Object.assign({},v),{tenantId:w.tenantId}):v}function lt(w,v,C,T){return rn.apply(this,arguments)}function rn(){return(rn=(0,o.Z)(function*(w,v,C,T,H={}){return r1(w,H,(0,o.Z)(function*(){let R={},ue={};T&&("GET"===v?ue=T:R={body:JSON.stringify(T)});const Fe=(0,j.xO)(Object.assign({key:w.config.apiKey},ue)).slice(1),wt=yield w._getAdditionalHeaders();return wt["Content-Type"]="application/json",w.languageCode&&(wt["X-Firebase-Locale"]=w.languageCode),bt.fetch()(F1(w,w.config.apiHost,C,Fe),Object.assign({method:v,headers:wt,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function r1(w,v,C){return e1.apply(this,arguments)}function e1(){return(e1=(0,o.Z)(function*(w,v,C){w._canInitEmulator=!1;const T=Object.assign(Object.assign({},Pn),v);try{const H=new P2(w),R=yield Promise.race([C(),H.promise]);H.clearNetworkTimeout();const ue=yield R.json();if("needConfirmation"in ue)throw E1(w,"account-exists-with-different-credential",ue);if(R.ok&&!("errorMessage"in ue))return ue;{const Fe=R.ok?ue.errorMessage:ue.error.message,[wt,Wt]=Fe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===wt)throw E1(w,"credential-already-in-use",ue);if("EMAIL_EXISTS"===wt)throw E1(w,"email-already-in-use",ue);if("USER_DISABLED"===wt)throw E1(w,"user-disabled",ue);const dn=T[wt]||wt.toLowerCase().replace(/[_\s]+/g,"-");if(Wt)throw je(w,dn,Wt);Oe(w,dn)}}catch(H){if(H instanceof j.ZR)throw H;Oe(w,"internal-error",{message:String(H)})}})).apply(this,arguments)}function An(w,v,C,T){return s1.apply(this,arguments)}function s1(){return(s1=(0,o.Z)(function*(w,v,C,T,H={}){const R=yield lt(w,v,C,T,H);return"mfaPendingCredential"in R&&Oe(w,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function F1(w,v,C,T){const H=`${v}${C}?${T}`;return w.config.emulator?Xe(w.config,H):`${w.config.apiScheme}://${H}`}class P2{constructor(v){this.auth=v,this.timer=null,this.promise=new Promise((C,T)=>{this.timer=setTimeout(()=>T(Be(this.auth,"network-request-failed")),Pt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function E1(w,v,C){const T={appName:w.name};C.email&&(T.email=C.email),C.phoneNumber&&(T.phoneNumber=C.phoneNumber);const H=Be(w,v,T);return H.customData._tokenResponse=C,H}function D2(){return(D2=(0,o.Z)(function*(w,v){return lt(w,"POST","/v1/accounts:delete",v)})).apply(this,arguments)}function C1(){return(C1=(0,o.Z)(function*(w,v){return lt(w,"POST","/v1/accounts:update",v)})).apply(this,arguments)}function V1(){return(V1=(0,o.Z)(function*(w,v){return lt(w,"POST","/v1/accounts:lookup",v)})).apply(this,arguments)}function k2(w){if(w)try{const v=new Date(Number(w));if(!isNaN(v.getTime()))return v.toUTCString()}catch{}}function z2(){return(z2=(0,o.Z)(function*(w,v=!1){const C=(0,j.m9)(w),T=yield C.getIdToken(v),H=zt(T);oe(H&&H.exp&&H.auth_time&&H.iat,C.auth,"internal-error");const R="object"==typeof H.firebase?H.firebase:void 0,ue=R?.sign_in_provider;return{claims:H,token:T,authTime:k2(xt(H.auth_time)),issuedAtTime:k2(xt(H.iat)),expirationTime:k2(xt(H.exp)),signInProvider:ue||null,signInSecondFactor:R?.sign_in_second_factor||null}})).apply(this,arguments)}function xt(w){return 1e3*Number(w)}function zt(w){const[v,C,T]=w.split(".");if(void 0===v||void 0===C||void 0===T)return Re("JWT malformed, contained fewer than 3 sections"),null;try{const H=(0,j.tV)(C);return H?JSON.parse(H):(Re("Failed to decode base64 JWT payload"),null)}catch(H){return Re("Caught error parsing JWT payload as JSON",H?.toString()),null}}function l1(w,v){return u1.apply(this,arguments)}function u1(){return(u1=(0,o.Z)(function*(w,v,C=!1){if(C)return v;try{return yield v}catch(T){throw T instanceof j.ZR&&function x1({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}(T)&&w.auth.currentUser===w&&(yield w.auth.signOut()),T}})).apply(this,arguments)}class N1{constructor(v){this.user=v,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(v){var C;if(v){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const H=(null!==(C=this.user.stsTokenManager.expirationTime)&&void 0!==C?C:0)-Date.now()-3e5;return Math.max(0,H)}}schedule(v=!1){var C=this;if(!this.isRunning)return;const T=this.getInterval(v);this.timerId=setTimeout((0,o.Z)(function*(){yield C.iteration()}),T)}iteration(){var v=this;return(0,o.Z)(function*(){try{yield v.user.getIdToken(!0)}catch(C){return void("auth/network-request-failed"===C?.code&&v.schedule(!0))}v.schedule()})()}}class b1{constructor(v,C){this.createdAt=v,this.lastLoginAt=C,this._initializeTime()}_initializeTime(){this.lastSignInTime=k2(this.lastLoginAt),this.creationTime=k2(this.createdAt)}_copy(v){this.createdAt=v.createdAt,this.lastLoginAt=v.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function R2(w){return Jt.apply(this,arguments)}function Jt(){return Jt=(0,o.Z)(function*(w){var v;const C=w.auth,T=yield w.getIdToken(),H=yield l1(w,function ht(w,v){return V1.apply(this,arguments)}(C,{idToken:T}));oe(H?.users.length,C,"internal-error");const R=H.users[0];w._notifyReloadListener(R);const ue=null!==(v=R.providerUserInfo)&&void 0!==v&&v.length?function M1(w){return w.map(v=>{var{providerId:C}=v,T=(0,de._T)(v,["providerId"]);return{providerId:C,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}(R.providerUserInfo):[],Fe=function $n(w,v){return[...w.filter(T=>!v.some(H=>H.providerId===T.providerId)),...v]}(w.providerData,ue),dn=!!w.isAnonymous&&!(w.email&&R.passwordHash||Fe?.length),a1={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:Fe,metadata:new b1(R.createdAt,R.lastLoginAt),isAnonymous:dn};Object.assign(w,a1)}),Jt.apply(this,arguments)}function sn(){return(sn=(0,o.Z)(function*(w){const v=(0,j.m9)(w);yield R2(v),yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)})).apply(this,arguments)}function Ve(){return(Ve=(0,o.Z)(function*(w,v){const C=yield r1(w,{},(0,o.Z)(function*(){const T=(0,j.xO)({grant_type:"refresh_token",refresh_token:v}).slice(1),{tokenApiHost:H,apiKey:R}=w.config,ue=F1(w,H,"/v1/token",`key=${R}`),Fe=yield w._getAdditionalHeaders();return Fe["Content-Type"]="application/x-www-form-urlencoded",bt.fetch()(ue,{method:"POST",headers:Fe,body:T})}));return{accessToken:C.access_token,expiresIn:C.expires_in,refreshToken:C.refresh_token}})).apply(this,arguments)}class pt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(v){oe(v.idToken,"internal-error"),oe(typeof v.idToken<"u","internal-error"),oe(typeof v.refreshToken<"u","internal-error");const C="expiresIn"in v&&typeof v.expiresIn<"u"?Number(v.expiresIn):function Gt(w){const v=zt(w);return oe(v,"internal-error"),oe(typeof v.exp<"u","internal-error"),oe(typeof v.iat<"u","internal-error"),Number(v.exp)-Number(v.iat)}(v.idToken);this.updateTokensAndExpiration(v.idToken,v.refreshToken,C)}getToken(v,C=!1){var T=this;return(0,o.Z)(function*(){return oe(!T.accessToken||T.refreshToken,v,"user-token-expired"),C||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(v,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(v,C){var T=this;return(0,o.Z)(function*(){const{accessToken:H,refreshToken:R,expiresIn:ue}=yield function Ke(w,v){return Ve.apply(this,arguments)}(v,C);T.updateTokensAndExpiration(H,R,Number(ue))})()}updateTokensAndExpiration(v,C,T){this.refreshToken=C||null,this.accessToken=v||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(v,C){const{refreshToken:T,accessToken:H,expirationTime:R}=C,ue=new pt;return T&&(oe("string"==typeof T,"internal-error",{appName:v}),ue.refreshToken=T),H&&(oe("string"==typeof H,"internal-error",{appName:v}),ue.accessToken=H),R&&(oe("number"==typeof R,"internal-error",{appName:v}),ue.expirationTime=R),ue}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(v){this.accessToken=v.accessToken,this.refreshToken=v.refreshToken,this.expirationTime=v.expirationTime}_clone(){return Object.assign(new pt,this.toJSON())}_performRefresh(){return he("not implemented")}}function Vt(w,v){oe("string"==typeof w||typeof w>"u","internal-error",{appName:v})}class Xt{constructor(v){var{uid:C,auth:T,stsTokenManager:H}=v,R=(0,de._T)(v,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new N1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=C,this.auth=T,this.stsTokenManager=H,this.accessToken=H.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new b1(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(v){var C=this;return(0,o.Z)(function*(){const T=yield l1(C,C.stsTokenManager.getToken(C.auth,v));return oe(T,C.auth,"internal-error"),C.accessToken!==T&&(C.accessToken=T,yield C.auth._persistUserIfCurrent(C),C.auth._notifyListenersIfCurrent(C)),T})()}getIdTokenResult(v){return function I1(w){return z2.apply(this,arguments)}(this,v)}reload(){return function Z2(w){return sn.apply(this,arguments)}(this)}_assign(v){this!==v&&(oe(this.uid===v.uid,this.auth,"internal-error"),this.displayName=v.displayName,this.photoURL=v.photoURL,this.email=v.email,this.emailVerified=v.emailVerified,this.phoneNumber=v.phoneNumber,this.isAnonymous=v.isAnonymous,this.tenantId=v.tenantId,this.providerData=v.providerData.map(C=>Object.assign({},C)),this.metadata._copy(v.metadata),this.stsTokenManager._assign(v.stsTokenManager))}_clone(v){const C=new Xt(Object.assign(Object.assign({},this),{auth:v,stsTokenManager:this.stsTokenManager._clone()}));return C.metadata._copy(this.metadata),C}_onReload(v){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=v,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(v){this.reloadListener?this.reloadListener(v):this.reloadUserInfo=v}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(v,C=!1){var T=this;return(0,o.Z)(function*(){let H=!1;v.idToken&&v.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(v),H=!0),C&&(yield R2(T)),yield T.auth._persistUserIfCurrent(T),H&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var v=this;return(0,o.Z)(function*(){const C=yield v.getIdToken();return yield l1(v,function J1(w,v){return D2.apply(this,arguments)}(v.auth,{idToken:C})),v.stsTokenManager.clearRefreshToken(),v.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(v=>Object.assign({},v)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(v,C){var T,H,R,ue,Fe,wt,Wt,dn;const a1=null!==(T=C.displayName)&&void 0!==T?T:void 0,Mr=null!==(H=C.email)&&void 0!==H?H:void 0,Mi=null!==(R=C.phoneNumber)&&void 0!==R?R:void 0,b3=null!==(ue=C.photoURL)&&void 0!==ue?ue:void 0,Yc=null!==(Fe=C.tenantId)&&void 0!==Fe?Fe:void 0,M3=null!==(wt=C._redirectEventId)&&void 0!==wt?wt:void 0,qc=null!==(Wt=C.createdAt)&&void 0!==Wt?Wt:void 0,v8=null!==(dn=C.lastLoginAt)&&void 0!==dn?dn:void 0,{uid:y8,emailVerified:x7,isAnonymous:S7,providerData:w3,stsTokenManager:T7}=C;oe(y8&&T7,v,"internal-error");const D7=pt.fromJSON(this.name,T7);oe("string"==typeof y8,v,"internal-error"),Vt(a1,v.name),Vt(Mr,v.name),oe("boolean"==typeof x7,v,"internal-error"),oe("boolean"==typeof S7,v,"internal-error"),Vt(Mi,v.name),Vt(b3,v.name),Vt(Yc,v.name),Vt(M3,v.name),Vt(qc,v.name),Vt(v8,v.name);const Gc=new Xt({uid:y8,auth:v,email:Mr,emailVerified:x7,displayName:a1,isAnonymous:S7,photoURL:b3,phoneNumber:Mi,tenantId:Yc,stsTokenManager:D7,createdAt:qc,lastLoginAt:v8});return w3&&Array.isArray(w3)&&(Gc.providerData=w3.map(k7=>Object.assign({},k7))),M3&&(Gc._redirectEventId=M3),Gc}static _fromIdTokenResponse(v,C,T=!1){return(0,o.Z)(function*(){const H=new pt;H.updateFromServerResponse(C);const R=new Xt({uid:C.localId,auth:v,stsTokenManager:H,isAnonymous:T});return yield R2(R),R})()}}const m1=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.Z)(function*(){return!0})()}_set(C,T){var H=this;return(0,o.Z)(function*(){H.storage[C]=T})()}_get(C){var T=this;return(0,o.Z)(function*(){const H=T.storage[C];return void 0===H?null:H})()}_remove(C){var T=this;return(0,o.Z)(function*(){delete T.storage[C]})()}_addListener(C,T){}_removeListener(C,T){}}return w.type="NONE",w})();function Z(w,v,C){return`firebase:${w}:${v}:${C}`}class q{constructor(v,C,T){this.persistence=v,this.auth=C,this.userKey=T;const{config:H,name:R}=this.auth;this.fullUserKey=Z(this.userKey,H.apiKey,R),this.fullPersistenceKey=Z("persistence",H.apiKey,R),this.boundEventHandler=C._onStorageEvent.bind(C),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(v){return this.persistence._set(this.fullUserKey,v.toJSON())}getCurrentUser(){var v=this;return(0,o.Z)(function*(){const C=yield v.persistence._get(v.fullUserKey);return C?Xt._fromJSON(v.auth,C):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(v){var C=this;return(0,o.Z)(function*(){if(C.persistence===v)return;const T=yield C.getCurrentUser();return yield C.removeCurrentUser(),C.persistence=v,T?C.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(v,C,T="authUser"){return(0,o.Z)(function*(){if(!C.length)return new q(Ze(m1),v,T);const H=(yield Promise.all(C.map(function(){var Wt=(0,o.Z)(function*(dn){if(yield dn._isAvailable())return dn});return function(dn){return Wt.apply(this,arguments)}}()))).filter(Wt=>Wt);let R=H[0]||Ze(m1);const ue=Z(T,v.config.apiKey,v.name);let Fe=null;for(const Wt of C)try{const dn=yield Wt._get(ue);if(dn){const a1=Xt._fromJSON(v,dn);Wt!==R&&(Fe=a1),R=Wt;break}}catch{}const wt=H.filter(Wt=>Wt._shouldAllowMigration);return R._shouldAllowMigration&&wt.length?(R=wt[0],Fe&&(yield R._set(ue,Fe.toJSON())),yield Promise.all(C.map(function(){var Wt=(0,o.Z)(function*(dn){if(dn!==R)try{yield dn._remove(ue)}catch{}});return function(dn){return Wt.apply(this,arguments)}}())),new q(R,v,T)):new q(R,v,T)})()}}function I(w){const v=w.toLowerCase();if(v.includes("opera/")||v.includes("opr/")||v.includes("opios/"))return"Opera";if(me(v))return"IEMobile";if(v.includes("msie")||v.includes("trident/"))return"IE";if(v.includes("edge/"))return"Edge";if(P(v))return"Firefox";if(v.includes("silk/"))return"Silk";if(Ot(v))return"Blackberry";if(Kt(v))return"Webos";if(V(v))return"Safari";if((v.includes("chrome/")||se(v))&&!v.includes("edge/"))return"Chrome";if(vt(v))return"Android";{const T=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===T?.length)return T[1]}return"Other"}function P(w=(0,j.z$)()){return/firefox\//i.test(w)}function V(w=(0,j.z$)()){const v=w.toLowerCase();return v.includes("safari/")&&!v.includes("chrome/")&&!v.includes("crios/")&&!v.includes("android")}function se(w=(0,j.z$)()){return/crios\//i.test(w)}function me(w=(0,j.z$)()){return/iemobile/i.test(w)}function vt(w=(0,j.z$)()){return/android/i.test(w)}function Ot(w=(0,j.z$)()){return/blackberry/i.test(w)}function Kt(w=(0,j.z$)()){return/webos/i.test(w)}function an(w=(0,j.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function Zt(w=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function A1(w=(0,j.z$)()){return an(w)||vt(w)||Kt(w)||Ot(w)||/windows phone/i.test(w)||me(w)}function ye(w,v=[]){let C;switch(w){case"Browser":C=I((0,j.z$)());break;case"Worker":C=`${I((0,j.z$)())}-${w}`;break;default:C=w}const T=v.length?v.join(","):"FirebaseCore-web";return`${C}/JsCore/${F.SDK_VERSION}/${T}`}class mt{constructor(v){this.auth=v,this.queue=[]}pushCallback(v,C){const T=R=>new Promise((ue,Fe)=>{try{ue(v(R))}catch(wt){Fe(wt)}});T.onAbort=C,this.queue.push(T);const H=this.queue.length-1;return()=>{this.queue[H]=()=>Promise.resolve()}}runMiddleware(v){var C=this;return(0,o.Z)(function*(){if(C.auth.currentUser===v)return;const T=[];try{for(const H of C.queue)yield H(v),H.onAbort&&T.push(H.onAbort)}catch(H){T.reverse();for(const R of T)try{R()}catch{}throw C.auth._errorFactory.create("login-blocked",{originalMessage:H?.message})}})()}}class Mt{constructor(v,C,T){this.app=v,this.heartbeatServiceProvider=C,this.config=T,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Q(this),this.idTokenSubscription=new Q(this),this.beforeStateQueue=new mt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=st,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=v.name,this.clientVersion=T.sdkClientVersion}_initializeWithPersistence(v,C){var T=this;return C&&(this._popupRedirectResolver=Ze(C)),this._initializationPromise=this.queue((0,o.Z)(function*(){var H,R;if(!T._deleted&&(T.persistenceManager=yield q.create(T,v),!T._deleted)){if(null!==(H=T._popupRedirectResolver)&&void 0!==H&&H._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch{}yield T.initializeCurrentUser(C),T.lastNotifiedUid=(null===(R=T.currentUser)||void 0===R?void 0:R.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var v=this;return(0,o.Z)(function*(){if(v._deleted)return;const C=yield v.assertedPersistence.getCurrentUser();if(v.currentUser||C){if(v.currentUser&&C&&v.currentUser.uid===C.uid)return v._currentUser._assign(C),void(yield v.currentUser.getIdToken());yield v._updateCurrentUser(C,!0)}})()}initializeCurrentUser(v){var C=this;return(0,o.Z)(function*(){var T;const H=yield C.assertedPersistence.getCurrentUser();let R=H,ue=!1;if(v&&C.config.authDomain){yield C.getOrInitRedirectPersistenceManager();const Fe=null===(T=C.redirectUser)||void 0===T?void 0:T._redirectEventId,wt=R?._redirectEventId,Wt=yield C.tryRedirectSignIn(v);(!Fe||Fe===wt)&&Wt?.user&&(R=Wt.user,ue=!0)}if(!R)return C.directlySetCurrentUser(null);if(!R._redirectEventId){if(ue)try{yield C.beforeStateQueue.runMiddleware(R)}catch(Fe){R=H,C._popupRedirectResolver._overrideRedirectResult(C,()=>Promise.reject(Fe))}return R?C.reloadAndSetCurrentUserOrClear(R):C.directlySetCurrentUser(null)}return oe(C._popupRedirectResolver,C,"argument-error"),yield C.getOrInitRedirectPersistenceManager(),C.redirectUser&&C.redirectUser._redirectEventId===R._redirectEventId?C.directlySetCurrentUser(R):C.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(v){var C=this;return(0,o.Z)(function*(){let T=null;try{T=yield C._popupRedirectResolver._completeRedirectFn(C,v,!0)}catch{yield C._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(v){var C=this;return(0,o.Z)(function*(){try{yield R2(v)}catch(T){if("auth/network-request-failed"!==T?.code)return C.directlySetCurrentUser(null)}return C.directlySetCurrentUser(v)})()}useDeviceLanguage(){this.languageCode=function qe(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var v=this;return(0,o.Z)(function*(){v._deleted=!0})()}updateCurrentUser(v){var C=this;return(0,o.Z)(function*(){const T=v?(0,j.m9)(v):null;return T&&oe(T.auth.config.apiKey===C.config.apiKey,C,"invalid-user-token"),C._updateCurrentUser(T&&T._clone(C))})()}_updateCurrentUser(v,C=!1){var T=this;return(0,o.Z)(function*(){if(!T._deleted)return v&&oe(T.tenantId===v.tenantId,T,"tenant-id-mismatch"),C||(yield T.beforeStateQueue.runMiddleware(v)),T.queue((0,o.Z)(function*(){yield T.directlySetCurrentUser(v),T.notifyAuthListeners()}))})()}signOut(){var v=this;return(0,o.Z)(function*(){return yield v.beforeStateQueue.runMiddleware(null),(v.redirectPersistenceManager||v._popupRedirectResolver)&&(yield v._setRedirectUser(null)),v._updateCurrentUser(null,!0)})()}setPersistence(v){var C=this;return this.queue((0,o.Z)(function*(){yield C.assertedPersistence.setPersistence(Ze(v))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(v){this._errorFactory=new j.LL("auth","Firebase",v())}onAuthStateChanged(v,C,T){return this.registerStateListener(this.authStateSubscription,v,C,T)}beforeAuthStateChanged(v,C){return this.beforeStateQueue.pushCallback(v,C)}onIdTokenChanged(v,C,T){return this.registerStateListener(this.idTokenSubscription,v,C,T)}toJSON(){var v;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(v=this._currentUser)||void 0===v?void 0:v.toJSON()}}_setRedirectUser(v,C){var T=this;return(0,o.Z)(function*(){const H=yield T.getOrInitRedirectPersistenceManager(C);return null===v?H.removeCurrentUser():H.setCurrentUser(v)})()}getOrInitRedirectPersistenceManager(v){var C=this;return(0,o.Z)(function*(){if(!C.redirectPersistenceManager){const T=v&&Ze(v)||C._popupRedirectResolver;oe(T,C,"argument-error"),C.redirectPersistenceManager=yield q.create(C,[Ze(T._redirectPersistence)],"redirectUser"),C.redirectUser=yield C.redirectPersistenceManager.getCurrentUser()}return C.redirectPersistenceManager})()}_redirectUserForId(v){var C=this;return(0,o.Z)(function*(){var T,H;return C._isInitialized&&(yield C.queue((0,o.Z)(function*(){}))),(null===(T=C._currentUser)||void 0===T?void 0:T._redirectEventId)===v?C._currentUser:(null===(H=C.redirectUser)||void 0===H?void 0:H._redirectEventId)===v?C.redirectUser:null})()}_persistUserIfCurrent(v){var C=this;return(0,o.Z)(function*(){if(v===C.currentUser)return C.queue((0,o.Z)(function*(){return C.directlySetCurrentUser(v)}))})()}_notifyListenersIfCurrent(v){v===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var v,C;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(C=null===(v=this.currentUser)||void 0===v?void 0:v.uid)&&void 0!==C?C:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(v,C,T,H){if(this._deleted)return()=>{};const R="function"==typeof C?C:C.next.bind(C),ue=this._isInitialized?Promise.resolve():this._initializationPromise;return oe(ue,this,"internal-error"),ue.then(()=>R(this.currentUser)),"function"==typeof C?v.addObserver(C,T,H):v.addObserver(C)}directlySetCurrentUser(v){var C=this;return(0,o.Z)(function*(){C.currentUser&&C.currentUser!==v&&C._currentUser._stopProactiveRefresh(),v&&C.isProactiveRefreshEnabled&&v._startProactiveRefresh(),C.currentUser=v,v?yield C.assertedPersistence.setCurrentUser(v):yield C.assertedPersistence.removeCurrentUser()})()}queue(v){return this.operations=this.operations.then(v,v),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(v){!v||this.frameworks.includes(v)||(this.frameworks.push(v),this.frameworks.sort(),this.clientVersion=ye(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var v=this;return(0,o.Z)(function*(){var C;const T={"X-Client-Version":v.clientVersion};v.app.options.appId&&(T["X-Firebase-gmpid"]=v.app.options.appId);const H=yield null===(C=v.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===C?void 0:C.getHeartbeatsHeader();return H&&(T["X-Firebase-Client"]=H),T})()}}function Nt(w){return(0,j.m9)(w)}class Q{constructor(v){this.auth=v,this.observer=null,this.addObserver=(0,j.ne)(C=>this.observer=C)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ve(w,v,C){const T=Nt(w);oe(T._canInitEmulator,T,"emulator-config-failed"),oe(/^https?:\/\//.test(v),T,"invalid-emulator-scheme");const H=!!C?.disableWarnings,R=Ge(v),{host:ue,port:Fe}=function et(w){const v=Ge(w),C=/(\/\/)?([^?#/]+)/.exec(w.substr(v.length));if(!C)return{host:"",port:null};const T=C[2].split("@").pop()||"",H=/^(\[[^\]]+\])(:|$)/.exec(T);if(H){const R=H[1];return{host:R,port:cn(T.substr(R.length+1))}}{const[R,ue]=T.split(":");return{host:R,port:cn(ue)}}}(v);T.config.emulator={url:`${R}//${ue}${null===Fe?"":`:${Fe}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:ue,port:Fe,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:H})}),H||function Bt(){function w(){const v=document.createElement("p"),C=v.style;v.innerText="Running in emulator mode. Do not use with production credentials.",C.position="fixed",C.width="100%",C.backgroundColor="#ffffff",C.border=".1em solid #000000",C.color="#b50000",C.bottom="0px",C.left="0px",C.margin="0px",C.zIndex="10000",C.textAlign="center",v.classList.add("firebase-emulator-warning"),document.body.appendChild(v)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function Ge(w){const v=w.indexOf(":");return v<0?"":w.substr(0,v+1)}function cn(w){if(!w)return null;const v=Number(w);return isNaN(v)?null:v}class Ft{constructor(v,C){this.providerId=v,this.signInMethod=C}toJSON(){return he("not implemented")}_getIdTokenResponse(v){return he("not implemented")}_linkToIdToken(v,C){return he("not implemented")}_getReauthenticationResolver(v){return he("not implemented")}}function t1(w,v){return B1.apply(this,arguments)}function B1(){return(B1=(0,o.Z)(function*(w,v){return lt(w,"POST","/v1/accounts:resetPassword",Lt(w,v))})).apply(this,arguments)}function at(w,v){return nn.apply(this,arguments)}function nn(){return(nn=(0,o.Z)(function*(w,v){return lt(w,"POST","/v1/accounts:update",v)})).apply(this,arguments)}function U1(){return(U1=(0,o.Z)(function*(w,v){return lt(w,"POST","/v1/accounts:update",Lt(w,v))})).apply(this,arguments)}function u2(){return(u2=(0,o.Z)(function*(w,v){return An(w,"POST","/v1/accounts:signInWithPassword",Lt(w,v))})).apply(this,arguments)}function _r(w,v){return P1.apply(this,arguments)}function P1(){return(P1=(0,o.Z)(function*(w,v){return lt(w,"POST","/v1/accounts:sendOobCode",Lt(w,v))})).apply(this,arguments)}function Ts(){return(Ts=(0,o.Z)(function*(w,v){return _r(w,v)})).apply(this,arguments)}function Zn(){return(Zn=(0,o.Z)(function*(w,v){return _r(w,v)})).apply(this,arguments)}function Xa(){return(Xa=(0,o.Z)(function*(w,v){return _r(w,v)})).apply(this,arguments)}function j1(){return(j1=(0,o.Z)(function*(w,v){return _r(w,v)})).apply(this,arguments)}function zs(){return(zs=(0,o.Z)(function*(w,v){return An(w,"POST","/v1/accounts:signInWithEmailLink",Lt(w,v))})).apply(this,arguments)}function Pr(){return(Pr=(0,o.Z)(function*(w,v){return An(w,"POST","/v1/accounts:signInWithEmailLink",Lt(w,v))})).apply(this,arguments)}class na extends Ft{constructor(v,C,T,H=null){super("password",T),this._email=v,this._password=C,this._tenantId=H}static _fromEmailAndPassword(v,C){return new na(v,C,"password")}static _fromEmailAndCode(v,C,T=null){return new na(v,C,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(v){const C="string"==typeof v?JSON.parse(v):v;if(C?.email&&C?.password){if("password"===C.signInMethod)return this._fromEmailAndPassword(C.email,C.password);if("emailLink"===C.signInMethod)return this._fromEmailAndCode(C.email,C.password,C.tenantId)}return null}_getIdTokenResponse(v){var C=this;return(0,o.Z)(function*(){switch(C.signInMethod){case"password":return function no(w,v){return u2.apply(this,arguments)}(v,{returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function ks(w,v){return zs.apply(this,arguments)}(v,{email:C._email,oobCode:C._password});default:Oe(v,"internal-error")}})()}_linkToIdToken(v,C){var T=this;return(0,o.Z)(function*(){switch(T.signInMethod){case"password":return at(v,{idToken:C,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function vr(w,v){return Pr.apply(this,arguments)}(v,{idToken:C,email:T._email,oobCode:T._password});default:Oe(v,"internal-error")}})()}_getReauthenticationResolver(v){return this._getIdTokenResponse(v)}}function Rn(w,v){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,o.Z)(function*(w,v){return An(w,"POST","/v1/accounts:signInWithIdp",Lt(w,v))})).apply(this,arguments)}class W1 extends Ft{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(v){const C=new W1(v.providerId,v.signInMethod);return v.idToken||v.accessToken?(v.idToken&&(C.idToken=v.idToken),v.accessToken&&(C.accessToken=v.accessToken),v.nonce&&!v.pendingToken&&(C.nonce=v.nonce),v.pendingToken&&(C.pendingToken=v.pendingToken)):v.oauthToken&&v.oauthTokenSecret?(C.accessToken=v.oauthToken,C.secret=v.oauthTokenSecret):Oe("argument-error"),C}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(v){const C="string"==typeof v?JSON.parse(v):v,{providerId:T,signInMethod:H}=C,R=(0,de._T)(C,["providerId","signInMethod"]);if(!T||!H)return null;const ue=new W1(T,H);return ue.idToken=R.idToken||void 0,ue.accessToken=R.accessToken||void 0,ue.secret=R.secret,ue.nonce=R.nonce,ue.pendingToken=R.pendingToken||null,ue}_getIdTokenResponse(v){return Rn(v,this.buildRequest())}_linkToIdToken(v,C){const T=this.buildRequest();return T.idToken=C,Rn(v,T)}_getReauthenticationResolver(v){const C=this.buildRequest();return C.autoCreate=!1,Rn(v,C)}buildRequest(){const v={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)v.pendingToken=this.pendingToken;else{const C={};this.idToken&&(C.id_token=this.idToken),this.accessToken&&(C.access_token=this.accessToken),this.secret&&(C.oauth_token_secret=this.secret),C.providerId=this.providerId,this.nonce&&!this.pendingToken&&(C.nonce=this.nonce),v.postBody=(0,j.xO)(C)}return v}}function As(){return(As=(0,o.Z)(function*(w,v){return lt(w,"POST","/v1/accounts:sendVerificationCode",Lt(w,v))})).apply(this,arguments)}function d2(){return(d2=(0,o.Z)(function*(w,v){return An(w,"POST","/v1/accounts:signInWithPhoneNumber",Lt(w,v))})).apply(this,arguments)}function O2(){return(O2=(0,o.Z)(function*(w,v){const C=yield An(w,"POST","/v1/accounts:signInWithPhoneNumber",Lt(w,v));if(C.temporaryProof)throw E1(w,"account-exists-with-different-credential",C);return C})).apply(this,arguments)}const Ai={USER_NOT_FOUND:"user-not-found"};function Rr(){return(Rr=(0,o.Z)(function*(w,v){return An(w,"POST","/v1/accounts:signInWithPhoneNumber",Lt(w,Object.assign(Object.assign({},v),{operation:"REAUTH"})),Ai)})).apply(this,arguments)}class Yi extends Ft{constructor(v){super("phone","phone"),this.params=v}static _fromVerification(v,C){return new Yi({verificationId:v,verificationCode:C})}static _fromTokenResponse(v,C){return new Yi({phoneNumber:v,temporaryProof:C})}_getIdTokenResponse(v){return function ro(w,v){return d2.apply(this,arguments)}(v,this._makeVerificationRequest())}_linkToIdToken(v,C){return function e3(w,v){return O2.apply(this,arguments)}(v,Object.assign({idToken:C},this._makeVerificationRequest()))}_getReauthenticationResolver(v){return function Wi(w,v){return Rr.apply(this,arguments)}(v,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:v,phoneNumber:C,verificationId:T,verificationCode:H}=this.params;return v&&C?{temporaryProof:v,phoneNumber:C}:{sessionInfo:T,code:H}}toJSON(){const v={providerId:this.providerId};return this.params.phoneNumber&&(v.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(v.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(v.verificationCode=this.params.verificationCode),this.params.verificationId&&(v.verificationId=this.params.verificationId),v}static fromJSON(v){"string"==typeof v&&(v=JSON.parse(v));const{verificationId:C,verificationCode:T,phoneNumber:H,temporaryProof:R}=v;return T||C||H||R?new Yi({verificationId:C,verificationCode:T,phoneNumber:H,temporaryProof:R}):null}}class kc{constructor(v){var C,T,H,R,ue,Fe;const wt=(0,j.zd)((0,j.pd)(v)),Wt=null!==(C=wt.apiKey)&&void 0!==C?C:null,dn=null!==(T=wt.oobCode)&&void 0!==T?T:null,a1=function rr(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(H=wt.mode)&&void 0!==H?H:null);oe(Wt&&dn&&a1,"argument-error"),this.apiKey=Wt,this.operation=a1,this.code=dn,this.continueUrl=null!==(R=wt.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(ue=wt.languageCode)&&void 0!==ue?ue:null,this.tenantId=null!==(Fe=wt.tenantId)&&void 0!==Fe?Fe:null}static parseLink(v){const C=function Wu(w){const v=(0,j.zd)((0,j.pd)(w)).link,C=v?(0,j.zd)((0,j.pd)(v)).deep_link_id:null,T=(0,j.zd)((0,j.pd)(w)).deep_link_id;return(T?(0,j.zd)((0,j.pd)(T)).link:null)||T||C||v||w}(v);try{return new kc(C)}catch{return null}}}let zc=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(C,T){return na._fromEmailAndPassword(C,T)}static credentialWithLink(C,T){const H=kc.parseLink(T);return oe(H,"argument-error"),na._fromEmailAndCode(C,H.code,H.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class Hi{constructor(v){this.providerId=v,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(v){this.defaultLanguageCode=v}setCustomParameters(v){return this.customParameters=v,this}getCustomParameters(){return this.customParameters}}class so extends Hi{constructor(){super(...arguments),this.scopes=[]}addScope(v){return this.scopes.includes(v)||this.scopes.push(v),this}getScopes(){return[...this.scopes]}}class t3 extends so{static credentialFromJSON(v){const C="string"==typeof v?JSON.parse(v):v;return oe("providerId"in C&&"signInMethod"in C,"argument-error"),W1._fromParams(C)}credential(v){return this._credential(Object.assign(Object.assign({},v),{nonce:v.rawNonce}))}_credential(v){return oe(v.idToken||v.accessToken,"argument-error"),W1._fromParams(Object.assign(Object.assign({},v),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(v){return t3.oauthCredentialFromTaggedObject(v)}static credentialFromError(v){return t3.oauthCredentialFromTaggedObject(v.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:C,oauthAccessToken:T,oauthTokenSecret:H,pendingToken:R,nonce:ue,providerId:Fe}=v;if(!T&&!H&&!C&&!R||!Fe)return null;try{return new t3(Fe)._credential({idToken:C,accessToken:T,nonce:ue,pendingToken:R})}catch{return null}}}let qu=(()=>{class w extends so{constructor(){super("facebook.com")}static credential(C){return W1._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:C})}static credentialFromResult(C){return w.credentialFromTaggedObject(C)}static credentialFromError(C){return w.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C||!("oauthAccessToken"in C)||!C.oauthAccessToken)return null;try{return w.credential(C.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),Hs=(()=>{class w extends so{constructor(){super("google.com"),this.addScope("profile")}static credential(C,T){return W1._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:C,accessToken:T})}static credentialFromResult(C){return w.credentialFromTaggedObject(C)}static credentialFromError(C){return w.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{oauthIdToken:T,oauthAccessToken:H}=C;if(!T&&!H)return null;try{return w.credential(T,H)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),Gu=(()=>{class w extends so{constructor(){super("github.com")}static credential(C){return W1._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:C})}static credentialFromResult(C){return w.credentialFromTaggedObject(C)}static credentialFromError(C){return w.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C||!("oauthAccessToken"in C)||!C.oauthAccessToken)return null;try{return w.credential(C.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class ia extends Ft{constructor(v,C){super(v,v),this.pendingToken=C}_getIdTokenResponse(v){return Rn(v,this.buildRequest())}_linkToIdToken(v,C){const T=this.buildRequest();return T.idToken=C,Rn(v,T)}_getReauthenticationResolver(v){const C=this.buildRequest();return C.autoCreate=!1,Rn(v,C)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(v){const C="string"==typeof v?JSON.parse(v):v,{providerId:T,signInMethod:H,pendingToken:R}=C;return T&&H&&R&&T===H?new ia(T,R):null}static _create(v,C){return new ia(v,C)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ao extends Hi{constructor(v){oe(v.startsWith("saml."),"argument-error"),super(v)}static credentialFromResult(v){return ao.samlCredentialFromTaggedObject(v)}static credentialFromError(v){return ao.samlCredentialFromTaggedObject(v.customData||{})}static credentialFromJSON(v){const C=ia.fromJSON(v);return oe(C,"argument-error"),C}static samlCredentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{pendingToken:C,providerId:T}=v;if(!C||!T)return null;try{return ia._create(T,C)}catch{return null}}}let Hh=(()=>{class w extends so{constructor(){super("twitter.com")}static credential(C,T){return W1._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:C,oauthTokenSecret:T})}static credentialFromResult(C){return w.credentialFromTaggedObject(C)}static credentialFromError(C){return w.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{oauthAccessToken:T,oauthTokenSecret:H}=C;if(!T||!H)return null;try{return w.credential(T,H)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function $u(w,v){return qi.apply(this,arguments)}function qi(){return(qi=(0,o.Z)(function*(w,v){return An(w,"POST","/v1/accounts:signUp",Lt(w,v))})).apply(this,arguments)}class W{constructor(v){this.user=v.user,this.providerId=v.providerId,this._tokenResponse=v._tokenResponse,this.operationType=v.operationType}static _fromIdTokenResponse(v,C,T,H=!1){return(0,o.Z)(function*(){const R=yield Xt._fromIdTokenResponse(v,T,H),ue=Y(T);return new W({user:R,providerId:ue,_tokenResponse:T,operationType:C})})()}static _forOperation(v,C,T){return(0,o.Z)(function*(){yield v._updateTokensIfNecessary(T,!0);const H=Y(T);return new W({user:v,providerId:H,_tokenResponse:T,operationType:C})})()}}function Y(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function J(w){return Te.apply(this,arguments)}function Te(){return(Te=(0,o.Z)(function*(w){var v;const C=Nt(w);if(yield C._initializationPromise,null!==(v=C.currentUser)&&void 0!==v&&v.isAnonymous)return new W({user:C.currentUser,providerId:null,operationType:"signIn"});const T=yield $u(C,{returnSecureToken:!0}),H=yield W._fromIdTokenResponse(C,"signIn",T,!0);return yield C._updateCurrentUser(H.user),H})).apply(this,arguments)}class Se extends j.ZR{constructor(v,C,T,H){var R;super(C.code,C.message),this.operationType=T,this.user=H,Object.setPrototypeOf(this,Se.prototype),this.customData={appName:v.name,tenantId:null!==(R=v.tenantId)&&void 0!==R?R:void 0,_serverResponse:C.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(v,C,T,H){return new Se(v,C,T,H)}}function tt(w,v,C,T){return("reauthenticate"===v?C._getReauthenticationResolver(w):C._getIdTokenResponse(w)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?Se._fromErrorAndOperation(w,R,v,T):R})}function St(w){return new Set(w.map(({providerId:v})=>v).filter(v=>!!v))}function ln(w,v){return yn.apply(this,arguments)}function yn(){return yn=(0,o.Z)(function*(w,v){const C=(0,j.m9)(w);yield Y1(!0,C,v);const{providerUserInfo:T}=yield function Un(w,v){return C1.apply(this,arguments)}(C.auth,{idToken:yield C.getIdToken(),deleteProvider:[v]}),H=St(T||[]);return C.providerData=C.providerData.filter(R=>H.has(R.providerId)),H.has("phone")||(C.phoneNumber=null),yield C.auth._persistUserIfCurrent(C),C}),yn.apply(this,arguments)}function Sn(w,v){return On.apply(this,arguments)}function On(){return(On=(0,o.Z)(function*(w,v,C=!1){const T=yield l1(w,v._linkToIdToken(w.auth,yield w.getIdToken()),C);return W._forOperation(w,"link",T)})).apply(this,arguments)}function Y1(w,v,C){return mi.apply(this,arguments)}function mi(){return(mi=(0,o.Z)(function*(w,v,C){yield R2(v);const H=!1===w?"provider-already-linked":"no-such-provider";oe(St(v.providerData).has(C)===w,v.auth,H)})).apply(this,arguments)}function f2(w,v){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,o.Z)(function*(w,v,C=!1){const{auth:T}=w,H="reauthenticate";try{const R=yield l1(w,tt(T,H,v,w),C);oe(R.idToken,T,"internal-error");const ue=zt(R.idToken);oe(ue,T,"internal-error");const{sub:Fe}=ue;return oe(w.uid===Fe,T,"user-mismatch"),W._forOperation(w,H,R)}catch(R){throw"auth/user-not-found"===R?.code&&Oe(T,"user-mismatch"),R}})).apply(this,arguments)}function gi(w,v){return yr.apply(this,arguments)}function yr(){return(yr=(0,o.Z)(function*(w,v,C=!1){const T="signIn",H=yield tt(w,T,v),R=yield W._fromIdTokenResponse(w,T,H);return C||(yield w._updateCurrentUser(R.user)),R})).apply(this,arguments)}function _i(w,v){return g1.apply(this,arguments)}function g1(){return(g1=(0,o.Z)(function*(w,v){return gi(Nt(w),v)})).apply(this,arguments)}function Ac(w,v){return n3.apply(this,arguments)}function n3(){return(n3=(0,o.Z)(function*(w,v){const C=(0,j.m9)(w);return yield Y1(!1,C,v.providerId),Sn(C,v)})).apply(this,arguments)}function ri(w,v){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,o.Z)(function*(w,v){return f2((0,j.m9)(w),v)})).apply(this,arguments)}function co(){return(co=(0,o.Z)(function*(w,v){return An(w,"POST","/v1/accounts:signInWithCustomToken",Lt(w,v))})).apply(this,arguments)}function sr(w,v){return Zu.apply(this,arguments)}function Zu(){return Zu=(0,o.Z)(function*(w,v){const C=Nt(w),T=yield function Hc(w,v){return co.apply(this,arguments)}(C,{token:v,returnSecureToken:!0}),H=yield W._fromIdTokenResponse(C,"signIn",T);return yield C._updateCurrentUser(H.user),H}),Zu.apply(this,arguments)}class ra{constructor(v,C){this.factorId=v,this.uid=C.mfaEnrollmentId,this.enrollmentTime=new Date(C.enrolledAt).toUTCString(),this.displayName=C.displayName}static _fromServerResponse(v,C){return"phoneInfo"in C?Pl._fromServerResponse(v,C):Oe(v,"internal-error")}}class Pl extends ra{constructor(v){super("phone",v),this.phoneNumber=v.phoneInfo}static _fromServerResponse(v,C){return new Pl(C)}}function Or(w,v,C){var T;oe((null===(T=C.url)||void 0===T?void 0:T.length)>0,w,"invalid-continue-uri"),oe(typeof C.dynamicLinkDomain>"u"||C.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),v.continueUrl=C.url,v.dynamicLinkDomain=C.dynamicLinkDomain,v.canHandleCodeInApp=C.handleCodeInApp,C.iOS&&(oe(C.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),v.iOSBundleId=C.iOS.bundleId),C.android&&(oe(C.android.packageName.length>0,w,"missing-android-pkg-name"),v.androidInstallApp=C.android.installApp,v.androidMinimumVersionCode=C.android.minimumVersion,v.androidPackageName=C.android.packageName)}function Ku(w,v,C){return C6.apply(this,arguments)}function C6(){return C6=(0,o.Z)(function*(w,v,C){const T=(0,j.m9)(w),H={requestType:"PASSWORD_RESET",email:v};C&&Or(T,H,C),yield function hn(w,v){return Zn.apply(this,arguments)}(T,H)}),C6.apply(this,arguments)}function pn(w,v,C){return b6.apply(this,arguments)}function b6(){return(b6=(0,o.Z)(function*(w,v,C){yield t1((0,j.m9)(w),{oobCode:v,newPassword:C})})).apply(this,arguments)}function Q_(w,v){return Rl.apply(this,arguments)}function Rl(){return Rl=(0,o.Z)(function*(w,v){yield function jn(w,v){return U1.apply(this,arguments)}((0,j.m9)(w),{oobCode:v})}),Rl.apply(this,arguments)}function Lh(w,v){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,o.Z)(function*(w,v){const C=(0,j.m9)(w),T=yield t1(C,{oobCode:v}),H=T.requestType;switch(oe(H,C,"internal-error"),H){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":oe(T.newEmail,C,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":oe(T.mfaInfo,C,"internal-error");default:oe(T.email,C,"internal-error")}let R=null;return T.mfaInfo&&(R=ra._fromServerResponse(Nt(C),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:R},operation:H}})).apply(this,arguments)}function Qu(w,v){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,o.Z)(function*(w,v){const{data:C}=yield Lh((0,j.m9)(w),v);return C.email})).apply(this,arguments)}function Eh(w,v,C){return We.apply(this,arguments)}function We(){return(We=(0,o.Z)(function*(w,v,C){const T=Nt(w),H=yield $u(T,{returnSecureToken:!0,email:v,password:C}),R=yield W._fromIdTokenResponse(T,"signIn",H);return yield T._updateCurrentUser(R.user),R})).apply(this,arguments)}function Fn(w,v,C){return _i((0,j.m9)(w),zc.credential(v,C))}function X1(w,v,C){return Bl.apply(this,arguments)}function Bl(){return Bl=(0,o.Z)(function*(w,v,C){const T=(0,j.m9)(w),H={requestType:"EMAIL_SIGNIN",email:v};oe(C.handleCodeInApp,T,"argument-error"),C&&Or(T,H,C),yield function Ja(w,v){return Xa.apply(this,arguments)}(T,H)}),Bl.apply(this,arguments)}function vi(w,v){return"EMAIL_SIGNIN"===kc.parseLink(v)?.operation}function Vh(w,v,C){return i3.apply(this,arguments)}function i3(){return(i3=(0,o.Z)(function*(w,v,C){const T=(0,j.m9)(w),H=zc.credentialWithLink(v,C||pe());return oe(H._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),_i(T,H)})).apply(this,arguments)}function M6(){return(M6=(0,o.Z)(function*(w,v){return lt(w,"POST","/v1/accounts:createAuthUri",Lt(w,v))})).apply(this,arguments)}function Ul(w,v){return Ju.apply(this,arguments)}function Ju(){return Ju=(0,o.Z)(function*(w,v){const T={identifier:v,continueUri:we()?pe():"http://localhost"},{signinMethods:H}=yield function Es(w,v){return M6.apply(this,arguments)}((0,j.m9)(w),T);return H||[]}),Ju.apply(this,arguments)}function PS(w,v){return jl.apply(this,arguments)}function jl(){return jl=(0,o.Z)(function*(w,v){const C=(0,j.m9)(w),H={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};v&&Or(C.auth,H,v);const{email:R}=yield function S1(w,v){return Ts.apply(this,arguments)}(C.auth,H);R!==w.email&&(yield w.reload())}),jl.apply(this,arguments)}function yi(w,v,C){return Fr.apply(this,arguments)}function Fr(){return Fr=(0,o.Z)(function*(w,v,C){const T=(0,j.m9)(w),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:v};C&&Or(T.auth,R,C);const{email:ue}=yield function Ds(w,v){return j1.apply(this,arguments)}(T.auth,R);ue!==w.email&&(yield w.reload())}),Fr.apply(this,arguments)}function as(){return(as=(0,o.Z)(function*(w,v){return lt(w,"POST","/v1/accounts:update",v)})).apply(this,arguments)}function or(w,v){return e7.apply(this,arguments)}function e7(){return e7=(0,o.Z)(function*(w,{displayName:v,photoURL:C}){if(void 0===v&&void 0===C)return;const T=(0,j.m9)(w),R={idToken:yield T.getIdToken(),displayName:v,photoUrl:C,returnSecureToken:!0},ue=yield l1(T,function Xu(w,v){return as.apply(this,arguments)}(T.auth,R));T.displayName=ue.displayName||null,T.photoURL=ue.photoUrl||null;const Fe=T.providerData.find(({providerId:wt})=>"password"===wt);Fe&&(Fe.displayName=T.displayName,Fe.photoURL=T.photoURL),yield T._updateTokensIfNecessary(ue)}),e7.apply(this,arguments)}function Ih(w,v){return Wl((0,j.m9)(w),v,null)}function t7(w,v){return Wl((0,j.m9)(w),null,v)}function Wl(w,v,C){return w6.apply(this,arguments)}function w6(){return(w6=(0,o.Z)(function*(w,v,C){const{auth:T}=w,R={idToken:yield w.getIdToken(),returnSecureToken:!0};v&&(R.email=v),C&&(R.password=C);const ue=yield l1(w,at(T,R));yield w._updateTokensIfNecessary(ue,!0)})).apply(this,arguments)}class sa{constructor(v,C,T={}){this.isNewUser=v,this.providerId=C,this.profile=T}}class Lc extends sa{constructor(v,C,T,H){super(v,C,T),this.username=H}}class J_ extends sa{constructor(v,C){super(v,"facebook.com",C)}}class Nh extends Lc{constructor(v,C){super(v,"github.com",C,"string"==typeof C?.login?C?.login:null)}}class r7 extends sa{constructor(v,C){super(v,"google.com",C)}}class Ph extends Lc{constructor(v,C,T){super(v,"twitter.com",C,T)}}function Rh(w){const{user:v,_tokenResponse:C}=w;return v.isAnonymous&&!C?{providerId:null,isNewUser:!1,profile:null}:function n7(w){var v,C;if(!w)return null;const{providerId:T}=w,H=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},R=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!T&&w?.idToken){const ue=null===(C=null===(v=zt(w.idToken))||void 0===v?void 0:v.firebase)||void 0===C?void 0:C.sign_in_provider;if(ue)return new sa(R,"anonymous"!==ue&&"custom"!==ue?ue:null)}if(!T)return null;switch(T){case"facebook.com":return new J_(R,H);case"github.com":return new Nh(R,H);case"google.com":return new r7(R,H);case"twitter.com":return new Ph(R,H,w.screenName||null);case"custom":case"anonymous":return new sa(R,null);default:return new sa(R,T,H)}}(C)}class r3{constructor(v,C,T){this.type=v,this.credential=C,this.auth=T}static _fromIdtoken(v,C){return new r3("enroll",v,C)}static _fromMfaPendingCredential(v){return new r3("signin",v)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(v){var C,T;if(v?.multiFactorSession){if(null!==(C=v.multiFactorSession)&&void 0!==C&&C.pendingCredential)return r3._fromMfaPendingCredential(v.multiFactorSession.pendingCredential);if(null!==(T=v.multiFactorSession)&&void 0!==T&&T.idToken)return r3._fromIdtoken(v.multiFactorSession.idToken)}return null}}class Yl{constructor(v,C,T){this.session=v,this.hints=C,this.signInResolver=T}static _fromError(v,C){const T=Nt(v),H=C.customData._serverResponse,R=(H.mfaInfo||[]).map(Fe=>ra._fromServerResponse(T,Fe));oe(H.mfaPendingCredential,T,"internal-error");const ue=r3._fromMfaPendingCredential(H.mfaPendingCredential);return new Yl(ue,R,function(){var Fe=(0,o.Z)(function*(wt){const Wt=yield wt._process(T,ue);delete H.mfaInfo,delete H.mfaPendingCredential;const dn=Object.assign(Object.assign({},H),{idToken:Wt.idToken,refreshToken:Wt.refreshToken});switch(C.operationType){case"signIn":const a1=yield W._fromIdTokenResponse(T,C.operationType,dn);return yield T._updateCurrentUser(a1.user),a1;case"reauthenticate":return oe(C.user,T,"internal-error"),W._forOperation(C.user,C.operationType,dn);default:Oe(T,"internal-error")}});return function(wt){return Fe.apply(this,arguments)}}())}resolveSignIn(v){var C=this;return(0,o.Z)(function*(){return C.signInResolver(v)})()}}function ev(w,v){var C;const T=(0,j.m9)(w),H=v;return oe(v.customData.operationType,T,"argument-error"),oe(null===(C=H.customData._serverResponse)||void 0===C?void 0:C.mfaPendingCredential,T,"argument-error"),Yl._fromError(T,H)}class Vc{constructor(v){this.user=v,this.enrolledFactors=[],v._onReload(C=>{C.mfaInfo&&(this.enrolledFactors=C.mfaInfo.map(T=>ra._fromServerResponse(v.auth,T)))})}static _fromUser(v){return new Vc(v)}getSession(){var v=this;return(0,o.Z)(function*(){return r3._fromIdtoken(yield v.user.getIdToken(),v.user.auth)})()}enroll(v,C){var T=this;return(0,o.Z)(function*(){const H=v,R=yield T.getSession(),ue=yield l1(T.user,H._process(T.user.auth,R,C));return yield T.user._updateTokensIfNecessary(ue),T.user.reload()})()}unenroll(v){var C=this;return(0,o.Z)(function*(){const T="string"==typeof v?v:v.uid,H=yield C.user.getIdToken();try{const R=yield l1(C.user,function ql(w,v){return lt(w,"POST","/v2/accounts/mfaEnrollment:withdraw",Lt(w,v))}(C.user.auth,{idToken:H,mfaEnrollmentId:T}));C.enrolledFactors=C.enrolledFactors.filter(({uid:ue})=>ue!==T),yield C.user._updateTokensIfNecessary(R),yield C.user.reload()}catch(R){throw R}})()}}const Ic=new WeakMap;function o7(w){const v=(0,j.m9)(w);return Ic.has(v)||Ic.set(v,Vc._fromUser(v)),Ic.get(v)}const S6="__sak";class a7{constructor(v,C){this.storageRetriever=v,this.type=C}_isAvailable(){try{return this.storage?(this.storage.setItem(S6,"1"),this.storage.removeItem(S6),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(v,C){return this.storage.setItem(v,JSON.stringify(C)),Promise.resolve()}_get(v){const C=this.storage.getItem(v);return Promise.resolve(C?JSON.parse(C):null)}_remove(v){return this.storage.removeItem(v),Promise.resolve()}get storage(){return this.storageRetriever()}}const T6=(()=>{class w extends a7{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(C,T)=>this.onStorageEvent(C,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function lo(){const w=(0,j.z$)();return V(w)||an(w)}()&&function ne(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=A1(),this._shouldAllowMigration=!0}forAllChangedKeys(C){for(const T of Object.keys(this.listeners)){const H=this.storage.getItem(T),R=this.localCache[T];H!==R&&C(T,R,H)}}onStorageEvent(C,T=!1){if(!C.key)return void this.forAllChangedKeys((Fe,wt,Wt)=>{this.notifyListeners(Fe,Wt)});const H=C.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Fe=this.storage.getItem(H);if(C.newValue!==Fe)null!==C.newValue?this.storage.setItem(H,C.newValue):this.storage.removeItem(H);else if(this.localCache[H]===C.newValue&&!T)return}const R=()=>{const Fe=this.storage.getItem(H);!T&&this.localCache[H]===Fe||this.notifyListeners(H,Fe)},ue=this.storage.getItem(H);!function fn(){return(0,j.w1)()&&10===document.documentMode}()||ue===C.newValue||C.newValue===C.oldValue?R():setTimeout(R,10)}notifyListeners(C,T){this.localCache[C]=T;const H=this.listeners[C];if(H)for(const R of Array.from(H))R(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((C,T,H)=>{this.onStorageEvent(new StorageEvent("storage",{key:C,oldValue:T,newValue:H}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(C,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[C]||(this.listeners[C]=new Set,this.localCache[C]=this.storage.getItem(C)),this.listeners[C].add(T)}_removeListener(C,T){this.listeners[C]&&(this.listeners[C].delete(T),0===this.listeners[C].size&&delete this.listeners[C]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(C,T){var H=()=>super._set,R=this;return(0,o.Z)(function*(){yield H().call(R,C,T),R.localCache[C]=JSON.stringify(T)})()}_get(C){var T=()=>super._get,H=this;return(0,o.Z)(function*(){const R=yield T().call(H,C);return H.localCache[C]=JSON.stringify(R),R})()}_remove(C){var T=()=>super._remove,H=this;return(0,o.Z)(function*(){yield T().call(H,C),delete H.localCache[C]})()}}return w.type="LOCAL",w})(),Gl=(()=>{class w extends a7{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(C,T){}_removeListener(C,T){}}return w.type="SESSION",w})();let rv=(()=>{class w{constructor(C){this.eventTarget=C,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(C){const T=this.receivers.find(R=>R.isListeningto(C));if(T)return T;const H=new w(C);return this.receivers.push(H),H}isListeningto(C){return this.eventTarget===C}handleEvent(C){var T=this;return(0,o.Z)(function*(){const H=C,{eventId:R,eventType:ue,data:Fe}=H.data,wt=T.handlersMap[ue];if(!wt?.size)return;H.ports[0].postMessage({status:"ack",eventId:R,eventType:ue});const Wt=Array.from(wt).map(function(){var a1=(0,o.Z)(function*(Mr){return Mr(H.origin,Fe)});return function(Mr){return a1.apply(this,arguments)}}()),dn=yield function Bh(w){return Promise.all(w.map(function(){var v=(0,o.Z)(function*(C){try{return{fulfilled:!0,value:yield C}}catch(T){return{fulfilled:!1,reason:T}}});return function(C){return v.apply(this,arguments)}}()))}(Wt);H.ports[0].postMessage({status:"done",eventId:R,eventType:ue,response:dn})})()}_subscribe(C,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[C]||(this.handlersMap[C]=new Set),this.handlersMap[C].add(T)}_unsubscribe(C,T){this.handlersMap[C]&&T&&this.handlersMap[C].delete(T),(!T||0===this.handlersMap[C].size)&&delete this.handlersMap[C],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function D6(w="",v=10){let C="";for(let T=0;T<v;T++)C+=Math.floor(10*Math.random());return w+C}class s3{constructor(v){this.target=v,this.handlers=new Set}removeMessageHandler(v){v.messageChannel&&(v.messageChannel.port1.removeEventListener("message",v.onMessage),v.messageChannel.port1.close()),this.handlers.delete(v)}_send(v,C,T=50){var H=this;return(0,o.Z)(function*(){const R=typeof MessageChannel<"u"?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let ue,Fe;return new Promise((wt,Wt)=>{const dn=D6("",20);R.port1.start();const a1=setTimeout(()=>{Wt(new Error("unsupported_event"))},T);Fe={messageChannel:R,onMessage(Mr){const Mi=Mr;if(Mi.data.eventId===dn)switch(Mi.data.status){case"ack":clearTimeout(a1),ue=setTimeout(()=>{Wt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ue),wt(Mi.data.response);break;default:clearTimeout(a1),clearTimeout(ue),Wt(new Error("invalid_response"))}}},H.handlers.add(Fe),R.port1.addEventListener("message",Fe.onMessage),H.target.postMessage({eventType:v,eventId:dn,data:C},[R.port2])}).finally(()=>{Fe&&H.removeMessageHandler(Fe)})})()}}function q1(){return window}function uo(){return typeof q1().WorkerGlobalScope<"u"&&"function"==typeof q1().importScripts}function a3(){return(a3=(0,o.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const l3="firebaseLocalStorageDb",Zl=1,oa="firebaseLocalStorage",Uh="fbase_key";class aa{constructor(v){this.request=v}toPromise(){return new Promise((v,C)=>{this.request.addEventListener("success",()=>{v(this.request.result)}),this.request.addEventListener("error",()=>{C(this.request.error)})})}}function Nc(w,v){return w.transaction([oa],v?"readwrite":"readonly").objectStore(oa)}function ar(){const w=indexedDB.open(l3,Zl);return new Promise((v,C)=>{w.addEventListener("error",()=>{C(w.error)}),w.addEventListener("upgradeneeded",()=>{const T=w.result;try{T.createObjectStore(oa,{keyPath:Uh})}catch(H){C(H)}}),w.addEventListener("success",(0,o.Z)(function*(){const T=w.result;T.objectStoreNames.contains(oa)?v(T):(T.close(),yield function jh(){const w=indexedDB.deleteDatabase(l3);return new aa(w).toPromise()}(),v(yield ar()))}))})}function Kl(w,v,C){return Is.apply(this,arguments)}function Is(){return(Is=(0,o.Z)(function*(w,v,C){const T=Nc(w,!0).put({[Uh]:v,value:C});return new aa(T).toPromise()})).apply(this,arguments)}function k6(){return(k6=(0,o.Z)(function*(w,v){const C=Nc(w,!1).get(v),T=yield new aa(C).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function Rc(w,v){const C=Nc(w,!0).delete(v);return new aa(C).toPromise()}const A6=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var C=this;return(0,o.Z)(function*(){return C.db||(C.db=yield ar()),C.db})()}_withRetries(C){var T=this;return(0,o.Z)(function*(){let H=0;for(;;)try{const R=yield T._openDb();return yield C(R)}catch(R){if(H++>3)throw R;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var C=this;return(0,o.Z)(function*(){return uo()?C.initializeReceiver():C.initializeSender()})()}initializeReceiver(){var C=this;return(0,o.Z)(function*(){C.receiver=rv._getInstance(function l7(){return uo()?self:null}()),C.receiver._subscribe("keyChanged",function(){var T=(0,o.Z)(function*(H,R){return{keyProcessed:(yield C._poll()).includes(R.key)}});return function(H,R){return T.apply(this,arguments)}}()),C.receiver._subscribe("ping",function(){var T=(0,o.Z)(function*(H,R){return["keyChanged"]});return function(H,R){return T.apply(this,arguments)}}())})()}initializeSender(){var C=this;return(0,o.Z)(function*(){var T,H;if(C.activeServiceWorker=yield function o3(){return a3.apply(this,arguments)}(),!C.activeServiceWorker)return;C.sender=new s3(C.activeServiceWorker);const R=yield C.sender._send("ping",{},800);R&&null!==(T=R[0])&&void 0!==T&&T.fulfilled&&null!==(H=R[0])&&void 0!==H&&H.value.includes("keyChanged")&&(C.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(C){var T=this;return(0,o.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function c3(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:C},T.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,o.Z)(function*(){try{if(!indexedDB)return!1;const C=yield ar();return yield Kl(C,S6,"1"),yield Rc(C,S6),!0}catch{}return!1})()}_withPendingWrite(C){var T=this;return(0,o.Z)(function*(){T.pendingWrites++;try{yield C()}finally{T.pendingWrites--}})()}_set(C,T){var H=this;return(0,o.Z)(function*(){return H._withPendingWrite((0,o.Z)(function*(){return yield H._withRetries(R=>Kl(R,C,T)),H.localCache[C]=T,H.notifyServiceWorker(C)}))})()}_get(C){var T=this;return(0,o.Z)(function*(){const H=yield T._withRetries(R=>function Pc(w,v){return k6.apply(this,arguments)}(R,C));return T.localCache[C]=H,H})()}_remove(C){var T=this;return(0,o.Z)(function*(){return T._withPendingWrite((0,o.Z)(function*(){return yield T._withRetries(H=>Rc(H,C)),delete T.localCache[C],T.notifyServiceWorker(C)}))})()}_poll(){var C=this;return(0,o.Z)(function*(){const T=yield C._withRetries(ue=>{const Fe=Nc(ue,!1).getAll();return new aa(Fe).toPromise()});if(!T)return[];if(0!==C.pendingWrites)return[];const H=[],R=new Set;for(const{fbase_key:ue,value:Fe}of T)R.add(ue),JSON.stringify(C.localCache[ue])!==JSON.stringify(Fe)&&(C.notifyListeners(ue,Fe),H.push(ue));for(const ue of Object.keys(C.localCache))C.localCache[ue]&&!R.has(ue)&&(C.notifyListeners(ue,null),H.push(ue));return H})()}notifyListeners(C,T){this.localCache[C]=T;const H=this.listeners[C];if(H)for(const R of Array.from(H))R(T)}startPolling(){var C=this;this.stopPolling(),this.pollTimer=setInterval((0,o.Z)(function*(){return C._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(C,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[C]||(this.listeners[C]=new Set,this._get(C)),this.listeners[C].add(T)}_removeListener(C,T){this.listeners[C]&&(this.listeners[C].delete(T),0===this.listeners[C].size&&delete this.listeners[C]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();function u3(){return(u3=(0,o.Z)(function*(w){return(yield lt(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function H6(w){return new Promise((v,C)=>{const T=document.createElement("script");T.setAttribute("src",w),T.onload=v,T.onerror=H=>{const R=Be("internal-error");R.customData=H,C(R)},T.type="text/javascript",T.charset="UTF-8",function ca(){var w,v;return null!==(v=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==v?v:document}().appendChild(T)})}function d7(w){return`__${w}${Math.floor(1e6*Math.random())}`}const Xl=1e12;class f7{constructor(v){this.auth=v,this.counter=Xl,this._widgets=new Map}render(v,C){const T=this.counter;return this._widgets.set(T,new e8(v,this.auth.name,C||{})),this.counter++,T}reset(v){var C;const T=v||Xl;null===(C=this._widgets.get(T))||void 0===C||C.delete(),this._widgets.delete(T)}getResponse(v){var C;return(null===(C=this._widgets.get(v||Xl))||void 0===C?void 0:C.getResponse())||""}execute(v){var C=this;return(0,o.Z)(function*(){var T;return null===(T=C._widgets.get(v||Xl))||void 0===T||T.execute(),""})()}}class e8{constructor(v,C,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const H="string"==typeof v?document.getElementById(v):v;oe(H,"argument-error",{appName:C}),this.container=H,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Gh(w){const v=[],C="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<w;T++)v.push(C.charAt(Math.floor(Math.random()*C.length)));return v.join("")}(50);const{callback:v,"expired-callback":C}=this.params;if(v)try{v(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,C)try{C()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Oc=d7("rcb"),t8=new $e(3e4,6e4);class da{constructor(){var v;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(v=q1().grecaptcha)||void 0===v||!v.render)}load(v,C=""){return oe(function fa(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(C),v,"argument-error"),this.shouldResolveImmediately(C)?Promise.resolve(q1().grecaptcha):new Promise((T,H)=>{const R=q1().setTimeout(()=>{H(Be(v,"network-request-failed"))},t8.get());q1()[Oc]=()=>{q1().clearTimeout(R),delete q1()[Oc];const Fe=q1().grecaptcha;if(!Fe)return void H(Be(v,"internal-error"));const wt=Fe.render;Fe.render=(Wt,dn)=>{const a1=wt(Wt,dn);return this.counter++,a1},this.hostLanguage=C,T(Fe)},H6(`https://www.google.com/recaptcha/api.js??${(0,j.xO)({onload:Oc,render:"explicit",hl:C})}`).catch(()=>{clearTimeout(R),H(Be(v,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(v){var C;return!(null===(C=q1().grecaptcha)||void 0===C||!C.render)&&(v===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class n8{load(v){return(0,o.Z)(function*(){return new f7(v)})()}clearedOneInstance(){}}const i8="recaptcha",d3={theme:"light",type:"image"};class FS{constructor(v,C=Object.assign({},d3),T){this.parameters=C,this.type=i8,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Nt(T),this.isInvisible="invisible"===this.parameters.size,oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const H="string"==typeof v?document.getElementById(v):v;oe(H,this.auth,"argument-error"),this.container=H,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new n8:new da,this.validateStartingState()}verify(){var v=this;return(0,o.Z)(function*(){v.assertNotDestroyed();const C=yield v.render(),T=v.getAssertedRecaptcha();return T.getResponse(C)||new Promise(R=>{const ue=Fe=>{Fe&&(v.tokenChangeListeners.delete(ue),R(Fe))};v.tokenChangeListeners.add(ue),v.isInvisible&&T.execute(C)})})()}render(){try{this.assertNotDestroyed()}catch(v){return Promise.reject(v)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(v=>{throw this.renderPromise=null,v})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(v=>{this.container.removeChild(v)})}validateStartingState(){oe(!this.parameters.sitekey,this.auth,"argument-error"),oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(v){return C=>{if(this.tokenChangeListeners.forEach(T=>T(C)),"function"==typeof v)v(C);else if("string"==typeof v){const T=q1()[v];"function"==typeof T&&T(C)}}}assertNotDestroyed(){oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var v=this;return(0,o.Z)(function*(){if(yield v.init(),!v.widgetId){let C=v.container;if(!v.isInvisible){const T=document.createElement("div");C.appendChild(T),C=T}v.widgetId=v.getAssertedRecaptcha().render(C,v.parameters)}return v.widgetId})()}init(){var v=this;return(0,o.Z)(function*(){oe(we()&&!uo(),v.auth,"internal-error"),yield function $h(){let w=null;return new Promise(v=>{"complete"!==document.readyState?(w=()=>v(),window.addEventListener("load",w)):v()}).catch(v=>{throw w&&window.removeEventListener("load",w),v})}(),v.recaptcha=yield v._recaptchaLoader.load(v.auth,v.auth.languageCode||void 0);const C=yield function Yh(w){return u3.apply(this,arguments)}(v.auth);oe(C,v.auth,"internal-error"),v.parameters.sitekey=C})()}getAssertedRecaptcha(){return oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class un{constructor(v,C){this.verificationId=v,this.onConfirmation=C}confirm(v){const C=Yi._fromVerification(this.verificationId,v);return this.onConfirmation(C)}}function Zh(w,v,C){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,o.Z)(function*(w,v,C){const T=Nt(w),H=yield m7(T,v,(0,j.m9)(C));return new un(H,R=>_i(T,R))})).apply(this,arguments)}function sv(w,v,C){return h7.apply(this,arguments)}function h7(){return(h7=(0,o.Z)(function*(w,v,C){const T=(0,j.m9)(w);yield Y1(!1,T,"phone");const H=yield m7(T.auth,v,(0,j.m9)(C));return new un(H,R=>Ac(T,R))})).apply(this,arguments)}function p7(w,v,C){return r8.apply(this,arguments)}function r8(){return(r8=(0,o.Z)(function*(w,v,C){const T=(0,j.m9)(w),H=yield m7(T.auth,v,(0,j.m9)(C));return new un(H,R=>ri(T,R))})).apply(this,arguments)}function m7(w,v,C){return f3.apply(this,arguments)}function f3(){return f3=(0,o.Z)(function*(w,v,C){var T;const H=yield C.verify();try{let R;if(oe("string"==typeof H,w,"argument-error"),oe(C.type===i8,w,"argument-error"),R="string"==typeof v?{phoneNumber:v}:v,"session"in R){const ue=R.session;if("phoneNumber"in R)return oe("enroll"===ue.type,w,"internal-error"),(yield function tv(w,v){return lt(w,"POST","/v2/accounts/mfaEnrollment:start",Lt(w,v))}(w,{idToken:ue.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:H}})).phoneSessionInfo.sessionInfo;{oe("signin"===ue.type,w,"internal-error");const Fe=(null===(T=R.multiFactorHint)||void 0===T?void 0:T.uid)||R.multiFactorUid;return oe(Fe,w,"missing-multi-factor-info"),(yield function u7(w,v){return lt(w,"POST","/v2/accounts/mfaSignIn:start",Lt(w,v))}(w,{mfaPendingCredential:ue.credential,mfaEnrollmentId:Fe,phoneSignInInfo:{recaptchaToken:H}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ue}=yield function io(w,v){return As.apply(this,arguments)}(w,{phoneNumber:R.phoneNumber,recaptchaToken:H});return ue}}finally{C._reset()}}),f3.apply(this,arguments)}function BS(w,v){return g7.apply(this,arguments)}function g7(){return(g7=(0,o.Z)(function*(w,v){yield Sn((0,j.m9)(w),v)})).apply(this,arguments)}let K2=(()=>{class w{constructor(C){this.providerId=w.PROVIDER_ID,this.auth=Nt(C)}verifyPhoneNumber(C,T){return m7(this.auth,C,(0,j.m9)(T))}static credential(C,T){return Yi._fromVerification(C,T)}static credentialFromResult(C){return w.credentialFromTaggedObject(C)}static credentialFromError(C){return w.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{phoneNumber:T,temporaryProof:H}=C;return T&&H?Yi._fromTokenResponse(T,H):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function fo(w,v){return v?Ze(v):(oe(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class h3 extends Ft{constructor(v){super("custom","custom"),this.params=v}_getIdTokenResponse(v){return Rn(v,this._buildIdpRequest())}_linkToIdToken(v,C){return Rn(v,this._buildIdpRequest(C))}_getReauthenticationResolver(v){return Rn(v,this._buildIdpRequest())}_buildIdpRequest(v){const C={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return v&&(C.idToken=v),C}}function ov(w){return gi(w.auth,new h3(w),w.bypassAuthState)}function Br(w){const{auth:v,user:C}=w;return oe(C,v,"internal-error"),f2(C,new h3(w),w.bypassAuthState)}function ha(w){return s8.apply(this,arguments)}function s8(){return(s8=(0,o.Z)(function*(w){const{auth:v,user:C}=w;return oe(C,v,"internal-error"),Sn(C,new h3(w),w.bypassAuthState)})).apply(this,arguments)}class L6{constructor(v,C,T,H,R=!1){this.auth=v,this.resolver=T,this.user=H,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(C)?C:[C]}execute(){var v=this;return new Promise(function(){var C=(0,o.Z)(function*(T,H){v.pendingPromise={resolve:T,reject:H};try{v.eventManager=yield v.resolver._initialize(v.auth),yield v.onExecution(),v.eventManager.registerConsumer(v)}catch(R){v.reject(R)}});return function(T,H){return C.apply(this,arguments)}}())}onAuthEvent(v){var C=this;return(0,o.Z)(function*(){const{urlResponse:T,sessionId:H,postBody:R,tenantId:ue,error:Fe,type:wt}=v;if(Fe)return void C.reject(Fe);const Wt={auth:C.auth,requestUri:T,sessionId:H,tenantId:ue||void 0,postBody:R||void 0,user:C.user,bypassAuthState:C.bypassAuthState};try{C.resolve(yield C.getIdpTask(wt)(Wt))}catch(dn){C.reject(dn)}})()}onError(v){this.reject(v)}getIdpTask(v){switch(v){case"signInViaPopup":case"signInViaRedirect":return ov;case"linkViaPopup":case"linkViaRedirect":return ha;case"reauthViaPopup":case"reauthViaRedirect":return Br;default:Oe(this.auth,"internal-error")}}resolve(v){ze(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(v),this.unregisterAndCleanUp()}reject(v){ze(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(v),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const E6=new $e(2e3,1e4);function av(w,v,C){return Kh.apply(this,arguments)}function Kh(){return(Kh=(0,o.Z)(function*(w,v,C){const T=Nt(w);Pe(w,v,Hi);const H=fo(T,C);return new pa(T,"signInViaPopup",v,H).executeNotNull()})).apply(this,arguments)}function cv(w,v,C){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,o.Z)(function*(w,v,C){const T=(0,j.m9)(w);Pe(T.auth,v,Hi);const H=fo(T.auth,C);return new pa(T.auth,"reauthViaPopup",v,H,T).executeNotNull()})).apply(this,arguments)}function cr(w,v,C){return p3.apply(this,arguments)}function p3(){return(p3=(0,o.Z)(function*(w,v,C){const T=(0,j.m9)(w);Pe(T.auth,v,Hi);const H=fo(T.auth,C);return new pa(T.auth,"linkViaPopup",v,H,T).executeNotNull()})).apply(this,arguments)}let pa=(()=>{class w extends L6{constructor(C,T,H,R,ue){super(C,T,R,ue),this.provider=H,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var C=this;return(0,o.Z)(function*(){const T=yield C.execute();return oe(T,C.auth,"internal-error"),T})()}onExecution(){var C=this;return(0,o.Z)(function*(){ze(1===C.filter.length,"Popup operations only handle one event");const T=D6();C.authWindow=yield C.resolver._openPopup(C.auth,C.provider,C.filter[0],T),C.authWindow.associatedEvent=T,C.resolver._originValidation(C.auth).catch(H=>{C.reject(H)}),C.resolver._isIframeWebStorageSupported(C.auth,H=>{H||C.reject(Be(C.auth,"web-storage-unsupported"))}),C.pollUserCancellation()})()}get eventId(){var C;return(null===(C=this.authWindow)||void 0===C?void 0:C.associatedEvent)||null}cancel(){this.reject(Be(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const C=()=>{var T,H;this.pollId=null!==(H=null===(T=this.authWindow)||void 0===T?void 0:T.window)&&void 0!==H&&H.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Be(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(C,E6.get())};C()}}return w.currentPopupAction=null,w})();const _1="pendingRedirect",Cr=new Map;class It extends L6{constructor(v,C,T=!1){super(v,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],C,void 0,T),this.eventId=null}execute(){var v=()=>super.execute,C=this;return(0,o.Z)(function*(){let T=Cr.get(C.auth._key());if(!T){try{const R=(yield function h2(w,v){return t2.apply(this,arguments)}(C.resolver,C.auth))?yield v().call(C):null;T=()=>Promise.resolve(R)}catch(H){T=()=>Promise.reject(H)}Cr.set(C.auth._key(),T)}return C.bypassAuthState||Cr.set(C.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(v){var C=()=>super.onAuthEvent,T=this;return(0,o.Z)(function*(){if("signInViaRedirect"===v.type)return C().call(T,v);if("unknown"!==v.type){if(v.eventId){const H=yield T.auth._redirectUserForId(v.eventId);if(H)return T.user=H,C().call(T,v);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,o.Z)(function*(){})()}cleanUp(){}}function t2(){return(t2=(0,o.Z)(function*(w,v){const C=I6(v),T=Bc(w);if(!(yield T._isAvailable()))return!1;const H="true"===(yield T._get(C));return yield T._remove(C),H})).apply(this,arguments)}function o8(w,v){return m3.apply(this,arguments)}function m3(){return(m3=(0,o.Z)(function*(w,v){return Bc(w)._set(I6(v),"true")})).apply(this,arguments)}function Ci(){Cr.clear()}function V6(w,v){Cr.set(w._key(),v)}function Bc(w){return Ze(w._redirectPersistence)}function I6(w){return Z(_1,w.config.apiKey,w.name)}function Uc(w,v,C){return function a8(w,v,C){return ma.apply(this,arguments)}(w,v,C)}function ma(){return(ma=(0,o.Z)(function*(w,v,C){const T=Nt(w);Pe(w,v,Hi),yield T._initializationPromise;const H=fo(T,C);return yield o8(H,T),H._openRedirect(T,v,"signInViaRedirect")})).apply(this,arguments)}function g3(w,v,C){return function kt(w,v,C){return ga.apply(this,arguments)}(w,v,C)}function ga(){return(ga=(0,o.Z)(function*(w,v,C){const T=(0,j.m9)(w);Pe(T.auth,v,Hi),yield T.auth._initializationPromise;const H=fo(T.auth,C);yield o8(H,T.auth);const R=yield _7(T);return H._openRedirect(T.auth,v,"reauthViaRedirect",R)})).apply(this,arguments)}function N6(w,v,C){return function P6(w,v,C){return R6.apply(this,arguments)}(w,v,C)}function R6(){return(R6=(0,o.Z)(function*(w,v,C){const T=(0,j.m9)(w);Pe(T.auth,v,Hi),yield T.auth._initializationPromise;const H=fo(T.auth,C);yield Y1(!1,T,v.providerId),yield o8(H,T.auth);const R=yield _7(T);return H._openRedirect(T.auth,v,"linkViaRedirect",R)})).apply(this,arguments)}function p2(w,v){return ho.apply(this,arguments)}function ho(){return(ho=(0,o.Z)(function*(w,v){return yield Nt(w)._initializationPromise,Ps(w,v,!1)})).apply(this,arguments)}function Ps(w,v){return c8.apply(this,arguments)}function c8(){return(c8=(0,o.Z)(function*(w,v,C=!1){const T=Nt(w),H=fo(T,v),ue=yield new It(T,H,C).execute();return ue&&!C&&(delete ue.user._redirectEventId,yield T._persistUserIfCurrent(ue.user),yield T._setRedirectUser(null,v)),ue})).apply(this,arguments)}function _7(w){return po.apply(this,arguments)}function po(){return(po=(0,o.Z)(function*(w){const v=D6(`${w.uid}:::`);return w._redirectEventId=v,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),v})).apply(this,arguments)}class l8{constructor(v){this.auth=v,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(v){this.consumers.add(v),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,v)&&(this.sendToConsumer(this.queuedRedirectEvent,v),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(v){this.consumers.delete(v)}onEvent(v){if(this.hasEventBeenHandled(v))return!1;let C=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(v,T)&&(C=!0,this.sendToConsumer(v,T),this.saveEventToCache(v))}),this.hasHandledPotentialRedirect||!function Jh(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return u8(w);default:return!1}}(v)||(this.hasHandledPotentialRedirect=!0,C||(this.queuedRedirectEvent=v,C=!0)),C}sendToConsumer(v,C){var T;if(v.error&&!u8(v)){const H=(null===(T=v.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";C.onError(Be(this.auth,H))}else C.onAuthEvent(v)}isEventForConsumer(v,C){const T=null===C.eventId||!!v.eventId&&v.eventId===C.eventId;return C.filter.includes(v.type)&&T}hasEventBeenHandled(v){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(mo(v))}saveEventToCache(v){this.cachedEventUids.add(mo(v)),this.lastProcessedEventTime=Date.now()}}function mo(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(v=>v).join("-")}function u8({type:w,error:v}){return"unknown"===w&&"auth/no-auth-event"===v?.code}function $i(w){return go.apply(this,arguments)}function go(){return(go=(0,o.Z)(function*(w,v={}){return lt(w,"GET","/v1/projects",v)})).apply(this,arguments)}const _o=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vo=/^https?/;function _3(){return(_3=(0,o.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:v}=yield $i(w);for(const C of v)try{if(Xh(C))return}catch{}Oe(w,"unauthorized-domain")})).apply(this,arguments)}function Xh(w){const v=pe(),{protocol:C,hostname:T}=new URL(v);if(w.startsWith("chrome-extension://")){const ue=new URL(w);return""===ue.hostname&&""===T?"chrome-extension:"===C&&w.replace("chrome-extension://","")===v.replace("chrome-extension://",""):"chrome-extension:"===C&&ue.hostname===T}if(!vo.test(C))return!1;if(_o.test(w))return T===w;const H=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+H+"|"+H+")$","i").test(T)}const m2=new $e(3e4,6e4);function cs(){const w=q1().___jsl;if(w?.H)for(const v of Object.keys(w.H))if(w.H[v].r=w.H[v].r||[],w.H[v].L=w.H[v].L||[],w.H[v].r=[...w.H[v].L],w.CP)for(let C=0;C<w.CP.length;C++)w.CP[C]=null}let o1=null;const y3=new $e(5e3,15e3),e9="__/auth/iframe",lv="emulator/auth/iframe",ls={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_a=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ei(w){const v=w.config;oe(v.authDomain,w,"auth-domain-config-required");const C=v.emulator?Xe(v,lv):`https://${w.config.authDomain}/${e9}`,T={apiKey:v.apiKey,appName:w.name,v:F.SDK_VERSION},H=_a.get(w.config.apiHost);H&&(T.eid=H);const R=w._getFrameworks();return R.length&&(T.fw=R.join(",")),`${C}?${(0,j.xO)(T).slice(1)}`}function O6(){return O6=(0,o.Z)(function*(w){const v=yield function Li(w){return o1=o1||function v3(w){return new Promise((v,C)=>{var T,H,R;function ue(){cs(),gapi.load("gapi.iframes",{callback:()=>{v(gapi.iframes.getContext())},ontimeout:()=>{cs(),C(Be(w,"network-request-failed"))},timeout:m2.get()})}if(null!==(H=null===(T=q1().gapi)||void 0===T?void 0:T.iframes)&&void 0!==H&&H.Iframe)v(gapi.iframes.getContext());else{if(null===(R=q1().gapi)||void 0===R||!R.load){const Fe=d7("iframefcb");return q1()[Fe]=()=>{gapi.load?ue():C(Be(w,"network-request-failed"))},H6(`https://apis.google.com/js/api.js?onload=${Fe}`).catch(wt=>C(wt))}ue()}}).catch(v=>{throw o1=null,v})}(w),o1}(w),C=q1().gapi;return oe(C,w,"internal-error"),v.open({where:document.body,url:Ei(w),messageHandlersFilter:C.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ls,dontclear:!0},T=>new Promise(function(){var H=(0,o.Z)(function*(R,ue){yield T.restyle({setHideOnLeave:!1});const Fe=Be(w,"network-request-failed"),wt=q1().setTimeout(()=>{ue(Fe)},y3.get());function Wt(){q1().clearTimeout(wt),R(T)}T.ping(Wt).then(Wt,()=>{ue(Fe)})});return function(R,ue){return H.apply(this,arguments)}}()))}),O6.apply(this,arguments)}const us={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},F6=500,d8=600,v7="_blank",ds="http://localhost";class jc{constructor(v){this.window=v,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const y7="__/auth/handler",Co="emulator/auth/handler";function f8(w,v,C,T,H,R){oe(w.config.authDomain,w,"auth-domain-config-required"),oe(w.config.apiKey,w,"invalid-api-key");const ue={apiKey:w.config.apiKey,appName:w.name,authType:C,redirectUrl:T,v:F.SDK_VERSION,eventId:H};if(v instanceof Hi){v.setDefaultLanguage(w.languageCode),ue.providerId=v.providerId||"",(0,j.xb)(v.getCustomParameters())||(ue.customParameters=JSON.stringify(v.getCustomParameters()));for(const[wt,Wt]of Object.entries(R||{}))ue[wt]=Wt}if(v instanceof so){const wt=v.getScopes().filter(Wt=>""!==Wt);wt.length>0&&(ue.scopes=wt.join(","))}w.tenantId&&(ue.tid=w.tenantId);const Fe=ue;for(const wt of Object.keys(Fe))void 0===Fe[wt]&&delete Fe[wt];return`${function t9({config:w}){return w.emulator?Xe(w,Co):`https://${w.authDomain}/${y7}`}(w)}?${(0,j.xO)(Fe).slice(1)}`}const br="webStorageSupport",p8=class h8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Gl,this._completeRedirectFn=Ps,this._overrideRedirectResult=V6}_openPopup(v,C,T,H){var R=this;return(0,o.Z)(function*(){var ue;ze(null===(ue=R.eventManagers[v._key()])||void 0===ue?void 0:ue.manager,"_initialize() not called before _openPopup()");const Fe=f8(v,C,T,pe(),H);return function Cn(w,v,C,T=F6,H=d8){const R=Math.max((window.screen.availHeight-H)/2,0).toString(),ue=Math.max((window.screen.availWidth-T)/2,0).toString();let Fe="";const wt=Object.assign(Object.assign({},us),{width:T.toString(),height:H.toString(),top:R,left:ue}),Wt=(0,j.z$)().toLowerCase();C&&(Fe=se(Wt)?v7:C),P(Wt)&&(v=v||ds,wt.scrollbars="yes");const dn=Object.entries(wt).reduce((Mr,[Mi,b3])=>`${Mr}${Mi}=${b3},`,"");if(function Vn(w=(0,j.z$)()){var v;return an(w)&&!(null===(v=window.navigator)||void 0===v||!v.standalone)}(Wt)&&"_self"!==Fe)return function Wc(w,v){const C=document.createElement("a");C.href=w,C.target=v;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),C.dispatchEvent(T)}(v||"",Fe),new jc(null);const a1=window.open(v||"",Fe,dn);oe(a1,w,"popup-blocked");try{a1.focus()}catch{}return new jc(a1)}(v,Fe,D6())})()}_openRedirect(v,C,T,H){var R=this;return(0,o.Z)(function*(){return yield R._originValidation(v),function $l(w){q1().location.href=w}(f8(v,C,T,pe(),H)),new Promise(()=>{})})()}_initialize(v){const C=v._key();if(this.eventManagers[C]){const{manager:H,promise:R}=this.eventManagers[C];return H?Promise.resolve(H):(ze(R,"If manager is not set, promise should be"),R)}const T=this.initAndGetManager(v);return this.eventManagers[C]={promise:T},T.catch(()=>{delete this.eventManagers[C]}),T}initAndGetManager(v){var C=this;return(0,o.Z)(function*(){const T=yield function yo(w){return O6.apply(this,arguments)}(v),H=new l8(v);return T.register("authEvent",R=>(oe(R?.authEvent,v,"invalid-auth-event"),{status:H.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),C.eventManagers[v._key()]={manager:H},C.iframes[v._key()]=T,H})()}_isIframeWebStorageSupported(v,C){this.iframes[v._key()].send(br,{type:br},H=>{var R;const ue=null===(R=H?.[0])||void 0===R?void 0:R[br];void 0!==ue&&C(!!ue),Oe(v,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(v){const C=v._key();return this.originValidationPromises[C]||(this.originValidationPromises[C]=function Q2(w){return _3.apply(this,arguments)}(v)),this.originValidationPromises[C]}get _shouldInitProactively(){return A1()||V()||an()}};class C7{constructor(v){this.factorId=v}_process(v,C,T){switch(C.type){case"enroll":return this._finalizeEnroll(v,C.credential,T);case"signin":return this._finalizeSignIn(v,C.credential);default:return he("unexpected MultiFactorSessionType")}}}class Vi extends C7{constructor(v){super("phone"),this.credential=v}static _fromCredential(v){return new Vi(v)}_finalizeEnroll(v,C,T){return function nv(w,v){return lt(w,"POST","/v2/accounts/mfaEnrollment:finalize",Lt(w,v))}(v,{idToken:C,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(v,C){return function Jl(w,v){return lt(w,"POST","/v2/accounts/mfaSignIn:finalize",Lt(w,v))}(v,{mfaPendingCredential:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let F2=(()=>{class w{constructor(){}static assertion(C){return Vi._fromCredential(C)}}return w.FACTOR_ID="phone",w})();var fs="@firebase/auth";class bi{constructor(v){this.auth=v,this.internalListeners=new Map}getUid(){var v;return this.assertAuthConfigured(),(null===(v=this.auth.currentUser)||void 0===v?void 0:v.uid)||null}getToken(v){var C=this;return(0,o.Z)(function*(){return C.assertAuthConfigured(),yield C.auth._initializationPromise,C.auth.currentUser?{accessToken:yield C.auth.currentUser.getIdToken(v)}:null})()}addAuthTokenListener(v){if(this.assertAuthConfigured(),this.internalListeners.has(v))return;const C=this.auth.onIdTokenChanged(T=>{v(T?.stsTokenManager.accessToken||null)});this.internalListeners.set(v,C),this.updateProactiveRefresh()}removeAuthTokenListener(v){this.assertAuthConfigured();const C=this.internalListeners.get(v);C&&(this.internalListeners.delete(v),C(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const M7=(0,j.Pz)("authIdTokenMaxAge")||300;let g8=null;const w7=w=>function(){var v=(0,o.Z)(function*(C){const T=C&&(yield C.getIdTokenResult()),H=T&&((new Date).getTime()-Date.parse(T.issuedAtTime))/1e3;if(H&&H>M7)return;const R=T?.token;g8!==R&&(g8=R,yield fetch(w,{method:R?"POST":"DELETE",headers:R?{Authorization:`Bearer ${R}`}:{}}))});return function(C){return v.apply(this,arguments)}}();function _8(w=(0,F.getApp)()){const v=(0,F._getProvider)(w,"auth");if(v.isInitialized())return v.getImmediate();const C=function jt(w,v){const C=(0,F._getProvider)(w,"auth");if(C.isInitialized()){const H=C.getImmediate(),R=C.getOptions();if((0,j.vZ)(R,v??{}))return H;Oe(H,"already-initialized")}return C.initialize({options:v})}(w,{popupRedirectResolver:p8,persistence:[A6,T6,Gl]}),T=(0,j.Pz)("authTokenSyncURL");if(T){const R=w7(T);(function s7(w,v,C){(0,j.m9)(w).beforeAuthStateChanged(v,C)})(C,R,()=>R(C.currentUser)),function Oh(w,v,C,T){(0,j.m9)(w).onIdTokenChanged(v,C,T)}(C,ue=>R(ue))}const H=(0,j.q4)("auth");return H&&ve(C,`http://${H}`),C}!function m8(w){(0,F._registerComponent)(new ae.wA("auth",(v,{options:C})=>{const T=v.getProvider("app").getImmediate(),H=v.getProvider("heartbeat"),{apiKey:R,authDomain:ue}=T.options;return((Fe,wt)=>{oe(R&&!R.includes(":"),"invalid-api-key",{appName:Fe.name}),oe(!ue?.includes(":"),"argument-error",{appName:Fe.name});const Wt={apiKey:R,authDomain:ue,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ye(w)},dn=new Mt(Fe,wt,Wt);return function ut(w,v){const C=v?.persistence||[],T=(Array.isArray(C)?C:[C]).map(Ze);v?.errorMap&&w._updateErrorMap(v.errorMap),w._initializeWithPersistence(T,v?.popupRedirectResolver)}(dn,C),dn})(T,H)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((v,C,T)=>{v.getProvider("auth-internal").initialize()})),(0,F._registerComponent)(new ae.wA("auth-internal",v=>{const C=Nt(v.getProvider("auth").getImmediate());return new bi(C)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,F.registerVersion)(fs,"0.21.5",function C3(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,F.registerVersion)(fs,"0.21.5","esm2017")}("Browser")},2090:(Ht,Ne,N)=>{N.d(Ne,{$s:()=>Vt,BH:()=>Pe,DV:()=>J1,Dv:()=>x1,G6:()=>Ue,GJ:()=>P2,L:()=>_e,LL:()=>Pt,P0:()=>Oe,Pz:()=>je,Sg:()=>it,UG:()=>ze,UI:()=>Un,US:()=>ae,Wj:()=>R2,Wl:()=>r1,Yr:()=>He,ZB:()=>ie,ZR:()=>Pn,aH:()=>Be,b$:()=>jt,cI:()=>rn,dS:()=>Z2,eu:()=>$e,g5:()=>F,gK:()=>N1,gQ:()=>z2,h$:()=>ge,hl:()=>qe,hu:()=>j,jU:()=>ct,lb:()=>Jt,m9:()=>m1,ne:()=>xt,p$:()=>K,pd:()=>I1,q4:()=>Re,r3:()=>E1,ru:()=>Ze,tV:()=>$,uI:()=>he,ug:()=>sn,vZ:()=>C1,w1:()=>pe,w9:()=>F1,xO:()=>k2,xb:()=>D2,z$:()=>oe,zI:()=>Xe,zd:()=>z1});const o={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},j=function(Z,q){if(!Z)throw F(q)},F=function(Z){return new Error("Firebase Database ("+o.SDK_VERSION+") INTERNAL ASSERT FAILED: "+Z)},le=function(Z){const q=[];let I=0;for(let P=0;P<Z.length;P++){let V=Z.charCodeAt(P);V<128?q[I++]=V:V<2048?(q[I++]=V>>6|192,q[I++]=63&V|128):55296==(64512&V)&&P+1<Z.length&&56320==(64512&Z.charCodeAt(P+1))?(V=65536+((1023&V)<<10)+(1023&Z.charCodeAt(++P)),q[I++]=V>>18|240,q[I++]=V>>12&63|128,q[I++]=V>>6&63|128,q[I++]=63&V|128):(q[I++]=V>>12|224,q[I++]=V>>6&63|128,q[I++]=63&V|128)}return q},ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Z,q){if(!Array.isArray(Z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const I=q?this.byteToCharMapWebSafe_:this.byteToCharMap_,P=[];for(let V=0;V<Z.length;V+=3){const se=Z[V],me=V+1<Z.length,vt=me?Z[V+1]:0,Ot=V+2<Z.length,Kt=Ot?Z[V+2]:0;let Vn=(15&vt)<<2|Kt>>6,fn=63&Kt;Ot||(fn=64,me||(Vn=64)),P.push(I[se>>2],I[(3&se)<<4|vt>>4],I[Vn],I[fn])}return P.join("")},encodeString(Z,q){return this.HAS_NATIVE_SUPPORT&&!q?btoa(Z):this.encodeByteArray(le(Z),q)},decodeString(Z,q){return this.HAS_NATIVE_SUPPORT&&!q?atob(Z):function(Z){const q=[];let I=0,P=0;for(;I<Z.length;){const V=Z[I++];if(V<128)q[P++]=String.fromCharCode(V);else if(V>191&&V<224){const se=Z[I++];q[P++]=String.fromCharCode((31&V)<<6|63&se)}else if(V>239&&V<365){const Ot=((7&V)<<18|(63&Z[I++])<<12|(63&Z[I++])<<6|63&Z[I++])-65536;q[P++]=String.fromCharCode(55296+(Ot>>10)),q[P++]=String.fromCharCode(56320+(1023&Ot))}else{const se=Z[I++],me=Z[I++];q[P++]=String.fromCharCode((15&V)<<12|(63&se)<<6|63&me)}}return q.join("")}(this.decodeStringToByteArray(Z,q))},decodeStringToByteArray(Z,q){this.init_();const I=q?this.charToByteMapWebSafe_:this.charToByteMap_,P=[];for(let V=0;V<Z.length;){const se=I[Z.charAt(V++)],vt=V<Z.length?I[Z.charAt(V)]:0;++V;const Kt=V<Z.length?I[Z.charAt(V)]:64;++V;const Zt=V<Z.length?I[Z.charAt(V)]:64;if(++V,null==se||null==vt||null==Kt||null==Zt)throw new ke;P.push(se<<2|vt>>4),64!==Kt&&(P.push(vt<<4&240|Kt>>2),64!==Zt&&P.push(Kt<<6&192|Zt))}return P},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Z=0;Z<this.ENCODED_VALS.length;Z++)this.byteToCharMap_[Z]=this.ENCODED_VALS.charAt(Z),this.charToByteMap_[this.byteToCharMap_[Z]]=Z,this.byteToCharMapWebSafe_[Z]=this.ENCODED_VALS_WEBSAFE.charAt(Z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Z]]=Z,Z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Z)]=Z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Z)]=Z)}}};class ke extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ge=function(Z){const q=le(Z);return ae.encodeByteArray(q,!0)},_e=function(Z){return ge(Z).replace(/\./g,"")},$=function(Z){try{return ae.decodeString(Z,!0)}catch(q){console.error("base64Decode failed: ",q)}return null};function K(Z){return ie(void 0,Z)}function ie(Z,q){if(!(q instanceof Object))return q;switch(q.constructor){case Date:return new Date(q.getTime());case Object:void 0===Z&&(Z={});break;case Array:Z=[];break;default:return q}for(const I in q)!q.hasOwnProperty(I)||!Je(I)||(Z[I]=ie(Z[I],q[I]));return Z}function Je(Z){return"__proto__"!==Z}const Ie=()=>{try{return function Ae(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Z=process.env.__FIREBASE_DEFAULTS__;return Z?JSON.parse(Z):void 0})()||(()=>{if(typeof document>"u")return;let Z;try{Z=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const q=Z&&$(Z[1]);return q&&JSON.parse(q)})()}catch(Z){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Z}`)}},Re=Z=>{var q,I;return null===(I=null===(q=Ie())||void 0===q?void 0:q.emulatorHosts)||void 0===I?void 0:I[Z]},Oe=Z=>{const q=Re(Z);if(!q)return;const I=q.lastIndexOf(":");if(I<=0||I+1===q.length)throw new Error(`Invalid host ${q} with no separate hostname and port!`);const P=parseInt(q.substring(I+1),10);return"["===q[0]?[q.substring(1,I-1),P]:[q.substring(0,I),P]},Be=()=>{var Z;return null===(Z=Ie())||void 0===Z?void 0:Z.config},je=Z=>{var q;return null===(q=Ie())||void 0===q?void 0:q[`_${Z}`]};class Pe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((q,I)=>{this.resolve=q,this.reject=I})}wrapCallback(q){return(I,P)=>{I?this.reject(I):this.resolve(P),"function"==typeof q&&(this.promise.catch(()=>{}),1===q.length?q(I):q(I,P))}}}function it(Z,q){if(Z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const P=q||"demo-project",V=Z.iat||0,se=Z.sub||Z.user_id;if(!se)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const me=Object.assign({iss:`https://securetoken.google.com/${P}`,aud:P,iat:V,exp:V+3600,auth_time:V,sub:se,user_id:se,firebase:{sign_in_provider:"custom",identities:{}}},Z);return[_e(JSON.stringify({alg:"none",type:"JWT"})),_e(JSON.stringify(me)),""].join(".")}function oe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function he(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(oe())}function ze(){var Z;const q=null===(Z=Ie())||void 0===Z?void 0:Z.forceEnvironment;if("node"===q)return!0;if("browser"===q)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ct(){return"object"==typeof self&&self.self===self}function Ze(){const Z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Z&&void 0!==Z.id}function jt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function pe(){const Z=oe();return Z.indexOf("MSIE ")>=0||Z.indexOf("Trident/")>=0}function He(){return!0===o.NODE_CLIENT||!0===o.NODE_ADMIN}function Ue(){return!ze()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qe(){try{return"object"==typeof indexedDB}catch{return!1}}function $e(){return new Promise((Z,q)=>{try{let I=!0;const P="validate-browser-context-for-indexeddb-analytics-module",V=self.indexedDB.open(P);V.onsuccess=()=>{V.result.close(),I||self.indexedDB.deleteDatabase(P),Z(!0)},V.onupgradeneeded=()=>{I=!1},V.onerror=()=>{var se;q((null===(se=V.error)||void 0===se?void 0:se.message)||"")}}catch(I){q(I)}})}function Xe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Pn extends Error{constructor(q,I,P){super(I),this.code=q,this.customData=P,this.name="FirebaseError",Object.setPrototypeOf(this,Pn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pt.prototype.create)}}class Pt{constructor(q,I,P){this.service=q,this.serviceName=I,this.errors=P}create(q,...I){const P=I[0]||{},V=`${this.service}/${q}`,se=this.errors[q],me=se?function Lt(Z,q){return Z.replace(lt,(I,P)=>{const V=q[P];return null!=V?String(V):`<${P}?>`})}(se,P):"Error";return new Pn(V,`${this.serviceName}: ${me} (${V}).`,P)}}const lt=/\{\$([^}]+)}/g;function rn(Z){return JSON.parse(Z)}function r1(Z){return JSON.stringify(Z)}const e1=function(Z){let q={},I={},P={},V="";try{const se=Z.split(".");q=rn($(se[0])||""),I=rn($(se[1])||""),V=se[2],P=I.d||{},delete I.d}catch{}return{header:q,claims:I,data:P,signature:V}},F1=function(Z){const I=e1(Z).claims;return!!I&&"object"==typeof I&&I.hasOwnProperty("iat")},P2=function(Z){const q=e1(Z).claims;return"object"==typeof q&&!0===q.admin};function E1(Z,q){return Object.prototype.hasOwnProperty.call(Z,q)}function J1(Z,q){if(Object.prototype.hasOwnProperty.call(Z,q))return Z[q]}function D2(Z){for(const q in Z)if(Object.prototype.hasOwnProperty.call(Z,q))return!1;return!0}function Un(Z,q,I){const P={};for(const V in Z)Object.prototype.hasOwnProperty.call(Z,V)&&(P[V]=q.call(I,Z[V],V,Z));return P}function C1(Z,q){if(Z===q)return!0;const I=Object.keys(Z),P=Object.keys(q);for(const V of I){if(!P.includes(V))return!1;const se=Z[V],me=q[V];if(ht(se)&&ht(me)){if(!C1(se,me))return!1}else if(se!==me)return!1}for(const V of P)if(!I.includes(V))return!1;return!0}function ht(Z){return null!==Z&&"object"==typeof Z}function k2(Z){const q=[];for(const[I,P]of Object.entries(Z))Array.isArray(P)?P.forEach(V=>{q.push(encodeURIComponent(I)+"="+encodeURIComponent(V))}):q.push(encodeURIComponent(I)+"="+encodeURIComponent(P));return q.length?"&"+q.join("&"):""}function z1(Z){const q={};return Z.replace(/^\?/,"").split("&").forEach(P=>{if(P){const[V,se]=P.split("=");q[decodeURIComponent(V)]=decodeURIComponent(se)}}),q}function I1(Z){const q=Z.indexOf("?");if(!q)return"";const I=Z.indexOf("#",q);return Z.substring(q,I>0?I:void 0)}class z2{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let q=1;q<this.blockSize;++q)this.pad_[q]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(q,I){I||(I=0);const P=this.W_;if("string"==typeof q)for(let Zt=0;Zt<16;Zt++)P[Zt]=q.charCodeAt(I)<<24|q.charCodeAt(I+1)<<16|q.charCodeAt(I+2)<<8|q.charCodeAt(I+3),I+=4;else for(let Zt=0;Zt<16;Zt++)P[Zt]=q[I]<<24|q[I+1]<<16|q[I+2]<<8|q[I+3],I+=4;for(let Zt=16;Zt<80;Zt++){const Vn=P[Zt-3]^P[Zt-8]^P[Zt-14]^P[Zt-16];P[Zt]=4294967295&(Vn<<1|Vn>>>31)}let Kt,an,V=this.chain_[0],se=this.chain_[1],me=this.chain_[2],vt=this.chain_[3],Ot=this.chain_[4];for(let Zt=0;Zt<80;Zt++){Zt<40?Zt<20?(Kt=vt^se&(me^vt),an=1518500249):(Kt=se^me^vt,an=1859775393):Zt<60?(Kt=se&me|vt&(se|me),an=2400959708):(Kt=se^me^vt,an=3395469782);const Vn=(V<<5|V>>>27)+Kt+Ot+an+P[Zt]&4294967295;Ot=vt,vt=me,me=4294967295&(se<<30|se>>>2),se=V,V=Vn}this.chain_[0]=this.chain_[0]+V&4294967295,this.chain_[1]=this.chain_[1]+se&4294967295,this.chain_[2]=this.chain_[2]+me&4294967295,this.chain_[3]=this.chain_[3]+vt&4294967295,this.chain_[4]=this.chain_[4]+Ot&4294967295}update(q,I){if(null==q)return;void 0===I&&(I=q.length);const P=I-this.blockSize;let V=0;const se=this.buf_;let me=this.inbuf_;for(;V<I;){if(0===me)for(;V<=P;)this.compress_(q,V),V+=this.blockSize;if("string"==typeof q){for(;V<I;)if(se[me]=q.charCodeAt(V),++me,++V,me===this.blockSize){this.compress_(se),me=0;break}}else for(;V<I;)if(se[me]=q[V],++me,++V,me===this.blockSize){this.compress_(se),me=0;break}}this.inbuf_=me,this.total_+=I}digest(){const q=[];let I=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let V=this.blockSize-1;V>=56;V--)this.buf_[V]=255&I,I/=256;this.compress_(this.buf_);let P=0;for(let V=0;V<5;V++)for(let se=24;se>=0;se-=8)q[P]=this.chain_[V]>>se&255,++P;return q}}function xt(Z,q){const I=new zt(Z,q);return I.subscribe.bind(I)}class zt{constructor(q,I){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=I,this.task.then(()=>{q(this)}).catch(P=>{this.error(P)})}next(q){this.forEachObserver(I=>{I.next(q)})}error(q){this.forEachObserver(I=>{I.error(q)}),this.close(q)}complete(){this.forEachObserver(q=>{q.complete()}),this.close()}subscribe(q,I,P){let V;if(void 0===q&&void 0===I&&void 0===P)throw new Error("Missing Observer.");V=function l1(Z,q){if("object"!=typeof Z||null===Z)return!1;for(const I of q)if(I in Z&&"function"==typeof Z[I])return!0;return!1}(q,["next","error","complete"])?q:{next:q,error:I,complete:P},void 0===V.next&&(V.next=u1),void 0===V.error&&(V.error=u1),void 0===V.complete&&(V.complete=u1);const se=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?V.error(this.finalError):V.complete()}catch{}}),this.observers.push(V),se}unsubscribeOne(q){void 0===this.observers||void 0===this.observers[q]||(delete this.observers[q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(q){if(!this.finalized)for(let I=0;I<this.observers.length;I++)this.sendOne(I,q)}sendOne(q,I){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[q])try{I(this.observers[q])}catch(P){typeof console<"u"&&console.error&&console.error(P)}})}close(q){this.finalized||(this.finalized=!0,void 0!==q&&(this.finalError=q),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function u1(){}const x1=function(Z,q,I,P){let V;if(P<q?V="at least "+q:P>I&&(V=0===I?"none":"no more than "+I),V)throw new Error(Z+" failed: Was called with "+P+(1===P?" argument.":" arguments.")+" Expects "+V+".")};function N1(Z,q){return`${Z} failed: ${q} argument `}function R2(Z,q,I,P){if((!P||I)&&"function"!=typeof I)throw new Error(N1(Z,q)+"must be a valid function.")}function Jt(Z,q,I,P){if((!P||I)&&("object"!=typeof I||null===I))throw new Error(N1(Z,q)+"must be a valid context object.")}const Z2=function(Z){const q=[];let I=0;for(let P=0;P<Z.length;P++){let V=Z.charCodeAt(P);if(V>=55296&&V<=56319){const se=V-55296;P++,j(P<Z.length,"Surrogate pair missing trail surrogate."),V=65536+(se<<10)+(Z.charCodeAt(P)-56320)}V<128?q[I++]=V:V<2048?(q[I++]=V>>6|192,q[I++]=63&V|128):V<65536?(q[I++]=V>>12|224,q[I++]=V>>6&63|128,q[I++]=63&V|128):(q[I++]=V>>18|240,q[I++]=V>>12&63|128,q[I++]=V>>6&63|128,q[I++]=63&V|128)}return q},sn=function(Z){let q=0;for(let I=0;I<Z.length;I++){const P=Z.charCodeAt(I);P<128?q++:P<2048?q+=2:P>=55296&&P<=56319?(q+=4,I++):q+=3}return q},M1=1e3,Ke=2,Ve=144e5,pt=.5;function Vt(Z,q=M1,I=Ke){const P=q*Math.pow(I,Z),V=Math.round(pt*P*(Math.random()-.5)*2);return Math.min(Ve,P+V)}function m1(Z){return Z&&Z._delegate?Z._delegate:Z}},9781:(Ht,Ne,N)=>{var o=N(4650);let j=null;function F(){return j}class de{}const ae=new o.OlP("DocumentToken");let ke=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return function ge(){return(0,o.LFG)($)}()},providedIn:"platform"}),n})();const _e=new o.OlP("Location Initialized");let $=(()=>{class n extends ke{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(t){const i=F().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=F().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){K()?this._history.pushState(t,i,r):this._location.hash=r}replaceState(t,i,r){K()?this._history.replaceState(t,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(ae))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function ie(){return new $((0,o.LFG)(ae))}()},providedIn:"platform"}),n})();function K(){return!!window.history.pushState}function Je(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ae(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ot(n){return n&&"?"!==n[0]?"?"+n:n}let st=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(Ie)},providedIn:"root"}),n})();const Me=new o.OlP("appBaseHref");let Ie=(()=>{class n extends st{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,o.f3M)(ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Je(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+ot(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const a=this.prepareExternalUrl(r+ot(s));this._platformLocation.pushState(t,i,a)}replaceState(t,i,r,s){const a=this.prepareExternalUrl(r+ot(s));this._platformLocation.replaceState(t,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(ke),o.LFG(Me,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Re=(()=>{class n extends st{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Je(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let a=this.prepareExternalUrl(r+ot(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(t,i,a)}replaceState(t,i,r,s){let a=this.prepareExternalUrl(r+ot(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(ke),o.LFG(Me,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Oe=(()=>{class n{constructor(t){this._subject=new o.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function it(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Ae(Pe(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+ot(i))}normalize(t){return n.stripTrailingSlash(function je(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Pe(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ot(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ot(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=ot,n.joinWithSlash=Je,n.stripTrailingSlash=Ae,n.\u0275fac=function(t){return new(t||n)(o.LFG(st))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function Be(){return new Oe((0,o.LFG)(st))}()},providedIn:"root"}),n})();function Pe(n){return n.replace(/\/index.html$/,"")}function at(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}const nn=/\s+/,jn=[];let U1=(()=>{class n{constructor(t,i,r,s){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this.initialClasses=jn,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(nn):jn}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(nn):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,Boolean(t[i]));this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(nn).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.ZZ4),o.Y36(o.aQg),o.Y36(o.SBq),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class P1{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let S1=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,a)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new P1(r.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===s?void 0:s);else if(null!==s){const c=i.get(s);i.move(c,a),Ts(c,r)}});for(let r=0,s=i.length;r<s;r++){const c=i.get(r).context;c.index=r,c.count=s,c.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{Ts(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Ts(n,e){n.context.$implicit=e.item}let Zn=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new Ja,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Xa("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Xa("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.s_b),o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Ja{constructor(){this.$implicit=null,this.ngIf=null}}function Xa(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,o.AaK)(e)}'.`)}class Ds{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let j1=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const i of this._defaultViews)i.enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),ks=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new Ds(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(j1,9))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})();function W1(n,e){return new o.vHH(2100,!1)}class io{createSubscription(e,t){return e.subscribe({next:t,error:i=>{throw i}})}dispose(e){e.unsubscribe()}}class As{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}}const ro=new As,d2=new io;let e3=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if((0,o.QGY)(t))return ro;if((0,o.F4k)(t))return d2;throw W1()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.sBO,16))},n.\u0275pipe=o.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})();const Ai=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Wi=(()=>{class n{transform(t){if(null==t)return null;if("string"!=typeof t)throw W1();return t.replace(Ai,i=>i[0].toUpperCase()+i.slice(1).toLowerCase())}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=o.Yjl({name:"titlecase",type:n,pure:!0,standalone:!0}),n})(),qi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const W="browser",Y="server";function Se(n){return n===W}function tt(n){return n===Y}let Sn=(()=>{class n{}return n.\u0275prov=(0,o.Yz7)({token:n,providedIn:"root",factory:()=>new On((0,o.LFG)(ae),window)}),n})();class On{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function mi(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const a=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(a)return a}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Y1(this.window.history)||Y1(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Y1(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ls{}class a7 extends de{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class lo extends a7{static makeCurrent(){!function le(n){j||(j=n)}(new lo)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Fh(){return Vs=Vs||document.querySelector("base"),Vs?Vs.getAttribute("href"):null}();return null==t?null:function T6(n){c7=c7||document.createElement("a"),c7.setAttribute("href",n);const e=c7.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Vs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return at(document.cookie,e)}}let c7,Vs=null;const iv=new o.OlP("TRANSITION_ID"),Bh=[{provide:o.ip1,useFactory:function Gl(n,e,t){return()=>{t.get(o.CZH).donePromise.then(()=>{const i=F(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[iv,ae,o.zs3],multi:!0}];let D6=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const s3=new o.OlP("EventManagerPlugins");let q1=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const a=r[s];if(a.supports(t))return this._eventNameToPlugin.set(t,a),a}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(s3),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class $l{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=F().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let uo=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)0===this.changeUsageCount(i,-1)&&this.onStyleRemoved(i)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,i){const r=this.usageCount;let s=r.get(t)??0;return s+=i,s>0?r.set(t,s):r.delete(t),s}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),o3=(()=>{class n extends uo{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.forEach(s=>s.remove()),i.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,i){const r=this.doc.createElement("style");r.textContent=i,t.appendChild(r);const s=this.styleRef.get(i);s?s.push(r):this.styleRef.set(i,[r])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(ae))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const a3={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},c3=/%COMP%/g,aa=new o.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function ar(n,e){return e.flat(100).map(t=>t.replace(c3,n))}function Kl(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Is=(()=>{class n{constructor(t,i,r,s){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new Pc(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;const r=this.getOrCreateRenderer(t,i);return r instanceof A6?r.applyToHost(t):r instanceof Ql&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const a=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestory;switch(i.encapsulation){case o.ifc.Emulated:s=new A6(a,c,i,this.appId,d);break;case o.ifc.ShadowDom:return new Wh(a,c,t,i);default:s=new Ql(a,c,i,d)}s.onDestroy=()=>r.delete(i.id),r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(q1),o.LFG(o3),o.LFG(o.AFp),o.LFG(aa))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Pc{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(a3[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(z6(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(z6(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=a3[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=a3[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(o.JOm.DashCase|o.JOm.Important)?e.style.setProperty(t,i,r&o.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&o.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Kl(i)):this.eventManager.addEventListener(e,t,Kl(i))}}function z6(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Wh extends Pc{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=ar(r.id,r.styles);for(const a of s){const c=document.createElement("style");c.textContent=a,this.shadowRoot.appendChild(c)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ql extends Pc{constructor(e,t,i,r,s=i.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=ar(s,i.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class A6 extends Ql{constructor(e,t,i,r,s){const a=r+"-"+i.id;super(e,t,i,s,a),this.contentAttr=function Nc(n){return"_ngcontent-%COMP%".replace(c3,n)}(a),this.hostAttr=function jh(n){return"_nghost-%COMP%".replace(c3,n)}(a)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let u7=(()=>{class n extends $l{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(ae))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Jl=["alt","control","meta","shift"],Yh={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},u3={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ca=(()=>{class n extends $l{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),a=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>F().onAndCancel(t,s.domEventName,a))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),Jl.forEach(h=>{const g=i.indexOf(h);g>-1&&(i.splice(g,1),a+=h+".")}),a+=s,0!=i.length||0===s.length)return null;const d={};return d.domEventName=r,d.fullKey=a,d}static matchEventFullKeyCode(t,i){let r=Yh[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Jl.forEach(a=>{a!==r&&(0,u3[a])(t)&&(s+=a+".")}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(ae))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const t8=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:W},{provide:o.g9A,useValue:function f7(){lo.makeCurrent()},multi:!0},{provide:ae,useFactory:function Gh(){return(0,o.RDi)(document),document},deps:[]}]),ua=new o.OlP(""),da=[{provide:o.rWj,useClass:class rv{addToWindow(e){o.dqk.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},o.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(i=>{const r=o.dqk.getAllAngularTestabilities();let s=r.length,a=!1;const c=function(d){a=a||d,s--,0==s&&i(a)};r.forEach(function(d){d.whenStable(c)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?F().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:o.lri,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]}],fa=[{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function e8(){return new o.qLn},deps:[]},{provide:s3,useClass:u7,multi:!0,deps:[ae,o.R0b,o.Lbi]},{provide:s3,useClass:ca,multi:!0,deps:[ae]},{provide:Is,useClass:Is,deps:[q1,o3,o.AFp,aa]},{provide:o.FYo,useExisting:Is},{provide:uo,useExisting:o3},{provide:o3,useClass:o3,deps:[ae]},{provide:q1,useClass:q1,deps:[s3,o.R0b]},{provide:Ls,useClass:D6,deps:[]},[]];let n8=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:o.AFp,useValue:t.appId},{provide:iv,useExisting:o.AFp},Bh]}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(ua,12))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[...fa,...da],imports:[qi,o.hGG]}),n})(),un=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(ae))},n.\u0275prov=o.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function $h(){return new un((0,o.LFG)(ae))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Fc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):o.LFG(p3),i},providedIn:"root"}),n})(),p3=(()=>{class n extends Fc{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case o.q3G.NONE:return i;case o.q3G.HTML:return(0,o.qzn)(i,"HTML")?(0,o.z3N)(i):(0,o.EiD)(this._doc,String(i)).toString();case o.q3G.STYLE:return(0,o.qzn)(i,"Style")?(0,o.z3N)(i):i;case o.q3G.SCRIPT:if((0,o.qzn)(i,"Script"))return(0,o.z3N)(i);throw new Error("unsafe value used in a script context");case o.q3G.URL:return(0,o.qzn)(i,"URL")?(0,o.z3N)(i):(0,o.mCW)(String(i));case o.q3G.RESOURCE_URL:if((0,o.qzn)(i,"ResourceURL"))return(0,o.z3N)(i);throw new Error(`unsafe value used in a resource URL context (see ${o.JZr})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${o.JZr})`)}}bypassSecurityTrustHtml(t){return(0,o.JVY)(t)}bypassSecurityTrustStyle(t){return(0,o.L6k)(t)}bypassSecurityTrustScript(t){return(0,o.eBb)(t)}bypassSecurityTrustUrl(t){return(0,o.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,o.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(ae))},n.\u0275prov=o.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function cr(n){return new p3(n.get(ae))}(o.LFG(o.zs3)),i},providedIn:"root"}),n})();var _1=N(8996),Cr=N(3269);function It(...n){const e=(0,Cr.yG)(n);return(0,_1.D)(n,e)}var h2=N(7579);class t2 extends h2.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const m3=(0,N(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Ci=N(9751);const{isArray:V6}=Array,{getPrototypeOf:Bc,prototype:I6,keys:Uc}=Object;function a8(n){if(1===n.length){const e=n[0];if(V6(e))return{args:e,keys:null};if(function ma(n){return n&&"object"==typeof n&&Bc(n)===I6}(e)){const t=Uc(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var g3=N(4671),kt=N(4004);const{isArray:ga}=Array;function P6(n){return(0,kt.U)(e=>function N6(n,e){return ga(e)?n(...e):n(e)}(n,e))}function R6(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var p2=N(5403),ho=N(9672);function Ps(...n){const e=(0,Cr.yG)(n),t=(0,Cr.jO)(n),{args:i,keys:r}=a8(n);if(0===i.length)return(0,_1.D)([],e);const s=new Ci.y(function c8(n,e,t=g3.y){return i=>{_7(e,()=>{const{length:r}=n,s=new Array(r);let a=r,c=r;for(let d=0;d<r;d++)_7(e,()=>{const h=(0,_1.D)(n[d],e);let g=!1;h.subscribe((0,p2.x)(i,y=>{s[d]=y,g||(g=!0,c--),c||i.next(t(s.slice()))},()=>{--a||i.complete()}))},i)},i)}}(i,e,r?a=>R6(r,a):g3.y));return t?s.pipe(P6(t)):s}function _7(n,e,t){n?(0,ho.f)(t,n,e):e()}var po=N(8189);function l8(...n){return function Qh(){return(0,po.J)(1)}()((0,_1.D)(n,(0,Cr.yG)(n)))}var mo=N(8421);function u8(n){return new Ci.y(e=>{(0,mo.Xf)(n()).subscribe(e)})}var Jh=N(9635),$i=N(576);function go(n,e){const t=(0,$i.m)(n)?n:()=>n,i=r=>r.error(t());return new Ci.y(e?r=>e.schedule(i,0,r):i)}var _o=N(515),vo=N(727),Q2=N(4482);function _3(){return(0,Q2.e)((n,e)=>{let t=null;n._refCount++;const i=(0,p2.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Xh extends Ci.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Q2.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new vo.w0;const t=this.getSubject();e.add(this.source.subscribe((0,p2.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=vo.w0.EMPTY)}return e}refCount(){return _3()(this)}}function m2(n,e){return(0,Q2.e)((t,i)=>{let r=null,s=0,a=!1;const c=()=>a&&!r&&i.complete();t.subscribe((0,p2.x)(i,d=>{r?.unsubscribe();let h=0;const g=s++;(0,mo.Xf)(n(d,g)).subscribe(r=(0,p2.x)(i,y=>i.next(e?e(d,y,g,h++):y),()=>{r=null,c()}))},()=>{a=!0,c()}))})}function cs(n){return n<=0?()=>_o.E:(0,Q2.e)((e,t)=>{let i=0;e.subscribe((0,p2.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function v3(...n){const e=(0,Cr.yG)(n);return(0,Q2.e)((t,i)=>{(e?l8(n,t,e):l8(n,t)).subscribe(i)})}function o1(n,e){return(0,Q2.e)((t,i)=>{let r=0;t.subscribe((0,p2.x)(i,s=>n.call(e,s,r++)&&i.next(s)))})}var Li=N(5577);function y3(n){return(0,Q2.e)((e,t)=>{let i=!1;e.subscribe((0,p2.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function e9(n=lv){return(0,Q2.e)((e,t)=>{let i=!1;e.subscribe((0,p2.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function lv(){return new m3}function ls(n,e){const t=arguments.length>=2;return i=>i.pipe(n?o1((r,s)=>n(r,s,i)):g3.y,cs(1),t?y3(e):e9(()=>new m3))}function _a(n,e){return(0,$i.m)(e)?(0,Li.z)(n,e,1):(0,Li.z)(n,1)}var Ei=N(8505);function yo(n){return(0,Q2.e)((e,t)=>{let s,i=null,r=!1;i=e.subscribe((0,p2.x)(t,void 0,void 0,a=>{s=(0,mo.Xf)(n(a,yo(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function us(n,e){return(0,Q2.e)(function O6(n,e,t,i,r){return(s,a)=>{let c=t,d=e,h=0;s.subscribe((0,p2.x)(a,g=>{const y=h++;d=c?n(d,g,y):(c=!0,g),i&&a.next(d)},r&&(()=>{c&&a.next(d),a.complete()})))}}(n,e,arguments.length>=2,!0))}function F6(n){return n<=0?()=>_o.E:(0,Q2.e)((e,t)=>{let i=[];e.subscribe((0,p2.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function d8(n,e){const t=arguments.length>=2;return i=>i.pipe(n?o1((r,s)=>n(r,s,i)):g3.y,F6(1),t?y3(e):e9(()=>new m3))}function jc(n){return(0,Q2.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Cn="primary",Wc=Symbol("RouteTitle");class y7{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Co(n){return new y7(n)}function f8(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const a=i[s],c=n[s];if(a.startsWith(":"))r[a.substring(1)]=c;else if(a!==c.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function br(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!h8(n[r],e[r]))return!1;return!0}function h8(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function p8(n){return Array.prototype.concat.apply([],n)}function C7(n){return n.length>0?n[n.length-1]:null}function F2(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function fs(n){return(0,o.CqO)(n)?n:(0,o.QGY)(n)?(0,_1.D)(Promise.resolve(n)):It(n)}const va=!1,bi={exact:function M7(n,e,t){if(!R(n.segments,e.segments)||!w(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!M7(n.children[i],e.children[i],t))return!1;return!0},subset:w7},C3={exact:function b7(n,e){return br(n,e)},subset:function g8(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>h8(n[t],e[t]))},ignored:()=>!0};function m8(n,e,t){return bi[t.paths](n.root,e.root,t.matrixParams)&&C3[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function w7(n,e,t){return _8(n,e,e.segments,t)}function _8(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!R(r,t)||e.hasChildren()||!w(r,t,i))}if(n.segments.length===t.length){if(!R(n.segments,t)||!w(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!w7(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(R(n.segments,r)&&w(n.segments,r,i)&&n.children[Cn])&&_8(n.children[Cn],e,s,i)}}function w(n,e,t){return e.every((i,r)=>C3[t](n[r].parameters,i.parameters))}class v{constructor(e=new C([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Co(this.queryParams)),this._queryParamMap}toString(){return Wt.serialize(this)}}class C{constructor(e,t){this.segments=e,this.children=t,this.parent=null,F2(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return dn(this)}}class T{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Co(this.parameters)),this._parameterMap}toString(){return v8(this)}}function R(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Fe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return new wt},providedIn:"root"}),n})();class wt{parse(e){const t=new n9(e);return new v(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${a1(e.root,!0)}`,i=function x7(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Mi(t)}=${Mi(r)}`).join("&"):`${Mi(t)}=${Mi(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function b3(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Wt=new wt;function dn(n){return n.segments.map(e=>v8(e)).join("/")}function a1(n,e){if(!n.hasChildren())return dn(n);if(e){const t=n.children[Cn]?a1(n.children[Cn],!1):"",i=[];return F2(n.children,(r,s)=>{s!==Cn&&i.push(`${s}:${a1(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function ue(n,e){let t=[];return F2(n.children,(i,r)=>{r===Cn&&(t=t.concat(e(i,r)))}),F2(n.children,(i,r)=>{r!==Cn&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===Cn?[a1(n.children[Cn],!1)]:[`${r}:${a1(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Cn]?`${dn(n)}/${t[0]}`:`${dn(n)}/(${t.join("//")})`}}function Mr(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Mi(n){return Mr(n).replace(/%3B/gi,";")}function Yc(n){return Mr(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function M3(n){return decodeURIComponent(n)}function qc(n){return M3(n.replace(/\+/g,"%20"))}function v8(n){return`${Yc(n.path)}${function y8(n){return Object.keys(n).map(e=>`;${Yc(e)}=${Yc(n[e])}`).join("")}(n.parameters)}`}const S7=/^[^\/()?;=#]+/;function w3(n){const e=n.match(S7);return e?e[0]:""}const T7=/^[^=?&#]+/,Gc=/^[^&#]+/;class n9{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new C([],{}):new C([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Cn]=new C(e,t)),i}parseSegment(){const e=w3(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new o.vHH(4009,va);return this.capture(e),new T(M3(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=w3(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=w3(this.remaining);r&&(i=r,this.capture(i))}e[M3(t)]=M3(i)}parseQueryParam(e){const t=function D7(n){const e=n.match(T7);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const a=function k7(n){const e=n.match(Gc);return e?e[0]:""}(this.remaining);a&&(i=a,this.capture(i))}const r=qc(t),s=qc(i);if(e.hasOwnProperty(r)){let a=e[r];Array.isArray(a)||(a=[a],e[r]=a),a.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=w3(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new o.vHH(4010,va);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Cn);const a=this.parseChildren();t[s]=1===Object.keys(a).length?a[Cn]:new C([],a),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new o.vHH(4011,va)}}function i9(n){return n.segments.length>0?new C([],{[Cn]:n}):n}function z7(n){const e={};for(const i of Object.keys(n.children)){const s=z7(n.children[i]);(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function uv(n){if(1===n.numberOfChildren&&n.children[Cn]){const e=n.children[Cn];return new C(n.segments.concat(e.segments),e.children)}return n}(new C(n.segments,e))}function x3(n){return n instanceof v}const ya=!1;function gN(n,e,t,i,r){if(0===t.length)return $c(e.root,e.root,e.root,i,r);const s=function A7(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new o9(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,a)=>{if("object"==typeof s&&null!=s){if(s.outlets){const c={};return F2(s.outlets,(d,h)=>{c[h]="string"==typeof d?d.split("/"):d}),[...r,{outlets:c}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===a?(s.split("/").forEach((c,d)=>{0==d&&"."===c||(0==d&&""===c?t=!0:".."===c?e++:""!=c&&r.push(c))}),r):[...r,s]},[]);return new o9(t,e,i)}(t);return s.toRoot()?$c(e.root,e.root,new C([],{}),i,r):function a(d){const h=function L7(n,e,t,i){if(n.isAbsolute)return new Zc(e.root,!0,0);if(-1===i)return new Zc(t,t===e.root,0);return function a9(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new o.vHH(4005,ya&&"Invalid number of '../'");r=i.segments.length}return new Zc(i,!1,r-s)}(t,i+(S3(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,d),g=h.processChildren?T3(h.segmentGroup,h.index,s.commands):b8(h.segmentGroup,h.index,s.commands);return $c(e.root,h.segmentGroup,g,i,r)}(n.snapshot?._lastPathIndex)}function S3(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function C8(n){return"object"==typeof n&&null!=n&&n.outlets}function $c(n,e,t,i,r){let a,s={};i&&F2(i,(d,h)=>{s[h]=Array.isArray(d)?d.map(g=>`${g}`):`${d}`}),a=n===e?t:s9(n,e,t);const c=i9(z7(a));return new v(c,s,r)}function s9(n,e,t){const i={};return F2(n.children,(r,s)=>{i[s]=r===e?t:s9(r,e,t)}),new C(n.segments,i)}class o9{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&S3(i[0]))throw new o.vHH(4003,ya&&"Root segment cannot have matrix parameters");const r=i.find(C8);if(r&&r!==C7(i))throw new o.vHH(4004,ya&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Zc{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function b8(n,e,t){if(n||(n=new C([],{})),0===n.segments.length&&n.hasChildren())return T3(n,e,t);const i=function M8(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const a=n.segments[r],c=t[i];if(C8(c))break;const d=`${c}`,h=i<t.length-1?t[i+1]:null;if(r>0&&void 0===d)break;if(d&&h&&"object"==typeof h&&void 0===h.outlets){if(!pv(d,h,a))return s;i+=2}else{if(!pv(d,{},a))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new C(n.segments.slice(0,i.pathIndex),{});return s.children[Cn]=new C(n.segments.slice(i.pathIndex),n.children),T3(s,0,r)}return i.match&&0===r.length?new C(n.segments,{}):i.match&&!n.hasChildren()?l9(n,e,t):i.match?T3(n,0,r):l9(n,e,t)}function T3(n,e,t){if(0===t.length)return new C(n.segments,{});{const i=function c9(n){return C8(n[0])?n[0].outlets:{[Cn]:n}}(t),r={};return!i[Cn]&&n.children[Cn]&&1===n.numberOfChildren&&0===n.children[Cn].segments.length?T3(n.children[Cn],e,t):(F2(i,(s,a)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[a]=b8(n.children[a],e,s))}),F2(n.children,(s,a)=>{void 0===i[a]&&(r[a]=s)}),new C(n.segments,r))}}function l9(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(C8(s)){const d=fv(s.outlets);return new C(i,d)}if(0===r&&S3(t[0])){i.push(new T(n.segments[e].path,hv(t[0]))),r++;continue}const a=C8(s)?s.outlets[Cn]:`${s}`,c=r<t.length-1?t[r+1]:null;a&&c&&S3(c)?(i.push(new T(a,hv(c))),r+=2):(i.push(new T(a,{})),r++)}return new C(i,{})}function fv(n){const e={};return F2(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=l9(new C([],{}),0,t))}),e}function hv(n){const e={};return F2(n,(t,i)=>e[i]=`${t}`),e}function pv(n,e,t){return n==t.path&&br(e,t.parameters)}const w8="imperative";class Rs{constructor(e,t){this.id=e,this.url=t}}class E7 extends Rs{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class bo extends Rs{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class B6 extends Rs{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ca extends Rs{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class u9 extends Rs{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class jS extends Rs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _N extends Rs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class WS extends Rs{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class d9 extends Rs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class YS extends Rs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mv{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class V7{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class f9{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gv{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _v{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vv{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class D3{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let $S=(()=>{class n{createUrlTree(t,i,r,s,a,c){return gN(t||i.root,r,s,a,c)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),KS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(e){return $S.\u0275fac(e)},providedIn:"root"}),n})();class Mo{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=k3(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=k3(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=h9(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return h9(e,this._root).map(t=>t.value)}}function k3(n,e){if(n===e.value)return e;for(const t of e.children){const i=k3(n,t);if(i)return i}return null}function h9(n,e){if(n===e.value)return[e];for(const t of e.children){const i=h9(n,t);if(i.length)return i.unshift(e),i}return[]}class ba{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function U6(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class yv extends Mo{constructor(e,t){super(e),this.snapshot=t,j6(this,e)}toString(){return this.snapshot.toString()}}function Cv(n,e){const t=function QS(n,e){const a=new I7([],{},{},"",{},Cn,e,null,n.root,-1,{});return new Mv("",new ba(a,[]))}(n,e),i=new t2([new T("",{})]),r=new t2({}),s=new t2({}),a=new t2({}),c=new t2(""),d=new Ur(i,r,a,c,s,Cn,e,t.root);return d.snapshot=t.root,new yv(new ba(d,[]),t)}class Ur{constructor(e,t,i,r,s,a,c,d){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=a,this.component=c,this.title=this.data?.pipe((0,kt.U)(h=>h[Wc]))??It(void 0),this._futureSnapshot=d}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,kt.U)(e=>Co(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,kt.U)(e=>Co(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function bv(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function JS(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class I7{get title(){return this.data?.[Wc]}constructor(e,t,i,r,s,a,c,d,h,g,y){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=a,this.component=c,this.routeConfig=d,this._urlSegment=h,this._lastPathIndex=g,this._resolve=y}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Co(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Co(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Mv extends Mo{constructor(e,t){super(t),this.url=e,j6(this,t)}toString(){return wo(this._root)}}function j6(n,e){e.value._routerState=n,e.children.forEach(t=>j6(n,t))}function wo(n){const e=n.children.length>0?` { ${n.children.map(wo).join(", ")} } `:"";return`${n.value}${e}`}function Kc(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,br(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),br(e.params,t.params)||n.params.next(t.params),function t9(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!br(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),br(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function N7(n,e){const t=br(n.params,e.params)&&function H(n,e){return R(n,e)&&n.every((t,i)=>br(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||N7(n.parent,e.parent))}function W6(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function vN(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return W6(n,i,r);return W6(n,i)})}(n,e,t);return new ba(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const a=s.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(c=>W6(n,c)),a}}const i=function yN(n){return new Ur(new t2(n.url),new t2(n.params),new t2(n.queryParams),new t2(n.fragment),new t2(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>W6(n,s));return new ba(i,r)}}const xv="ngNavigationCancelingError";function P7(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=x3(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=R7(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function R7(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[xv]=!0,i.cancellationCode=e,t&&(i.url=t),i}function XS(n){return eT(n)&&x3(n.url)}function eT(n){return n&&n[xv]}class Sv{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new x8,this.attachRef=null}}let x8=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new Sv,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const O7=!1;let p9=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Cn,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.attachEvents=new o.vpe,this.detachEvents=new o.vpe,this.parentContexts=(0,o.f3M)(x8),this.location=(0,o.f3M)(o.s_b),this.changeDetector=(0,o.f3M)(o.sBO),this.environmentInjector=(0,o.f3M)(o.lqb)}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new o.vHH(4012,O7);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new o.vHH(4012,O7);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new o.vHH(4012,O7);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new o.vHH(4013,O7);this._activatedRoute=t;const r=this.location,a=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,d=new tT(t,c,r.injector);if(i&&function Tv(n){return!!n.resolveComponentFactory}(i)){const h=i.resolveComponentFactory(a);this.activated=r.createComponent(h,r.length,d)}else this.activated=r.createComponent(a,{index:r.length,injector:d,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[o.TTD]}),n})();class tT{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Ur?this.route:e===x8?this.childContexts:this.parent.get(e,t)}}let Y6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[o.jDz],decls:1,vars:0,template:function(t,i){1&t&&o._UZ(0,"router-outlet")},dependencies:[p9],encapsulation:2}),n})();function m9(n,e){return n.providers&&!n._injector&&(n._injector=(0,o.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function v9(n){const e=n.children&&n.children.map(v9),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Cn&&(t.component=Y6),t}function hs(n){return n.outlet||Cn}function zv(n,e){const t=n.filter(i=>hs(i)===e);return t.push(...n.filter(i=>hs(i)!==e)),t}function q6(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class MN{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Kc(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=U6(t);e.children.forEach(s=>{const a=s.value.outlet;this.deactivateRoutes(s,r[a],i),delete r[a]}),F2(r,(s,a)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(e,t,a.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=U6(e);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],r);if(i&&i.outlet){const a=i.outlet.detach(),c=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=U6(e);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=U6(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new vv(s.value.snapshot))}),e.children.length&&this.forwardEvent(new gv(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(Kc(r),r===s)if(r.component){const a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,a.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const c=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(c.contexts),a.attachRef=c.componentRef,a.route=c.route.value,a.outlet&&a.outlet.attach(c.componentRef,c.route.value),Kc(c.route.value),this.activateChildRoutes(e,null,a.children)}else{const c=q6(r.snapshot),d=c?.get(o._Vd)??null;a.attachRef=null,a.route=r,a.resolver=d,a.injector=c,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,i)}}class G6{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class $6{constructor(e,t){this.component=e,this.route=t}}function Av(n,e,t){const i=n._root;return S8(i,e?e._root:null,t,[i.value])}function Qc(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,o.Z0I)(n)?e.get(n):n:i}function S8(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=U6(e);return n.children.forEach(a=>{(function rT(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,a=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const d=function Lv(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!R(n.url,e.url);case"pathParamsOrQueryParamsChange":return!R(n.url,e.url)||!br(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!N7(n,e)||!br(n.queryParams,e.queryParams);default:return!N7(n,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);d?r.canActivateChecks.push(new G6(i)):(s.data=a.data,s._resolvedData=a._resolvedData),S8(n,e,s.component?c?c.children:null:t,i,r),d&&c&&c.outlet&&c.outlet.isActivated&&r.canDeactivateChecks.push(new $6(c.outlet.component,a))}else a&&Z6(e,c,r),r.canActivateChecks.push(new G6(i)),S8(n,null,s.component?c?c.children:null:t,i,r)})(a,s[a.value.outlet],t,i.concat([a.value]),r),delete s[a.value.outlet]}),F2(s,(a,c)=>Z6(a,t.getContext(c),r)),r}function Z6(n,e,t){const i=U6(n),r=n.value;F2(i,(s,a)=>{Z6(s,r.component?e?e.children.getContext(a):null:e,t)}),t.canDeactivateChecks.push(new $6(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Jc(n){return"function"==typeof n}function T8(n){return n instanceof m3||"EmptyError"===n?.name}const Xc=Symbol("INITIAL_VALUE");function Q6(){return m2(n=>Ps(n.map(e=>e.pipe(cs(1),v3(Xc)))).pipe((0,kt.U)(e=>{for(const t of e)if(!0!==t){if(t===Xc)return Xc;if(!1===t||t instanceof v)return t}return!0}),o1(e=>e!==Xc),cs(1)))}function Pv(n){return(0,Jh.z)((0,Ei.b)(e=>{if(x3(e))throw P7(0,e)}),(0,kt.U)(e=>!0===e))}const w9={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function B7(n,e,t,i,r){const s=x9(n,e,t);return s.matched?function lT(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?It(r.map(a=>{const c=Qc(a,n);return fs(function Vv(n){return n&&Jc(n.canMatch)}(c)?c.canMatch(e,t):n.runInContext(()=>c(e,t)))})).pipe(Q6(),Pv()):It(!0)}(i=m9(e,i),e,t).pipe((0,kt.U)(a=>!0===a?s:{...w9})):It(s)}function x9(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...w9}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||f8)(t,n,e);if(!r)return{...w9};const s={};F2(r.posParams,(c,d)=>{s[d]=c.path});const a=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function D8(n,e,t,i){if(t.length>0&&function xN(n,e,t){return t.some(i=>z3(n,e,i)&&hs(i)!==Cn)}(n,t,i)){const s=new C(e,function Rv(n,e,t,i){const r={};r[Cn]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&hs(s)!==Cn){const a=new C([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,r[hs(s)]=a}return r}(n,e,i,new C(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function dT(n,e,t){return t.some(i=>z3(n,e,i))}(n,t,i)){const s=new C(n.segments,function uT(n,e,t,i,r){const s={};for(const a of i)if(z3(n,t,a)&&!r[hs(a)]){const c=new C([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,s[hs(a)]=c}return{...r,...s}}(n,e,t,i,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const r=new C(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:t}}function z3(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Ov(n,e,t,i){return!!(hs(n)===i||i!==Cn&&z3(e,t,n))&&("**"===n.path||x9(e,n,t).matched)}function t4(n,e,t){return 0===e.length&&!n.children[t]}const A3=!1;class U7{constructor(e){this.segmentGroup=e||null}}class S9{constructor(e){this.urlTree=e}}function k8(n){return go(new U7(n))}function Fv(n){return go(new S9(n))}class T9{constructor(e,t,i,r,s){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const e=D8(this.urlTree.root,[],[],this.config).segmentGroup,t=new C(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Cn).pipe((0,kt.U)(s=>this.createUrlTree(z7(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(yo(s=>{if(s instanceof S9)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof U7?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Cn).pipe((0,kt.U)(r=>this.createUrlTree(z7(r),e.queryParams,e.fragment))).pipe(yo(r=>{throw r instanceof U7?this.noMatchError(r):r}))}noMatchError(e){return new o.vHH(4002,A3)}createUrlTree(e,t,i){const r=i9(e);return new v(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,kt.U)(s=>new C([],s))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,_1.D)(r).pipe(_a(s=>{const a=i.children[s],c=zv(t,s);return this.expandSegmentGroup(e,c,a,s).pipe((0,kt.U)(d=>({segment:d,outlet:s})))}),us((s,a)=>(s[a.outlet]=a.segment,s),{}),d8())}expandSegment(e,t,i,r,s,a){return(0,_1.D)(i).pipe(_a(c=>this.expandSegmentAgainstRoute(e,t,i,c,r,s,a).pipe(yo(h=>{if(h instanceof U7)return It(null);throw h}))),ls(c=>!!c),yo((c,d)=>{if(T8(c))return t4(t,r,s)?It(new C([],{})):k8(t);throw c}))}expandSegmentAgainstRoute(e,t,i,r,s,a,c){return Ov(r,t,s,a)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,a):c&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,a):k8(t):k8(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,a){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,a):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Fv(s):this.lineralizeSegments(i,s).pipe((0,Li.z)(a=>{const c=new C(a,{});return this.expandSegment(e,c,t,a,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,a){const{matched:c,consumedSegments:d,remainingSegments:h,positionalParamSegments:g}=x9(t,r,s);if(!c)return k8(t);const y=this.applyRedirectCommands(d,r.redirectTo,g);return r.redirectTo.startsWith("/")?Fv(y):this.lineralizeSegments(r,y).pipe((0,Li.z)(M=>this.expandSegment(e,t,i,M.concat(h),a,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){return"**"===i.path?(e=m9(i,e),i.loadChildren?(i._loadedRoutes?It({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,kt.U)(c=>(i._loadedRoutes=c.routes,i._loadedInjector=c.injector,new C(r,{})))):It(new C(r,{}))):B7(t,i,r,e).pipe(m2(({matched:a,consumedSegments:c,remainingSegments:d})=>a?this.getChildConfig(e=i._injector??e,i,r).pipe((0,Li.z)(g=>{const y=g.injector??e,M=g.routes,{segmentGroup:S,slicedSegments:k}=D8(t,c,d,M),A=new C(S.segments,S.children);if(0===k.length&&A.hasChildren())return this.expandChildren(y,M,A).pipe((0,kt.U)(X=>new C(c,X)));if(0===M.length&&0===k.length)return It(new C(c,{}));const L=hs(i)===s;return this.expandSegment(y,A,M,k,L?Cn:s,!0).pipe((0,kt.U)(G=>new C(c.concat(G.segments),G.children)))})):k8(t)))}getChildConfig(e,t,i){return t.children?It({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?It({routes:t._loadedRoutes,injector:t._loadedInjector}):function J6(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?It(!0):It(r.map(a=>{const c=Qc(a,n);return fs(function y9(n){return n&&Jc(n.canLoad)}(c)?c.canLoad(e,t):n.runInContext(()=>c(e,t)))})).pipe(Q6(),Pv())}(e,t,i).pipe((0,Li.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,Ei.b)(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function Bv(n){return go(R7(A3,3))}())):It({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return It(i);if(r.numberOfChildren>1||!r.children[Cn])return e.redirectTo,go(new o.vHH(4e3,A3));r=r.children[Cn]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new v(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return F2(e,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const c=r.substring(1);i[s]=t[c]}else i[s]=r}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let a={};return F2(t.children,(c,d)=>{a[d]=this.createSegmentGroup(e,c,i,r)}),new C(s,a)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new o.vHH(4001,A3);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class k9{}class pT{constructor(e,t,i,r,s,a,c){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=a,this.urlSerializer=c}recognize(){const e=D8(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Cn).pipe((0,kt.U)(t=>{if(null===t)return null;const i=new I7([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Cn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new ba(i,t),s=new Mv(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,i=bv(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,_1.D)(Object.keys(i.children)).pipe(_a(r=>{const s=i.children[r],a=zv(t,r);return this.processSegmentGroup(e,a,s,r)}),us((r,s)=>r&&s?(r.push(...s),r):null),function v7(n,e=!1){return(0,Q2.e)((t,i)=>{let r=0;t.subscribe((0,p2.x)(i,s=>{const a=n(s,r++);(a||e)&&i.next(s),!a&&i.complete()}))})}(r=>null!==r),y3(null),d8(),(0,kt.U)(r=>{if(null===r)return null;const s=z9(r);return function mT(n){n.sort((e,t)=>e.value.outlet===Cn?-1:t.value.outlet===Cn?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,i,r,s){return(0,_1.D)(t).pipe(_a(a=>this.processSegmentAgainstRoute(a._injector??e,a,i,r,s)),ls(a=>!!a),yo(a=>{if(T8(a))return t4(i,r,s)?It([]):It(null);throw a}))}processSegmentAgainstRoute(e,t,i,r,s){if(t.redirectTo||!Ov(t,i,r,s))return It(null);let a;if("**"===t.path){const c=r.length>0?C7(r).parameters:{},d=xo(i)+r.length;a=It({snapshot:new I7(r,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Yv(t),hs(t),t.component??t._loadedComponent??null,t,n4(i),d,vT(t)),consumedSegments:[],remainingSegments:[]})}else a=B7(i,t,r,e).pipe((0,kt.U)(({matched:c,consumedSegments:d,remainingSegments:h,parameters:g})=>{if(!c)return null;const y=xo(i)+d.length;return{snapshot:new I7(d,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Yv(t),hs(t),t.component??t._loadedComponent??null,t,n4(i),y,vT(t)),consumedSegments:d,remainingSegments:h}}));return a.pipe(m2(c=>{if(null===c)return It(null);const{snapshot:d,consumedSegments:h,remainingSegments:g}=c;e=t._injector??e;const y=t._loadedInjector??e,M=function gT(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:S,slicedSegments:k}=D8(i,h,g,M.filter(L=>void 0===L.redirectTo));if(0===k.length&&S.hasChildren())return this.processChildren(y,M,S).pipe((0,kt.U)(L=>null===L?null:[new ba(d,L)]));if(0===M.length&&0===k.length)return It([new ba(d,[])]);const A=hs(t)===s;return this.processSegment(y,M,S,k,A?Cn:s).pipe((0,kt.U)(L=>null===L?null:[new ba(d,L)]))}))}}function Wv(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function z9(n){const e=[],t=new Set;for(const i of n){if(!Wv(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=z9(i.children);e.push(new ba(i.value,r))}return e.filter(i=>!t.has(i))}function n4(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function xo(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Yv(n){return n.data||{}}function vT(n){return n.resolve||{}}function A9(n){return"string"==typeof n.title||null===n.title}function H9(n){return m2(e=>{const t=n(e);return t?(0,_1.D)(t).pipe((0,kt.U)(()=>e)):It(e)})}const X6=new o.OlP("ROUTES");let j7=(()=>{class n{constructor(t,i){this.injector=t,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return It(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=fs(t.loadComponent()).pipe((0,kt.U)(Zv),(0,Ei.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),jc(()=>{this.componentLoaders.delete(t)})),r=new Xh(i,()=>new h2.x).pipe(_3());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return It({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,kt.U)(c=>{this.onLoadEndListener&&this.onLoadEndListener(i);let d,h,g=!1;Array.isArray(c)?h=c:(d=c.create(t).injector,h=p8(d.get(X6,[],o.XFs.Self|o.XFs.Optional)));return{routes:h.map(v9),injector:d}}),jc(()=>{this.childrenLoaders.delete(i)})),a=new Xh(s,()=>new h2.x).pipe(_3());return this.childrenLoaders.set(i,a),a}loadModuleFactoryOrRoutes(t){return fs(t()).pipe((0,kt.U)(Zv),(0,Li.z)(r=>r instanceof o.YKP||Array.isArray(r)?It(r):(0,_1.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.zs3),o.LFG(o.Sil))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Zv(n){return function bT(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Y7=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new h2.x,this.configLoader=(0,o.f3M)(j7),this.environmentInjector=(0,o.f3M)(o.lqb),this.urlSerializer=(0,o.f3M)(Fe),this.rootContexts=(0,o.f3M)(x8),this.navigationId=0,this.afterPreactivation=()=>It(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new V7(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new mv(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t){return this.transitions=new t2({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:w8,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(o1(i=>0!==i.id),(0,kt.U)(i=>({...i,extractedUrl:t.urlHandlingStrategy.extract(i.rawUrl)})),m2(i=>{let r=!1,s=!1;return It(i).pipe((0,Ei.b)(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),m2(a=>{const c=t.browserUrlTree.toString(),d=!t.navigated||a.extractedUrl.toString()!==c||c!==t.currentUrlTree.toString();if(!d&&"reload"!==(a.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const g="";return this.events.next(new Ca(a.id,t.serializeUrl(i.rawUrl),g,0)),t.rawUrlTree=a.rawUrl,a.resolve(null),_o.E}if(t.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return L9(a.source)&&(t.browserUrlTree=a.extractedUrl),It(a).pipe(m2(g=>{const y=this.transitions?.getValue();return this.events.next(new E7(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),y!==this.transitions?.getValue()?_o.E:Promise.resolve(g)}),function D9(n,e,t,i){return m2(r=>function Uv(n,e,t,i,r){return new T9(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,kt.U)(s=>({...r,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,Ei.b)(g=>{this.currentNavigation={...this.currentNavigation,finalUrl:g.urlAfterRedirects},i.urlAfterRedirects=g.urlAfterRedirects}),function TN(n,e,t,i,r){return(0,Li.z)(s=>function hT(n,e,t,i,r,s,a="emptyOnly"){return new pT(n,e,t,i,r,a,s).recognize().pipe(m2(c=>null===c?function z8(n){return new Ci.y(e=>e.error(n))}(new k9):It(c)))}(n,e,t,s.urlAfterRedirects,i.serialize(s.urlAfterRedirects),i,r).pipe((0,kt.U)(a=>({...s,targetSnapshot:a}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,Ei.b)(g=>{if(i.targetSnapshot=g.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!g.extras.skipLocationChange){const M=t.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl);t.setBrowserUrl(M,g)}t.browserUrlTree=g.urlAfterRedirects}const y=new jS(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(y)}));if(d&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:g,extractedUrl:y,source:M,restoredState:S,extras:k}=a,A=new E7(g,this.urlSerializer.serialize(y),M,S);this.events.next(A);const L=Cv(y,this.rootComponentType).snapshot;return It(i={...a,targetSnapshot:L,urlAfterRedirects:y,extras:{...k,skipLocationChange:!1,replaceUrl:!1}})}{const g="";return this.events.next(new Ca(a.id,t.serializeUrl(i.extractedUrl),g,1)),t.rawUrlTree=a.rawUrl,a.resolve(null),_o.E}}),(0,Ei.b)(a=>{const c=new _N(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),(0,kt.U)(a=>i={...a,guards:Av(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function b9(n,e){return(0,Li.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:a}}=t;return 0===a.length&&0===s.length?It({...t,guardsResult:!0}):function F7(n,e,t,i){return(0,_1.D)(n).pipe((0,Li.z)(r=>function Nv(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?It(s.map(c=>{const d=q6(e)??r,h=Qc(c,d);return fs(function Ev(n){return n&&Jc(n.canDeactivate)}(h)?h.canDeactivate(n,e,t,i):d.runInContext(()=>h(n,e,t,i))).pipe(ls())})).pipe(Q6()):It(!0)}(r.component,r.route,t,e,i)),ls(r=>!0!==r,!0))}(a,i,r,n).pipe((0,Li.z)(c=>c&&function wN(n){return"boolean"==typeof n}(c)?function e4(n,e,t,i){return(0,_1.D)(e).pipe(_a(r=>l8(function M9(n,e){return null!==n&&e&&e(new f9(n)),It(!0)}(r.route.parent,i),function Iv(n,e){return null!==n&&e&&e(new _v(n)),It(!0)}(r.route,i),function cT(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(a=>function Hv(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(a)).filter(a=>null!==a).map(a=>u8(()=>It(a.guards.map(d=>{const h=q6(a.node)??t,g=Qc(d,h);return fs(function C9(n){return n&&Jc(n.canActivateChild)}(g)?g.canActivateChild(i,n):h.runInContext(()=>g(i,n))).pipe(ls())})).pipe(Q6())));return It(s).pipe(Q6())}(n,r.path,t),function aT(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return It(!0);const r=i.map(s=>u8(()=>{const a=q6(e)??t,c=Qc(s,a);return fs(function sT(n){return n&&Jc(n.canActivate)}(c)?c.canActivate(e,n):a.runInContext(()=>c(e,n))).pipe(ls())}));return It(r).pipe(Q6())}(n,r.route,t))),ls(r=>!0!==r,!0))}(i,s,n,e):It(c)),(0,kt.U)(c=>({...t,guardsResult:c})))})}(this.environmentInjector,a=>this.events.next(a)),(0,Ei.b)(a=>{if(i.guardsResult=a.guardsResult,x3(a.guardsResult))throw P7(0,a.guardsResult);const c=new WS(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(c)}),o1(a=>!!a.guardsResult||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),H9(a=>{if(a.guards.canActivateChecks.length)return It(a).pipe((0,Ei.b)(c=>{const d=new d9(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),m2(c=>{let d=!1;return It(c).pipe(function qv(n,e){return(0,Li.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return It(t);let s=0;return(0,_1.D)(r).pipe(_a(a=>function DN(n,e,t,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!A9(r)&&(s[Wc]=r.title),function Gv(n,e,t,i){const r=function $v(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return It({});const s={};return(0,_1.D)(r).pipe((0,Li.z)(a=>function yT(n,e,t,i){const r=q6(e)??i,s=Qc(n,r);return fs(s.resolve?s.resolve(e,t):r.runInContext(()=>s(e,t)))}(n[a],e,t,i).pipe(ls(),(0,Ei.b)(c=>{s[a]=c}))),F6(1),function ds(n){return(0,kt.U)(()=>n)}(s),yo(a=>T8(a)?_o.E:go(a)))}(s,n,e,i).pipe((0,kt.U)(a=>(n._resolvedData=a,n.data=bv(n,t).resolve,r&&A9(r)&&(n.data[Wc]=r.title),null)))}(a.route,i,n,e)),(0,Ei.b)(()=>s++),F6(1),(0,Li.z)(a=>s===r.length?It(t):_o.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,Ei.b)({next:()=>d=!0,complete:()=>{d||(t.restoreHistory(c),this.cancelNavigationTransition(c,"",2))}}))}),(0,Ei.b)(c=>{const d=new YS(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}))}),H9(a=>{const c=d=>{const h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe((0,Ei.b)(g=>{d.component=g}),(0,kt.U)(()=>{})));for(const g of d.children)h.push(...c(g));return h};return Ps(c(a.targetSnapshot.root)).pipe(y3(),cs(1))}),H9(()=>this.afterPreactivation()),(0,kt.U)(a=>{const c=function wv(n,e,t){const i=W6(n,e._root,t?t._root:void 0);return new yv(i,e)}(t.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:c}}),(0,Ei.b)(a=>{t.currentUrlTree=a.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),t.routerState=a.targetRouterState,"deferred"===t.urlUpdateStrategy&&(a.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,a),t.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>(0,kt.U)(i=>(new MN(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,a=>this.events.next(a)),(0,Ei.b)({next:a=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new bo(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{r=!0}}),jc(()=>{r||s||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),yo(a=>{if(s=!0,eT(a)){XS(a)||(t.navigated=!0,t.restoreHistory(i,!0));const c=new B6(i.id,this.urlSerializer.serialize(i.extractedUrl),a.message,a.cancellationCode);if(this.events.next(c),XS(a)){const d=t.urlHandlingStrategy.merge(a.url,t.rawUrlTree),h={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||L9(i.source)};t.scheduleNavigation(d,w8,null,h,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{t.restoreHistory(i,!0);const c=new u9(i.id,this.urlSerializer.serialize(i.extractedUrl),a,i.targetSnapshot??void 0);this.events.next(c);try{i.resolve(t.errorHandler(a))}catch(d){i.reject(d)}}return _o.E}))}))}cancelNavigationTransition(t,i,r){const s=new B6(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function L9(n){return n!==w8}let Kv=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===Cn);return i}getResolvedTitleForRoute(t){return t.data[Wc]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(MT)},providedIn:"root"}),n})(),MT=(()=>{class n extends Kv{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(un))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Qv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(Jv)},providedIn:"root"}),n})();class Mn{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let Jv=(()=>{class n extends Mn{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=o.n5z(n)))(i||n)}}(),n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const A8=new o.OlP("",{providedIn:"root",factory:()=>({})});let wT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(xT)},providedIn:"root"}),n})(),xT=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ST(n){throw n}function ey(n,e,t){return e.parse("/")}const TT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},DT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let c1=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,o.f3M)(o.c2e),this.isNgZoneEnabled=!1,this.options=(0,o.f3M)(A8,{optional:!0})||{},this.errorHandler=this.options.errorHandler||ST,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ey,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,o.f3M)(wT),this.routeReuseStrategy=(0,o.f3M)(Qv),this.urlCreationStrategy=(0,o.f3M)(KS),this.titleStrategy=(0,o.f3M)(Kv),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=p8((0,o.f3M)(X6,{optional:!0})??[]),this.navigationTransitions=(0,o.f3M)(Y7),this.urlSerializer=(0,o.f3M)(Fe),this.location=(0,o.f3M)(Oe),this.isNgZoneEnabled=(0,o.f3M)(o.R0b)instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new v,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Cv(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),w8,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const s={replaceUrl:!0},a=r?.navigationId?r:null;if(r){const d={...r};delete d.navigationId,delete d.\u0275routerPageId,0!==Object.keys(d).length&&(s.state=d)}const c=this.parseUrl(t);this.scheduleNavigation(c,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(v9),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:d}=i,h=d?this.currentUrlTree.fragment:a;let g=null;switch(c){case"merge":g={...this.currentUrlTree.queryParams,...s};break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=s||null}return null!==g&&(g=this.removeEmptyProps(g)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,t,g,h??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=x3(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,w8,null,i)}navigate(t,i={skipLocationChange:!1}){return function ty(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new o.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...TT}:!1===i?{...DT}:i,x3(t))return m8(this.currentUrlTree,t,r);const s=this.parseUrl(t);return m8(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(t,i,r,s,a){if(this.disposed)return Promise.resolve(!1);let c,d,h,g;return a?(c=a.resolve,d=a.reject,h=a.promise):h=new Promise((y,M)=>{c=y,d=M}),g="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:g,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:c,reject:d,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(y=>Promise.reject(y))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===r?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ma=(()=>{class n{constructor(t,i,r,s,a,c){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=a,this.locationStrategy=c,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new h2.x;const d=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===d||"area"===d,this.isAnchorElement?this.subscription=t.events.subscribe(h=>{h instanceof bo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,o.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,o.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,o.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,s,a){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||s||a||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,o.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,t,i):r.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(c1),o.Y36(Ur),o.$8M("tabindex"),o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(st))},n.\u0275dir=o.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,i){1&t&&o.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&o.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[o.TTD]}),n})(),H3=(()=>{class n{get isActive(){return this._isActive}constructor(t,i,r,s,a){this.router=t,this.element=i,this.renderer=r,this.cdr=s,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new o.vpe,this.routerEventsSubscription=t.events.subscribe(c=>{c instanceof bo&&this.update()})}ngAfterContentInit(){It(this.links.changes,It(null)).pipe((0,po.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,_1.D)(t).pipe((0,po.J)()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){const i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const i=function kT(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&t.isActive(r.urlTree,i)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(c1),o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(o.sBO),o.Y36(Ma,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,i,r){if(1&t&&o.Suo(r,Ma,5),2&t){let s;o.iGM(s=o.CRH())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[o.TTD]}),n})();class G7{}let zN=(()=>{class n{constructor(t,i,r,s,a){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(o1(t=>t instanceof bo),_a(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,o.MMx)(s.providers,t,`Route: ${s.path}`));const a=s._injector??t,c=s._loadedInjector??a;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?r.push(this.preloadConfig(a,s)):(s.children||s._loadedRoutes)&&r.push(this.processRoutes(c,s.children??s._loadedRoutes))}return(0,_1.D)(r).pipe((0,po.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):It(null);const s=r.pipe((0,Li.z)(a=>null===a?It(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??t,a.routes))));if(i.loadComponent&&!i._loadedComponent){const a=this.loader.loadComponent(i);return(0,_1.D)([s,a]).pipe((0,po.J)())}return s})}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(c1),o.LFG(o.Sil),o.LFG(o.lqb),o.LFG(G7),o.LFG(j7))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const iy=new o.OlP("");let zT=(()=>{class n{constructor(t,i,r,s,a={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof E7?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof bo&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof D3&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new D3(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();var jr=(()=>((jr=jr||{})[jr.COMPLETE=0]="COMPLETE",jr[jr.FAILED=1]="FAILED",jr[jr.REDIRECTING=2]="REDIRECTING",jr))();const H8=!1;function L3(n,e){return{\u0275kind:n,\u0275providers:e}}const $7=new o.OlP("",{providedIn:"root",factory:()=>!1});function sy(){const n=(0,o.f3M)(o.zs3);return e=>{const t=n.get(o.z2F);if(e!==t.components[0])return;const i=n.get(c1),r=n.get(oy);1===n.get(E9)&&i.initialNavigation(),n.get(cy,null,o.XFs.Optional)?.setUpPreloading(),n.get(iy,null,o.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const oy=new o.OlP(H8?"bootstrap done indicator":"",{factory:()=>new h2.x}),E9=new o.OlP(H8?"initial navigation":"",{providedIn:"root",factory:()=>1});function ay(){let n=[];return n=H8?[{provide:o.Xts,multi:!0,useFactory:()=>{const e=(0,o.f3M)(c1);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function qS(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],L3(1,n)}const cy=new o.OlP(H8?"router preloader":"");function ly(n){return L3(0,[{provide:cy,useExisting:zN},{provide:G7,useExisting:n}])}const r4=!1,VT=new o.OlP(r4?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),e0=[Oe,{provide:Fe,useClass:wt},c1,x8,{provide:Ur,useFactory:function i4(n){return n.routerState.root},deps:[c1]},j7,r4?{provide:$7,useValue:!0}:[]];function dy(){return new o.PXZ("Router",c1)}let fy=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[e0,r4&&i?.enableTracing?ay().\u0275providers:[],{provide:X6,multi:!0,useValue:t},{provide:VT,useFactory:K7,deps:[[c1,new o.FiY,new o.tp0]]},{provide:A8,useValue:i||{}},i?.useHash?{provide:st,useClass:Re}:{provide:st,useClass:Ie},{provide:iy,useFactory:()=>{const n=(0,o.f3M)(Sn),e=(0,o.f3M)(o.R0b),t=(0,o.f3M)(A8),i=(0,o.f3M)(Y7),r=(0,o.f3M)(Fe);return t.scrollOffset&&n.setOffset(t.scrollOffset),new zT(r,i,n,e,t)}},i?.preloadingStrategy?ly(i.preloadingStrategy).\u0275providers:[],{provide:o.PXZ,multi:!0,useFactory:dy},i?.initialNavigation?t0(i):[],[{provide:Q7,useFactory:sy},{provide:o.tb,multi:!0,useExisting:Q7}]]}}static forChild(t){return{ngModule:n,providers:[{provide:X6,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(VT,8))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Y6]}),n})();function K7(n){if(r4&&n)throw new o.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function t0(n){return["disabled"===n.initialNavigation?L3(3,[{provide:o.ip1,multi:!0,useFactory:()=>{const e=(0,o.f3M)(c1);return()=>{e.setUpLocationChangeListener()}}},{provide:E9,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?L3(2,[{provide:E9,useValue:0},{provide:o.ip1,multi:!0,deps:[o.zs3],useFactory:e=>{const t=e.get(_e,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(c1),s=e.get(oy);(function ry(n,e){n.events.pipe(o1(t=>t instanceof bo||t instanceof B6||t instanceof u9||t instanceof Ca),(0,kt.U)(t=>t instanceof bo||t instanceof Ca?jr.COMPLETE:t instanceof B6&&(0===t.code||1===t.code)?jr.REDIRECTING:jr.FAILED),o1(t=>t!==jr.REDIRECTING),cs(1)).subscribe(()=>{e()})})(r,()=>{i(!0)}),e.get(Y7).afterPreactivation=()=>(i(!0),s.closed?It(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const Q7=new o.OlP(r4?"Router Initializer":"");var en=N(655),n0=N(4986),Tt=N(8100);function E8(){return(0,Q2.e)((n,e)=>{let t,i=!1;n.subscribe((0,p2.x)(e,r=>{const s=t;t=r,i&&e.next([s,r]),i=!0}))})}function E3(n,e=g3.y){return n=n??my,(0,Q2.e)((t,i)=>{let r,s=!0;t.subscribe((0,p2.x)(i,a=>{const c=e(a);(s||!n(r,c))&&(s=!1,r=c,i.next(a))}))})}function my(n,e){return n===e}var Rt,B2=N(2011),V9=(N(9568),N(3942)),De=N(5861),R1=N(9681),Wr=N(4859),ms=N(1877),O=N(2090),PT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},U2={},I9=I9||{},wn=PT||self;function r0(){}function V8(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function I8(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var N9="closure_uid_"+(1e9*Math.random()>>>0),gy=0;function OT(n,e,t){return n.call.apply(n.bind,arguments)}function FT(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function wi(n,e,t){return(wi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?OT:FT).apply(null,arguments)}function J7(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Ii(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(i,r,s){for(var a=Array(arguments.length-2),c=2;c<arguments.length;c++)a[c-2]=arguments[c];return e.prototype[r].apply(i,a)}}function V3(){this.s=this.s,this.o=this.o}V3.prototype.s=!1,V3.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function RT(n){Object.prototype.hasOwnProperty.call(n,N9)&&n[N9]||(n[N9]=++gy)}(this)},V3.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const _y=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function gs(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function X7(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(V8(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let a=0;a<s;a++)n[r+a]=i[a]}else n.push(i)}}function Zi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Zi.prototype.h=function(){this.defaultPrevented=!0};var UT=function(){if(!wn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{wn.addEventListener("test",r0,e),wn.removeEventListener("test",r0,e)}catch{}return n}();function N8(n){return/^[\s\xa0]*$/.test(n)}var vy=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function P9(n,e){return n<e?-1:n>e?1:0}function ed(){var n=wn.navigator;return n&&(n=n.userAgent)?n:""}function _s(n){return-1!=ed().indexOf(n)}function R9(n){return R9[" "](n),n}R9[" "]=r0;var R8,n,td=_s("Opera"),I3=_s("Trident")||_s("MSIE"),P8=_s("Edge"),yy=P8||I3,nd=_s("Gecko")&&!(-1!=ed().toLowerCase().indexOf("webkit")&&!_s("Edge"))&&!(_s("Trident")||_s("MSIE"))&&!_s("Edge"),VN=-1!=ed().toLowerCase().indexOf("webkit")&&!_s("Edge");function O9(){var n=wn.document;return n?n.documentMode:void 0}e:{var id="",rd=(n=ed(),nd?/rv:([^\);]+)(\)|;)/.exec(n):P8?/Edge\/([\d\.]+)/.exec(n):I3?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):VN?/WebKit\/(\S+)/.exec(n):td?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(rd&&(id=rd?rd[1]:""),I3){var O8=O9();if(null!=O8&&O8>parseFloat(id)){R8=String(O8);break e}}R8=id}var wa={};var WT=wn.document&&I3&&(O9()||parseInt(R8,10))||void 0;function a0(n,e){if(Zi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(nd){e:{try{R9(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Cy[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&a0.X.h.call(this)}}Ii(a0,Zi);var Cy={2:"touch",3:"pen",4:"mouse"};a0.prototype.h=function(){a0.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var F8="closure_listenable_"+(1e6*Math.random()|0),YT=0;function B8(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ha=r,this.key=++YT,this.ba=this.ea=!1}function od(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function by(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function My(n){const e={};for(const t in n)e[t]=n[t];return e}const wy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xy(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let s=0;s<wy.length;s++)t=wy[s],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function ad(n){this.src=n,this.g={},this.h=0}function F9(n,e){var t=e.type;if(t in n.g){var s,i=n.g[t],r=_y(i,e);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(od(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function B9(n,e,t,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ba&&s.listener==e&&s.capture==!!t&&s.ha==i)return r}return-1}ad.prototype.add=function(n,e,t,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var a=B9(n,e,i,r);return-1<a?(e=n[a],t||(e.ea=!1)):((e=new B8(e,this.src,s,!!i,r)).ea=t,n.push(e)),e};var U9="closure_lm_"+(1e6*Math.random()|0),cd={};function ld(n,e,t,i,r){if(i&&i.once)return Ty(n,e,t,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)ld(n,e[s],t,i,r);return null}return t=ud(t),n&&n[F8]?n.N(e,t,I8(i)?!!i.capture:!!i,r):Sy(n,e,t,!1,i,r)}function Sy(n,e,t,i,r,s){if(!e)throw Error("Invalid event type");var a=I8(r)?!!r.capture:!!r,c=Y9(n);if(c||(n[U9]=c=new ad(n)),(t=c.add(e,t,i,a,s)).proxy)return t;if(i=function j9(){const e=qT;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)UT||(r=a),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(ky(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function Ty(n,e,t,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Ty(n,e[s],t,i,r);return null}return t=ud(t),n&&n[F8]?n.O(e,t,I8(i)?!!i.capture:!!i,r):Sy(n,e,t,!0,i,r)}function Dy(n,e,t,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)Dy(n,e[s],t,i,r);else i=I8(i)?!!i.capture:!!i,t=ud(t),n&&n[F8]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=B9(s=n.g[e],t,i,r))&&(od(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=Y9(n))&&(e=n.g[e.toString()],n=-1,e&&(n=B9(e,t,i,r)),(t=-1<n?e[n]:null)&&W9(t))}function W9(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[F8])F9(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(ky(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=Y9(e))?(F9(t,n),0==t.h&&(t.src=null,e[U9]=null)):od(n)}}}function ky(n){return n in cd?cd[n]:cd[n]="on"+n}function qT(n,e){if(n.ba)n=!0;else{e=new a0(e,this);var t=n.listener,i=n.ha||n.src;n.ea&&W9(n),n=t.call(i,e)}return n}function Y9(n){return(n=n[U9])instanceof ad?n:null}var q9="__closure_events_fn_"+(1e9*Math.random()>>>0);function ud(n){return"function"==typeof n?n:(n[q9]||(n[q9]=function(e){return n.handleEvent(e)}),n[q9])}function si(){V3.call(this),this.i=new ad(this),this.P=this,this.I=null}function Ni(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new Zi(e,n);else if(e instanceof Zi)e.target=e.target||n;else{var r=e;xy(e=new Zi(i,n),r)}if(r=!0,t)for(var s=t.length-1;0<=s;s--){var a=e.g=t[s];r=G9(a,i,!0,e)&&r}if(r=G9(a=e.g=n,i,!0,e)&&r,r=G9(a,i,!1,e)&&r,t)for(s=0;s<t.length;s++)r=G9(a=e.g=t[s],i,!1,e)&&r}function G9(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var a=e[s];if(a&&!a.ba&&a.capture==t){var c=a.listener,d=a.ha||a.src;a.ea&&F9(n.i,a),r=!1!==c.call(d,i)&&r}}return r&&!i.defaultPrevented}Ii(si,V3),si.prototype[F8]=!0,si.prototype.removeEventListener=function(n,e,t,i){Dy(this,n,e,t,i)},si.prototype.M=function(){if(si.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)od(t[i]);delete n.g[e],n.h--}}this.I=null},si.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},si.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var dd=wn.JSON.stringify;function IN(){var n=N3;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var vs,zy=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new GT,n=>n.reset());class GT{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function $9(n){wn.setTimeout(()=>{throw n},0)}function Ay(n,e){vs||function U8(){var n=wn.Promise.resolve(void 0);vs=function(){n.then(hd)}}(),xi||(vs(),xi=!0),N3.add(n,e)}var xi=!1,N3=new class fd{constructor(){this.h=this.g=null}add(e,t){const i=zy.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function hd(){for(var n;n=IN();){try{n.h.call(n.g)}catch(t){$9(t)}var e=zy;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}xi=!1}function lr(n,e){si.call(this),this.h=n||1,this.g=e||wn,this.j=wi(this.lb,this),this.l=Date.now()}function j8(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function P3(n,e,t){if("function"==typeof n)t&&(n=wi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=wi(n.handleEvent,n)}return 2147483647<Number(e)?-1:wn.setTimeout(n,e||0)}function s4(n){n.g=P3(()=>{n.g=null,n.i&&(n.i=!1,s4(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ii(lr,si),(Rt=lr.prototype).ca=!1,Rt.R=null,Rt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ni(this,"tick"),this.ca&&(j8(this),this.start()))}},Rt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Rt.M=function(){lr.X.M.call(this),j8(this),delete this.g};class c0 extends V3{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:s4(this)}M(){super.M(),this.g&&(wn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function So(n){V3.call(this),this.h=n,this.g={}}Ii(So,V3);var o4=[];function a4(n,e,t,i){Array.isArray(t)||(t&&(o4[0]=t.toString()),t=o4);for(var r=0;r<t.length;r++){var s=ld(e,t[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function c4(n){by(n.g,function(e,t){this.g.hasOwnProperty(t)&&W9(e)},n),n.g={}}function xa(){this.g=!0}function l4(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Ey(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<r.length;a++)r[a]=""}}}return dd(t)}catch{return e}}(n,t)+(i?" "+i:"")})}So.prototype.M=function(){So.X.M.call(this),c4(this)},So.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},xa.prototype.Aa=function(){this.g=!1},xa.prototype.info=function(){};var R3={},Z9=null;function W8(){return Z9=Z9||new si}function K9(n){Zi.call(this,R3.Pa,n)}function u0(n){const e=W8();Ni(e,new K9(e))}function Vy(n,e){Zi.call(this,R3.STAT_EVENT,n),this.stat=e}function ur(n){const e=W8();Ni(e,new Vy(e,n))}function Q9(n,e){Zi.call(this,R3.Qa,n),this.size=e}function Y8(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return wn.setTimeout(function(){n()},e)}R3.Pa="serverreachability",Ii(K9,Zi),R3.STAT_EVENT="statevent",Ii(Vy,Zi),R3.Qa="timingevent",Ii(Q9,Zi);var pd={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},md={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function q8(){}function G8(){}q8.prototype.h=null;var d0,O3={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function $8(){Zi.call(this,"d")}function J9(){Zi.call(this,"c")}function u4(){}function f0(n,e,t,i){this.l=n,this.j=e,this.m=t,this.U=i||1,this.S=new So(this),this.O=ep,this.T=new lr(n=yy?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new X9}function X9(){this.i=null,this.g="",this.h=!1}Ii($8,Zi),Ii(J9,Zi),Ii(u4,q8),u4.prototype.g=function(){return new XMLHttpRequest},u4.prototype.i=function(){return{}},d0=new u4;var ep=45e3,gd={},Z8={};function K8(n,e,t){n.K=1,n.v=yd(To(e)),n.s=t,n.P=!0,tp(n,null)}function tp(n,e){n.F=Date.now(),h0(n),n.A=To(n.v);var t=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),X2(t.i,"t",i),n.C=0,t=n.l.H,n.h=new X9,n.g=Xy(n.l,t?e:null,!n.s),0<n.N&&(n.L=new c0(wi(n.La,n,n.g),n.N)),a4(n.S,n.g,"readystatechange",n.ib),e=n.H?My(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),u0(),function l0(n,e,t,i,r,s){n.info(function(){if(n.g)if(s)for(var a="",c=s.split("&"),d=0;d<c.length;d++){var h=c[d].split("=");if(1<h.length){var g=h[0];h=h[1];var y=g.split("_");a=2<=y.length&&"type"==y[1]?a+(g+"=")+h+"&":a+(g+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+a})}(n.j,n.u,n.A,n.m,n.U,n.s)}function Ny(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function np(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=Py(n,t),r==Z8){4==e&&(n.o=4,ur(14),i=!1),l4(n.j,n.m,null,"[Incomplete Response]");break}if(r==gd){n.o=4,ur(15),l4(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}l4(n.j,n.m,r,null),Q8(n,r)}Ny(n)&&r!=Z8&&r!=gd&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ur(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),bp(e),e.K=!0,ur(11))):(l4(n.j,n.m,t,"[Invalid Chunked Response]"),F3(n),p0(n))}function Py(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?Z8:(t=Number(e.substring(t,i)),isNaN(t)?gd:(i+=1)+t>e.length?Z8:(e=e.substr(i,t),n.C=i+t,e))}function h0(n){n.V=Date.now()+n.O,ip(n,n.O)}function ip(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Y8(wi(n.gb,n),e)}function _d(n){n.B&&(wn.clearTimeout(n.B),n.B=null)}function p0(n){0==n.l.G||n.I||Zy(n.l,n)}function F3(n){_d(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,j8(n.T),c4(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Q8(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||j3(t.h,n)))if(!n.J&&j3(t.h,n)&&3==t.G){try{var i=t.Fa.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Td(t),p4(t)}Sd(t),ur(18)}}else t.Ba=r[1],0<t.Ba-t.T&&37500>r[2]&&t.L&&0==t.A&&!t.v&&(t.v=Y8(wi(t.cb,t),6e3));if(1>=up(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else m4(t,11)}else if((n.J||t.g==n)&&Td(t),!N8(e))for(r=t.Fa.g.parse(e),e=0;e<r.length;e++){let h=r[e];if(t.T=h[0],h=h[1],2==t.G)if("c"==h[0]){t.I=h[1],t.ka=h[2];const g=h[3];null!=g&&(t.ma=g,t.j.info("VER="+t.ma));const y=h[4];null!=y&&(t.Ca=y,t.j.info("SVER="+t.Ca));const M=h[5];null!=M&&"number"==typeof M&&0<M&&(t.J=i=1.5*M,t.j.info("backChannelRequestTimeoutMs_="+i)),i=t;const S=n.g;if(S){const k=S.g?S.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(k){var s=i.h;s.g||-1==k.indexOf("spdy")&&-1==k.indexOf("quic")&&-1==k.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(dp(s,s.h),s.h=null))}if(i.D){const A=S.g?S.g.getResponseHeader("X-HTTP-Session-Id"):null;A&&(i.za=A,d1(i.F,i.D,A))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var a=n;if((i=t).sa=Jy(i,i.H?i.ka:null,i.V),a.J){By(i.h,a);var c=a,d=i.J;d&&c.setTimeout(d),c.B&&(_d(c),h0(c)),i.g=a}else Cp(i);0<t.i.length&&a5(t)}else"stop"!=h[0]&&"close"!=h[0]||m4(t,7);else 3==t.G&&("stop"==h[0]||"close"==h[0]?"stop"==h[0]?m4(t,7):o5(t):"noop"!=h[0]&&t.l&&t.l.wa(h),t.A=0)}u0()}catch{}}function rp(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(V8(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Ry(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(V8(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function vd(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(V8(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],t&&t[s],n)}(Rt=f0.prototype).setTimeout=function(n){this.O=n},Rt.ib=function(n){n=n.target;const e=this.L;e&&3==Do(n)?e.l():this.La(n)},Rt.La=function(n){try{if(n==this.g)e:{const g=Do(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>g)&&(3!=g||yy||this.g&&(this.h.h||this.g.fa()||mp(this.g)))){this.I||4!=g||7==e||u0(),_d(this);var t=this.g.aa();this.Y=t;t:if(Ny(this)){var i=mp(this.g);n="";var r=i.length,s=4==Do(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){F3(this),p0(this);var a="";break t}this.h.i=new wn.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,a=this.h.g}else a=this.g.fa();if(this.i=200==t,function Hy(n,e,t,i,r,s,a){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+s+" "+a})}(this.j,this.u,this.A,this.m,this.U,g,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var c,d=this.g;if((c=d.g?d.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N8(c)){var h=c;break t}}h=null}if(!(t=h)){this.i=!1,this.o=3,ur(12),F3(this),p0(this);break e}l4(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Q8(this,t)}this.P?(np(this,g,a),yy&&this.i&&3==g&&(a4(this.S,this.T,"tick",this.hb),this.T.start())):(l4(this.j,this.m,a,null),Q8(this,a)),4==g&&F3(this),this.i&&!this.I&&(4==g?Zy(this.l,this):(this.i=!1,h0(this)))}else 400==t&&0<a.indexOf("Unknown SID")?(this.o=3,ur(12)):(this.o=0,ur(13)),F3(this),p0(this)}}}catch{}},Rt.hb=function(){if(this.g){var n=Do(this.g),e=this.g.fa();this.C<e.length&&(_d(this),np(this,n,e),this.i&&4!=n&&h0(this))}},Rt.cancel=function(){this.I=!0,F3(this)},Rt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function Ly(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(u0(),ur(17)),F3(this),this.o=2,p0(this)):ip(this,this.V-n)};var sp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function B3(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof B3){this.h=void 0!==e?e:n.h,J8(this,n.j),this.s=n.s,this.g=n.g,X8(this,n.m),this.l=n.l,e=n.i;var t=new n5;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),e5(this,t),this.o=n.o}else n&&(t=String(n).match(sp))?(this.h=!!e,J8(this,t[1]||"",!0),this.s=t5(t[2]||""),this.g=t5(t[3]||"",!0),X8(this,t[4]),this.l=t5(t[5]||"",!0),e5(this,t[6]||"",!0),this.o=t5(t[7]||"")):(this.h=!!e,this.i=new n5(null,this.h))}function To(n){return new B3(n)}function J8(n,e,t){n.j=t?t5(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function X8(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function e5(n,e,t){e instanceof n5?(n.i=e,function ZT(n,e){e&&!n.j&&(U3(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(ap(this,i),X2(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=d4(e,NN)),n.i=new n5(e,n.h))}function d1(n,e,t){n.i.set(e,t)}function yd(n){return d1(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function t5(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function d4(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,f4),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function f4(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}B3.prototype.toString=function(){var n=[],e=this.j;e&&n.push(d4(e,Cd,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(d4(e,Cd,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(d4(t,"/"==t.charAt(0)?op:$T,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",d4(t,PN)),n.join("")};var Cd=/[#\/\?@]/g,$T=/[#\?:]/g,op=/[#\?]/g,NN=/[#\?@]/g,PN=/#/g;function n5(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function U3(n){n.g||(n.g=new Map,n.h=0,n.i&&function Oy(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var s=n[t].substring(0,i);r=n[t].substring(i+1)}else s=n[t];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function ap(n,e){U3(n),e=h4(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Fy(n,e){return U3(n),e=h4(n,e),n.g.has(e)}function X2(n,e,t){ap(n,e),0<t.length&&(n.i=null,n.g.set(h4(n,e),gs(t)),n.h+=t.length)}function h4(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function cp(n){this.l=n||QT,n=wn.PerformanceNavigationTiming?0<(n=wn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(wn.g&&wn.g.Ga&&wn.g.Ga()&&wn.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Rt=n5.prototype).add=function(n,e){U3(this),this.i=null,n=h4(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Rt.forEach=function(n,e){U3(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},Rt.oa=function(){U3(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let s=0;s<r.length;s++)t.push(e[i])}return t},Rt.W=function(n){U3(this);let e=[];if("string"==typeof n)Fy(this,n)&&(e=e.concat(this.g.get(h4(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Rt.set=function(n,e){return U3(this),this.i=null,Fy(this,n=h4(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Rt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},Rt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const s=encodeURIComponent(String(i)),a=this.W(i);for(i=0;i<a.length;i++){var r=s;""!==a[i]&&(r+="="+encodeURIComponent(String(a[i]))),n.push(r)}}return this.i=n.join("&")};var QT=10;function lp(n){return!!n.h||!!n.g&&n.g.size>=n.j}function up(n){return n.h?1:n.g?n.g.size:0}function j3(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function dp(n,e){n.g?n.g.add(e):n.h=e}function By(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function fp(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return gs(n.i)}function hp(){}function Uy(){this.g=new hp}function RN(n,e,t){const i=t||"";try{rp(n,function(r,s){let a=r;I8(r)&&(a=dd(r)),e.push(i+s+"="+encodeURIComponent(a))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function m0(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function wr(n){this.l=n.ac||null,this.j=n.jb||!1}function bd(n,e){si.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Md,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}cp.prototype.cancel=function(){if(this.i=fp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},hp.prototype.stringify=function(n){return wn.JSON.stringify(n,void 0)},hp.prototype.parse=function(n){return wn.JSON.parse(n,void 0)},Ii(wr,q8),wr.prototype.g=function(){return new bd(this.l,this.j)},wr.prototype.i=function(n){return function(){return n}}({}),Ii(bd,si);var Md=0;function Os(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function dr(n){n.readyState=4,n.l=null,n.j=null,n.A=null,fr(n)}function fr(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Rt=bd.prototype).open=function(n,e){if(this.readyState!=Md)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,fr(this)},Rt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||wn).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},Rt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,dr(this)),this.readyState=Md},Rt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,fr(this)),this.g&&(this.readyState=3,fr(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof wn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Os(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},Rt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?dr(this):fr(this),3==this.readyState&&Os(this)}},Rt.Va=function(n){this.g&&(this.response=this.responseText=n,dr(this))},Rt.Ua=function(n){this.g&&(this.response=n,dr(this))},Rt.ga=function(){this.g&&dr(this)},Rt.setRequestHeader=function(n,e){this.v.append(n,e)},Rt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Rt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(bd.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var jy=wn.JSON.parse;function g2(n){si.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Wy,this.K=this.L=!1}Ii(g2,si);var Wy="",JT=/^https?$/i,XT=["POST","PUT"];function wd(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,g0(n),r5(n)}function g0(n){n.D||(n.D=!0,Ni(n,"complete"),Ni(n,"error"))}function Yy(n){if(n.h&&typeof I9<"u"&&(!n.C[1]||4!=Do(n)||2!=n.aa()))if(n.v&&4==Do(n))P3(n.Ha,0,n);else if(Ni(n,"readystatechange"),4==Do(n)){n.h=!1;try{const c=n.aa();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===c){var r=String(n.H).match(sp)[1]||null;if(!r&&wn.self&&wn.self.location){var s=wn.self.location.protocol;r=s.substr(0,s.length-1)}i=!JT.test(r?r.toLowerCase():"")}t=i}if(t)Ni(n,"complete"),Ni(n,"success");else{n.m=6;try{var a=2<Do(n)?n.g.statusText:""}catch{a=""}n.j=a+" ["+n.aa()+"]",g0(n)}}finally{r5(n)}}}function r5(n,e){if(n.g){qy(n);const t=n.g,i=n.C[0]?r0:null;n.g=null,n.C=null,e||Ni(n,"ready");try{t.onreadystatechange=i}catch{}}}function qy(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(wn.clearTimeout(n.A),n.A=null)}function Do(n){return n.g?n.g.readyState:0}function mp(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Wy:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function s5(n){let e="";return by(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function gp(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=s5(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):d1(n,e,t))}function _0(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function _p(n){this.Ca=0,this.i=[],this.j=new xa,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=_0("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=_0("baseRetryDelayMs",5e3,n),this.bb=_0("retryDelaySeedMs",1e4,n),this.$a=_0("forwardChannelMaxRetries",2,n),this.ta=_0("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new cp(n&&n.concurrentRequestLimit),this.Fa=new Uy,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function o5(n){if(xd(n),3==n.G){var e=n.U++,t=To(n.F);d1(t,"SID",n.I),d1(t,"RID",e),d1(t,"TYPE","terminate"),v0(n,t),(e=new f0(n,n.j,e,void 0)).K=2,e.v=yd(To(t)),t=!1,wn.navigator&&wn.navigator.sendBeacon&&(t=wn.navigator.sendBeacon(e.v.toString(),"")),!t&&wn.Image&&((new Image).src=e.v,t=!0),t||(e.g=Xy(e.l,null),e.g.da(e.v)),e.F=Date.now(),h0(e)}Qy(n)}function p4(n){n.g&&(bp(n),n.g.cancel(),n.g=null)}function xd(n){p4(n),n.u&&(wn.clearTimeout(n.u),n.u=null),Td(n),n.h.cancel(),n.m&&("number"==typeof n.m&&wn.clearTimeout(n.m),n.m=null)}function a5(n){lp(n.h)||n.m||(n.m=!0,Ay(n.Ja,n),n.C=0)}function vp(n,e){var t;t=e?e.m:n.U++;const i=To(n.F);d1(i,"SID",n.I),d1(i,"RID",t),d1(i,"AID",n.T),v0(n,i),n.o&&n.s&&gp(i,n.o,n.s),t=new f0(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=yp(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),dp(n.h,t),K8(t,i,e)}function v0(n,e){n.ia&&by(n.ia,function(t,i){d1(e,i,t)}),n.l&&rp({},function(t,i){d1(e,i,t)})}function yp(n,e,t){t=Math.min(n.i.length,t);var i=n.l?wi(n.l.Ra,n.l,n):null;e:{var r=n.i;let s=-1;for(;;){const a=["count="+t];-1==s?0<t?(s=r[0].h,a.push("ofs="+s)):s=0:a.push("ofs="+s);let c=!0;for(let d=0;d<t;d++){let h=r[d].h;const g=r[d].g;if(h-=s,0>h)s=Math.max(0,r[d].h-100),c=!1;else try{RN(g,a,"req"+h+"_")}catch{i&&i(g)}}if(c){i=a.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,i}function Cp(n){n.g||n.u||(n.Z=1,Ay(n.Ia,n),n.A=0)}function Sd(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Y8(wi(n.Ia,n),Ky(n,n.A)),n.A++,0))}function bp(n){null!=n.B&&(wn.clearTimeout(n.B),n.B=null)}function $y(n){n.g=new f0(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=To(n.sa);d1(e,"RID","rpc"),d1(e,"SID",n.I),d1(e,"CI",n.L?"0":"1"),d1(e,"AID",n.T),d1(e,"TYPE","xmlhttp"),v0(n,e),n.o&&n.s&&gp(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=yd(To(e)),t.s=null,t.P=!0,tp(t,n)}function Td(n){null!=n.v&&(wn.clearTimeout(n.v),n.v=null)}function Zy(n,e){var t=null;if(n.g==e){Td(n),bp(n),n.g=null;var i=2}else{if(!j3(n.h,e))return;t=e.D,By(n.h,e),i=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;Ni(i=W8(),new Q9(i,t)),a5(n)}else Cp(n);else if(3==(r=e.o)||0==r&&0<n.pa||!(1==i&&function Gy(n,e){return!(up(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Y8(wi(n.Ja,n,e),Ky(n,n.C)),n.C++,0)))}(n,e)||2==i&&Sd(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),r){case 1:m4(n,5);break;case 4:m4(n,10);break;case 3:m4(n,6);break;default:m4(n,2)}}function Ky(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function m4(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var i=wi(n.kb,n);t||(t=new B3("//www.google.com/images/cleardot.gif"),wn.location&&"http"==wn.location.protocol||J8(t,"https"),yd(t)),function pp(n,e){const t=new xa;if(wn.Image){const i=new Image;i.onload=J7(m0,t,i,"TestLoadImage: loaded",!0,e),i.onerror=J7(m0,t,i,"TestLoadImage: error",!1,e),i.onabort=J7(m0,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=J7(m0,t,i,"TestLoadImage: timeout",!1,e),wn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else ur(2);n.G=0,n.l&&n.l.va(e),Qy(n),xd(n)}function Qy(n){if(n.G=0,n.la=[],n.l){const e=fp(n.h);(0!=e.length||0!=n.i.length)&&(X7(n.la,e),X7(n.la,n.i),n.h.i.length=0,gs(n.i),n.i.length=0),n.l.ua()}}function Jy(n,e,t){var i=t instanceof B3?To(t):new B3(t,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),X8(i,i.m);else{var r=wn.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new B3(null,void 0);i&&J8(s,i),e&&(s.g=e),r&&X8(s,r),t&&(s.l=t),i=s}return e=n.za,(t=n.D)&&e&&d1(i,t,e),d1(i,"VER",n.ma),v0(n,i),i}function Xy(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new g2(t&&n.Da&&!n.ra?new wr({jb:!0}):n.ra)).Ka(n.H),e}function eC(){}function Dd(){if(I3&&!(10<=Number(WT)))throw Error("Environmental error: no available transport.")}function Yr(n,e){si.call(this),this.g=new _p(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!N8(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!N8(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new y0(this)}function tC(n){$8.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function nC(){J9.call(this),this.status=1}function y0(n){this.g=n}(Rt=g2.prototype).Ka=function(n){this.L=n},Rt.da=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():d0.g(),this.C=function Iy(n){return n.h||(n.h=n.i())}(this.u?this.u:d0),this.g.onreadystatechange=wi(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void wd(this,s)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())t.set(s,i.get(s))}i=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),r=wn.FormData&&n instanceof wn.FormData,!(0<=_y(XT,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of t)this.g.setRequestHeader(s,a);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{qy(this),0<this.B&&((this.K=function eD(n){return I3&&function sd(){return function jT(n){var e=wa;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=vy(String(R8)).split("."),t=vy("9").split("."),i=Math.max(e.length,t.length);for(let a=0;0==n&&a<i;a++){var r=e[a]||"",s=t[a]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=P9(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||P9(0==r[2].length,0==s[2].length)||P9(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=wi(this.qa,this)):this.A=P3(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){wd(this,s)}},Rt.qa=function(){typeof I9<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ni(this,"timeout"),this.abort(8))},Rt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ni(this,"complete"),Ni(this,"abort"),r5(this))},Rt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),r5(this,!0)),g2.X.M.call(this)},Rt.Ha=function(){this.s||(this.F||this.v||this.l?Yy(this):this.fb())},Rt.fb=function(){Yy(this)},Rt.aa=function(){try{return 2<Do(this)?this.g.status:-1}catch{return-1}},Rt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Rt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),jy(e)}},Rt.Ea=function(){return this.m},Rt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Rt=_p.prototype).ma=8,Rt.G=1,Rt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new f0(this,this.j,n,void 0);let s=this.s;if(this.S&&(s?(s=My(s),xy(s,this.S)):s=this.S),null!==this.o||this.N||(r.H=s,s=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var i=this.i[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=yp(this,r,e),d1(t=To(this.F),"RID",n),d1(t,"CVER",22),this.D&&d1(t,"X-HTTP-Session-Id",this.D),v0(this,t),s&&(this.N?e="headers="+encodeURIComponent(String(s5(s)))+"&"+e:this.o&&gp(t,this.o,s)),dp(this.h,r),this.Ya&&d1(t,"TYPE","init"),this.O?(d1(t,"$req",e),d1(t,"SID","null"),r.Z=!0,K8(r,t,null)):K8(r,t,e),this.G=2}}else 3==this.G&&(n?vp(this,n):0==this.i.length||lp(this.h)||vp(this))},Rt.Ia=function(){if(this.u=null,$y(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Y8(wi(this.eb,this),n)}},Rt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,ur(10),p4(this),$y(this))},Rt.cb=function(){null!=this.v&&(this.v=null,p4(this),Sd(this),ur(19))},Rt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),ur(2)):(this.j.info("Failed to ping google.com"),ur(1))},(Rt=eC.prototype).xa=function(){},Rt.wa=function(){},Rt.va=function(){},Rt.ua=function(){},Rt.Ra=function(){},Dd.prototype.g=function(n,e){return new Yr(n,e)},Ii(Yr,si),Yr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;ur(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=Jy(n,null,n.V),a5(n)},Yr.prototype.close=function(){o5(this.g)},Yr.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=dd(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&a5(e)},Yr.prototype.M=function(){this.g.l=null,delete this.j,o5(this.g),delete this.g,Yr.X.M.call(this)},Ii(tC,$8),Ii(nC,J9),Ii(y0,eC),y0.prototype.xa=function(){Ni(this.g,"a")},y0.prototype.wa=function(n){Ni(this.g,new tC(n))},y0.prototype.va=function(n){Ni(this.g,new nC)},y0.prototype.ua=function(){Ni(this.g,"b")},Dd.prototype.createWebChannel=Dd.prototype.g,Yr.prototype.send=Yr.prototype.u,Yr.prototype.open=Yr.prototype.m,Yr.prototype.close=Yr.prototype.close,pd.NO_ERROR=0,pd.TIMEOUT=8,pd.HTTP_ERROR=6,md.COMPLETE="complete",G8.EventType=O3,O3.OPEN="a",O3.CLOSE="b",O3.ERROR="c",O3.MESSAGE="d",si.prototype.listen=si.prototype.N,g2.prototype.listenOnce=g2.prototype.O,g2.prototype.getLastError=g2.prototype.Oa,g2.prototype.getLastErrorCode=g2.prototype.Ea,g2.prototype.getStatus=g2.prototype.aa,g2.prototype.getResponseJson=g2.prototype.Sa,g2.prototype.getResponseText=g2.prototype.fa,g2.prototype.send=g2.prototype.da,g2.prototype.setWithCredentials=g2.prototype.Ka;var tD=U2.createWebChannelTransport=function(){return new Dd},nD=U2.getStatEventTarget=function(){return W8()},Mp=U2.ErrorCode=pd,iC=U2.EventType=md,rC=U2.Event=R3,wp=U2.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},sC=U2.FetchXmlHttpFactory=wr,c5=U2.WebChannel=G8,oC=U2.XhrIo=g2;const xp="@firebase/firestore";class oi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}oi.UNAUTHENTICATED=new oi(null),oi.GOOGLE_CREDENTIALS=new oi("google-credentials-uid"),oi.FIRST_PARTY=new oi("first-party-uid"),oi.MOCK_USER=new oi("mock-user");let g4="9.18.0";const ko=new ms.Yd("@firebase/firestore");function l5(){return ko.logLevel}function Qe(n,...e){if(ko.logLevel<=ms.in.DEBUG){const t=e.map(aC);ko.debug(`Firestore (${g4}): ${n}`,...t)}}function j2(n,...e){if(ko.logLevel<=ms.in.ERROR){const t=e.map(aC);ko.error(`Firestore (${g4}): ${n}`,...t)}}function ys(n,...e){if(ko.logLevel<=ms.in.WARN){const t=e.map(aC);ko.warn(`Firestore (${g4}): ${n}`,...t)}}function aC(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Dt(n="Unexpected state"){const e=`FIRESTORE (${g4}) INTERNAL ASSERTION FAILED: `+n;throw j2(e),new Error(e)}function Ut(n,e){n||Dt()}function yt(n,e){return n}const xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends O.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ai{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class lC{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(oi.UNAUTHENTICATED))}shutdown(){}}class C0{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class rD{constructor(e){this.t=e,this.currentUser=oi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const s=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let a=new ai;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ai,e.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const h=a;e.enqueueRetryable((0,De.Z)(function*(){yield h.promise,yield s(i.currentUser)}))},d=h=>{Qe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.auth.addAuthTokenListener(this.o),c()};this.t.onInit(h=>d(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?d(h):(Qe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ai)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Qe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ut("string"==typeof i.accessToken),new lC(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ut(null===e||"string"==typeof e),new oi(e)}}class kd{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r,this.type="FirstParty",this.user=oi.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Ut(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class zd{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r}getToken(){return Promise.resolve(new kd(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(oi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ON{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const i=s=>{null!=s.error&&Qe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.A;return this.A=s.token,Qe("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{Qe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?r(s):Qe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ut("string"==typeof t.token),this.A=t.token,new _2(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function uC(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class dC{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=uC(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}}function mn(n,e){return n<e?-1:n>e?1:0}function v4(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function Sp(n){return n+"\0"}class n1{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new fe(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n1.fromMillis(Date.now())}static fromDate(e){return n1.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new n1(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?mn(this.nanoseconds,e.nanoseconds):mn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class $t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new $t(e)}static min(){return new $t(new n1(0,0))}static max(){return new $t(new n1(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class u5{constructor(e,t,i){void 0===t?t=0:t>e.length&&Dt(),void 0===i?i=e.length-t:i>e.length-t&&Dt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===u5.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof u5?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),a=t.get(r);if(s<a)return-1;if(s>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Kn extends u5{construct(e,t,i){return new Kn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new fe(xe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Kn(t)}static emptyPath(){return new Kn([])}}const d5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class A2 extends u5{construct(e,t,i){return new A2(e,t,i)}static isValidIdentifier(e){return d5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),A2.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new A2(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(0===i.length)throw new fe(xe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let a=!1;for(;r<e.length;){const c=e[r];if("\\"===c){if(r+1===e.length)throw new fe(xe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[r+1];if("\\"!==d&&"."!==d&&"`"!==d)throw new fe(xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,r+=2}else"`"===c?(a=!a,r++):"."!==c||a?(i+=c,r++):(s(),r++)}if(s(),a)throw new fe(xe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new A2(t)}static emptyPath(){return new A2([])}}class _t{constructor(e){this.path=e}static fromPath(e){return new _t(Kn.fromString(e))}static fromName(e){return new _t(Kn.fromString(e).popFirst(5))}static empty(){return new _t(Kn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Kn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Kn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _t(new Kn(e.slice()))}}class Ad{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function b0(n){return n.fields.find(e=>2===e.kind)}function W3(n){return n.fields.filter(e=>2!==e.kind)}Ad.UNKNOWN_ID=-1;class f5{constructor(e,t){this.fieldPath=e,this.kind=t}}class Sa{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Sa(0,qr.min())}}function M0(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=$t.fromTimestamp(1e9===i?new n1(t+1,0):new n1(t,i));return new qr(r,_t.empty(),e)}function hC(n){return new qr(n.readTime,n.key,-1)}class qr{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new qr($t.min(),_t.empty(),-1)}static max(){return new qr($t.max(),_t.empty(),-1)}}function Tp(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=_t.comparator(n.documentKey,e.documentKey),0!==t?t:mn(n.largestBatchId,e.largestBatchId))}const Dp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kp{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ta(n){return zp.apply(this,arguments)}function zp(){return zp=(0,De.Z)(function*(n){if(n.code!==xe.FAILED_PRECONDITION||n.message!==Dp)throw n;Qe("LocalStore","Unexpectedly lost primary lease")}),zp.apply(this,arguments)}class Ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ce((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ce?t:Ce.resolve(t)}catch(t){return Ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ce.reject(t)}static resolve(e){return new Ce((t,i)=>{t(e)})}static reject(e){return new Ce((t,i)=>{i(e)})}static waitFor(e){return new Ce((t,i)=>{let r=0,s=0,a=!1;e.forEach(c=>{++r,c.next(()=>{++s,a&&s===r&&t()},d=>i(d))}),a=!0,s===r&&t()})}static or(e){let t=Ce.resolve(!1);for(const i of e)t=t.next(r=>r?Ce.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new Ce((i,r)=>{const s=e.length,a=new Array(s);let c=0;for(let d=0;d<s;d++){const h=d;t(e[h]).next(g=>{a[h]=g,++c,c===s&&i(a)},g=>r(g))}})}static doWhile(e,t){return new Ce((i,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):i()};s()})}}class Hd{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new ai,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Ld(e,t.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=Ap(i.target.error);this.P.reject(new Ld(e,r))}}static open(e,t,i,r){try{return new Hd(t,e.transaction(r,i))}catch(s){throw new Ld(t,s)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Qe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new BN(t)}}class Fs{constructor(e,t,i){this.name=e,this.version=t,this.S=i,12.2===Fs.D((0,O.z$)())&&j2("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Qe("SimpleDb","Removing database:",e),Y3(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,O.hl)())return!1;if(Fs.N())return!0;const e=(0,O.z$)(),t=Fs.D(e),i=0<t&&t<10,r=Fs.k(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.$)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(e){var t=this;return(0,De.Z)(function*(){return t.db||(Qe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=a=>{i(a.target.result)},s.onblocked=()=>{r(new Ld(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=a=>{const c=a.target.error;r("VersionError"===c.name?new fe(xe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===c.name?new fe(xe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c):new Ld(e,c))},s.onupgradeneeded=a=>{Qe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',a.oldVersion),t.S.F(a.target.result,s.transaction,a.oldVersion,t.version).next(()=>{Qe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=i=>t.B(i)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var s=this;return(0,De.Z)(function*(){const a="readonly"===t;let c=0;for(;;){++c;try{s.db=yield s.O(e);const d=Hd.open(s.db,e,a?"readonly":"readwrite",i),h=r(d).next(g=>(d.V(),g)).catch(g=>(d.abort(g),Ce.reject(g))).toPromise();return h.catch(()=>{}),yield d.v,h}catch(d){const h=d,g="FirebaseError"!==h.name&&c<3;if(Qe("SimpleDb","Transaction failed with error:",h.message,"Retrying:",g),s.close(),!g)return Promise.reject(h)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class FN{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return Y3(this.q.delete())}}class Ld extends fe{constructor(e,t){super(xe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function y4(n){return"IndexedDbTransactionError"===n.name}class BN{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Qe("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Qe("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Y3(i)}add(e){return Qe("SimpleDb","ADD",this.store.name,e,e),Y3(this.store.add(e))}get(e){return Y3(this.store.get(e)).next(t=>(void 0===t&&(t=null),Qe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Qe("SimpleDb","DELETE",this.store.name,e),Y3(this.store.delete(e))}count(){return Qe("SimpleDb","COUNT",this.store.name),Y3(this.store.count())}W(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.H(r,(a,c)=>{s.push(c)}).next(()=>s)}{const r=this.store.getAll(i.range);return new Ce((s,a)=>{r.onerror=c=>{a(c.target.error)},r.onsuccess=c=>{s(c.target.result)}})}}J(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new Ce((r,s)=>{i.onerror=a=>{s(a.target.error)},i.onsuccess=a=>{r(a.target.result)}})}Y(e,t){Qe("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.Z=!1;const r=this.cursor(i);return this.H(r,(s,a,c)=>c.delete())}X(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.H(r,t)}tt(e){const t=this.cursor({});return new Ce((i,r)=>{t.onerror=s=>{const a=Ap(s.target.error);r(a)},t.onsuccess=s=>{const a=s.target.result;a?e(a.primaryKey,a.value).next(c=>{c?a.continue():i()}):i()}})}H(e,t){const i=[];return new Ce((r,s)=>{e.onerror=a=>{s(a.target.error)},e.onsuccess=a=>{const c=a.target.result;if(!c)return void r();const d=new FN(c),h=t(c.primaryKey,c.value,d);if(h instanceof Ce){const g=h.catch(y=>(d.done(),Ce.reject(y)));i.push(g)}d.isDone?r():null===d.G?c.continue():c.continue(d.G)}}).next(()=>Ce.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Z?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Y3(n){return new Ce((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=Ap(i.target.error);t(r)}})}let h5=!1;function Ap(n){const e=Fs.D((0,O.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return h5||(h5=!0,setTimeout(()=>{throw i},0)),i}}return n}class aD{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Qe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,De.Z)(function*(){t.task=null;try{Qe("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(i){y4(i)?Qe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Ta(i)}yield t.nt(6e4)}))}}class pC{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,De.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.it(i,e))})()}it(e,t){const i=new Set;let r=t,s=!0;return Ce.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(a=>{if(null!==a&&!i.has(a))return Qe("IndexBackiller",`Processing collection: ${a}`),this.rt(e,a,r).next(c=>{r-=c,i.add(a)});s=!1})).next(()=>t-r)}rt(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(s=>{const a=s.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next(()=>this.ot(r,s)).next(c=>(Qe("IndexBackiller",`Updating offset: ${c}`),this.localStore.indexManager.updateCollectionGroup(e,t,c))).next(()=>a.size)}))}ot(e,t){let i=e;return t.changes.forEach((r,s)=>{const a=hC(s);Tp(a,i)>0&&(i=a)}),new qr(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Pi=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>i.writeSequenceNumber(r))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class uD{constructor(e,t,i,r,s,a,c,d){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.useFetchStreams=d}}class C4{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new C4("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof C4&&e.projectId===this.projectId&&e.database===this.database}}function mC(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function q3(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function gC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function p5(n){return null==n}function Da(n){return 0===n&&1/n==-1/0}function _C(n){return"number"==typeof n&&Number.isInteger(n)&&!Da(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class vC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ei{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw r instanceof DOMException?new vC("Invalid base64 string: "+r):r}}(e);return new ei(t)}static fromUint8Array(e){const t=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new ei(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return mn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ei.EMPTY_BYTE_STRING=new ei("");const fD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ka(n){if(Ut(!!n),"string"==typeof n){let e=0;const t=fD.exec(n);if(Ut(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:H2(n.seconds),nanos:H2(n.nanos)}}function H2(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function za(n){return"string"==typeof n?ei.fromBase64String(n):ei.fromUint8Array(n)}function Lp(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Ep(n){const e=n.mapValue.fields.__previous_value__;return Lp(e)?Ep(e):e}function w0(n){const e=ka(n.mapValue.fields.__local_write_time__.timestampValue);return new n1(e.seconds,e.nanos)}const G3={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ed={nullValue:"NULL_VALUE"};function b4(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Lp(n)?4:MC(n)?9007199254740991:10:Dt()}function Cs(n,e){if(n===e)return!0;const t=b4(n);if(t!==b4(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return w0(n).isEqual(w0(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=ka(i.timestampValue),a=ka(r.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,za(n.bytesValue).isEqual(za(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return H2(i.geoPointValue.latitude)===H2(r.geoPointValue.latitude)&&H2(i.geoPointValue.longitude)===H2(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return H2(i.integerValue)===H2(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=H2(i.doubleValue),a=H2(r.doubleValue);return s===a?Da(s)===Da(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return v4(n.arrayValue.values||[],e.arrayValue.values||[],Cs);case 10:return function(i,r){const s=i.mapValue.fields||{},a=r.mapValue.fields||{};if(mC(s)!==mC(a))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(void 0===a[c]||!Cs(s[c],a[c])))return!1;return!0}(n,e);default:return Dt()}var r}function m5(n,e){return void 0!==(n.values||[]).find(t=>Cs(t,e))}function Aa(n,e){if(n===e)return 0;const t=b4(n),i=b4(e);if(t!==i)return mn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return mn(n.booleanValue,e.booleanValue);case 2:return function(r,s){const a=H2(r.integerValue||r.doubleValue),c=H2(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return yC(n.timestampValue,e.timestampValue);case 4:return yC(w0(n),w0(e));case 5:return mn(n.stringValue,e.stringValue);case 6:return function(r,s){const a=za(r),c=za(s);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(r,s){const a=r.split("/"),c=s.split("/");for(let d=0;d<a.length&&d<c.length;d++){const h=mn(a[d],c[d]);if(0!==h)return h}return mn(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,s){const a=mn(H2(r.latitude),H2(s.latitude));return 0!==a?a:mn(H2(r.longitude),H2(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,s){const a=r.values||[],c=s.values||[];for(let d=0;d<a.length&&d<c.length;++d){const h=Aa(a[d],c[d]);if(h)return h}return mn(a.length,c.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===G3.mapValue&&s===G3.mapValue)return 0;if(r===G3.mapValue)return 1;if(s===G3.mapValue)return-1;const a=r.fields||{},c=Object.keys(a),d=s.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let g=0;g<c.length&&g<h.length;++g){const y=mn(c[g],h[g]);if(0!==y)return y;const M=Aa(a[c[g]],d[h[g]]);if(0!==M)return M}return mn(c.length,h.length)}(n.mapValue,e.mapValue);default:throw Dt()}}function yC(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return mn(n,e);const t=ka(n),i=ka(e),r=mn(t.seconds,i.seconds);return 0!==r?r:mn(t.nanos,i.nanos)}function x0(n){return Vp(n)}function Vp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=ka(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?za(n.bytesValue).toBase64():"referenceValue"in n?_t.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const a of i.values||[])s?s=!1:r+=",",r+=Vp(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",a=!0;for(const c of r)a?a=!1:s+=",",s+=`${c}:${Vp(i.fields[c])}`;return s+"}"}(n.mapValue):Dt();var e}function M4(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Ip(n){return!!n&&"integerValue"in n}function g5(n){return!!n&&"arrayValue"in n}function CC(n){return!!n&&"nullValue"in n}function bC(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function _5(n){return!!n&&"mapValue"in n}function S0(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return q3(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=S0(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=S0(n.arrayValue.values[t]);return e}return Object.assign({},n)}function MC(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function hD(n){return"nullValue"in n?Ed:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?M4(C4.empty(),_t.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Dt()}function wC(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?M4(C4.empty(),_t.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?G3:Dt()}function xC(n,e){const t=Aa(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function SC(n,e){const t=Aa(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class $3{constructor(e,t){this.position=e,this.inclusive=t}}function Vd(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],a=n.position[r];if(i=s.field.isKeyField()?_t.comparator(_t.fromName(a.referenceValue),t.key):Aa(a,t.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function Id(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Cs(n.position[t],e.position[t]))return!1;return!0}class Np{}class Ln extends Np{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new DC(e,t,i):"array-contains"===t?new gD(e,i):"in"===t?new Bp(e,i):"not-in"===t?new Up(e,i):"array-contains-any"===t?new kC(e,i):new Ln(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new Fp(e,i):new mD(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Aa(t,this.value)):null!==t&&b4(this.value)===b4(t)&&this.matchesComparison(Aa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Dt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class w1 extends Np{constructor(e,t){super(),this.filters=e,this.op=t,this.ft=null}static create(e,t){return new w1(e,t)}matches(e){return T0(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ft||(this.ft=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ft}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.dt(t=>t.isInequality());return null!==e?e.field:null}dt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function T0(n){return"and"===n.op}function v5(n){return"or"===n.op}function Pp(n){return Rp(n)&&T0(n)}function Rp(n){for(const e of n.filters)if(e instanceof w1)return!1;return!0}function Z3(n){if(n instanceof Ln)return n.field.canonicalString()+n.op.toString()+x0(n.value);if(Pp(n))return n.filters.map(e=>Z3(e)).join(",");{const e=n.filters.map(t=>Z3(t)).join(",");return`${n.op}(${e})`}}function Op(n,e){return n instanceof Ln?(t=n,(i=e)instanceof Ln&&t.op===i.op&&t.field.isEqual(i.field)&&Cs(t.value,i.value)):n instanceof w1?function(t,i){return i instanceof w1&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,s,a)=>r&&Op(s,i.filters[a]),!0)}(n,e):void Dt();var t,i}function TC(n,e){const t=n.filters.concat(e);return w1.create(t,n.op)}function pD(n){return n instanceof Ln?`${(e=n).field.canonicalString()} ${e.op} ${x0(e.value)}`:n instanceof w1?function(e){return e.op.toString()+" {"+e.getFilters().map(pD).join(" ,")+"}"}(n):"Filter";var e}class DC extends Ln{constructor(e,t,i){super(e,t,i),this.key=_t.fromName(i.referenceValue)}matches(e){const t=_t.comparator(e.key,this.key);return this.matchesComparison(t)}}class Fp extends Ln{constructor(e,t){super(e,"in",t),this.keys=Nd(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class mD extends Ln{constructor(e,t){super(e,"not-in",t),this.keys=Nd(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Nd(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>_t.fromName(i.referenceValue))}class gD extends Ln{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return g5(t)&&m5(t.arrayValue,this.value)}}class Bp extends Ln{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&m5(this.value.arrayValue,t)}}class Up extends Ln{constructor(e,t){super(e,"not-in",t)}matches(e){if(m5(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!m5(this.value.arrayValue,t)}}class kC extends Ln{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!g5(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>m5(this.value.arrayValue,i))}}class w4{constructor(e,t="asc"){this.field=e,this.dir=t}}function zC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class v2{constructor(e,t){this.comparator=e,this.root=t||Ri.EMPTY}insert(e,t){return new v2(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ri.BLACK,null,null))}remove(e){return new v2(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ri.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pd(this.root,e,this.comparator,!0)}}class Pd{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ri{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??Ri.RED,this.left=r??Ri.EMPTY,this.right=s??Ri.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new Ri(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ri.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ri.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ri.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ri.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Dt();const e=this.left.check();if(e!==this.right.check())throw Dt();return e+(this.isRed()?0:1)}}Ri.EMPTY=null,Ri.RED=!0,Ri.BLACK=!1,Ri.EMPTY=new class{constructor(){this.size=0}get key(){throw Dt()}get value(){throw Dt()}get color(){throw Dt()}get left(){throw Dt()}get right(){throw Dt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Ri(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class T1{constructor(e){this.comparator=e,this.data=new v2(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new AC(this.data.getIterator())}getIteratorFrom(e){return new AC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof T1)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new T1(this.comparator);return t.data=e,t}}class AC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function x4(n){return n.hasNext()?n.getNext():void 0}class Gr{constructor(e){this.fields=e,e.sort(A2.comparator)}static empty(){return new Gr([])}unionWith(e){let t=new T1(A2.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Gr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return v4(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class ci{constructor(e){this.value=e}static empty(){return new ci({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!_5(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=S0(t)}setAll(e){let t=A2.emptyPath(),i={},r=[];e.forEach((a,c)=>{if(!t.isImmediateParentOf(c)){const d=this.getFieldsMap(t);this.applyChanges(d,i,r),i={},r=[],t=c.popLast()}a?i[c.lastSegment()]=S0(a):r.push(c.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());_5(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Cs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];_5(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){q3(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new ci(S0(this.value))}}function HC(n){const e=[];return q3(n.fields,(t,i)=>{const r=new A2([t]);if(_5(i)){const s=HC(i.mapValue).fields;if(0===s.length)e.push(r);else for(const a of s)e.push(r.child(a))}else e.push(r)}),new Gr(e)}class G1{constructor(e,t,i,r,s,a,c){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=c}static newInvalidDocument(e){return new G1(e,0,$t.min(),$t.min(),$t.min(),ci.empty(),0)}static newFoundDocument(e,t,i,r){return new G1(e,1,t,$t.min(),i,r,0)}static newNoDocument(e,t){return new G1(e,2,t,$t.min(),$t.min(),ci.empty(),0)}static newUnknownDocument(e,t){return new G1(e,3,t,$t.min(),$t.min(),ci.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual($t.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ci.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ci.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof G1&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new G1(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class UN{constructor(e,t=null,i=[],r=[],s=null,a=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=c,this._t=null}}function jp(n,e=null,t=[],i=[],r=null,s=null,a=null){return new UN(n,e,t,i,r,s,a)}function S4(n){const e=yt(n);if(null===e._t){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Z3(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),p5(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>x0(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>x0(i)).join(",")),e._t=t}return e._t}function D0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!zC(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Op(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Id(n.startAt,e.startAt)&&Id(n.endAt,e.endAt)}function y5(n){return _t.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Rd(n,e){return n.filters.filter(t=>t instanceof Ln&&t.field.isEqual(e))}function LC(n,e,t){let i=Ed,r=!0;for(const s of Rd(n,e)){let a=Ed,c=!0;switch(s.op){case"<":case"<=":a=hD(s.value);break;case"==":case"in":case">=":a=s.value;break;case">":a=s.value,c=!1;break;case"!=":case"not-in":a=Ed}xC({value:i,inclusive:r},{value:a,inclusive:c})<0&&(i=a,r=c)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const a=t.position[s];xC({value:i,inclusive:r},{value:a,inclusive:t.inclusive})<0&&(i=a,r=t.inclusive);break}return{value:i,inclusive:r}}function EC(n,e,t){let i=G3,r=!0;for(const s of Rd(n,e)){let a=G3,c=!0;switch(s.op){case">=":case">":a=wC(s.value),c=!1;break;case"==":case"in":case"<=":a=s.value;break;case"<":a=s.value,c=!1;break;case"!=":case"not-in":a=G3}SC({value:i,inclusive:r},{value:a,inclusive:c})>0&&(i=a,r=c)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const a=t.position[s];SC({value:i,inclusive:r},{value:a,inclusive:t.inclusive})>0&&(i=a,r=t.inclusive);break}return{value:i,inclusive:r}}class Ha{constructor(e,t=null,i=[],r=[],s=null,a="F",c=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=c,this.endAt=d,this.wt=null,this.gt=null}}function VC(n,e,t,i,r,s,a,c){return new Ha(n,e,t,i,r,s,a,c)}function k0(n){return new Ha(n)}function IC(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Wp(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function K3(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Od(n){return null!==n.collectionGroup}function Q3(n){const e=yt(n);if(null===e.wt){e.wt=[];const t=K3(e),i=Wp(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new w4(t)),e.wt.push(new w4(A2.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new w4(A2.keyField(),s))}}}return e.wt}function Ki(n){const e=yt(n);if(!e.gt)if("F"===e.limitType)e.gt=jp(e.path,e.collectionGroup,Q3(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Q3(e))t.push(new w4(s.field,"desc"===s.dir?"asc":"desc"));const i=e.endAt?new $3(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new $3(e.startAt.position,e.startAt.inclusive):null;e.gt=jp(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.gt}function Fd(n,e){e.getFirstInequalityField(),K3(n);const t=n.filters.concat([e]);return new Ha(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function C5(n,e,t){return new Ha(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function z0(n,e){return D0(Ki(n),Ki(e))&&n.limitType===e.limitType}function NC(n){return`${S4(Ki(n))}|lt:${n.limitType}`}function PC(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>pD(i)).join(", ")}]`),p5(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>x0(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>x0(i)).join(",")),`Target(${t})`}(Ki(n))}; limitType=${n.limitType})`}function A0(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):_t.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of Q3(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,s,a){const c=Vd(r,s,a);return r.inclusive?c<=0:c<0}(t.startAt,Q3(t),i)||t.endAt&&!function(r,s,a){const c=Vd(r,s,a);return r.inclusive?c>=0:c>0}(t.endAt,Q3(t),i)));var t,i}function Yp(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function RC(n){return(e,t)=>{let i=!1;for(const r of Q3(n)){const s=_D(r,e,t);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function _D(n,e,t){const i=n.field.isKeyField()?_t.comparator(e.key,t.key):function(r,s,a){const c=s.data.field(r),d=a.data.field(r);return null!==c&&null!==d?Aa(c,d):Dt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Dt()}}function OC(n,e){if(n.yt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Da(e)?"-0":e}}function H0(n){return{integerValue:""+n}}function FC(n,e){return _C(e)?H0(e):OC(n,e)}class L0{constructor(){this._=void 0}}function zo(n,e,t){return n instanceof Ao?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(t,e):n instanceof T4?BC(n,e):n instanceof D4?b5(n,e):function(i,r){const s=Bd(i,r),a=UC(s)+UC(i.It);return Ip(s)&&Ip(i.It)?H0(a):OC(i.Tt,a)}(n,e)}function vD(n,e,t){return n instanceof T4?BC(n,e):n instanceof D4?b5(n,e):t}function Bd(n,e){return n instanceof La?Ip(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Ao extends L0{}class T4 extends L0{constructor(e){super(),this.elements=e}}function BC(n,e){const t=jC(e);for(const i of n.elements)t.some(r=>Cs(r,i))||t.push(i);return{arrayValue:{values:t}}}class D4 extends L0{constructor(e){super(),this.elements=e}}function b5(n,e){let t=jC(e);for(const i of n.elements)t=t.filter(r=>!Cs(r,i));return{arrayValue:{values:t}}}class La extends L0{constructor(e,t){super(),this.Tt=e,this.It=t}}function UC(n){return H2(n.integerValue||n.doubleValue)}function jC(n){return g5(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class E0{constructor(e,t){this.field=e,this.transform=t}}class qp{constructor(e,t){this.version=e,this.transformResults=t}}class $1{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new $1}static exists(e){return new $1(void 0,e)}static updateTime(e){return new $1(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function V0(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class I0{}function Gp(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new z4(n.key,$1.none()):new N0(n.key,n.data,$1.none());{const t=n.data,i=ci.empty();let r=new T1(A2.comparator);for(let s of e.fields)if(!r.has(s)){let a=t.field(s);null===a&&s.length>1&&(s=s.popLast(),a=t.field(s)),null===a?i.delete(s):i.set(s,a),r=r.add(s)}return new Ea(n.key,i,new Gr(r.toArray()),$1.none())}}function $p(n,e,t){n instanceof N0?function(i,r,s){const a=i.value.clone(),c=Ud(i.fieldTransforms,r,s.transformResults);a.setAll(c),r.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Ea?function(i,r,s){if(!V0(i.precondition,r))return void r.convertToUnknownDocument(s.version);const a=Ud(i.fieldTransforms,r,s.transformResults),c=r.data;c.setAll(Zp(i)),c.setAll(a),r.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function k4(n,e,t,i){return n instanceof N0?function(r,s,a,c){if(!V0(r.precondition,s))return a;const d=r.value.clone(),h=Kp(r.fieldTransforms,c,s);return d.setAll(h),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null}(n,e,t,i):n instanceof Ea?function(r,s,a,c){if(!V0(r.precondition,s))return a;const d=Kp(r.fieldTransforms,c,s),h=s.data;return h.setAll(Zp(r)),h.setAll(d),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null===a?null:a.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(g=>g.field))}(n,e,t,i):(a=t,V0(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function yD(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=Bd(i.transform,r||null);null!=s&&(null===t&&(t=ci.empty()),t.set(i.field,s))}return t||null}function YC(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&v4(t,i,(r,s)=>function WC(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof T4&&i instanceof T4||t instanceof D4&&i instanceof D4?v4(t.elements,i.elements,Cs):t instanceof La&&i instanceof La?Cs(t.It,i.It):t instanceof Ao&&i instanceof Ao);var t,i}(r,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class N0 extends I0{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ea extends I0{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Zp(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Ud(n,e,t){const i=new Map;Ut(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],a=s.transform,c=e.data.field(s.field);i.set(s.field,vD(a,c,t[r]))}return i}function Kp(n,e,t){const i=new Map;for(const r of n){const s=r.transform,a=t.data.field(r.field);i.set(r.field,zo(s,a,e))}return i}class z4 extends I0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jd extends I0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qC{constructor(e){this.count=e}}var ti,Wn;function Qp(n){switch(n){default:return Dt();case xe.CANCELLED:case xe.UNKNOWN:case xe.DEADLINE_EXCEEDED:case xe.RESOURCE_EXHAUSTED:case xe.INTERNAL:case xe.UNAVAILABLE:case xe.UNAUTHENTICATED:return!1;case xe.INVALID_ARGUMENT:case xe.NOT_FOUND:case xe.ALREADY_EXISTS:case xe.PERMISSION_DENIED:case xe.FAILED_PRECONDITION:case xe.ABORTED:case xe.OUT_OF_RANGE:case xe.UNIMPLEMENTED:case xe.DATA_LOSS:return!0}}function GC(n){if(void 0===n)return j2("GRPC error has no .code"),xe.UNKNOWN;switch(n){case ti.OK:return xe.OK;case ti.CANCELLED:return xe.CANCELLED;case ti.UNKNOWN:return xe.UNKNOWN;case ti.DEADLINE_EXCEEDED:return xe.DEADLINE_EXCEEDED;case ti.RESOURCE_EXHAUSTED:return xe.RESOURCE_EXHAUSTED;case ti.INTERNAL:return xe.INTERNAL;case ti.UNAVAILABLE:return xe.UNAVAILABLE;case ti.UNAUTHENTICATED:return xe.UNAUTHENTICATED;case ti.INVALID_ARGUMENT:return xe.INVALID_ARGUMENT;case ti.NOT_FOUND:return xe.NOT_FOUND;case ti.ALREADY_EXISTS:return xe.ALREADY_EXISTS;case ti.PERMISSION_DENIED:return xe.PERMISSION_DENIED;case ti.FAILED_PRECONDITION:return xe.FAILED_PRECONDITION;case ti.ABORTED:return xe.ABORTED;case ti.OUT_OF_RANGE:return xe.OUT_OF_RANGE;case ti.UNIMPLEMENTED:return xe.UNIMPLEMENTED;case ti.DATA_LOSS:return xe.DATA_LOSS;default:return Dt()}}(Wn=ti||(ti={}))[Wn.OK=0]="OK",Wn[Wn.CANCELLED=1]="CANCELLED",Wn[Wn.UNKNOWN=2]="UNKNOWN",Wn[Wn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wn[Wn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wn[Wn.NOT_FOUND=5]="NOT_FOUND",Wn[Wn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wn[Wn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wn[Wn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wn[Wn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wn[Wn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wn[Wn.ABORTED=10]="ABORTED",Wn[Wn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wn[Wn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wn[Wn.INTERNAL=13]="INTERNAL",Wn[Wn.UNAVAILABLE=14]="UNAVAILABLE",Wn[Wn.DATA_LOSS=15]="DATA_LOSS";class Va{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){q3(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return gC(this.inner)}size(){return this.innerSize}}const CD=new v2(_t.comparator);function D1(){return CD}const A4=new v2(_t.comparator);function M5(...n){let e=A4;for(const t of n)e=e.insert(t.key,t);return e}function $C(n){let e=A4;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ia(){return P0()}function bD(){return P0()}function P0(){return new Va(n=>n.toString(),(n,e)=>n.isEqual(e))}const Jp=new v2(_t.comparator),w5=new T1(_t.comparator);function Dn(...n){let e=w5;for(const t of n)e=e.add(t);return e}const Xp=new T1(mn);function Wd(){return Xp}class R0{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,x5.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new R0($t.min(),r,Wd(),D1(),Dn())}}class x5{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new x5(i,t,Dn(),Dn(),Dn())}}class Yd{constructor(e,t,i,r){this.Et=e,this.removedTargetIds=t,this.key=i,this.At=r}}class ZC{constructor(e,t){this.targetId=e,this.Rt=t}}class qd{constructor(e,t,i=ei.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class em{constructor(){this.Pt=0,this.vt=Gd(),this.bt=ei.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}get current(){return this.Vt}get resumeToken(){return this.bt}get Dt(){return 0!==this.Pt}get Ct(){return this.St}xt(e){e.approximateByteSize()>0&&(this.St=!0,this.bt=e)}Nt(){let e=Dn(),t=Dn(),i=Dn();return this.vt.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Dt()}}),new x5(this.bt,this.Vt,e,t,i)}kt(){this.St=!1,this.vt=Gd()}$t(e,t){this.St=!0,this.vt=this.vt.insert(e,t)}Mt(e){this.St=!0,this.vt=this.vt.remove(e)}Ot(){this.Pt+=1}Ft(){this.Pt-=1}Bt(){this.St=!0,this.Vt=!0}}class KC{constructor(e){this.Lt=e,this.qt=new Map,this.Ut=D1(),this.Kt=S5(),this.Gt=new T1(mn)}Qt(e){for(const t of e.Et)e.At&&e.At.isFoundDocument()?this.jt(t,e.At):this.zt(t,e.key,e.At);for(const t of e.removedTargetIds)this.zt(t,e.key,e.At)}Wt(e){this.forEachTarget(e,t=>{const i=this.Ht(t);switch(e.state){case 0:this.Jt(t)&&i.xt(e.resumeToken);break;case 1:i.Ft(),i.Dt||i.kt(),i.xt(e.resumeToken);break;case 2:i.Ft(),i.Dt||this.removeTarget(t);break;case 3:this.Jt(t)&&(i.Bt(),i.xt(e.resumeToken));break;case 4:this.Jt(t)&&(this.Yt(t),i.xt(e.resumeToken));break;default:Dt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qt.forEach((i,r)=>{this.Jt(r)&&t(r)})}Zt(e){const t=e.targetId,i=e.Rt.count,r=this.Xt(t);if(r){const s=r.target;if(y5(s))if(0===i){const a=new _t(s.path);this.zt(t,a,G1.newNoDocument(a,$t.min()))}else Ut(1===i);else this.te(t)!==i&&(this.Yt(t),this.Gt=this.Gt.add(t))}}ee(e){const t=new Map;this.qt.forEach((s,a)=>{const c=this.Xt(a);if(c){if(s.current&&y5(c.target)){const d=new _t(c.target.path);null!==this.Ut.get(d)||this.ne(a,d)||this.zt(a,d,G1.newNoDocument(d,e))}s.Ct&&(t.set(a,s.Nt()),s.kt())}});let i=Dn();this.Kt.forEach((s,a)=>{let c=!0;a.forEachWhile(d=>{const h=this.Xt(d);return!h||2===h.purpose||(c=!1,!1)}),c&&(i=i.add(s))}),this.Ut.forEach((s,a)=>a.setReadTime(e));const r=new R0(e,t,this.Gt,this.Ut,i);return this.Ut=D1(),this.Kt=S5(),this.Gt=new T1(mn),r}jt(e,t){if(!this.Jt(e))return;const i=this.ne(e,t.key)?2:0;this.Ht(e).$t(t.key,i),this.Ut=this.Ut.insert(t.key,t),this.Kt=this.Kt.insert(t.key,this.se(t.key).add(e))}zt(e,t,i){if(!this.Jt(e))return;const r=this.Ht(e);this.ne(e,t)?r.$t(t,1):r.Mt(t),this.Kt=this.Kt.insert(t,this.se(t).delete(e)),i&&(this.Ut=this.Ut.insert(t,i))}removeTarget(e){this.qt.delete(e)}te(e){const t=this.Ht(e).Nt();return this.Lt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Ht(e).Ot()}Ht(e){let t=this.qt.get(e);return t||(t=new em,this.qt.set(e,t)),t}se(e){let t=this.Kt.get(e);return t||(t=new T1(mn),this.Kt=this.Kt.insert(e,t)),t}Jt(e){const t=null!==this.Xt(e);return t||Qe("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.qt.get(e);return t&&t.Dt?null:this.Lt.ie(e)}Yt(e){this.qt.set(e,new em),this.Lt.getRemoteKeysForTarget(e).forEach(t=>{this.zt(e,t,null)})}ne(e,t){return this.Lt.getRemoteKeysForTarget(e).has(t)}}function S5(){return new v2(_t.comparator)}function Gd(){return new v2(_t.comparator)}const jN={asc:"ASCENDING",desc:"DESCENDING"},QC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MD={and:"AND",or:"OR"};class JC{constructor(e,t){this.databaseId=e,this.yt=t}}function Bs(n,e){return n.yt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XC(n,e){return n.yt?e.toBase64():e.toUint8Array()}function eb(n,e){return Bs(n,e.toTimestamp())}function y2(n){return Ut(!!n),$t.fromTimestamp(function(e){const t=ka(e);return new n1(t.seconds,t.nanos)}(n))}function tb(n,e){return(t=n,new Kn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function nb(n){const e=Kn.fromString(n);return Ut(DD(e)),e}function $d(n,e){return tb(n.databaseId,e.path)}function Ho(n,e){const t=nb(e);if(t.get(1)!==n.databaseId.projectId)throw new fe(xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new fe(xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _t(nm(t))}function tm(n,e){return tb(n.databaseId,e)}function ib(n){const e=nb(n);return 4===e.length?Kn.emptyPath():nm(e)}function O0(n){return new Kn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function nm(n){return Ut(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function rb(n,e,t){return{name:$d(n,e),fields:t.value.mapValue.fields}}function im(n,e,t){const i=Ho(n,e.name),r=y2(e.updateTime),s=e.createTime?y2(e.createTime):$t.min(),a=new ci({mapValue:{fields:e.fields}}),c=G1.newFoundDocument(i,r,s,a);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function T5(n,e){let t;if(e instanceof N0)t={update:rb(n,e.key,e.value)};else if(e instanceof z4)t={delete:$d(n,e.key)};else if(e instanceof Ea)t={update:rb(n,e.key,e.data),updateMask:YN(e.fieldMask)};else{if(!(e instanceof jd))return Dt();t={verify:$d(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const a=s.transform;if(a instanceof Ao)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof T4)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof D4)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof La)return{fieldPath:s.field.canonicalString(),increment:a.It};throw Dt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:eb(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:Dt()),t;var r}function Zd(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?$1.updateTime(y2(r.updateTime)):void 0!==r.exists?$1.exists(r.exists):$1.none():$1.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,a){let c=null;"setToServerValue"in a?(Ut("REQUEST_TIME"===a.setToServerValue),c=new Ao):"appendMissingElements"in a?c=new T4(a.appendMissingElements.values||[]):"removeAllFromArray"in a?c=new D4(a.removeAllFromArray.values||[]):"increment"in a?c=new La(s,a.increment):Dt();const d=A2.fromServerFormat(a.fieldPath);return new E0(d,c)}(n,r)):[];var r;if(e.update){const r=Ho(n,e.update.name),s=new ci({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=new Gr((e.updateMask.fieldPaths||[]).map(h=>A2.fromServerFormat(h)));return new Ea(r,s,a,t,i)}return new N0(r,s,t,i)}if(e.delete){const r=Ho(n,e.delete);return new z4(r,t)}if(e.verify){const r=Ho(n,e.verify);return new jd(r,t)}return Dt()}function rm(n,e){return{documents:[tm(n,e.path)]}}function Kd(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=tm(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=tm(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(d){if(0!==d.length)return TD(w1.create(d,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const s=function(d){if(0!==d.length)return d.map(h=>{return{field:H4((g=h).field),direction:SD(g.dir)};var g})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const a=(h=e.limit,n.yt||p5(h)?h:{value:h});var h,c,d;return null!==a&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(t.structuredQuery.endAt={before:!(d=e.endAt).inclusive,values:d.position}),t}function sm(n){let e=ib(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Ut(1===i);const g=t.from[0];g.allDescendants?r=g.collectionId:e=e.child(g.collectionId)}let s=[];t.where&&(s=function(g){const y=ab(g);return y instanceof w1&&Pp(y)?y.getFilters():[y]}(t.where));let a=[];t.orderBy&&(a=t.orderBy.map(g=>{return new w4(D5((y=g).field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction));var y}));let c=null;t.limit&&(c=function(g){let y;return y="object"==typeof g?g.value:g,p5(y)?null:y}(t.limit));let d=null;var g;t.startAt&&(d=new $3((g=t.startAt).values||[],!!g.before));let h=null;return t.endAt&&(h=function(g){return new $3(g.values||[],!g.before)}(t.endAt)),VC(e,r,a,s,c,"F",d,h)}function ab(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=D5(e.unaryFilter.field);return Ln.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=D5(e.unaryFilter.field);return Ln.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=D5(e.unaryFilter.field);return Ln.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=D5(e.unaryFilter.field);return Ln.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Dt()}}(n):void 0!==n.fieldFilter?Ln.create(D5((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Dt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return w1.create(e.compositeFilter.filters.map(t=>ab(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Dt()}}(e.compositeFilter.op))}(n):Dt();var e}function SD(n){return jN[n]}function WN(n){return QC[n]}function cb(n){return MD[n]}function H4(n){return{fieldPath:n.canonicalString()}}function D5(n){return A2.fromServerFormat(n.fieldPath)}function TD(n){return n instanceof Ln?function(e){if("=="===e.op){if(bC(e.value))return{unaryFilter:{field:H4(e.field),op:"IS_NAN"}};if(CC(e.value))return{unaryFilter:{field:H4(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(bC(e.value))return{unaryFilter:{field:H4(e.field),op:"IS_NOT_NAN"}};if(CC(e.value))return{unaryFilter:{field:H4(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:H4(e.field),op:WN(e.op),value:e.value}}}(n):n instanceof w1?function(e){const t=e.getFilters().map(i=>TD(i));return 1===t.length?t[0]:{compositeFilter:{op:cb(e.op),filters:t}}}(n):Dt()}function YN(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function DD(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function xr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=kD(e)),e=qN(n.get(t),e);return kD(e)}function qN(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function kD(n){return n+"\x01\x01"}function $r(n){const e=n.length;if(Ut(e>=2),2===e)return Ut("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Kn.emptyPath();const t=e-2,i=[];let r="";for(let s=0;s<e;){const a=n.indexOf("\x01",s);switch((a<0||a>t)&&Dt(),n.charAt(a+1)){case"\x01":const c=n.substring(s,a);let d;0===r.length?d=c:(r+=c,d=r,r=""),i.push(d);break;case"\x10":r+=n.substring(s,a),r+="\0";break;case"\x11":r+=n.substring(s,a+1);break;default:Dt()}s=a+2}return new Kn(i)}const zD=["userId","batchId"];function k5(n,e){return[n,xr(e)]}function z5(n,e,t){return[n,xr(e),t]}const lb={},ub=["prefixPath","collectionGroup","readTime","documentId"],GN=["prefixPath","collectionGroup","documentId"],om=["collectionGroup","readTime","prefixPath","documentId"],db=["canonicalId","targetId"],AD=["targetId","path"],$N=["path","targetId"],HD=["collectionId","parent"],LD=["indexId","uid"],ED=["uid","sequenceNumber"],Qd=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],VD=["indexId","uid","orderedDocumentKey"],ZN=["userId","collectionPath","documentId"],KN=["userId","collectionPath","largestBatchId"],QN=["userId","collectionGroup","largestBatchId"],fb=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ID=[...fb,"documentOverlays"],hb=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ND=hb,PD=[...ND,"indexConfiguration","indexState","indexEntries"];class Jd extends kp{constructor(e,t){super(),this.re=e,this.currentSequenceNumber=t}}function li(n,e){const t=yt(n);return Fs.M(t.re,e)}class pb{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&$p(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=k4(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=k4(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=bD();return this.mutations.forEach(r=>{const s=e.get(r.key),a=s.overlayedDocument;let c=this.applyToLocalView(a,s.mutatedFields);c=t.has(r.key)?null:c;const d=Gp(a,c);null!==d&&i.set(r.key,d),a.isValidDocument()||a.convertToNoDocument($t.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Dn())}isEqual(e){return this.batchId===e.batchId&&v4(this.mutations,e.mutations,(t,i)=>YC(t,i))&&v4(this.baseMutations,e.baseMutations,(t,i)=>YC(t,i))}}class Zr{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Ut(e.mutations.length===i.length);let r=Jp;const s=e.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new Zr(e,t,i,r)}}class am{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Lo{constructor(e,t,i,r,s=$t.min(),a=$t.min(),c=ei.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c}withSequenceNumber(e){return new Lo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Lo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class mb{constructor(e){this.oe=e}}function Kr(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Xd(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:$d(r=n.oe,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:Bs(r,s.version.toTimestamp()),createTime:Bs(r,s.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Na(e.version)};else{if(!e.isUnknownDocument())return Dt();i.unknownDocument={path:t.path.toArray(),version:Na(e.version)}}var r,s;return i}function Xd(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Na(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function L4(n){const e=new n1(n.seconds,n.nanoseconds);return $t.fromTimestamp(e)}function E4(n,e){const t=(e.baseMutations||[]).map(s=>Zd(n.oe,s));for(let s=0;s<e.mutations.length-1;++s)s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(e.mutations[s].updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s);const i=e.mutations.map(s=>Zd(n.oe,s)),r=n1.fromMillis(e.localWriteTimeMs);return new pb(e.batchId,r,t,i)}function V4(n){const e=L4(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?L4(n.lastLimboFreeSnapshotVersion):$t.min();let i;var r;return void 0!==n.query.documents?(Ut(1===(r=n.query).documents.length),i=Ki(k0(ib(r.documents[0])))):i=Ki(sm(n.query)),new Lo(i,n.targetId,0,n.lastListenSequenceNumber,e,t,ei.fromBase64String(n.resumeToken))}function cm(n,e){const t=Na(e.snapshotVersion),i=Na(e.lastLimboFreeSnapshotVersion);let r;r=y5(e.target)?rm(n.oe,e.target):Kd(n.oe,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:S4(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function ef(n){const e=sm({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?C5(e,e.limit,"L"):e}function lm(n,e){return new am(e.largestBatchId,Zd(n.oe,e.overlayMutation))}function um(n,e){const t=e.path.lastSegment();return[n,xr(e.path.popLast()),t]}function dm(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Na(i.readTime),documentKey:xr(i.documentKey.path),largestBatchId:i.largestBatchId}}class RD{getBundleMetadata(e,t){return fm(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:L4(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return fm(e).put({bundleId:(i=t).id,createTime:Na(y2(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return gb(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:ef(r.bundledQuery),readTime:L4(r.readTime)};var r})}saveNamedQuery(e,t){return gb(e).put({name:(i=t).name,readTime:Na(y2(i.readTime)),bundledQuery:i.bundledQuery});var i}}function fm(n){return li(n,"bundles")}function gb(n){return li(n,"namedQueries")}class F0{constructor(e,t){this.Tt=e,this.userId=t}static ue(e,t){return new F0(e,t.uid||"")}getOverlay(e,t){return Qr(e).get(um(this.userId,t)).next(i=>i?lm(this.Tt,i):null)}getOverlays(e,t){const i=Ia();return Ce.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((s,a)=>{const c=new am(t,a);r.push(this.ce(e,c))}),Ce.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(a=>r.add(xr(a.getCollectionPath())));const s=[];return r.forEach(a=>{const c=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,i+1],!1,!0);s.push(Qr(e).Y("collectionPathOverlayIndex",c))}),Ce.waitFor(s)}getOverlaysForCollection(e,t,i){const r=Ia(),s=xr(t),a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Qr(e).W("collectionPathOverlayIndex",a).next(c=>{for(const d of c){const h=lm(this.Tt,d);r.set(h.getKey(),h)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const s=Ia();let a;const c=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Qr(e).X({index:"collectionGroupOverlayIndex",range:c},(d,h,g)=>{const y=lm(this.Tt,h);s.size()<r||y.largestBatchId===a?(s.set(y.getKey(),y),a=y.largestBatchId):g.done()}).next(()=>s)}ce(e,t){return Qr(e).put(function(i,r,s){const[a,c,d]=um(r,s.mutation.key);return{userId:r,collectionPath:c,documentId:d,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:T5(i.oe,s.mutation)}}(this.Tt,this.userId,t))}}function Qr(n){return li(n,"documentOverlays")}class Sr{constructor(){}ae(e,t){this.he(e,t),t.le()}he(e,t){if("nullValue"in e)this.fe(t,5);else if("booleanValue"in e)this.fe(t,10),t.de(e.booleanValue?1:0);else if("integerValue"in e)this.fe(t,15),t.de(H2(e.integerValue));else if("doubleValue"in e){const i=H2(e.doubleValue);isNaN(i)?this.fe(t,13):(this.fe(t,15),Da(i)?t.de(0):t.de(i))}else if("timestampValue"in e){const i=e.timestampValue;this.fe(t,20),"string"==typeof i?t._e(i):(t._e(`${i.seconds||""}`),t.de(i.nanos||0))}else if("stringValue"in e)this.we(e.stringValue,t),this.me(t);else if("bytesValue"in e)this.fe(t,30),t.ge(za(e.bytesValue)),this.me(t);else if("referenceValue"in e)this.ye(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.fe(t,45),t.de(i.latitude||0),t.de(i.longitude||0)}else"mapValue"in e?MC(e)?this.fe(t,Number.MAX_SAFE_INTEGER):(this.pe(e.mapValue,t),this.me(t)):"arrayValue"in e?(this.Ie(e.arrayValue,t),this.me(t)):Dt()}we(e,t){this.fe(t,25),this.Te(e,t)}Te(e,t){t._e(e)}pe(e,t){const i=e.fields||{};this.fe(t,55);for(const r of Object.keys(i))this.we(r,t),this.he(i[r],t)}Ie(e,t){const i=e.values||[];this.fe(t,50);for(const r of i)this.he(r,t)}ye(e,t){this.fe(t,37),_t.fromName(e).path.forEach(i=>{this.fe(t,60),this.Te(i,t)})}fe(e,t){e.de(t)}me(e){e.de(2)}}function _b(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function tf(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const s=_b(255&t[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(e/8)}Sr.Ee=new Sr;class vb{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ae(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Re(i.value),i=t.next();this.Pe()}ve(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.be(i.value),i=t.next();this.Ve()}Se(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Re(i);else if(i<2048)this.Re(960|i>>>6),this.Re(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Re(480|i>>>12),this.Re(128|63&i>>>6),this.Re(128|63&i);else{const r=t.codePointAt(0);this.Re(240|r>>>18),this.Re(128|63&r>>>12),this.Re(128|63&r>>>6),this.Re(128|63&r)}}this.Pe()}De(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{const r=t.codePointAt(0);this.be(240|r>>>18),this.be(128|63&r>>>12),this.be(128|63&r>>>6),this.be(128|63&r)}}this.Ve()}Ce(e){const t=this.xe(e),i=tf(t);this.Ne(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}ke(e){const t=this.xe(e),i=tf(t);this.Ne(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}$e(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.Ne(e.length),this.buffer.set(e,this.position),this.position+=e.length}Be(){return this.buffer.slice(0,this.position)}xe(e){const t=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Re(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}be(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Pe(){this.Me(0),this.Me(1)}Ve(){this.Fe(0),this.Fe(1)}Me(e){this.Ne(1),this.buffer[this.position++]=e}Fe(e){this.Ne(1),this.buffer[this.position++]=~e}Ne(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class OD{constructor(e){this.Le=e}ge(e){this.Le.Ae(e)}_e(e){this.Le.Se(e)}de(e){this.Le.Ce(e)}le(){this.Le.$e()}}class XN{constructor(e){this.Le=e}ge(e){this.Le.ve(e)}_e(e){this.Le.De(e)}de(e){this.Le.ke(e)}le(){this.Le.Oe()}}class A5{constructor(){this.Le=new vb,this.qe=new OD(this.Le),this.Ue=new XN(this.Le)}seed(e){this.Le.seed(e)}Ke(e){return 0===e?this.qe:this.Ue}Be(){return this.Le.Be()}reset(){this.Le.reset()}}class I4{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Ge(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new I4(this.indexId,this.documentKey,this.arrayValue,i)}}function J3(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=yb(n.arrayValue,e.arrayValue),0!==t?t:(t=yb(n.directionalValue,e.directionalValue),0!==t?t:_t.comparator(n.documentKey,e.documentKey)))}function yb(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class Cb{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Qe=e.orderBy,this.je=[];for(const t of e.filters){const i=t;i.isInequality()?this.ze=i:this.je.push(i)}}We(e){Ut(e.collectionGroup===this.collectionId);const t=b0(e);if(void 0!==t&&!this.He(t))return!1;const i=W3(e);let r=0,s=0;for(;r<i.length&&this.He(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.ze){const a=i[r];if(!this.Je(this.ze,a)||!this.Ye(this.Qe[s++],a))return!1;++r}for(;r<i.length;++r)if(s>=this.Qe.length||!this.Ye(this.Qe[s++],i[r]))return!1;return!0}He(e){for(const t of this.je)if(this.Je(t,e))return!0;return!1}Je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ye(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function FD(n){var e,t;if(Ut(n instanceof Ln||n instanceof w1),n instanceof Ln){if(n instanceof Bp){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(s=>Ln.create(n.field,"==",s)))||[];return w1.create(r,"or")}return n}const i=n.filters.map(r=>FD(r));return w1.create(i,n.op)}function bb(n){if(0===n.getFilters().length)return[];const e=H5(FD(n));return Ut(BD(e)),hm(e)||nf(e)?[e]:e.getFilters()}function hm(n){return n instanceof Ln}function nf(n){return n instanceof w1&&Pp(n)}function BD(n){return hm(n)||nf(n)||function(e){if(e instanceof w1&&v5(e)){for(const t of e.getFilters())if(!hm(t)&&!nf(t))return!1;return!0}return!1}(n)}function H5(n){if(Ut(n instanceof Ln||n instanceof w1),n instanceof Ln)return n;if(1===n.filters.length)return H5(n.filters[0]);const e=n.filters.map(i=>H5(i));let t=w1.create(e,n.op);return t=L5(t),BD(t)?t:(Ut(t instanceof w1),Ut(T0(t)),Ut(t.filters.length>1),t.filters.reduce((i,r)=>rf(i,r)))}function rf(n,e){let t;return Ut(n instanceof Ln||n instanceof w1),Ut(e instanceof Ln||e instanceof w1),t=n instanceof Ln?e instanceof Ln?w1.create([n,e],"and"):pm(n,e):e instanceof Ln?pm(e,n):function(i,r){if(Ut(i.filters.length>0&&r.filters.length>0),T0(i)&&T0(r))return TC(i,r.getFilters());const s=v5(i)?i:r,a=v5(i)?r:i,c=s.filters.map(d=>rf(d,a));return w1.create(c,"or")}(n,e),L5(t)}function pm(n,e){if(T0(e))return TC(e,n.getFilters());{const t=e.filters.map(i=>rf(n,i));return w1.create(t,"or")}}function L5(n){if(Ut(n instanceof Ln||n instanceof w1),n instanceof Ln)return n;const e=n.getFilters();if(1===e.length)return L5(e[0]);if(Rp(n))return n;const t=e.map(r=>L5(r)),i=[];return t.forEach(r=>{r instanceof Ln?i.push(r):r instanceof w1&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:w1.create(i,n.op)}class Mb{constructor(){this.Ze=new sf}addToCollectionParentIndex(e,t){return this.Ze.add(t),Ce.resolve()}getCollectionParents(e,t){return Ce.resolve(this.Ze.getEntries(t))}addFieldIndex(e,t){return Ce.resolve()}deleteFieldIndex(e,t){return Ce.resolve()}getDocumentsMatchingTarget(e,t){return Ce.resolve(null)}getIndexType(e,t){return Ce.resolve(0)}getFieldIndexes(e,t){return Ce.resolve([])}getNextCollectionGroupToUpdate(e){return Ce.resolve(null)}getMinOffset(e,t){return Ce.resolve(qr.min())}getMinOffsetFromCollectionGroup(e,t){return Ce.resolve(qr.min())}updateCollectionGroup(e,t,i){return Ce.resolve()}updateIndexEntries(e,t){return Ce.resolve()}}class sf{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new T1(Kn.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new T1(Kn.comparator)).toArray()}}const N4=new Uint8Array(0);class af{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new sf,this.tn=new Va(i=>S4(i),(i,r)=>D0(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const s={collectionId:i,parent:xr(r)};return mm(e).put(s)}return Ce.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[Sp(t),""],!1,!0);return mm(e).W(r).next(s=>{for(const a of s){if(a.collectionId!==t)break;i.push($r(a.parent))}return i})}addFieldIndex(e,t){const i=cf(e),r={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var a;delete r.indexId;const s=i.add(r);if(t.indexState){const a=lf(e);return s.next(c=>{a.put(dm(c,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const i=cf(e),r=lf(e),s=E5(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=E5(e);let r=!0;const s=new Map;return Ce.forEach(this.en(t),a=>this.nn(e,a).next(c=>{r&&(r=!!c),s.set(a,c)})).next(()=>{if(r){let a=Dn();const c=[];return Ce.forEach(s,(d,h)=>{var g;Qe("IndexedDbIndexManager",`Using index ${g=d,`id=${g.indexId}|cg=${g.collectionGroup}|f=${g.fields.map(X=>`${X.fieldPath}:${X.kind}`).join(",")}`} to execute ${S4(t)}`);const y=function(X,te){const re=b0(te);if(void 0===re)return null;for(const be of Rd(X,re.fieldPath))switch(be.op){case"array-contains-any":return be.value.arrayValue.values||[];case"array-contains":return[be.value]}return null}(h,d),M=function(X,te){const re=new Map;for(const be of W3(te))for(const Ee of Rd(X,be.fieldPath))switch(Ee.op){case"==":case"in":re.set(be.fieldPath.canonicalString(),Ee.value);break;case"not-in":case"!=":return re.set(be.fieldPath.canonicalString(),Ee.value),Array.from(re.values())}return null}(h,d),S=function(X,te){const re=[];let be=!0;for(const Ee of W3(te)){const rt=0===Ee.kind?LC(X,Ee.fieldPath,X.startAt):EC(X,Ee.fieldPath,X.startAt);re.push(rt.value),be&&(be=rt.inclusive)}return new $3(re,be)}(h,d),k=function(X,te){const re=[];let be=!0;for(const Ee of W3(te)){const rt=0===Ee.kind?EC(X,Ee.fieldPath,X.endAt):LC(X,Ee.fieldPath,X.endAt);re.push(rt.value),be&&(be=rt.inclusive)}return new $3(re,be)}(h,d),A=this.sn(d,h,S),L=this.sn(d,h,k),B=this.rn(d,h,M),G=this.on(d.indexId,y,A,S.inclusive,L,k.inclusive,B);return Ce.forEach(G,X=>i.J(X,t.limit).next(te=>{te.forEach(re=>{const be=_t.fromSegments(re.documentKey);a.has(be)||(a=a.add(be),c.push(be))})}))}).next(()=>c)}return Ce.resolve(null)})}en(e){let t=this.tn.get(e);return t||(t=0===e.filters.length?[e]:bb(w1.create(e.filters,"and")).map(i=>jp(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.tn.set(e,t),t)}on(e,t,i,r,s,a,c){const d=(null!=t?t.length:1)*Math.max(i.length,s.length),h=d/(null!=t?t.length:1),g=[];for(let y=0;y<d;++y){const M=t?this.un(t[y/h]):N4,S=this.cn(e,M,i[y%h],r),k=this.an(e,M,s[y%h],a),A=c.map(L=>this.cn(e,M,L,!0));g.push(...this.createRange(S,k,A))}return g}cn(e,t,i,r){const s=new I4(e,_t.empty(),t,i);return r?s:s.Ge()}an(e,t,i,r){const s=new I4(e,_t.empty(),t,i);return r?s.Ge():s}nn(e,t){const i=new Cb(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(s=>{let a=null;for(const c of s)i.We(c)&&(!a||c.fields.length>a.fields.length)&&(a=c);return a})}getIndexType(e,t){let i=2;const r=this.en(t);return Ce.forEach(r,s=>this.nn(e,s).next(a=>{a?0!==i&&a.fields.length<function(c){let d=new T1(A2.comparator),h=!1;for(const g of c.filters)for(const y of g.getFlattenedFilters())y.field.isKeyField()||("array-contains"===y.op||"array-contains-any"===y.op?h=!0:d=d.add(y.field));for(const g of c.orderBy)g.field.isKeyField()||(d=d.add(g.field));return d.size+(h?1:0)}(s)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}hn(e,t){const i=new A5;for(const r of W3(e)){const s=t.data.field(r.fieldPath);if(null==s)return null;const a=i.Ke(r.kind);Sr.Ee.ae(s,a)}return i.Be()}un(e){const t=new A5;return Sr.Ee.ae(e,t.Ke(0)),t.Be()}ln(e,t){const i=new A5;return Sr.Ee.ae(M4(this.databaseId,t),i.Ke(function(r){const s=W3(r);return 0===s.length?0:s[s.length-1].kind}(e))),i.Be()}rn(e,t,i){if(null===i)return[];let r=[];r.push(new A5);let s=0;for(const a of W3(e)){const c=i[s++];for(const d of r)if(this.fn(t,a.fieldPath)&&g5(c))r=this.dn(r,a,c);else{const h=d.Ke(a.kind);Sr.Ee.ae(c,h)}}return this._n(r)}sn(e,t,i){return this.rn(e,t,i.position)}_n(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Be();return t}dn(e,t,i){const r=[...e],s=[];for(const a of i.arrayValue.values||[])for(const c of r){const d=new A5;d.seed(c.Be()),Sr.Ee.ae(a,d.Ke(t.kind)),s.push(d)}return s}fn(e,t){return!!e.filters.find(i=>i instanceof Ln&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=cf(e),r=lf(e);return(t?i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.W()).next(s=>{const a=[];return Ce.forEach(s,c=>r.get([c.indexId,this.uid]).next(d=>{a.push(function(h,g){const y=g?new Sa(g.sequenceNumber,new qr(L4(g.readTime),new _t($r(g.documentKey)),g.largestBatchId)):Sa.empty(),M=h.fields.map(([S,k])=>new f5(A2.fromServerFormat(S),k));return new Ad(h.indexId,h.collectionGroup,M,y)}(c,d))})).next(()=>a)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:mn(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=cf(e),s=lf(e);return this.wn(e).next(a=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(c=>Ce.forEach(c,d=>s.put(dm(d.indexId,this.user,a,i)))))}updateIndexEntries(e,t){const i=new Map;return Ce.forEach(t,(r,s)=>{const a=i.get(r.collectionGroup);return(a?Ce.resolve(a):this.getFieldIndexes(e,r.collectionGroup)).next(c=>(i.set(r.collectionGroup,c),Ce.forEach(c,d=>this.mn(e,r,d).next(h=>{const g=this.gn(s,d);return h.isEqual(g)?Ce.resolve():this.yn(e,s,d,h,g)}))))})}pn(e,t,i,r){return E5(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.ln(i,t.key),documentKey:t.key.path.toArray()})}In(e,t,i,r){return E5(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.ln(i,t.key),t.key.path.toArray()])}mn(e,t,i){const r=E5(e);let s=new T1(J3);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.ln(i,t)])},(a,c)=>{s=s.add(new I4(i.indexId,t,c.arrayValue,c.directionalValue))}).next(()=>s)}gn(e,t){let i=new T1(J3);const r=this.hn(t,e);if(null==r)return i;const s=b0(t);if(null!=s){const a=e.data.field(s.fieldPath);if(g5(a))for(const c of a.arrayValue.values||[])i=i.add(new I4(t.indexId,e.key,this.un(c),r))}else i=i.add(new I4(t.indexId,e.key,N4,r));return i}yn(e,t,i,r,s){Qe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const a=[];return function(c,d,h,g,y){const M=c.getIterator(),S=d.getIterator();let k=x4(M),A=x4(S);for(;k||A;){let L=!1,B=!1;if(k&&A){const G=h(k,A);G<0?B=!0:G>0&&(L=!0)}else null!=k?B=!0:L=!0;L?(g(A),A=x4(S)):B?(y(k),k=x4(M)):(k=x4(M),A=x4(S))}}(r,s,J3,c=>{a.push(this.pn(e,t,i,c))},c=>{a.push(this.In(e,t,i,c))}),Ce.waitFor(a)}wn(e){let t=1;return lf(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((a,c)=>J3(a,c)).filter((a,c,d)=>!c||0!==J3(a,d[c-1]));const r=[];r.push(e);for(const a of i){const c=J3(a,e),d=J3(a,t);if(0===c)r[0]=e.Ge();else if(c>0&&d<0)r.push(a),r.push(a.Ge());else if(d>0)break}r.push(t);const s=[];for(let a=0;a<r.length;a+=2){if(this.Tn(r[a],r[a+1]))return[];s.push(IDBKeyRange.bound([r[a].indexId,this.uid,r[a].arrayValue,r[a].directionalValue,N4,[]],[r[a+1].indexId,this.uid,r[a+1].arrayValue,r[a+1].directionalValue,N4,[]]))}return s}Tn(e,t){return J3(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(UD)}getMinOffset(e,t){return Ce.mapArray(this.en(t),i=>this.nn(e,i).next(r=>r||Dt())).next(UD)}}function mm(n){return li(n,"collectionParents")}function E5(n){return li(n,"indexEntries")}function cf(n){return li(n,"indexConfiguration")}function lf(n){return li(n,"indexState")}function UD(n){Ut(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;Tp(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new qr(e.readTime,e.documentKey,t)}const jD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class hr{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new hr(e,hr.DEFAULT_COLLECTION_PERCENTILE,hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function wb(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],a=IDBKeyRange.only(t.batchId);let c=0;const d=i.X({range:a},(g,y,M)=>(c++,M.delete()));s.push(d.next(()=>{Ut(1===c)}));const h=[];for(const g of t.mutations){const y=z5(e,g.key.path,t.batchId);s.push(r.delete(y)),h.push(g.key)}return Ce.waitFor(s).next(()=>h)}function uf(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Dt();e=n.noDocument}return JSON.stringify(e).length}hr.DEFAULT_COLLECTION_PERCENTILE=10,hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hr.DEFAULT=new hr(41943040,hr.DEFAULT_COLLECTION_PERCENTILE,hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hr.DISABLED=new hr(-1,0,0);class df{constructor(e,t,i,r){this.userId=e,this.Tt=t,this.indexManager=i,this.referenceDelegate=r,this.En={}}static ue(e,t,i,r){Ut(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new df(s,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return P4(e).X({index:"userMutationsIndex",range:i},(r,s,a)=>{t=!1,a.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const s=V5(e),a=P4(e);return a.add({}).next(c=>{Ut("number"==typeof c);const d=new pb(c,t,i,r),h=function(M,S,k){const A=k.baseMutations.map(B=>T5(M.oe,B)),L=k.mutations.map(B=>T5(M.oe,B));return{userId:S,batchId:k.batchId,localWriteTimeMs:k.localWriteTime.toMillis(),baseMutations:A,mutations:L}}(this.Tt,this.userId,d),g=[];let y=new T1((M,S)=>mn(M.canonicalString(),S.canonicalString()));for(const M of r){const S=z5(this.userId,M.key.path,c);y=y.add(M.key.path.popLast()),g.push(a.put(h)),g.push(s.put(S,lb))}return y.forEach(M=>{g.push(this.indexManager.addToCollectionParentIndex(e,M))}),e.addOnCommittedListener(()=>{this.En[c]=d.keys()}),Ce.waitFor(g).next(()=>d)})}lookupMutationBatch(e,t){return P4(e).get(t).next(i=>i?(Ut(i.userId===this.userId),E4(this.Tt,i)):null)}An(e,t){return this.En[t]?Ce.resolve(this.En[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.En[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return P4(e).X({index:"userMutationsIndex",range:r},(a,c,d)=>{c.userId===this.userId&&(Ut(c.batchId>=i),s=E4(this.Tt,c)),d.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return P4(e).X({index:"userMutationsIndex",range:t,reverse:!0},(r,s,a)=>{i=s.batchId,a.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return P4(e).W("userMutationsIndex",t).next(i=>i.map(r=>E4(this.Tt,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=k5(this.userId,t.path),r=IDBKeyRange.lowerBound(i),s=[];return V5(e).X({range:r},(a,c,d)=>{const[h,g,y]=a,M=$r(g);if(h===this.userId&&t.path.isEqual(M))return P4(e).get(y).next(S=>{if(!S)throw Dt();Ut(S.userId===this.userId),s.push(E4(this.Tt,S))});d.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new T1(mn);const r=[];return t.forEach(s=>{const a=k5(this.userId,s.path),c=IDBKeyRange.lowerBound(a),d=V5(e).X({range:c},(h,g,y)=>{const[M,S,k]=h,A=$r(S);M===this.userId&&s.path.isEqual(A)?i=i.add(k):y.done()});r.push(d)}),Ce.waitFor(r).next(()=>this.Rn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,s=k5(this.userId,i),a=IDBKeyRange.lowerBound(s);let c=new T1(mn);return V5(e).X({range:a},(d,h,g)=>{const[y,M,S]=d,k=$r(M);y===this.userId&&i.isPrefixOf(k)?k.length===r&&(c=c.add(S)):g.done()}).next(()=>this.Rn(e,c))}Rn(e,t){const i=[],r=[];return t.forEach(s=>{r.push(P4(e).get(s).next(a=>{if(null===a)throw Dt();Ut(a.userId===this.userId),i.push(E4(this.Tt,a))}))}),Ce.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return wb(e.re,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Pn(t.batchId)}),Ce.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Pn(e){delete this.En[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ce.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return V5(e).X({range:i},(s,a,c)=>{if(s[0]===this.userId){const d=$r(s[1]);r.push(d)}else c.done()}).next(()=>{Ut(0===r.length)})})}containsKey(e,t){return WD(e,this.userId,t)}vn(e){return YD(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function WD(n,e,t){const i=k5(e,t.path),r=i[1],s=IDBKeyRange.lowerBound(i);let a=!1;return V5(n).X({range:s,Z:!0},(c,d,h)=>{const[g,y,M]=c;g===e&&y===r&&(a=!0),h.done()}).next(()=>a)}function P4(n){return li(n,"mutations")}function V5(n){return li(n,"documentMutations")}function YD(n){return li(n,"mutationQueues")}class B0{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Vn(){return new B0(0)}static Sn(){return new B0(-1)}}class qD{constructor(e,t){this.referenceDelegate=e,this.Tt=t}allocateTargetId(e){return this.Dn(e).next(t=>{const i=new B0(t.highestTargetId);return t.highestTargetId=i.next(),this.Cn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Dn(e).next(t=>$t.fromTimestamp(new n1(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Dn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Dn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Cn(e,r)))}addTargetData(e,t){return this.xn(e,t).next(()=>this.Dn(e).next(i=>(i.targetCount+=1,this.Nn(t,i),this.Cn(e,i))))}updateTargetData(e,t){return this.xn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Pa(e).delete(t.targetId)).next(()=>this.Dn(e)).next(i=>(Ut(i.targetCount>0),i.targetCount-=1,this.Cn(e,i)))}removeTargets(e,t,i){let r=0;const s=[];return Pa(e).X((a,c)=>{const d=V4(c);d.sequenceNumber<=t&&null===i.get(d.targetId)&&(r++,s.push(this.removeTargetData(e,d)))}).next(()=>Ce.waitFor(s)).next(()=>r)}forEachTarget(e,t){return Pa(e).X((i,r)=>{const s=V4(r);t(s)})}Dn(e){return xb(e).get("targetGlobalKey").next(t=>(Ut(null!==t),t))}Cn(e,t){return xb(e).put("targetGlobalKey",t)}xn(e,t){return Pa(e).put(cm(this.Tt,t))}Nn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Dn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=S4(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return Pa(e).X({range:r,index:"queryTargetsIndex"},(a,c,d)=>{const h=V4(c);D0(t,h.target)&&(s=h,d.done())}).next(()=>s)}addMatchingKeys(e,t,i){const r=[],s=X3(e);return t.forEach(a=>{const c=xr(a.path);r.push(s.put({targetId:i,path:c})),r.push(this.referenceDelegate.addReference(e,i,a))}),Ce.waitFor(r)}removeMatchingKeys(e,t,i){const r=X3(e);return Ce.forEach(t,s=>{const a=xr(s.path);return Ce.waitFor([r.delete([i,a]),this.referenceDelegate.removeReference(e,i,s)])})}removeMatchingKeysForTargetId(e,t){const i=X3(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=X3(e);let s=Dn();return r.X({range:i,Z:!0},(a,c,d)=>{const h=$r(a[1]),g=new _t(h);s=s.add(g)}).next(()=>s)}containsKey(e,t){const i=xr(t.path),r=IDBKeyRange.bound([i],[Sp(i)],!1,!0);let s=0;return X3(e).X({index:"documentTargetsIndex",Z:!0,range:r},([a,c],d,h)=>{0!==a&&(s++,h.done())}).next(()=>s>0)}ie(e,t){return Pa(e).get(t).next(i=>i?V4(i):null)}}function Pa(n){return li(n,"targets")}function xb(n){return li(n,"targetGlobal")}function X3(n){return li(n,"targetDocuments")}function gm([n,e],[t,i]){const r=mn(n,t);return 0===r?mn(e,i):r}class R4{constructor(e){this.kn=e,this.buffer=new T1(gm),this.$n=0}Mn(){return++this.$n}On(e){const t=[e,this.Mn()];if(this.buffer.size<this.kn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();gm(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Sb{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Fn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Bn(6e4)}stop(){this.Fn&&(this.Fn.cancel(),this.Fn=null)}get started(){return null!==this.Fn}Bn(e){var t=this;Qe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Fn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,De.Z)(function*(){t.Fn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){y4(i)?Qe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Ta(i)}yield t.Bn(3e5)}))}}class _m{constructor(e,t){this.Ln=e,this.params=t}calculateTargetCount(e,t){return this.Ln.qn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return Ce.resolve(Pi.at);const i=new R4(t);return this.Ln.forEachTarget(e,r=>i.On(r.sequenceNumber)).next(()=>this.Ln.Un(e,r=>i.On(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Ln.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Ln.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Qe("LruGarbageCollector","Garbage collection skipped; disabled"),Ce.resolve(jD)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Qe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jD):this.Kn(e,t))}getCacheSize(e){return this.Ln.getCacheSize(e)}Kn(e,t){let i,r,s,a,c,d,h;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(Qe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),r=this.params.maximumSequenceNumbersToCollect):r=y,a=Date.now(),this.nthSequenceNumber(e,r))).next(y=>(i=y,c=Date.now(),this.removeTargets(e,i,t))).next(y=>(s=y,d=Date.now(),this.removeOrphanedDocuments(e,i))).next(y=>(h=Date.now(),l5()<=ms.in.DEBUG&&Qe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${a-g}ms\n\tDetermined least recently used ${r} in `+(c-a)+`ms\n\tRemoved ${s} targets in `+(d-c)+`ms\n\tRemoved ${y} documents in `+(h-d)+`ms\nTotal Duration: ${h-g}ms`),Ce.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:y})))}}class vm{constructor(e,t){this.db=e,this.garbageCollector=new _m(this,t)}qn(e){const t=this.Gn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Gn(e){let t=0;return this.Un(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Un(e,t){return this.Qn(e,(i,r)=>t(r))}addReference(e,t,i){return ff(e,i)}removeReference(e,t,i){return ff(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return ff(e,t)}jn(e,t){return function(i,r){let s=!1;return YD(i).tt(a=>WD(i,a,r).next(c=>(c&&(s=!0),Ce.resolve(!c)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Qn(e,(a,c)=>{if(c<=t){const d=this.jn(e,a).next(h=>{if(!h)return s++,i.getEntry(e,a).next(()=>(i.removeEntry(a,$t.min()),X3(e).delete([0,xr(a.path)])))});r.push(d)}}).next(()=>Ce.waitFor(r)).next(()=>i.apply(e)).next(()=>s)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return ff(e,t)}Qn(e,t){const i=X3(e);let r,s=Pi.at;return i.X({index:"documentTargetsIndex"},([a,c],{path:d,sequenceNumber:h})=>{0===a?(s!==Pi.at&&t(new _t($r(r)),s),s=h,r=d):s=Pi.at}).next(()=>{s!==Pi.at&&t(new _t($r(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ff(n,e){return X3(n).put((i=n.currentSequenceNumber,{targetId:0,path:xr(e.path),sequenceNumber:i}));var i}class hf{constructor(){this.changes=new Va(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,G1.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?Ce.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ym{constructor(e){this.Tt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return U0(e).put(i)}removeEntry(e,t,i){return U0(e).delete(function(r,s){const a=r.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Xd(s),a[a.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.zn(e,i)))}getEntry(e,t){let i=G1.newInvalidDocument(t);return U0(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(pf(t))},(r,s)=>{i=this.Wn(t,s)}).next(()=>i)}Hn(e,t){let i={size:0,document:G1.newInvalidDocument(t)};return U0(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(pf(t))},(r,s)=>{i={document:this.Wn(t,s),size:uf(s)}}).next(()=>i)}getEntries(e,t){let i=D1();return this.Jn(e,t,(r,s)=>{const a=this.Wn(r,s);i=i.insert(r,a)}).next(()=>i)}Yn(e,t){let i=D1(),r=new v2(_t.comparator);return this.Jn(e,t,(s,a)=>{const c=this.Wn(s,a);i=i.insert(s,c),r=r.insert(s,uf(a))}).next(()=>({documents:i,Zn:r}))}Jn(e,t,i){if(t.isEmpty())return Ce.resolve();let r=new T1(Tb);t.forEach(d=>r=r.add(d));const s=IDBKeyRange.bound(pf(r.first()),pf(r.last())),a=r.getIterator();let c=a.getNext();return U0(e).X({index:"documentKeyIndex",range:s},(d,h,g)=>{const y=_t.fromSegments([...h.prefixPath,h.collectionGroup,h.documentId]);for(;c&&Tb(c,y)<0;)i(c,null),c=a.getNext();c&&c.isEqual(y)&&(i(c,h),c=a.hasNext()?a.getNext():null),c?g.j(pf(c)):g.done()}).next(()=>{for(;c;)i(c,null),c=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(e,t,i,r){const s=t.path,a=[s.popLast().toArray(),s.lastSegment(),Xd(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return U0(e).W(IDBKeyRange.bound(a,c,!0)).next(d=>{let h=D1();for(const g of d){const y=this.Wn(_t.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);y.isFoundDocument()&&(A0(t,y)||r.has(y.key))&&(h=h.insert(y.key,y))}return h})}getAllFromCollectionGroup(e,t,i,r){let s=D1();const a=Cm(t,i),c=Cm(t,qr.max());return U0(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,c,!0)},(d,h,g)=>{const y=this.Wn(_t.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);s=s.insert(y.key,y),s.size===r&&g.done()}).next(()=>s)}newChangeBuffer(e){return new eP(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return GD(e).get("remoteDocumentGlobalKey").next(t=>(Ut(!!t),t))}zn(e,t){return GD(e).put("remoteDocumentGlobalKey",t)}Wn(e,t){if(t){const i=function JN(n,e){let t;if(e.document)t=im(n.oe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=_t.fromSegments(e.noDocument.path),r=L4(e.noDocument.readTime);t=G1.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Dt();{const i=_t.fromSegments(e.unknownDocument.path),r=L4(e.unknownDocument.version);t=G1.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new n1(i[0],i[1]);return $t.fromTimestamp(r)}(e.readTime)),t}(this.Tt,t);if(!i.isNoDocument()||!i.version.isEqual($t.min()))return i}return G1.newInvalidDocument(e)}}function I5(n){return new ym(n)}class eP extends hf{constructor(e,t){super(),this.Xn=e,this.trackRemovals=t,this.ts=new Va(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new T1((s,a)=>mn(s.canonicalString(),a.canonicalString()));return this.changes.forEach((s,a)=>{const c=this.ts.get(s);if(t.push(this.Xn.removeEntry(e,s,c.readTime)),a.isValidDocument()){const d=Kr(this.Xn.Tt,a);r=r.add(s.path.popLast());const h=uf(d);i+=h-c.size,t.push(this.Xn.addEntry(e,s,d))}else if(i-=c.size,this.trackRemovals){const d=Kr(this.Xn.Tt,a.convertToNoDocument($t.min()));t.push(this.Xn.addEntry(e,s,d))}}),r.forEach(s=>{t.push(this.Xn.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.Xn.updateMetadata(e,i)),Ce.waitFor(t)}getFromCache(e,t){return this.Xn.Hn(e,t).next(i=>(this.ts.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Xn.Yn(e,t).next(({documents:i,Zn:r})=>(r.forEach((s,a)=>{this.ts.set(s,{size:a,readTime:i.get(s).readTime})}),i))}}function GD(n){return li(n,"remoteDocumentGlobal")}function U0(n){return li(n,"remoteDocumentsV14")}function pf(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Cm(n,e){const t=e.documentKey.path.toArray();return[n,Xd(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Tb(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let s=0;s<t.length-2&&s<i.length-2;++s)if(r=mn(t[s],i[s]),r)return r;return r=mn(t.length,i.length),r||(r=mn(t[t.length-2],i[i.length-2]),r||mn(t[t.length-1],i[i.length-1]))}class $D{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Db{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&k4(i.mutation,r,Gr.empty(),n1.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Dn()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Dn()){const r=Ia();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let a=M5();return s.forEach((c,d)=>{a=a.insert(c,d.overlayedDocument)}),a}))}getOverlayedDocuments(e,t){const i=Ia();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Dn()))}populateOverlays(e,t,i){const r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((a,c)=>{t.set(a,c)})})}computeViews(e,t,i,r){let s=D1();const a=P0(),c=P0();return t.forEach((d,h)=>{const g=i.get(h.key);r.has(h.key)&&(void 0===g||g.mutation instanceof Ea)?s=s.insert(h.key,h):void 0!==g?(a.set(h.key,g.mutation.getFieldMask()),k4(g.mutation,h,g.mutation.getFieldMask(),n1.now())):a.set(h.key,Gr.empty())}),this.recalculateAndSaveOverlays(e,s).next(d=>(d.forEach((h,g)=>a.set(h,g)),t.forEach((h,g)=>{var y;return c.set(h,new $D(g,null!==(y=a.get(h))&&void 0!==y?y:null))}),c))}recalculateAndSaveOverlays(e,t){const i=P0();let r=new v2((a,c)=>a-c),s=Dn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(a=>{for(const c of a)c.keys().forEach(d=>{const h=t.get(d);if(null===h)return;let g=i.get(d)||Gr.empty();g=c.applyToLocalView(h,g),i.set(d,g);const y=(r.get(c.batchId)||Dn()).add(d);r=r.insert(c.batchId,y)})}).next(()=>{const a=[],c=r.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),h=d.key,g=d.value,y=bD();g.forEach(M=>{if(!s.has(M)){const S=Gp(t.get(M),i.get(M));null!==S&&y.set(M,S),s=s.add(M)}}),a.push(this.documentOverlayCache.saveOverlays(e,h,y))}return Ce.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return _t.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Od(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):Ce.resolve(Ia());let c=-1,d=s;return a.next(h=>Ce.forEach(h,(g,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),s.get(g)?Ce.resolve():this.remoteDocumentCache.getEntry(e,g).next(M=>{d=d.insert(g,M)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,d,h,Dn())).next(g=>({batchId:c,changes:$C(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _t(t)).next(i=>{let r=M5();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let s=M5();return this.indexManager.getCollectionParents(e,r).next(a=>Ce.forEach(a,c=>{const d=(h=t,g=c.child(r),new Ha(g,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt));var h,g;return this.getDocumentsMatchingCollectionQuery(e,d,i).next(h=>{h.forEach((g,y)=>{s=s.insert(g,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(s=>{r.forEach((c,d)=>{const h=d.getKey();null===s.get(h)&&(s=s.insert(h,G1.newInvalidDocument(h)))});let a=M5();return s.forEach((c,d)=>{const h=r.get(c);void 0!==h&&k4(h.mutation,d,Gr.empty(),n1.now()),A0(t,d)&&(a=a.insert(c,d))}),a})}}class ZD{constructor(e){this.Tt=e,this.es=new Map,this.ns=new Map}getBundleMetadata(e,t){return Ce.resolve(this.es.get(t))}saveBundleMetadata(e,t){var i;return this.es.set(t.id,{id:(i=t).id,version:i.version,createTime:y2(i.createTime)}),Ce.resolve()}getNamedQuery(e,t){return Ce.resolve(this.ns.get(t))}saveNamedQuery(e,t){return this.ns.set(t.name,{name:(i=t).name,query:ef(i.bundledQuery),readTime:y2(i.readTime)}),Ce.resolve();var i}}class kb{constructor(){this.overlays=new v2(_t.comparator),this.ss=new Map}getOverlay(e,t){return Ce.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ia();return Ce.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.ce(e,t,s)}),Ce.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.ss.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.ss.delete(i)),Ce.resolve()}getOverlaysForCollection(e,t,i){const r=Ia(),s=t.length+1,a=new _t(t.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){const d=c.getNext().value,h=d.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===s&&d.largestBatchId>i&&r.set(d.getKey(),d)}return Ce.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new v2((h,g)=>h-g);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>i){let g=s.get(h.largestBatchId);null===g&&(g=Ia(),s=s.insert(h.largestBatchId,g)),g.set(h.getKey(),h)}}const c=Ia(),d=s.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((h,g)=>c.set(h,g)),!(c.size()>=r)););return Ce.resolve(c)}ce(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const a=this.ss.get(r.largestBatchId).delete(i.key);this.ss.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new am(t,i));let s=this.ss.get(t);void 0===s&&(s=Dn(),this.ss.set(t,s)),this.ss.set(t,s.add(i.key))}}class mf{constructor(){this.rs=new T1(ui.os),this.us=new T1(ui.cs)}isEmpty(){return this.rs.isEmpty()}addReference(e,t){const i=new ui(e,t);this.rs=this.rs.add(i),this.us=this.us.add(i)}hs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ls(new ui(e,t))}fs(e,t){e.forEach(i=>this.removeReference(i,t))}ds(e){const t=new _t(new Kn([])),i=new ui(t,e),r=new ui(t,e+1),s=[];return this.us.forEachInRange([i,r],a=>{this.ls(a),s.push(a.key)}),s}_s(){this.rs.forEach(e=>this.ls(e))}ls(e){this.rs=this.rs.delete(e),this.us=this.us.delete(e)}ws(e){const t=new _t(new Kn([])),i=new ui(t,e),r=new ui(t,e+1);let s=Dn();return this.us.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(e){const t=new ui(e,0),i=this.rs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class ui{constructor(e,t){this.key=e,this.gs=t}static os(e,t){return _t.comparator(e.key,t.key)||mn(e.gs,t.gs)}static cs(e,t){return mn(e.gs,t.gs)||_t.comparator(e.key,t.key)}}class KD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ys=1,this.ps=new T1(ui.os)}checkEmpty(e){return Ce.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const s=this.ys;this.ys++;const a=new pb(s,t,i,r);this.mutationQueue.push(a);for(const c of r)this.ps=this.ps.add(new ui(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Ce.resolve(a)}lookupMutationBatch(e,t){return Ce.resolve(this.Is(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.Ts(t+1),s=r<0?0:r;return Ce.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ce.resolve(0===this.mutationQueue.length?-1:this.ys-1)}getAllMutationBatches(e){return Ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new ui(t,0),r=new ui(t,Number.POSITIVE_INFINITY),s=[];return this.ps.forEachInRange([i,r],a=>{const c=this.Is(a.gs);s.push(c)}),Ce.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new T1(mn);return t.forEach(r=>{const s=new ui(r,0),a=new ui(r,Number.POSITIVE_INFINITY);this.ps.forEachInRange([s,a],c=>{i=i.add(c.gs)})}),Ce.resolve(this.Es(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;_t.isDocumentKey(s)||(s=s.child(""));const a=new ui(new _t(s),0);let c=new T1(mn);return this.ps.forEachWhile(d=>{const h=d.key.path;return!!i.isPrefixOf(h)&&(h.length===r&&(c=c.add(d.gs)),!0)},a),Ce.resolve(this.Es(c))}Es(e){const t=[];return e.forEach(i=>{const r=this.Is(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Ut(0===this.As(t.batchId,"removed")),this.mutationQueue.shift();let i=this.ps;return Ce.forEach(t.mutations,r=>{const s=new ui(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.ps=i})}Pn(e){}containsKey(e,t){const i=new ui(t,0),r=this.ps.firstAfterOrEqual(i);return Ce.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return Ce.resolve()}As(e,t){return this.Ts(e)}Ts(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Is(e){const t=this.Ts(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class QD{constructor(e){this.Rs=e,this.docs=new v2(_t.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,a=this.Rs(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Ce.resolve(i?i.document.mutableCopy():G1.newInvalidDocument(t))}getEntries(e,t){let i=D1();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():G1.newInvalidDocument(r))}),Ce.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=D1();const a=t.path,c=new _t(a.child("")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:h,value:{document:g}}=d.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||Tp(hC(g),i)<=0||(r.has(g.key)||A0(t,g))&&(s=s.insert(g.key,g.mutableCopy()))}return Ce.resolve(s)}getAllFromCollectionGroup(e,t,i,r){Dt()}Ps(e,t){return Ce.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new zb(this)}getSize(e){return Ce.resolve(this.size)}}class zb extends hf{constructor(e){super(),this.Xn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Xn.addEntry(e,r)):this.Xn.removeEntry(i)}),Ce.waitFor(t)}getFromCache(e,t){return this.Xn.getEntry(e,t)}getAllFromCache(e,t){return this.Xn.getEntries(e,t)}}class bm{constructor(e){this.persistence=e,this.vs=new Va(t=>S4(t),D0),this.lastRemoteSnapshotVersion=$t.min(),this.highestTargetId=0,this.bs=0,this.Vs=new mf,this.targetCount=0,this.Ss=B0.Vn()}forEachTarget(e,t){return this.vs.forEach((i,r)=>t(r)),Ce.resolve()}getLastRemoteSnapshotVersion(e){return Ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ce.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.Ss.next(),Ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.bs&&(this.bs=t),Ce.resolve()}xn(e){this.vs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ss=new B0(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.xn(t),this.targetCount+=1,Ce.resolve()}updateTargetData(e,t){return this.xn(t),Ce.resolve()}removeTargetData(e,t){return this.vs.delete(t.target),this.Vs.ds(t.targetId),this.targetCount-=1,Ce.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.vs.forEach((a,c)=>{c.sequenceNumber<=t&&null===i.get(c.targetId)&&(this.vs.delete(a),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),r++)}),Ce.waitFor(s).next(()=>r)}getTargetCount(e){return Ce.resolve(this.targetCount)}getTargetData(e,t){const i=this.vs.get(t)||null;return Ce.resolve(i)}addMatchingKeys(e,t,i){return this.Vs.hs(t,i),Ce.resolve()}removeMatchingKeys(e,t,i){this.Vs.fs(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(a=>{s.push(r.markPotentiallyOrphaned(e,a))}),Ce.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Vs.ds(t),Ce.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Vs.ws(t);return Ce.resolve(i)}containsKey(e,t){return Ce.resolve(this.Vs.containsKey(t))}}class JD{constructor(e,t){this.Ds={},this.overlays={},this.Cs=new Pi(0),this.xs=!1,this.xs=!0,this.referenceDelegate=e(this),this.Ns=new bm(this),this.indexManager=new Mb,this.remoteDocumentCache=new QD(i=>this.referenceDelegate.ks(i)),this.Tt=new mb(t),this.$s=new ZD(this.Tt)}start(){return Promise.resolve()}shutdown(){return this.xs=!1,Promise.resolve()}get started(){return this.xs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new kb,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Ds[e.toKey()];return i||(i=new KD(t,this.referenceDelegate),this.Ds[e.toKey()]=i),i}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$s}runTransaction(e,t,i){Qe("MemoryPersistence","Starting transaction:",e);const r=new Ab(this.Cs.next());return this.referenceDelegate.Ms(),i(r).next(s=>this.referenceDelegate.Os(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Fs(e,t){return Ce.or(Object.values(this.Ds).map(i=>()=>i.containsKey(e,t)))}}class Ab extends kp{constructor(e){super(),this.currentSequenceNumber=e}}class j0{constructor(e){this.persistence=e,this.Bs=new mf,this.Ls=null}static qs(e){return new j0(e)}get Us(){if(this.Ls)return this.Ls;throw Dt()}addReference(e,t,i){return this.Bs.addReference(i,t),this.Us.delete(i.toString()),Ce.resolve()}removeReference(e,t,i){return this.Bs.removeReference(i,t),this.Us.add(i.toString()),Ce.resolve()}markPotentiallyOrphaned(e,t){return this.Us.add(t.toString()),Ce.resolve()}removeTarget(e,t){this.Bs.ds(t.targetId).forEach(r=>this.Us.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Us.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}Ms(){this.Ls=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.Us,i=>{const r=_t.fromPath(i);return this.Ks(e,r).next(s=>{s||t.removeEntry(r,$t.min())})}).next(()=>(this.Ls=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ks(e,t).next(i=>{i?this.Us.delete(t.toString()):this.Us.add(t.toString())})}ks(e){return 0}Ks(e,t){return Ce.or([()=>Ce.resolve(this.Bs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Fs(e,t)])}}class XD{constructor(e){this.Tt=e}F(e,t,i,r){const s=new Hd("createOrUpgrade",t);var c;i<1&&r>=1&&(e.createObjectStore("owner"),(c=e).createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",zD,{unique:!0}),c.createObjectStore("documentMutations"),Hb(e),function(c){c.createObjectStore("remoteDocuments")}(e));let a=Ce.resolve();return i<3&&r>=3&&(0!==i&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),Hb(e)),a=a.next(()=>function(c){const d=c.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:$t.min().toTimestamp(),targetCount:0};return d.put("targetGlobalKey",h)}(s))),i<4&&r>=4&&(0!==i&&(a=a.next(()=>function(c,d){return d.store("mutations").W().next(h=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",zD,{unique:!0});const g=d.store("mutations"),y=h.map(M=>g.put(M));return Ce.waitFor(y)})}(e,s))),a=a.next(()=>{!function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(a=a.next(()=>this.Gs(s))),i<6&&r>=6&&(a=a.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.Qs(s)))),i<7&&r>=7&&(a=a.next(()=>this.js(s))),i<8&&r>=8&&(a=a.next(()=>this.zs(e,s))),i<9&&r>=9&&(a=a.next(()=>{!function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(a=a.next(()=>this.Ws(s))),i<11&&r>=11&&(a=a.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(a=a.next(()=>{!function(c){const d=c.createObjectStore("documentOverlays",{keyPath:ZN});d.createIndex("collectionPathOverlayIndex",KN,{unique:!1}),d.createIndex("collectionGroupOverlayIndex",QN,{unique:!1})}(e)})),i<13&&r>=13&&(a=a.next(()=>function(c){const d=c.createObjectStore("remoteDocumentsV14",{keyPath:ub});d.createIndex("documentKeyIndex",GN),d.createIndex("collectionGroupIndex",om)}(e)).next(()=>this.Hs(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(a=a.next(()=>this.Js(e,s))),i<15&&r>=15&&(a=a.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:LD}).createIndex("sequenceNumberIndex",ED,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:Qd}).createIndex("documentKeyIndex",VD,{unique:!1})}(e))),a}Qs(e){let t=0;return e.store("remoteDocuments").X((i,r)=>{t+=uf(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Gs(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.W().next(r=>Ce.forEach(r,s=>{const a=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",a).next(c=>Ce.forEach(c,d=>{Ut(d.userId===s.userId);const h=E4(this.Tt,d);return wb(e,s.userId,h).next(()=>{})}))}))}js(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.X((a,c)=>{const d=new Kn(a),h=[0,xr(d)];s.push(t.get(h).next(g=>g?Ce.resolve():t.put({targetId:0,path:xr(d),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>Ce.waitFor(s))})}zs(e,t){e.createObjectStore("collectionParents",{keyPath:HD});const i=t.store("collectionParents"),r=new sf,s=a=>{if(r.add(a)){const c=a.lastSegment(),d=a.popLast();return i.put({collectionId:c,parent:xr(d)})}};return t.store("remoteDocuments").X({Z:!0},(a,c)=>{const d=new Kn(a);return s(d.popLast())}).next(()=>t.store("documentMutations").X({Z:!0},([a,c,d],h)=>{const g=$r(c);return s(g.popLast())}))}Ws(e){const t=e.store("targets");return t.X((i,r)=>{const s=V4(r),a=cm(this.Tt,s);return t.put(a)})}Hs(e,t){const i=t.store("remoteDocuments"),r=[];return i.X((s,a)=>{const c=t.store("remoteDocumentsV14"),d=(h=a,h.document?new _t(Kn.fromString(h.document.name).popFirst(5)):h.noDocument?_t.fromSegments(h.noDocument.path):h.unknownDocument?_t.fromSegments(h.unknownDocument.path):Dt()).path.toArray();var h;const g={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};r.push(c.put(g))}).next(()=>Ce.waitFor(r))}Js(e,t){const i=t.store("mutations"),r=I5(this.Tt),s=new JD(j0.qs,this.Tt.oe);return i.W().next(a=>{const c=new Map;return a.forEach(d=>{var h;let g=null!==(h=c.get(d.userId))&&void 0!==h?h:Dn();E4(this.Tt,d).keys().forEach(y=>g=g.add(y)),c.set(d.userId,g)}),Ce.forEach(c,(d,h)=>{const g=new oi(h),y=F0.ue(this.Tt,g),M=s.getIndexManager(g),S=df.ue(g,this.Tt,M,s.referenceDelegate);return new Db(r,S,y,M).recalculateAndSaveOverlaysForDocumentKeys(new Jd(t,Pi.at),d).next()})})}}function Hb(n){n.createObjectStore("targetDocuments",{keyPath:AD}).createIndex("documentTargetsIndex",$N,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",db,{unique:!0}),n.createObjectStore("targetGlobal")}const Lb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Eb{constructor(e,t,i,r,s,a,c,d,h,g,y=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Ys=s,this.window=a,this.document=c,this.Zs=h,this.Xs=g,this.ti=y,this.Cs=null,this.xs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ei=null,this.inForeground=!1,this.ni=null,this.si=null,this.ii=Number.NEGATIVE_INFINITY,this.ri=M=>Promise.resolve(),!Eb.C())throw new fe(xe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new vm(this,r),this.oi=t+"main",this.Tt=new mb(d),this.ui=new Fs(this.oi,this.ti,new XD(this.Tt)),this.Ns=new qD(this.referenceDelegate,this.Tt),this.remoteDocumentCache=I5(this.Tt),this.$s=new RD,this.window&&this.window.localStorage?this.ci=this.window.localStorage:(this.ci=null,!1===g&&j2("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new fe(xe.FAILED_PRECONDITION,Lb);return this.hi(),this.li(),this.fi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ns.getHighestSequenceNumber(e))}).then(e=>{this.Cs=new Pi(e,this.Zs)}).then(()=>{this.xs=!0}).catch(e=>(this.ui&&this.ui.close(),Promise.reject(e)))}di(e){var t=this;return this.ri=function(){var i=(0,De.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ui.L(function(){var t=(0,De.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Ys.enqueueAndForget((0,De.Z)(function*(){t.started&&(yield t.ai())})))}ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>gf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this._i(e).next(t=>{t||(this.isPrimary=!1,this.Ys.enqueueRetryable(()=>this.ri(!1)))})}).next(()=>this.wi(e)).next(t=>this.isPrimary&&!t?this.mi(e).next(()=>!1):!!t&&this.gi(e).next(()=>!0))).catch(e=>{if(y4(e))return Qe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Qe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ys.enqueueRetryable(()=>this.ri(e)),this.isPrimary=e})}_i(e){return N5(e).get("owner").next(t=>Ce.resolve(this.yi(t)))}pi(e){return gf(e).delete(this.clientId)}Ii(){var e=this;return(0,De.Z)(function*(){if(e.isPrimary&&!e.Ti(e.ii,18e5)){e.ii=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=li(i,"clientMetadata");return r.W().next(s=>{const a=e.Ei(s,18e5),c=s.filter(d=>-1===a.indexOf(d));return Ce.forEach(c,d=>r.delete(d.clientId)).next(()=>c)})}).catch(()=>[]);if(e.ci)for(const i of t)e.ci.removeItem(e.Ai(i.clientId))}})()}fi(){this.si=this.Ys.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ai().then(()=>this.Ii()).then(()=>this.fi()))}yi(e){return!!e&&e.ownerId===this.clientId}wi(e){return this.Xs?Ce.resolve(!0):N5(e).get("owner").next(t=>{if(null!==t&&this.Ti(t.leaseTimestampMs,5e3)&&!this.Ri(t.ownerId)){if(this.yi(t)&&this.networkEnabled)return!0;if(!this.yi(t)){if(!t.allowTabSynchronization)throw new fe(xe.FAILED_PRECONDITION,Lb);return!1}}return!(!this.networkEnabled||!this.inForeground)||gf(e).W().next(i=>void 0===this.Ei(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Qe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,De.Z)(function*(){e.xs=!1,e.Pi(),e.si&&(e.si.cancel(),e.si=null),e.vi(),e.bi(),yield e.ui.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new Jd(t,Pi.at);return e.mi(i).next(()=>e.pi(i))}),e.ui.close(),e.Vi()})()}Ei(e,t){return e.filter(i=>this.Ti(i.updateTimeMs,t)&&!this.Ri(i.clientId))}Si(){return this.runTransaction("getActiveClients","readonly",e=>gf(e).W().next(t=>this.Ei(t,18e5).map(i=>i.clientId)))}get started(){return this.xs}getMutationQueue(e,t){return df.ue(e,this.Tt,t,this.referenceDelegate)}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new af(e,this.Tt.oe.databaseId)}getDocumentOverlayCache(e){return F0.ue(this.Tt,e)}getBundleCache(){return this.$s}runTransaction(e,t,i){Qe("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",s=15===(a=this.ti)?PD:14===a?ND:13===a?hb:12===a?ID:11===a?fb:void Dt();var a;let c;return this.ui.runTransaction(e,r,s,d=>(c=new Jd(d,this.Cs?this.Cs.next():Pi.at),"readwrite-primary"===t?this._i(c).next(h=>!!h||this.wi(c)).next(h=>{if(!h)throw j2(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ys.enqueueRetryable(()=>this.ri(!1)),new fe(xe.FAILED_PRECONDITION,Dp);return i(c)}).next(h=>this.gi(c).next(()=>h)):this.Di(c).next(()=>i(c)))).then(d=>(c.raiseOnCommittedEvent(),d))}Di(e){return N5(e).get("owner").next(t=>{if(null!==t&&this.Ti(t.leaseTimestampMs,5e3)&&!this.Ri(t.ownerId)&&!this.yi(t)&&!(this.Xs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new fe(xe.FAILED_PRECONDITION,Lb)})}gi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return N5(e).put("owner",t)}static C(){return Fs.C()}mi(e){const t=N5(e);return t.get("owner").next(i=>this.yi(i)?(Qe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ce.resolve())}Ti(e,t){const i=Date.now();return!(e<i-t||e>i&&(j2(`Detected an update time that is in the future: ${e} > ${i}`),1))}hi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ni=()=>{this.Ys.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ai()))},this.document.addEventListener("visibilitychange",this.ni),this.inForeground="visible"===this.document.visibilityState)}vi(){this.ni&&(this.document.removeEventListener("visibilitychange",this.ni),this.ni=null)}li(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ei=()=>{this.Pi();const t=/(?:Version|Mobile)\/1[456]/;(0,O.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ys.enterRestrictedMode(!0),this.Ys.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ei))}bi(){this.ei&&(this.window.removeEventListener("pagehide",this.ei),this.ei=null)}Ri(e){var t;try{const i=null!==(null===(t=this.ci)||void 0===t?void 0:t.getItem(this.Ai(e)));return Qe("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return j2("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Pi(){if(this.ci)try{this.ci.setItem(this.Ai(this.clientId),String(Date.now()))}catch(e){j2("Failed to set zombie client id.",e)}}Vi(){if(this.ci)try{this.ci.removeItem(this.Ai(this.clientId))}catch{}}Ai(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function N5(n){return li(n,"owner")}function gf(n){return li(n,"clientMetadata")}function Mm(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Vb{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Ci=i,this.xi=r}static Ni(e,t){let i=Dn(),r=Dn();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Vb(e,t.fromCache,i,r)}}class ek{constructor(){this.ki=!1}initialize(e,t){this.$i=e,this.indexManager=t,this.ki=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Mi(e,t).next(s=>s||this.Oi(e,t,r,i)).next(s=>s||this.Fi(e,t))}Mi(e,t){if(IC(t))return Ce.resolve(null);let i=Ki(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=C5(t,null,"F"),i=Ki(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const a=Dn(...s);return this.$i.getDocuments(e,a).next(c=>this.indexManager.getMinOffset(e,i).next(d=>{const h=this.Bi(t,c);return this.Li(t,h,a,d.readTime)?this.Mi(e,C5(t,null,"F")):this.qi(e,h,t,d)}))})))}Oi(e,t,i,r){return IC(t)||r.isEqual($t.min())?this.Fi(e,t):this.$i.getDocuments(e,i).next(s=>{const a=this.Bi(t,s);return this.Li(t,a,i,r)?this.Fi(e,t):(l5()<=ms.in.DEBUG&&Qe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),PC(t)),this.qi(e,a,t,M0(r,-1)))})}Bi(e,t){let i=new T1(RC(e));return t.forEach((r,s)=>{A0(e,s)&&(i=i.add(s))}),i}Li(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Fi(e,t){return l5()<=ms.in.DEBUG&&Qe("QueryEngine","Using full collection scan to execute query:",PC(t)),this.$i.getDocumentsMatchingQuery(e,t,qr.min())}qi(e,t,i,r){return this.$i.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(a=>{s=s.insert(a.key,a)}),s))}}class tP{constructor(e,t,i,r){this.persistence=e,this.Ui=t,this.Tt=r,this.Ki=new v2(mn),this.Gi=new Va(s=>S4(s),D0),this.Qi=new Map,this.ji=e.getRemoteDocumentCache(),this.Ns=e.getTargetCache(),this.$s=e.getBundleCache(),this.zi(i)}zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Db(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ki))}}function tk(n,e,t,i){return new tP(n,e,t,i)}function Ib(n,e){return Nb.apply(this,arguments)}function Nb(){return Nb=(0,De.Z)(function*(n,e){const t=yt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.zi(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],c=[];let d=Dn();for(const h of r){a.push(h.batchId);for(const g of h.mutations)d=d.add(g.key)}for(const h of s){c.push(h.batchId);for(const g of h.mutations)d=d.add(g.key)}return t.localDocuments.getDocuments(i,d).next(h=>({Wi:h,removedBatchIds:a,addedBatchIds:c}))})})}),Nb.apply(this,arguments)}function nk(n){const e=yt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ns.getLastRemoteSnapshotVersion(t))}function ik(n,e,t){let i=Dn(),r=Dn();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let a=D1();return t.forEach((c,d)=>{const h=s.get(c);d.isFoundDocument()!==h.isFoundDocument()&&(r=r.add(c)),d.isNoDocument()&&d.version.isEqual($t.min())?(e.removeEntry(c,d.readTime),a=a.insert(c,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||0===d.version.compareTo(h.version)&&h.hasPendingWrites?(e.addEntry(d),a=a.insert(c,d)):Qe("LocalStore","Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",d.version)}),{Hi:a,Ji:r}})}function rP(n,e){const t=yt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function l(n,e){const t=yt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Ns.getTargetData(i,e).next(s=>s?(r=s,Ce.resolve(r)):t.Ns.allocateTargetId(i).next(a=>(r=new Lo(e,a,0,i.currentSequenceNumber),t.Ns.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ki.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ki=t.Ki.insert(i.targetId,i),t.Gi.set(e,i.targetId)),i})}function u(n,e,t){return f.apply(this,arguments)}function f(){return f=(0,De.Z)(function*(n,e,t){const i=yt(n),r=i.Ki.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r)))}catch(a){if(!y4(a))throw a;Qe("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}i.Ki=i.Ki.remove(e),i.Gi.delete(r.target)}),f.apply(this,arguments)}function p(n,e,t){const i=yt(n);let r=$t.min(),s=Dn();return i.persistence.runTransaction("Execute query","readonly",a=>function(c,d,h){const g=yt(c),y=g.Gi.get(h);return void 0!==y?Ce.resolve(g.Ki.get(y)):g.Ns.getTargetData(d,h)}(i,a,Ki(e)).next(c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,i.Ns.getMatchingKeysForTargetId(a,c.targetId).next(d=>{s=d})}).next(()=>i.Ui.getDocumentsMatchingQuery(a,e,t?r:$t.min(),t?s:Dn())).next(c=>(b(i,Yp(e),c),{documents:c,Yi:s})))}function m(n,e){const t=yt(n),i=yt(t.Ns),r=t.Ki.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",s=>i.ie(s,e).next(a=>a?a.target:null))}function _(n,e){const t=yt(n),i=t.Qi.get(e)||$t.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.ji.getAllFromCollectionGroup(r,e,M0(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(b(t,e,r),r))}function b(n,e,t){let i=n.Qi.get(e)||$t.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Qi.set(e,i)}function D(){return D=(0,De.Z)(function*(n,e,t,i){const r=yt(n);let s=Dn(),a=D1();for(const h of t){const g=e.Zi(h.metadata.name);h.document&&(s=s.add(g));const y=e.Xi(h);y.setReadTime(e.tr(h.metadata.readTime)),a=a.insert(g,y)}const c=r.ji.newChangeBuffer({trackRemovals:!0}),d=yield l(r,(h=i,Ki(k0(Kn.fromString(`__bundle__/docs/${h}`)))));var h;return r.persistence.runTransaction("Apply bundle documents","readwrite",h=>ik(h,c,a).next(g=>(c.apply(h),g)).next(g=>r.Ns.removeMatchingKeysForTargetId(h,d.targetId).next(()=>r.Ns.addMatchingKeys(h,s,d.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(h,g.Hi,g.Ji)).next(()=>g.Hi)))}),D.apply(this,arguments)}function z(n,e){return E.apply(this,arguments)}function E(){return E=(0,De.Z)(function*(n,e,t=Dn()){const i=yield l(n,Ki(ef(e.bundledQuery))),r=yt(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const a=y2(e.readTime);if(i.snapshotVersion.compareTo(a)>=0)return r.$s.saveNamedQuery(s,e);const c=i.withResumeToken(ei.EMPTY_BYTE_STRING,a);return r.Ki=r.Ki.insert(c.targetId,c),r.Ns.updateTargetData(s,c).next(()=>r.Ns.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Ns.addMatchingKeys(s,t,i.targetId)).next(()=>r.$s.saveNamedQuery(s,e))})}),E.apply(this,arguments)}function U(n,e){return`firestore_clients_${n}_${e}`}function ee(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function ce(n,e){return`firestore_targets_${n}_${e}`}class Le{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static er(e,t,i){const r=JSON.parse(i);let s,a="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(s=new fe(r.error.code,r.error.message))),a?new Le(e,t,r.state,s):(j2("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}nr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class nt{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static er(e,t){const i=JSON.parse(t);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new fe(i.error.code,i.error.message))),s?new nt(e,i.state,r):(j2("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}nr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class gt{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static er(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=Wd();for(let a=0;r&&a<i.activeTargetIds.length;++a)r=_C(i.activeTargetIds[a]),s=s.add(i.activeTargetIds[a]);return r?new gt(e,s):(j2("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class At{constructor(e,t){this.clientId=e,this.onlineState=t}static er(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new At(t.clientId,t.onlineState):(j2("SharedClientState",`Failed to parse online state: ${e}`),null)}}class tn{constructor(){this.activeTargetIds=Wd()}sr(e){this.activeTargetIds=this.activeTargetIds.add(e)}ir(e){this.activeTargetIds=this.activeTargetIds.delete(e)}nr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ye{constructor(e,t,i,r,s){this.window=e,this.Ys=t,this.persistenceKey=i,this.rr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ur=this.cr.bind(this),this.ar=new v2(mn),this.started=!1,this.hr=[];const a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.lr=U(this.persistenceKey,this.rr),this.dr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.rr,new tn),this._r=new RegExp(`^firestore_clients_${a}_([^_]*)$`),this.wr=new RegExp(`^firestore_mutations_${a}_(\\d+)(?:_(.*))?$`),this.mr=new RegExp(`^firestore_targets_${a}_(\\d+)$`),this.gr=`firestore_online_state_${this.persistenceKey}`,this.yr=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.ur)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,De.Z)(function*(){const t=yield e.syncEngine.Si();for(const r of t){if(r===e.rr)continue;const s=e.getItem(U(e.persistenceKey,r));if(s){const a=gt.er(r,s);a&&(e.ar=e.ar.insert(a.clientId,a))}}e.pr();const i=e.storage.getItem(e.gr);if(i){const r=e.Ir(i);r&&e.Tr(r)}for(const r of e.hr)e.cr(r);e.hr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.dr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Er(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ar(e,"pending")}updateMutationState(e,t,i){this.Ar(e,t,i),this.Rr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(ce(this.persistenceKey,e));if(i){const r=nt.er(e,i);r&&(t=r.state)}}return this.Pr.sr(e),this.pr(),t}removeLocalQueryTarget(e){this.Pr.ir(e),this.pr()}isLocalQueryTarget(e){return this.Pr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ce(this.persistenceKey,e))}updateQueryState(e,t,i){this.vr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Rr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ur),this.removeItem(this.lr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Qe("SharedClientState","READ",e,t),t}setItem(e,t){Qe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Qe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}cr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Qe("SharedClientState","EVENT",i.key,i.newValue),i.key===this.lr)return void j2("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ys.enqueueRetryable((0,De.Z)(function*(){if(t.started){if(null!==i.key)if(t._r.test(i.key)){if(null==i.newValue){const r=t.Sr(i.key);return t.Dr(r,null)}{const r=t.Cr(i.key,i.newValue);if(r)return t.Dr(r.clientId,r)}}else if(t.wr.test(i.key)){if(null!==i.newValue){const r=t.Nr(i.key,i.newValue);if(r)return t.kr(r)}}else if(t.mr.test(i.key)){if(null!==i.newValue){const r=t.$r(i.key,i.newValue);if(r)return t.Mr(r)}}else if(i.key===t.gr){if(null!==i.newValue){const r=t.Ir(i.newValue);if(r)return t.Tr(r)}}else if(i.key===t.dr){const r=function(s){let a=Pi.at;if(null!=s)try{const c=JSON.parse(s);Ut("number"==typeof c),a=c}catch(c){j2("SharedClientState","Failed to read sequence number from WebStorage",c)}return a}(i.newValue);r!==Pi.at&&t.sequenceNumberHandler(r)}else if(i.key===t.yr){const r=t.Or(i.newValue);yield Promise.all(r.map(s=>t.syncEngine.Fr(s)))}}else t.hr.push(i)}))}}get Pr(){return this.ar.get(this.rr)}pr(){this.setItem(this.lr,this.Pr.nr())}Ar(e,t,i){const r=new Le(this.currentUser,e,t,i),s=ee(this.persistenceKey,this.currentUser,e);this.setItem(s,r.nr())}Rr(e){const t=ee(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.gr,JSON.stringify({clientId:this.rr,onlineState:e}))}vr(e,t,i){const r=ce(this.persistenceKey,e),s=new nt(e,t,i);this.setItem(r,s.nr())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.yr,t)}Sr(e){const t=this._r.exec(e);return t?t[1]:null}Cr(e,t){const i=this.Sr(e);return gt.er(i,t)}Nr(e,t){const i=this.wr.exec(e),r=Number(i[1]);return Le.er(new oi(void 0!==i[2]?i[2]:null),r,t)}$r(e,t){const i=this.mr.exec(e),r=Number(i[1]);return nt.er(r,t)}Ir(e){return At.er(e)}Or(e){return JSON.parse(e)}kr(e){var t=this;return(0,De.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Br(e.batchId,e.state,e.error);Qe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Lr(e.targetId,e.state,e.error)}Dr(e,t){const i=t?this.ar.insert(e,t):this.ar.remove(e),r=this.Er(this.ar),s=this.Er(i),a=[],c=[];return s.forEach(d=>{r.has(d)||a.push(d)}),r.forEach(d=>{s.has(d)||c.push(d)}),this.syncEngine.qr(a,c).then(()=>{this.ar=i})}Tr(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Er(e){let t=Wd();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class gn{constructor(){this.Ur=new tn,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Ur.sr(e),this.Kr[e]||"not-current"}updateQueryState(e,t,i){this.Kr[e]=t}removeLocalQueryTarget(e){this.Ur.ir(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.Kr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new tn,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class n2{Gr(e){}shutdown(){}}class L2{constructor(){this.Qr=()=>this.jr(),this.zr=()=>this.Wr(),this.Hr=[],this.Jr()}Gr(e){this.Hr.push(e)}shutdown(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}Jr(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}jr(){Qe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Hr)e(0)}Wr(){Qe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Hr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let wm=null;function rk(){return null===wm?wm=268435456+Math.round(2147483648*Math.random()):wm++,"0x"+wm.toString(16)}const Rre={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ore{constructor(e){this.Yr=e.Yr,this.Zr=e.Zr}Xr(e){this.eo=e}no(e){this.so=e}onMessage(e){this.io=e}close(){this.Zr()}send(e){this.Yr(e)}ro(){this.eo()}oo(e){this.so(e)}uo(e){this.io(e)}}const Tr="WebChannelConnection";class Fre extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.co=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get ho(){return!1}lo(e,t,i,r,s){const a=rk(),c=this.fo(e,t);Qe("RestConnection",`Sending RPC '${e}' ${a}:`,c,i);const d={};return this._o(d,r,s),this.wo(e,c,d,i).then(h=>(Qe("RestConnection",`Received RPC '${e}' ${a}: `,h),h),h=>{throw ys("RestConnection",`RPC '${e}' ${a} failed with error: `,h,"url: ",c,"request:",i),h})}mo(e,t,i,r,s,a){return this.lo(e,t,i,r,s)}_o(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+g4,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}fo(e,t){return`${this.co}/v1/${t}:${Rre[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}wo(e,t,i,r){const s=rk();return new Promise((a,c)=>{const d=new oC;d.setWithCredentials(!0),d.listenOnce(iC.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Mp.NO_ERROR:const g=d.getResponseJson();Qe(Tr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(g)),a(g);break;case Mp.TIMEOUT:Qe(Tr,`RPC '${e}' ${s} timed out`),c(new fe(xe.DEADLINE_EXCEEDED,"Request time out"));break;case Mp.HTTP_ERROR:const y=d.getStatus();if(Qe(Tr,`RPC '${e}' ${s} failed with status:`,y,"response text:",d.getResponseText()),y>0){let M=d.getResponseJson();Array.isArray(M)&&(M=M[0]);const S=M?.error;if(S&&S.status&&S.message){const k=function(A){const L=A.toLowerCase().replace(/_/g,"-");return Object.values(xe).indexOf(L)>=0?L:xe.UNKNOWN}(S.status);c(new fe(k,S.message))}else c(new fe(xe.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new fe(xe.UNAVAILABLE,"Connection failed."));break;default:Dt()}}finally{Qe(Tr,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(r);Qe(Tr,`RPC '${e}' ${s} sending request:`,r),d.send(t,"POST",h,i,15)})}yo(e,t,i){const r=rk(),s=[this.co,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=tD(),c=nD(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(d.xmlHttpFactory=new sC({})),this._o(d.initMessageHeaders,t,i),d.encodeInitMessageHeaders=!0;const h=s.join("");Qe(Tr,`Creating RPC '${e}' stream ${r}: ${h}`,d);const g=a.createWebChannel(h,d);let y=!1,M=!1;const S=new Ore({Yr:A=>{M?Qe(Tr,`Not sending because RPC '${e}' stream ${r} is closed:`,A):(y||(Qe(Tr,`Opening RPC '${e}' stream ${r} transport.`),g.open(),y=!0),Qe(Tr,`RPC '${e}' stream ${r} sending:`,A),g.send(A))},Zr:()=>g.close()}),k=(A,L,B)=>{A.listen(L,G=>{try{B(G)}catch(X){setTimeout(()=>{throw X},0)}})};return k(g,c5.EventType.OPEN,()=>{M||Qe(Tr,`RPC '${e}' stream ${r} transport opened.`)}),k(g,c5.EventType.CLOSE,()=>{M||(M=!0,Qe(Tr,`RPC '${e}' stream ${r} transport closed`),S.oo())}),k(g,c5.EventType.ERROR,A=>{M||(M=!0,ys(Tr,`RPC '${e}' stream ${r} transport errored:`,A),S.oo(new fe(xe.UNAVAILABLE,"The operation could not be completed")))}),k(g,c5.EventType.MESSAGE,A=>{var L;if(!M){const B=A.data[0];Ut(!!B);const X=B.error||(null===(L=B[0])||void 0===L?void 0:L.error);if(X){Qe(Tr,`RPC '${e}' stream ${r} received error:`,X);const te=X.status;let re=function(Ee){const rt=ti[Ee];if(void 0!==rt)return GC(rt)}(te),be=X.message;void 0===re&&(re=xe.INTERNAL,be="Unknown error status: "+te+" with message "+X.message),M=!0,S.oo(new fe(re,be)),g.close()}else Qe(Tr,`RPC '${e}' stream ${r} received:`,B),S.uo(B)}}),k(c,rC.STAT_EVENT,A=>{A.stat===wp.PROXY?Qe(Tr,`RPC '${e}' stream ${r} detected buffering proxy`):A.stat===wp.NOPROXY&&Qe(Tr,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{S.ro()},0),S}}function sP(){return typeof window<"u"?window:null}function Pb(){return typeof document<"u"?document:null}function xm(n){return new JC(n,!0)}class sk{constructor(e,t,i=1e3,r=1.5,s=6e4){this.Ys=e,this.timerId=t,this.po=i,this.Io=r,this.To=s,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}reset(){this.Eo=0}Po(){this.Eo=this.To}vo(e){this.cancel();const t=Math.floor(this.Eo+this.bo()),i=Math.max(0,Date.now()-this.Ro),r=Math.max(0,t-i);r>0&&Qe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Eo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,r,()=>(this.Ro=Date.now(),e())),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}Vo(){null!==this.Ao&&(this.Ao.skipDelay(),this.Ao=null)}cancel(){null!==this.Ao&&(this.Ao.cancel(),this.Ao=null)}bo(){return(Math.random()-.5)*this.Eo}}class oP{constructor(e,t,i,r,s,a,c,d){this.Ys=e,this.So=i,this.Do=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new sk(e,t)}$o(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,De.Z)(function*(){e.$o()&&(yield e.close(0))})()}Fo(){this.state=0,this.ko.reset()}Bo(){this.Mo()&&null===this.xo&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,()=>this.Lo()))}qo(e){this.Uo(),this.stream.send(e)}Lo(){var e=this;return(0,De.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.xo&&(this.xo.cancel(),this.xo=null)}Ko(){this.No&&(this.No.cancel(),this.No=null)}close(e,t){var i=this;return(0,De.Z)(function*(){i.Uo(),i.Ko(),i.ko.cancel(),i.Co++,4!==e?i.ko.reset():t&&t.code===xe.RESOURCE_EXHAUSTED?(j2(t.toString()),j2("Using maximum backoff delay to prevent overloading the backend."),i.ko.Po()):t&&t.code===xe.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Go(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.no(t)})()}Go(){}auth(){this.state=1;const e=this.Qo(this.Co),t=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Co===t&&this.jo(i,r)},i=>{e(()=>{const r=new fe(xe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.zo(r)})})}jo(e,t){const i=this.Qo(this.Co);this.stream=this.Wo(e,t),this.stream.Xr(()=>{i(()=>(this.state=2,this.No=this.Ys.enqueueAfterDelay(this.Do,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.no(r=>{i(()=>this.zo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){var e=this;this.state=5,this.ko.vo((0,De.Z)(function*(){e.state=0,e.start()}))}zo(e){return Qe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Qo(e){return t=>{this.Ys.enqueueAndForget(()=>this.Co===e?t():(Qe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Bre extends oP{constructor(e,t,i,r,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,a),this.Tt=s}Wo(e,t){return this.connection.yo("Listen",e,t)}onMessage(e){this.ko.reset();const t=function wD(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(d=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===d?1:"REMOVE"===d?2:"CURRENT"===d?3:"RESET"===d?4:Dt(),r=e.targetChange.targetIds||[],s=function(d,h){return d.yt?(Ut(void 0===h||"string"==typeof h),ei.fromBase64String(h||"")):(Ut(void 0===h||h instanceof Uint8Array),ei.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),a=e.targetChange.cause,c=a&&function(d){const h=void 0===d.code?xe.UNKNOWN:GC(d.code);return new fe(h,d.message||"")}(a);t=new qd(i,r,s,c||null)}else if("documentChange"in e){const i=e.documentChange,r=Ho(n,i.document.name),s=y2(i.document.updateTime),a=i.document.createTime?y2(i.document.createTime):$t.min(),c=new ci({mapValue:{fields:i.document.fields}}),d=G1.newFoundDocument(r,s,a,c);t=new Yd(i.targetIds||[],i.removedTargetIds||[],d.key,d)}else if("documentDelete"in e){const i=e.documentDelete,r=Ho(n,i.document),s=i.readTime?y2(i.readTime):$t.min(),a=G1.newNoDocument(r,s);t=new Yd([],i.removedTargetIds||[],a.key,a)}else if("documentRemove"in e){const i=e.documentRemove,r=Ho(n,i.document);t=new Yd([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return Dt();{const i=e.filter,s=new qC(i.count||0);t=new ZC(i.targetId,s)}}var d;return t}(this.Tt,e),i=function(r){if(!("targetChange"in r))return $t.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?$t.min():s.readTime?y2(s.readTime):$t.min()}(e);return this.listener.Ho(t,i)}Jo(e){const t={};t.database=O0(this.Tt),t.addTarget=function(r,s){let a;const c=s.target;return a=y5(c)?{documents:rm(r,c)}:{query:Kd(r,c)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?a.resumeToken=XC(r,s.resumeToken):s.snapshotVersion.compareTo($t.min())>0&&(a.readTime=Bs(r,s.snapshotVersion.toTimestamp())),a}(this.Tt,e);const i=function ob(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Dt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.qo(t)}Yo(e){const t={};t.database=O0(this.Tt),t.removeTarget=e,this.qo(t)}}class Ure extends oP{constructor(e,t,i,r,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,a),this.Tt=s,this.Zo=!1}get Xo(){return this.Zo}start(){this.Zo=!1,this.lastStreamToken=void 0,super.start()}Go(){this.Zo&&this.tu([])}Wo(e,t){return this.connection.yo("Write",e,t)}onMessage(e){if(Ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Zo){this.ko.reset();const t=function xD(n,e){return n&&n.length>0?(Ut(void 0!==e),n.map(t=>function(i,r){let s=y2(i.updateTime?i.updateTime:r);return s.isEqual($t.min())&&(s=y2(r)),new qp(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=y2(e.commitTime);return this.listener.eu(i,t)}return Ut(!e.writeResults||0===e.writeResults.length),this.Zo=!0,this.listener.nu()}su(){const e={};e.database=O0(this.Tt),this.qo(e)}tu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>T5(this.Tt,i))};this.qo(t)}}class jre extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.Tt=r,this.iu=!1}ru(){if(this.iu)throw new fe(xe.FAILED_PRECONDITION,"The client has already been terminated.")}lo(e,t,i){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.lo(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new fe(xe.UNKNOWN,r.toString())})}mo(e,t,i,r){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.mo(e,t,i,s,a,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new fe(xe.UNKNOWN,s.toString())})}terminate(){this.iu=!0}}class Yre{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}au(){0===this.ou&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.uu=null,this.lu("Backend didn't respond within 10 seconds."),this.hu("Offline"),Promise.resolve())))}fu(e){"Online"===this.state?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.hu("Offline")))}set(e){this.du(),this.ou=0,"Online"===e&&(this.cu=!1),this.hu(e)}hu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}lu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.cu?(j2(t),this.cu=!1):Qe("OnlineStateTracker",t)}du(){null!==this.uu&&(this.uu.cancel(),this.uu=null)}}class qre{constructor(e,t,i,r,s){var a=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=s,this.yu.Gr(c=>{i.enqueueAndForget((0,De.Z)(function*(){var d;O4(a)&&(Qe("RemoteStore","Restarting streams for network reachability change."),yield(d=(0,De.Z)(function*(h){const g=yt(h);g.mu.add(4),yield _f(g),g.pu.set("Unknown"),g.mu.delete(4),yield Sm(g)}),function(h){return d.apply(this,arguments)})(a))}))}),this.pu=new Yre(i,r)}}function Sm(n){return ak.apply(this,arguments)}function ak(){return ak=(0,De.Z)(function*(n){if(O4(n))for(const e of n.gu)yield e(!0)}),ak.apply(this,arguments)}function _f(n){return ck.apply(this,arguments)}function ck(){return ck=(0,De.Z)(function*(n){for(const e of n.gu)yield e(!1)}),ck.apply(this,arguments)}function Rb(n,e){const t=yt(n);t.wu.has(e.targetId)||(t.wu.set(e.targetId,e),dk(t)?uk(t):yf(t).Mo()&&lk(t,e))}function Tm(n,e){const t=yt(n),i=yf(t);t.wu.delete(e),i.Mo()&&aP(t,e),0===t.wu.size&&(i.Mo()?i.Bo():O4(t)&&t.pu.set("Unknown"))}function lk(n,e){n.Iu.Ot(e.targetId),yf(n).Jo(e)}function aP(n,e){n.Iu.Ot(e),yf(n).Yo(e)}function uk(n){n.Iu=new KC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ie:e=>n.wu.get(e)||null}),yf(n).start(),n.pu.au()}function dk(n){return O4(n)&&!yf(n).$o()&&n.wu.size>0}function O4(n){return 0===yt(n).mu.size}function cP(n){n.Iu=void 0}function Gre(n){return fk.apply(this,arguments)}function fk(){return fk=(0,De.Z)(function*(n){n.wu.forEach((e,t)=>{lk(n,e)})}),fk.apply(this,arguments)}function $re(n,e){return hk.apply(this,arguments)}function hk(){return hk=(0,De.Z)(function*(n,e){cP(n),dk(n)?(n.pu.fu(e),uk(n)):n.pu.set("Unknown")}),hk.apply(this,arguments)}function Zre(n,e,t){return pk.apply(this,arguments)}function pk(){return pk=(0,De.Z)(function*(n,e,t){if(n.pu.set("Online"),e instanceof qd&&2===e.state&&e.cause)try{yield(i=(0,De.Z)(function*(r,s){const a=s.cause;for(const c of s.targetIds)r.wu.has(c)&&(yield r.remoteSyncer.rejectListen(c,a),r.wu.delete(c),r.Iu.removeTarget(c))}),function(r,s){return i.apply(this,arguments)})(n,e)}catch(i){Qe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Ob(n,i)}else if(e instanceof Yd?n.Iu.Qt(e):e instanceof ZC?n.Iu.Zt(e):n.Iu.Wt(e),!t.isEqual($t.min()))try{const i=yield nk(n.localStore);t.compareTo(i)>=0&&(yield function(r,s){const a=r.Iu.ee(s);return a.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=r.wu.get(d);h&&r.wu.set(d,h.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach(c=>{const d=r.wu.get(c);if(!d)return;r.wu.set(c,d.withResumeToken(ei.EMPTY_BYTE_STRING,d.snapshotVersion)),aP(r,c);const h=new Lo(d.target,c,1,d.sequenceNumber);lk(r,h)}),r.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(i){Qe("RemoteStore","Failed to raise snapshot:",i),yield Ob(n,i)}var i}),pk.apply(this,arguments)}function Ob(n,e,t){return mk.apply(this,arguments)}function mk(){return mk=(0,De.Z)(function*(n,e,t){if(!y4(e))throw e;n.mu.add(1),yield _f(n),n.pu.set("Offline"),t||(t=()=>nk(n.localStore)),n.asyncQueue.enqueueRetryable((0,De.Z)(function*(){Qe("RemoteStore","Retrying IndexedDB access"),yield t(),n.mu.delete(1),yield Sm(n)}))}),mk.apply(this,arguments)}function lP(n,e){return e().catch(t=>Ob(n,t,e))}function vf(n){return gk.apply(this,arguments)}function gk(){return gk=(0,De.Z)(function*(n){const e=yt(n),t=W0(e);let i=e._u.length>0?e._u[e._u.length-1].batchId:-1;for(;Kre(e);)try{const r=yield rP(e.localStore,i);if(null===r){0===e._u.length&&t.Bo();break}i=r.batchId,Qre(e,r)}catch(r){yield Ob(e,r)}uP(e)&&dP(e)}),gk.apply(this,arguments)}function Kre(n){return O4(n)&&n._u.length<10}function Qre(n,e){n._u.push(e);const t=W0(n);t.Mo()&&t.Xo&&t.tu(e.mutations)}function uP(n){return O4(n)&&!W0(n).$o()&&n._u.length>0}function dP(n){W0(n).start()}function Jre(n){return _k.apply(this,arguments)}function _k(){return _k=(0,De.Z)(function*(n){W0(n).su()}),_k.apply(this,arguments)}function Xre(n){return vk.apply(this,arguments)}function vk(){return vk=(0,De.Z)(function*(n){const e=W0(n);for(const t of n._u)e.tu(t.mutations)}),vk.apply(this,arguments)}function ese(n,e,t){return yk.apply(this,arguments)}function yk(){return yk=(0,De.Z)(function*(n,e,t){const i=n._u.shift(),r=Zr.from(i,e,t);yield lP(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield vf(n)}),yk.apply(this,arguments)}function tse(n,e){return Ck.apply(this,arguments)}function Ck(){return Ck=(0,De.Z)(function*(n,e){var t;e&&W0(n).Xo&&(yield(t=(0,De.Z)(function*(i,r){if(Qp(s=r.code)&&s!==xe.ABORTED){const a=i._u.shift();W0(i).Fo(),yield lP(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,r)),yield vf(i)}var s}),function(i,r){return t.apply(this,arguments)})(n,e)),uP(n)&&dP(n)}),Ck.apply(this,arguments)}function fP(n,e){return bk.apply(this,arguments)}function bk(){return bk=(0,De.Z)(function*(n,e){const t=yt(n);t.asyncQueue.verifyOperationInProgress(),Qe("RemoteStore","RemoteStore received new credentials");const i=O4(t);t.mu.add(3),yield _f(t),i&&t.pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.mu.delete(3),yield Sm(t)}),bk.apply(this,arguments)}function Mk(n,e){return wk.apply(this,arguments)}function wk(){return wk=(0,De.Z)(function*(n,e){const t=yt(n);e?(t.mu.delete(2),yield Sm(t)):e||(t.mu.add(2),yield _f(t),t.pu.set("Unknown"))}),wk.apply(this,arguments)}function yf(n){return n.Tu||(n.Tu=function(e,t,i){const r=yt(e);return r.ru(),new Bre(t,r.connection,r.authCredentials,r.appCheckCredentials,r.Tt,i)}(n.datastore,n.asyncQueue,{Xr:Gre.bind(null,n),no:$re.bind(null,n),Ho:Zre.bind(null,n)}),n.gu.push(function(){var e=(0,De.Z)(function*(t){t?(n.Tu.Fo(),dk(n)?uk(n):n.pu.set("Unknown")):(yield n.Tu.stop(),cP(n))});return function(t){return e.apply(this,arguments)}}())),n.Tu}function W0(n){return n.Eu||(n.Eu=function(e,t,i){const r=yt(e);return r.ru(),new Ure(t,r.connection,r.authCredentials,r.appCheckCredentials,r.Tt,i)}(n.datastore,n.asyncQueue,{Xr:Jre.bind(null,n),no:tse.bind(null,n),nu:Xre.bind(null,n),eu:ese.bind(null,n)}),n.gu.push(function(){var e=(0,De.Z)(function*(t){t?(n.Eu.Fo(),yield vf(n)):(yield n.Eu.stop(),n._u.length>0&&(Qe("RemoteStore",`Stopping write stream with ${n._u.length} pending writes`),n._u=[]))});return function(t){return e.apply(this,arguments)}}())),n.Eu}class xk{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}static createAndSchedule(e,t,i,r,s){const a=Date.now()+i,c=new xk(e,t,a,r,s);return c.start(i),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new fe(xe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cf(n,e){if(j2("AsyncQueue",`${e}: ${n}`),y4(n))return new fe(xe.UNAVAILABLE,`${e}: ${n}`);throw n}class bf{constructor(e){this.comparator=e?(t,i)=>e(t,i)||_t.comparator(t.key,i.key):(t,i)=>_t.comparator(t.key,i.key),this.keyedMap=M5(),this.sortedSet=new v2(this.comparator)}static emptySet(e){return new bf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof bf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new bf;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class hP{constructor(){this.Au=new v2(_t.comparator)}track(e){const t=e.doc.key,i=this.Au.get(t);i?0!==e.type&&3===i.type?this.Au=this.Au.insert(t,e):3===e.type&&1!==i.type?this.Au=this.Au.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Au=this.Au.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Au=this.Au.remove(t):1===e.type&&2===i.type?this.Au=this.Au.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):Dt():this.Au=this.Au.insert(t,e)}Ru(){const e=[];return this.Au.inorderTraversal((t,i)=>{e.push(i)}),e}}class Mf{constructor(e,t,i,r,s,a,c,d,h){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,t,i,r,s){const a=[];return t.forEach(c=>{a.push({type:0,doc:c})}),new Mf(e,t,bf.emptySet(t),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&z0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class nse{constructor(){this.Pu=void 0,this.listeners=[]}}class ise{constructor(){this.queries=new Va(e=>NC(e),z0),this.onlineState="Unknown",this.vu=new Set}}function Sk(n,e){return Tk.apply(this,arguments)}function Tk(){return Tk=(0,De.Z)(function*(n,e){const t=yt(n),i=e.query;let r=!1,s=t.queries.get(i);if(s||(r=!0,s=new nse),r)try{s.Pu=yield t.onListen(i)}catch(a){const c=Cf(a,`Initialization of query '${PC(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,s),s.listeners.push(e),e.bu(t.onlineState),s.Pu&&e.Vu(s.Pu)&&zk(t)}),Tk.apply(this,arguments)}function Dk(n,e){return kk.apply(this,arguments)}function kk(){return kk=(0,De.Z)(function*(n,e){const t=yt(n),i=e.query;let r=!1;const s=t.queries.get(i);if(s){const a=s.listeners.indexOf(e);a>=0&&(s.listeners.splice(a,1),r=0===s.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),kk.apply(this,arguments)}function rse(n,e){const t=yt(n);let i=!1;for(const r of e){const a=t.queries.get(r.query);if(a){for(const c of a.listeners)c.Vu(r)&&(i=!0);a.Pu=r}}i&&zk(t)}function sse(n,e,t){const i=yt(n),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(t);i.queries.delete(e)}function zk(n){n.vu.forEach(e=>{e.next()})}class Ak{constructor(e,t,i){this.query=e,this.Su=t,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=i||{}}Vu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new Mf(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Du?this.xu(e)&&(this.Su.next(e),t=!0):this.Nu(e,this.onlineState)&&(this.ku(e),t=!0),this.Cu=e,t}onError(e){this.Su.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,e)&&(this.ku(this.Cu),t=!0),t}Nu(e,t){return!e.fromCache||(!this.options.$u||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}xu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Cu&&this.Cu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}ku(e){e=Mf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Du=!0,this.Su.next(e)}}class ose{constructor(e,t){this.Mu=e,this.byteLength=t}Ou(){return"metadata"in this.Mu}}class pP{constructor(e){this.Tt=e}Zi(e){return Ho(this.Tt,e)}Xi(e){return e.metadata.exists?im(this.Tt,e.document,!1):G1.newNoDocument(this.Zi(e.metadata.name),this.tr(e.metadata.readTime))}tr(e){return y2(e)}}class ase{constructor(e,t,i){this.Fu=e,this.localStore=t,this.Tt=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=mP(e)}Bu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Mu.namedQuery)this.queries.push(e.Mu.namedQuery);else if(e.Mu.documentMetadata){this.documents.push({metadata:e.Mu.documentMetadata}),e.Mu.documentMetadata.exists||++t;const i=Kn.fromString(e.Mu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Mu.document&&(this.documents[this.documents.length-1].document=e.Mu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Lu(e){const t=new Map,i=new pP(this.Tt);for(const r of e)if(r.metadata.queries){const s=i.Zi(r.metadata.name);for(const a of r.metadata.queries){const c=(t.get(a)||Dn()).add(s);t.set(a,c)}}return t}complete(){var e=this;return(0,De.Z)(function*(){const t=yield function x(n,e,t,i){return D.apply(this,arguments)}(e.localStore,new pP(e.Tt),e.documents,e.Fu.id),i=e.Lu(e.documents);for(const r of e.queries)yield z(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,qu:e.collectionGroups,Uu:t}})()}}function mP(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class gP{constructor(e){this.key=e}}class _P{constructor(e){this.key=e}}class vP{constructor(e,t){this.query=e,this.Ku=t,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=Dn(),this.mutatedKeys=Dn(),this.ju=RC(e),this.zu=new bf(this.ju)}get Wu(){return this.Ku}Hu(e,t){const i=t?t.Ju:new hP,r=t?t.zu:this.zu;let s=t?t.mutatedKeys:this.mutatedKeys,a=r,c=!1;const d="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,h="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((g,y)=>{const M=r.get(g),S=A0(this.query,y)?y:null,k=!!M&&this.mutatedKeys.has(M.key),A=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let L=!1;M&&S?M.data.isEqual(S.data)?k!==A&&(i.track({type:3,doc:S}),L=!0):this.Yu(M,S)||(i.track({type:2,doc:S}),L=!0,(d&&this.ju(S,d)>0||h&&this.ju(S,h)<0)&&(c=!0)):!M&&S?(i.track({type:0,doc:S}),L=!0):M&&!S&&(i.track({type:1,doc:M}),L=!0,(d||h)&&(c=!0)),L&&(S?(a=a.add(S),s=A?s.add(g):s.delete(g)):(a=a.delete(g),s=s.delete(g)))}),null!==this.query.limit)for(;a.size>this.query.limit;){const g="F"===this.query.limitType?a.last():a.first();a=a.delete(g.key),s=s.delete(g.key),i.track({type:1,doc:g})}return{zu:a,Ju:i,Li:c,mutatedKeys:s}}Yu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.zu;this.zu=e.zu,this.mutatedKeys=e.mutatedKeys;const s=e.Ju.Ru();s.sort((h,g)=>function(y,M){const S=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dt()}};return S(y)-S(M)}(h.type,g.type)||this.ju(h.doc,g.doc)),this.Zu(i);const a=t?this.Xu():[],c=0===this.Qu.size&&this.current?1:0,d=c!==this.Gu;return this.Gu=c,0!==s.length||d?{snapshot:new Mf(this.query,e.zu,r,s,e.mutatedKeys,0===c,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),tc:a}:{tc:a}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new hP,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}ec(e){return!this.Ku.has(e)&&!!this.zu.has(e)&&!this.zu.get(e).hasLocalMutations}Zu(e){e&&(e.addedDocuments.forEach(t=>this.Ku=this.Ku.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ku=this.Ku.delete(t)),this.current=e.current)}Xu(){if(!this.current)return[];const e=this.Qu;this.Qu=Dn(),this.zu.forEach(i=>{this.ec(i.key)&&(this.Qu=this.Qu.add(i.key))});const t=[];return e.forEach(i=>{this.Qu.has(i)||t.push(new _P(i))}),this.Qu.forEach(i=>{e.has(i)||t.push(new gP(i))}),t}nc(e){this.Ku=e.Yi,this.Qu=Dn();const t=this.Hu(e.documents);return this.applyChanges(t,!0)}sc(){return Mf.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,0===this.Gu,this.hasCachedResults)}}class cse{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class lse{constructor(e){this.key=e,this.ic=!1}}class use{constructor(e,t,i,r,s,a){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.rc={},this.oc=new Va(c=>NC(c),z0),this.uc=new Map,this.cc=new Set,this.ac=new v2(_t.comparator),this.hc=new Map,this.lc=new mf,this.fc={},this.dc=new Map,this._c=B0.Sn(),this.onlineState="Unknown",this.wc=void 0}get isPrimaryClient(){return!0===this.wc}}function dse(n,e){return Hk.apply(this,arguments)}function Hk(){return Hk=(0,De.Z)(function*(n,e){const t=ez(n);let i,r;const s=t.oc.get(e);if(s)i=s.targetId,t.sharedClientState.addLocalQueryTarget(i),r=s.view.sc();else{const a=yield l(t.localStore,Ki(e));t.isPrimaryClient&&Rb(t.remoteStore,a);const c=t.sharedClientState.addLocalQueryTarget(a.targetId);i=a.targetId,r=yield Lk(t,e,i,"current"===c,a.resumeToken)}return r}),Hk.apply(this,arguments)}function Lk(n,e,t,i,r){return Ek.apply(this,arguments)}function Ek(){return Ek=(0,De.Z)(function*(n,e,t,i,r){n.mc=(y,M,S)=>{return(k=(0,De.Z)(function*(A,L,B,G){let X=L.view.Hu(B);X.Li&&(X=yield p(A.localStore,L.query,!1).then(({documents:be})=>L.view.Hu(be,X)));const te=G&&G.targetChanges.get(L.targetId),re=L.view.applyChanges(X,A.isPrimaryClient,te);return jk(A,L.targetId,re.tc),re.snapshot}),function(A,L,B,G){return k.apply(this,arguments)})(n,y,M,S);var k};const s=yield p(n.localStore,e,!0),a=new vP(e,s.Yi),c=a.Hu(s.documents),d=x5.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),h=a.applyChanges(c,n.isPrimaryClient,d);jk(n,t,h.tc);const g=new cse(e,t,a);return n.oc.set(e,g),n.uc.has(t)?n.uc.get(t).push(e):n.uc.set(t,[e]),h.snapshot}),Ek.apply(this,arguments)}function fse(n,e){return Vk.apply(this,arguments)}function Vk(){return Vk=(0,De.Z)(function*(n,e){const t=yt(n),i=t.oc.get(e),r=t.uc.get(i.targetId);if(r.length>1)return t.uc.set(i.targetId,r.filter(s=>!z0(s,e))),void t.oc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield u(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Tm(t.remoteStore,i.targetId),wf(t,i.targetId)}).catch(Ta))):(wf(t,i.targetId),yield u(t.localStore,i.targetId,!0))}),Vk.apply(this,arguments)}function Ik(){return Ik=(0,De.Z)(function*(n,e,t){const i=tz(n);try{const r=yield function(s,a){const c=yt(s),d=n1.now(),h=a.reduce((M,S)=>M.add(S.key),Dn());let g,y;return c.persistence.runTransaction("Locally write mutations","readwrite",M=>{let S=D1(),k=Dn();return c.ji.getEntries(M,h).next(A=>{S=A,S.forEach((L,B)=>{B.isValidDocument()||(k=k.add(L))})}).next(()=>c.localDocuments.getOverlayedDocuments(M,S)).next(A=>{g=A;const L=[];for(const B of a){const G=yD(B,g.get(B.key).overlayedDocument);null!=G&&L.push(new Ea(B.key,G,HC(G.value.mapValue),$1.exists(!0)))}return c.mutationQueue.addMutationBatch(M,d,L,a)}).next(A=>{y=A;const L=A.applyToLocalDocumentSet(g,k);return c.documentOverlayCache.saveOverlays(M,A.batchId,L)})}).then(()=>({batchId:y.batchId,changes:$C(g)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,c){let d=s.fc[s.currentUser.toKey()];d||(d=new v2(mn)),d=d.insert(a,c),s.fc[s.currentUser.toKey()]=d}(i,r.batchId,t),yield F4(i,r.changes),yield vf(i.remoteStore)}catch(r){const s=Cf(r,"Failed to persist write");t.reject(s)}}),Ik.apply(this,arguments)}function yP(n,e){return Nk.apply(this,arguments)}function Nk(){return Nk=(0,De.Z)(function*(n,e){const t=yt(n);try{const i=yield function iP(n,e){const t=yt(n),i=e.snapshotVersion;let r=t.Ki;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=t.ji.newChangeBuffer({trackRemovals:!0});r=t.Ki;const c=[];e.targetChanges.forEach((g,y)=>{const M=r.get(y);if(!M)return;c.push(t.Ns.removeMatchingKeys(s,g.removedDocuments,y).next(()=>t.Ns.addMatchingKeys(s,g.addedDocuments,y)));let S=M.withSequenceNumber(s.currentSequenceNumber);var k,A,L;e.targetMismatches.has(y)?S=S.withResumeToken(ei.EMPTY_BYTE_STRING,$t.min()).withLastLimboFreeSnapshotVersion($t.min()):g.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(g.resumeToken,i)),r=r.insert(y,S),A=S,L=g,(0===(k=M).resumeToken.approximateByteSize()||A.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8||L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0)&&c.push(t.Ns.updateTargetData(s,S))});let d=D1(),h=Dn();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(s,g))}),c.push(ik(s,a,e.documentUpdates).next(g=>{d=g.Hi,h=g.Ji})),!i.isEqual($t.min())){const g=t.Ns.getLastRemoteSnapshotVersion(s).next(y=>t.Ns.setTargetsMetadata(s,s.currentSequenceNumber,i));c.push(g)}return Ce.waitFor(c).next(()=>a.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,d,h)).next(()=>d)}).then(s=>(t.Ki=r,s))}(t.localStore,e);e.targetChanges.forEach((r,s)=>{const a=t.hc.get(s);a&&(Ut(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?a.ic=!0:r.modifiedDocuments.size>0?Ut(a.ic):r.removedDocuments.size>0&&(Ut(a.ic),a.ic=!1))}),yield F4(t,i,e)}catch(i){yield Ta(i)}}),Nk.apply(this,arguments)}function CP(n,e,t){const i=yt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.oc.forEach((s,a)=>{const c=a.view.bu(e);c.snapshot&&r.push(c.snapshot)}),function(s,a){const c=yt(s);c.onlineState=a;let d=!1;c.queries.forEach((h,g)=>{for(const y of g.listeners)y.bu(a)&&(d=!0)}),d&&zk(c)}(i.eventManager,e),r.length&&i.rc.Ho(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function pse(n,e,t){return Pk.apply(this,arguments)}function Pk(){return Pk=(0,De.Z)(function*(n,e,t){const i=yt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.hc.get(e),s=r&&r.key;if(s){let a=new v2(_t.comparator);a=a.insert(s,G1.newNoDocument(s,$t.min()));const c=Dn().add(s),d=new R0($t.min(),new Map,new T1(mn),a,c);yield yP(i,d),i.ac=i.ac.remove(s),i.hc.delete(e),Wk(i)}else yield u(i.localStore,e,!1).then(()=>wf(i,e,t)).catch(Ta)}),Pk.apply(this,arguments)}function mse(n,e){return Rk.apply(this,arguments)}function Rk(){return Rk=(0,De.Z)(function*(n,e){const t=yt(n),i=e.batch.batchId;try{const r=yield function nP(n,e){const t=yt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.ji.newChangeBuffer({trackRemovals:!0});return function(a,c,d,h){const g=d.batch,y=g.keys();let M=Ce.resolve();return y.forEach(S=>{M=M.next(()=>h.getEntry(c,S)).next(k=>{const A=d.docVersions.get(S);Ut(null!==A),k.version.compareTo(A)<0&&(g.applyToRemoteDocument(k,d),k.isValidDocument()&&(k.setReadTime(d.commitVersion),h.addEntry(k)))})}),M.next(()=>a.mutationQueue.removeMutationBatch(c,g))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let c=Dn();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(c=c.add(a.batch.mutations[d].key));return c}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);Uk(t,i,null),Bk(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield F4(t,r)}catch(r){yield Ta(r)}}),Rk.apply(this,arguments)}function gse(n,e,t){return Ok.apply(this,arguments)}function Ok(){return Ok=(0,De.Z)(function*(n,e,t){const i=yt(n);try{const r=yield function(s,a){const c=yt(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,a).next(g=>(Ut(null!==g),h=g.keys(),c.mutationQueue.removeMutationBatch(d,g))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(i.localStore,e);Uk(i,e,t),Bk(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield F4(i,r)}catch(r){yield Ta(r)}}),Ok.apply(this,arguments)}function Fk(){return Fk=(0,De.Z)(function*(n,e){const t=yt(n);O4(t.remoteStore)||Qe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const a=yt(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(t.localStore);if(-1===i)return void e.resolve();const r=t.dc.get(i)||[];r.push(e),t.dc.set(i,r)}catch(i){const r=Cf(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),Fk.apply(this,arguments)}function Bk(n,e){(n.dc.get(e)||[]).forEach(t=>{t.resolve()}),n.dc.delete(e)}function Uk(n,e,t){const i=yt(n);let r=i.fc[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.fc[i.currentUser.toKey()]=r}}function wf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.uc.get(e))n.oc.delete(i),t&&n.rc.gc(i,t);n.uc.delete(e),n.isPrimaryClient&&n.lc.ds(e).forEach(i=>{n.lc.containsKey(i)||bP(n,i)})}function bP(n,e){n.cc.delete(e.path.canonicalString());const t=n.ac.get(e);null!==t&&(Tm(n.remoteStore,t),n.ac=n.ac.remove(e),n.hc.delete(t),Wk(n))}function jk(n,e,t){for(const i of t)i instanceof gP?(n.lc.addReference(i.key,e),vse(n,i)):i instanceof _P?(Qe("SyncEngine","Document no longer in limbo: "+i.key),n.lc.removeReference(i.key,e),n.lc.containsKey(i.key)||bP(n,i.key)):Dt()}function vse(n,e){const t=e.key,i=t.path.canonicalString();n.ac.get(t)||n.cc.has(i)||(Qe("SyncEngine","New document in limbo: "+t),n.cc.add(i),Wk(n))}function Wk(n){for(;n.cc.size>0&&n.ac.size<n.maxConcurrentLimboResolutions;){const e=n.cc.values().next().value;n.cc.delete(e);const t=new _t(Kn.fromString(e)),i=n._c.next();n.hc.set(i,new lse(t)),n.ac=n.ac.insert(t,i),Rb(n.remoteStore,new Lo(Ki(k0(t.path)),i,2,Pi.at))}}function F4(n,e,t){return Yk.apply(this,arguments)}function Yk(){return Yk=(0,De.Z)(function*(n,e,t){const i=yt(n),r=[],s=[],a=[];var c;i.oc.isEmpty()||(i.oc.forEach((c,d)=>{a.push(i.mc(d,e,t).then(h=>{if((h||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(d.targetId,h?.fromCache?"not-current":"current"),h){r.push(h);const g=Vb.Ni(d.targetId,h);s.push(g)}}))}),yield Promise.all(a),i.rc.Ho(r),yield(c=(0,De.Z)(function*(d,h){const g=yt(d);try{yield g.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>Ce.forEach(h,M=>Ce.forEach(M.Ci,S=>g.persistence.referenceDelegate.addReference(y,M.targetId,S)).next(()=>Ce.forEach(M.xi,S=>g.persistence.referenceDelegate.removeReference(y,M.targetId,S)))))}catch(y){if(!y4(y))throw y;Qe("LocalStore","Failed to update sequence numbers: "+y)}for(const y of h){const M=y.targetId;if(!y.fromCache){const S=g.Ki.get(M),A=S.withLastLimboFreeSnapshotVersion(S.snapshotVersion);g.Ki=g.Ki.insert(M,A)}}}),function(d,h){return c.apply(this,arguments)})(i.localStore,s))}),Yk.apply(this,arguments)}function yse(n,e){return qk.apply(this,arguments)}function qk(){return qk=(0,De.Z)(function*(n,e){const t=yt(n);if(!t.currentUser.isEqual(e)){Qe("SyncEngine","User change. New user:",e.toKey());const i=yield Ib(t.localStore,e);t.currentUser=e,(r=t).dc.forEach(a=>{a.forEach(c=>{c.reject(new fe(xe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.dc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield F4(t,i.Wi)}var r}),qk.apply(this,arguments)}function Cse(n,e){const t=yt(n),i=t.hc.get(e);if(i&&i.ic)return Dn().add(i.key);{let r=Dn();const s=t.uc.get(e);if(!s)return r;for(const a of s){const c=t.oc.get(a);r=r.unionWith(c.view.Wu)}return r}}function bse(n,e){return Gk.apply(this,arguments)}function Gk(){return Gk=(0,De.Z)(function*(n,e){const t=yt(n),i=yield p(t.localStore,e.query,!0),r=e.view.nc(i);return t.isPrimaryClient&&jk(t,e.targetId,r.tc),r}),Gk.apply(this,arguments)}function Mse(n,e){return $k.apply(this,arguments)}function $k(){return $k=(0,De.Z)(function*(n,e){const t=yt(n);return _(t.localStore,e).then(i=>F4(t,i))}),$k.apply(this,arguments)}function wse(n,e,t,i){return Zk.apply(this,arguments)}function Zk(){return Zk=(0,De.Z)(function*(n,e,t,i){const r=yt(n),s=yield function(a,c){const d=yt(a),h=yt(d.mutationQueue);return d.persistence.runTransaction("Lookup mutation documents","readonly",g=>h.An(g,c).next(y=>y?d.localDocuments.getDocuments(g,y):Ce.resolve(null)))}(r.localStore,e);var c;null!==s?("pending"===t?yield vf(r.remoteStore):"acknowledged"===t||"rejected"===t?(Uk(r,e,i||null),Bk(r,e),c=e,yt(yt(r.localStore).mutationQueue).Pn(c)):Dt(),yield F4(r,s)):Qe("SyncEngine","Cannot apply mutation batch with id: "+e)}),Zk.apply(this,arguments)}function Kk(){return Kk=(0,De.Z)(function*(n,e){const t=yt(n);if(ez(t),tz(t),!0===e&&!0!==t.wc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield MP(t,i.toArray());t.wc=!0,yield Mk(t.remoteStore,!0);for(const s of r)Rb(t.remoteStore,s)}else if(!1===e&&!1!==t.wc){const i=[];let r=Promise.resolve();t.uc.forEach((s,a)=>{t.sharedClientState.isLocalQueryTarget(a)?i.push(a):r=r.then(()=>(wf(t,a),u(t.localStore,a,!0))),Tm(t.remoteStore,a)}),yield r,yield MP(t,i),function(s){const a=yt(s);a.hc.forEach((c,d)=>{Tm(a.remoteStore,d)}),a.lc._s(),a.hc=new Map,a.ac=new v2(_t.comparator)}(t),t.wc=!1,yield Mk(t.remoteStore,!1)}}),Kk.apply(this,arguments)}function MP(n,e,t){return Qk.apply(this,arguments)}function Qk(){return Qk=(0,De.Z)(function*(n,e,t){const i=yt(n),r=[],s=[];for(const a of e){let c;const d=i.uc.get(a);if(d&&0!==d.length){c=yield l(i.localStore,Ki(d[0]));for(const h of d){const g=i.oc.get(h),y=yield bse(i,g);y.snapshot&&s.push(y.snapshot)}}else{const h=yield m(i.localStore,a);c=yield l(i.localStore,h),yield Lk(i,wP(h),a,!1,c.resumeToken)}r.push(c)}return i.rc.Ho(s),r}),Qk.apply(this,arguments)}function wP(n){return VC(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Sse(n){const e=yt(n);return yt(yt(e.localStore).persistence).Si()}function Tse(n,e,t,i){return Jk.apply(this,arguments)}function Jk(){return Jk=(0,De.Z)(function*(n,e,t,i){const r=yt(n);if(r.wc)return void Qe("SyncEngine","Ignoring unexpected query state notification.");const s=r.uc.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const a=yield _(r.localStore,Yp(s[0])),c=R0.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,ei.EMPTY_BYTE_STRING);yield F4(r,a,c);break}case"rejected":yield u(r.localStore,e,!0),wf(r,e,i);break;default:Dt()}}),Jk.apply(this,arguments)}function Dse(n,e,t){return Xk.apply(this,arguments)}function Xk(){return Xk=(0,De.Z)(function*(n,e,t){const i=ez(n);if(i.wc){for(const r of e){if(i.uc.has(r)){Qe("SyncEngine","Adding an already active target "+r);continue}const s=yield m(i.localStore,r),a=yield l(i.localStore,s);yield Lk(i,wP(s),a.targetId,!1,a.resumeToken),Rb(i.remoteStore,a)}for(const r of t)i.uc.has(r)&&(yield u(i.localStore,r,!1).then(()=>{Tm(i.remoteStore,r),wf(i,r)}).catch(Ta))}}),Xk.apply(this,arguments)}function ez(n){const e=yt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=yP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cse.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pse.bind(null,e),e.rc.Ho=rse.bind(null,e.eventManager),e.rc.gc=sse.bind(null,e.eventManager),e}function tz(n){const e=yt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mse.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gse.bind(null,e),e}class xP{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,De.Z)(function*(){t.Tt=xm(e.databaseInfo.databaseId),t.sharedClientState=t.Ic(e),t.persistence=t.Tc(e),yield t.persistence.start(),t.localStore=t.Ec(e),t.gcScheduler=t.Ac(e,t.localStore),t.indexBackfillerScheduler=t.Rc(e,t.localStore)})()}Ac(e,t){return null}Rc(e,t){return null}Ec(e){return tk(this.persistence,new ek,e.initialUser,this.Tt)}Tc(e){return new JD(j0.qs,this.Tt)}Ic(e){return new gn}terminate(){var e=this;return(0,De.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class SP extends xP{constructor(e,t,i){super(),this.Pc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,De.Z)(function*(){yield t().call(i,e),yield i.Pc.initialize(i,e),yield tz(i.Pc.syncEngine),yield vf(i.Pc.remoteStore),yield i.persistence.di(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ec(e){return tk(this.persistence,new ek,e.initialUser,this.Tt)}Ac(e,t){return new Sb(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Rc(e,t){const i=new pC(t,this.persistence);return new aD(e.asyncQueue,i)}Tc(e){const t=Mm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?hr.withCacheSize(this.cacheSizeBytes):hr.DEFAULT;return new Eb(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,sP(),Pb(),this.Tt,this.sharedClientState,!!this.forceOwnership)}Ic(e){return new gn}}class zse extends SP{constructor(e,t){super(e,t,!1),this.Pc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,De.Z)(function*(){yield t().call(i,e);const r=i.Pc.syncEngine;i.sharedClientState instanceof Ye&&(i.sharedClientState.syncEngine={Br:wse.bind(null,r),Lr:Tse.bind(null,r),qr:Dse.bind(null,r),Si:Sse.bind(null,r),Fr:Mse.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.di(function(){var s=(0,De.Z)(function*(a){yield function xse(n,e){return Kk.apply(this,arguments)}(i.Pc.syncEngine,a),i.gcScheduler&&(a&&!i.gcScheduler.started?i.gcScheduler.start():a||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(a&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():a||i.indexBackfillerScheduler.stop())});return function(a){return s.apply(this,arguments)}}())})()}Ic(e){const t=sP();if(!Ye.C(t))throw new fe(xe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=Mm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Ye(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class nz{initialize(e,t){var i=this;return(0,De.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>CP(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=yse.bind(null,i.syncEngine),yield Mk(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ise}createDatastore(e){const t=xm(e.databaseInfo.databaseId),i=new Fre(e.databaseInfo);return new jre(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,s=c=>CP(this.syncEngine,c,0),a=L2.C()?new L2:new n2,new qre(t,i,r,s,a);var t,i,r,s,a}createSyncEngine(e,t){return function(i,r,s,a,c,d,h){const g=new use(i,r,s,a,c,d);return h&&(g.wc=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,De.Z)(function*(t){const i=yt(t);Qe("RemoteStore","RemoteStore shutting down."),i.mu.add(5),yield _f(i),i.yu.shutdown(),i.pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function TP(n,e=10240){let t=0;return{read:()=>(0,De.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,De.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Fb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.vc(this.observer.next,e)}error(e){this.observer.error?this.vc(this.observer.error,e):j2("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Ase{constructor(e,t){this.Vc=e,this.Tt=t,this.metadata=new ai,this.buffer=new Uint8Array,this.Sc=new TextDecoder("utf-8"),this.Dc().then(i=>{i&&i.Ou()?this.metadata.resolve(i.Mu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Mu)}`))},i=>this.metadata.reject(i))}close(){return this.Vc.cancel()}getMetadata(){var e=this;return(0,De.Z)(function*(){return e.metadata.promise})()}yc(){var e=this;return(0,De.Z)(function*(){return yield e.getMetadata(),e.Dc()})()}Dc(){var e=this;return(0,De.Z)(function*(){const t=yield e.Cc();if(null===t)return null;const i=e.Sc.decode(t),r=Number(i);isNaN(r)&&e.xc(`length string (${i}) is not valid number`);const s=yield e.Nc(r);return new ose(JSON.parse(s),t.length+r)})()}kc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Cc(){var e=this;return(0,De.Z)(function*(){for(;e.kc()<0&&!(yield e.$c()););if(0===e.buffer.length)return null;const t=e.kc();t<0&&e.xc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Nc(e){var t=this;return(0,De.Z)(function*(){for(;t.buffer.length<e;)(yield t.$c())&&t.xc("Reached the end of bundle when more is expected.");const i=t.Sc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}xc(e){throw this.Vc.cancel(),new Error(`Invalid bundle format: ${e}`)}$c(){var e=this;return(0,De.Z)(function*(){const t=yield e.Vc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class Hse{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,De.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new fe(xe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,De.Z)(function*(s,a){const c=yt(s),d=O0(c.Tt)+"/documents",h={documents:a.map(S=>$d(c.Tt,S))},g=yield c.mo("BatchGetDocuments",d,h,a.length),y=new Map;g.forEach(S=>{const k=function sb(n,e){return"found"in e?function(t,i){Ut(!!i.found);const r=Ho(t,i.found.name),s=y2(i.found.updateTime),a=i.found.createTime?y2(i.found.createTime):$t.min(),c=new ci({mapValue:{fields:i.found.fields}});return G1.newFoundDocument(r,s,a,c)}(n,e):"missing"in e?function(t,i){Ut(!!i.missing),Ut(!!i.readTime);const r=Ho(t,i.missing),s=y2(i.readTime);return G1.newNoDocument(r,s)}(n,e):Dt()}(c.Tt,S);y.set(k.key.toString(),k)});const M=[];return a.forEach(S=>{const k=y.get(S.toString());Ut(!!k),M.push(k)}),M}),function(s,a){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new z4(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,De.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const s=_t.fromPath(r);e.mutations.push(new jd(s,e.precondition(s)))}),yield(i=(0,De.Z)(function*(r,s){const a=yt(r),c=O0(a.Tt)+"/documents",d={writes:s.map(h=>T5(a.Tt,h))};yield a.lo("Commit",c,d)}),function(r,s){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Dt();t=$t.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new fe(xe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual($t.min())?$1.exists(!1):$1.updateTime(t):$1.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual($t.min()))throw new fe(xe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return $1.updateTime(t)}return $1.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Lse{constructor(e,t,i,r,s){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=s,this.Mc=i.maxAttempts,this.ko=new sk(this.asyncQueue,"transaction_retry")}run(){this.Mc-=1,this.Oc()}Oc(){var e=this;this.ko.vo((0,De.Z)(function*(){const t=new Hse(e.datastore),i=e.Fc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(s=>{e.Bc(s)}))}).catch(r=>{e.Bc(r)})}))}Fc(e){try{const t=this.updateFunction(e);return!p5(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Bc(e){this.Mc>0&&this.Lc(e)?(this.Mc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}Lc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Qp(t)}return!1}}class Ese{constructor(e,t,i,r){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=oi.UNAUTHENTICATED,this.clientId=dC.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var a=(0,De.Z)(function*(c){Qe("FirestoreClient","Received user=",c.uid),yield s.authCredentialListener(c),s.user=c});return function(c){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(i,a=>(Qe("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}getConfiguration(){var e=this;return(0,De.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new fe(xe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,De.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Cf(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function DP(n,e){return iz.apply(this,arguments)}function iz(){return iz=(0,De.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Qe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,De.Z)(function*(s){i.isEqual(s)||(yield Ib(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),iz.apply(this,arguments)}function kP(n,e){return rz.apply(this,arguments)}function rz(){return rz=(0,De.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield sz(n);Qe("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>fP(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>fP(e.remoteStore,s)),n.onlineComponents=e}),rz.apply(this,arguments)}function sz(n){return oz.apply(this,arguments)}function oz(){return oz=(0,De.Z)(function*(n){return n.offlineComponents||(Qe("FirestoreClient","Using default OfflineComponentProvider"),yield DP(n,new xP)),n.offlineComponents}),oz.apply(this,arguments)}function Bb(n){return az.apply(this,arguments)}function az(){return az=(0,De.Z)(function*(n){return n.onlineComponents||(Qe("FirestoreClient","Using default OnlineComponentProvider"),yield kP(n,new nz)),n.onlineComponents}),az.apply(this,arguments)}function zP(n){return sz(n).then(e=>e.persistence)}function Ub(n){return sz(n).then(e=>e.localStore)}function cz(n){return Bb(n).then(e=>e.remoteStore)}function lz(n){return Bb(n).then(e=>e.syncEngine)}function xf(n){return uz.apply(this,arguments)}function uz(){return uz=(0,De.Z)(function*(n){const e=yield Bb(n),t=e.eventManager;return t.onListen=dse.bind(null,e.syncEngine),t.onUnlisten=fse.bind(null,e.syncEngine),t}),uz.apply(this,arguments)}function HP(n,e,t={}){const i=new ai;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function(r,s,a,c,d){const h=new Fb({next:y=>{s.enqueueAndForget(()=>Dk(r,g));const M=y.docs.has(a);!M&&y.fromCache?d.reject(new fe(xe.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&y.fromCache&&c&&"server"===c.source?d.reject(new fe(xe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(y)},error:y=>d.reject(y)}),g=new Ak(k0(a.path),h,{includeMetadataChanges:!0,$u:!0});return Sk(r,g)}(yield xf(n),n.asyncQueue,e,t,i)})),i.promise}function LP(n,e,t={}){const i=new ai;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function(r,s,a,c,d){const h=new Fb({next:y=>{s.enqueueAndForget(()=>Dk(r,g)),y.fromCache&&"server"===c.source?d.reject(new fe(xe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(y)},error:y=>d.reject(y)}),g=new Ak(a,h,{includeMetadataChanges:!0,$u:!0});return Sk(r,g)}(yield xf(n),n.asyncQueue,e,t,i)})),i.promise}const EP=new Map;function dz(n,e,t){if(!t)throw new fe(xe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function VP(n,e,t,i){if(!0===e&&!0===i)throw new fe(xe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function IP(n){if(!_t.isDocumentKey(n))throw new fe(xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function NP(n){if(_t.isDocumentKey(n))throw new fe(xe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function jb(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Dt()}function Qn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new fe(xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=jb(n);throw new fe(xe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function PP(n,e){if(e<=0)throw new fe(xe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class RP{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new fe(xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new fe(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,VP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dm{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new RP({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new fe(xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new fe(xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new RP(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new iD;switch(t.type){case"gapi":return new zd(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new fe(xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=EP.get(e);t&&(Qe("ComponentProvider","Removing Datastore"),EP.delete(e),t.terminate())}(this),Promise.resolve()}}function OP(n,e,t,i={}){var r;const s=(n=Qn(n,Dm))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&ys("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let a,c;if("string"==typeof i.mockUserToken)a=i.mockUserToken,c=oi.MOCK_USER;else{a=(0,O.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const d=i.mockUserToken.sub||i.mockUserToken.user_id;if(!d)throw new fe(xe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new oi(d)}n._authCredentials=new C0(new lC(a,c))}}class C2{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ec(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new C2(this.firestore,e,this._key)}}class pr{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new pr(this.firestore,e,this._query)}}class ec extends pr{constructor(e,t,i){super(e,t,k0(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new C2(this.firestore,null,new _t(e))}withConverter(e){return new ec(this.firestore,e,this._path)}}function FP(n,e,...t){if(n=(0,O.m9)(n),dz("collection","path",e),n instanceof Dm){const i=Kn.fromString(e,...t);return NP(i),new ec(n,null,i)}{if(!(n instanceof C2||n instanceof ec))throw new fe(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Kn.fromString(e,...t));return NP(i),new ec(n.firestore,null,i)}}function Wb(n,e,...t){if(n=(0,O.m9)(n),1===arguments.length&&(e=dC.R()),dz("doc","path",e),n instanceof Dm){const i=Kn.fromString(e,...t);return IP(i),new C2(n,null,new _t(i))}{if(!(n instanceof C2||n instanceof ec))throw new fe(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Kn.fromString(e,...t));return IP(i),new C2(n.firestore,n instanceof ec?n.converter:null,new _t(i))}}function BP(n,e){return n=(0,O.m9)(n),e=(0,O.m9)(e),(n instanceof C2||n instanceof ec)&&(e instanceof C2||e instanceof ec)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function fz(n,e){return n=(0,O.m9)(n),e=(0,O.m9)(e),n instanceof pr&&e instanceof pr&&n.firestore===e.firestore&&z0(n._query,e._query)&&n.converter===e.converter}class Use{constructor(){this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new sk(this,"async_queue_retry"),this.Hc=()=>{const t=Pb();t&&Qe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ko.Vo()};const e=Pb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Hc)}get isShuttingDown(){return this.Kc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Jc(),this.Yc(e)}enterRestrictedMode(e){if(!this.Kc){this.Kc=!0,this.zc=e||!1;const t=Pb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Hc)}}enqueue(e){if(this.Jc(),this.Kc)return new Promise(()=>{});const t=new ai;return this.Yc(()=>this.Kc&&this.zc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Uc.push(e),this.Zc()))}Zc(){var e=this;return(0,De.Z)(function*(){if(0!==e.Uc.length){try{yield e.Uc[0](),e.Uc.shift(),e.ko.reset()}catch(t){if(!y4(t))throw t;Qe("AsyncQueue","Operation failed with retryable error: "+t)}e.Uc.length>0&&e.ko.vo(()=>e.Zc())}})()}Yc(e){const t=this.qc.then(()=>(this.jc=!0,e().catch(i=>{throw this.Qc=i,this.jc=!1,j2("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(i)),i}).then(i=>(this.jc=!1,i))));return this.qc=t,t}enqueueAfterDelay(e,t,i){this.Jc(),this.Wc.indexOf(e)>-1&&(t=0);const r=xk.createAndSchedule(this,e,t,i,s=>this.Xc(s));return this.Gc.push(r),r}Jc(){this.Qc&&Dt()}verifyOperationInProgress(){}ta(){var e=this;return(0,De.Z)(function*(){let t;do{t=e.qc,yield t}while(t!==e.qc)})()}ea(e){for(const t of this.Gc)if(t.timerId===e)return!0;return!1}na(e){return this.ta().then(()=>{this.Gc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Gc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ta()})}sa(e){this.Wc.push(e)}Xc(e){const t=this.Gc.indexOf(e);this.Gc.splice(t,1)}}function hz(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class jse{constructor(){this._progressObserver={},this._taskCompletionResolver=new ai,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class b2 extends Dm{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new Use,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||UP(this),this._firestoreClient.terminate()}}function Yse(n,e){const t="object"==typeof n?n:(0,R1.getApp)(),i="string"==typeof n?n:e||"(default)",r=(0,R1._getProvider)(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=(0,O.P0)("firestore");s&&OP(r,...s)}return r}function di(n){return n._firestoreClient||UP(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function UP(n){var e;const t=n._freezeSettings(),i=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new uD(n._databaseId,s,n._persistenceKey,(c=t).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,c.useFetchStreams));var s,c;n._firestoreClient=new Ese(n._authCredentials,n._appCheckCredentials,n._queue,i)}function jP(n,e,t){const i=new ai;return n.asyncQueue.enqueue((0,De.Z)(function*(){try{yield DP(n,t),yield kP(n,e),i.resolve()}catch(r){const s=r;if(!("FirebaseError"===(a=s).name?a.code===xe.FAILED_PRECONDITION||a.code===xe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code))throw s;ys("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s)}var a})).then(()=>i.promise)}function WP(n){if(n._initialized||n._terminated)throw new fe(xe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class tc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new tc(ei.fromBase64String(e))}catch(t){throw new fe(xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new tc(ei.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class B4{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new fe(xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new A2(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class P5{constructor(e){this._methodName=e}}class Yb{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return mn(this._lat,e._lat)||mn(this._long,e._long)}}const toe=/^__.*__$/;class noe{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Ea(e,this.data,this.fieldMask,t,this.fieldTransforms):new N0(e,this.data,t,this.fieldTransforms)}}class YP{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ea(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function qP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dt()}}class qb{constructor(e,t,i,r,s,a){this.settings=e,this.databaseId=t,this.Tt=i,this.ignoreUndefinedProperties=r,void 0===s&&this.ia(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get ra(){return this.settings.ra}oa(e){return new qb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.Tt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ua(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.oa({path:i,ca:!1});return r.aa(e),r}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.oa({path:i,ca:!1});return r.ia(),r}la(e){return this.oa({path:void 0,ca:!0})}fa(e){return Zb(e,this.settings.methodName,this.settings.da||!1,this.path,this.settings._a)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ia(){if(this.path)for(let e=0;e<this.path.length;e++)this.aa(this.path.get(e))}aa(e){if(0===e.length)throw this.fa("Document fields must not be empty");if(qP(this.ra)&&toe.test(e))throw this.fa('Document fields cannot begin and end with "__"')}}class ioe{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.Tt=i||xm(e)}wa(e,t,i,r=!1){return new qb({ra:e,methodName:t,_a:i,path:A2.emptyPath(),ca:!1,da:r},this.databaseId,this.Tt,this.ignoreUndefinedProperties)}}function R5(n){const e=n._freezeSettings(),t=xm(n._databaseId);return new ioe(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Gb(n,e,t,i,r,s={}){const a=n.wa(s.merge||s.mergeFields?2:0,e,t,r);_z("Data must be an object, but it was:",a,i);const c=ZP(i,a);let d,h;if(s.merge)d=new Gr(a.fieldMask),h=a.fieldTransforms;else if(s.mergeFields){const g=[];for(const y of s.mergeFields){const M=Am(e,y,t);if(!a.contains(M))throw new fe(xe.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);QP(g,M)||g.push(M)}d=new Gr(g),h=a.fieldTransforms.filter(y=>d.covers(y.field))}else d=null,h=a.fieldTransforms;return new noe(new ci(c),d,h)}class zm extends P5{_toFieldTransform(e){if(2!==e.ra)throw e.fa(1===e.ra?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zm}}function GP(n,e,t){return new qb({ra:3,_a:e.settings._a,methodName:n._methodName,ca:t},e.databaseId,e.Tt,e.ignoreUndefinedProperties)}class pz extends P5{_toFieldTransform(e){return new E0(e.path,new Ao)}isEqual(e){return e instanceof pz}}class roe extends P5{constructor(e,t){super(e),this.ma=t}_toFieldTransform(e){const t=GP(this,e,!0),i=this.ma.map(s=>O5(s,t)),r=new T4(i);return new E0(e.path,r)}isEqual(e){return this===e}}class soe extends P5{constructor(e,t){super(e),this.ma=t}_toFieldTransform(e){const t=GP(this,e,!0),i=this.ma.map(s=>O5(s,t)),r=new D4(i);return new E0(e.path,r)}isEqual(e){return this===e}}class ooe extends P5{constructor(e,t){super(e),this.ga=t}_toFieldTransform(e){const t=new La(e.Tt,FC(e.Tt,this.ga));return new E0(e.path,t)}isEqual(e){return this===e}}function mz(n,e,t,i){const r=n.wa(1,e,t);_z("Data must be an object, but it was:",r,i);const s=[],a=ci.empty();q3(i,(d,h)=>{const g=$b(e,d,t);h=(0,O.m9)(h);const y=r.ha(g);if(h instanceof zm)s.push(g);else{const M=O5(h,y);null!=M&&(s.push(g),a.set(g,M))}});const c=new Gr(s);return new YP(a,c,r.fieldTransforms)}function gz(n,e,t,i,r,s){const a=n.wa(1,e,t),c=[Am(e,i,t)],d=[r];if(s.length%2!=0)throw new fe(xe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<s.length;M+=2)c.push(Am(e,s[M])),d.push(s[M+1]);const h=[],g=ci.empty();for(let M=c.length-1;M>=0;--M)if(!QP(h,c[M])){const S=c[M];let k=d[M];k=(0,O.m9)(k);const A=a.ha(S);if(k instanceof zm)h.push(S);else{const L=O5(k,A);null!=L&&(h.push(S),g.set(S,L))}}const y=new Gr(h);return new YP(g,y,a.fieldTransforms)}function $P(n,e,t,i=!1){return O5(t,n.wa(i?4:3,e))}function O5(n,e){if(KP(n=(0,O.m9)(n)))return _z("Unsupported field value:",e,n),ZP(n,e);if(n instanceof P5)return function(t,i){if(!qP(i.ra))throw i.fa(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.fa(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ca&&4!==e.ra)throw e.fa("Nested arrays are not supported");return function(t,i){const r=[];let s=0;for(const a of t){let c=O5(a,i.la(s));null==c&&(c={nullValue:"NULL_VALUE"}),r.push(c),s++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,O.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return FC(i.Tt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=n1.fromDate(t);return{timestampValue:Bs(i.Tt,r)}}if(t instanceof n1){const r=new n1(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Bs(i.Tt,r)}}if(t instanceof Yb)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof tc)return{bytesValue:XC(i.Tt,t._byteString)};if(t instanceof C2){const r=i.databaseId,s=t.firestore._databaseId;if(!s.isEqual(r))throw i.fa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:tb(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.fa(`Unsupported field value: ${jb(t)}`)}(n,e)}function ZP(n,e){const t={};return gC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):q3(n,(i,r)=>{const s=O5(r,e.ua(i));null!=s&&(t[i]=s)}),{mapValue:{fields:t}}}function KP(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof n1||n instanceof Yb||n instanceof tc||n instanceof C2||n instanceof P5)}function _z(n,e,t){if(!KP(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=jb(t);throw e.fa("an object"===i?n+" a custom object":n+" "+i)}var i}function Am(n,e,t){if((e=(0,O.m9)(e))instanceof B4)return e._internalPath;if("string"==typeof e)return $b(n,e);throw Zb("Field path arguments must be of type string or ",n,!1,void 0,t)}const aoe=new RegExp("[~\\*/\\[\\]]");function $b(n,e,t){if(e.search(aoe)>=0)throw Zb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new B4(...e.split("."))._internalPath}catch{throw Zb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Zb(n,e,t,i,r){const s=i&&!i.isEmpty(),a=void 0!==r;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(s||a)&&(d+=" (found",s&&(d+=` in field ${i}`),a&&(d+=` in document ${r}`),d+=")"),new fe(xe.INVALID_ARGUMENT,c+n+d)}function QP(n,e){return n.some(t=>t.isEqual(e))}class Hm{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new C2(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new coe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Kb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class coe extends Hm{data(){return super.data()}}function Kb(n,e){return"string"==typeof e?$b(n,e):e instanceof B4?e._internalPath:e._delegate._internalPath}function JP(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new fe(xe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vz{}class Lm extends vz{}function Y0(n,e,...t){let i=[];e instanceof vz&&i.push(e),i=i.concat(t),function(r){const s=r.filter(c=>c instanceof Sf).length,a=r.filter(c=>c instanceof Em).length;if(s>1||s>0&&a>0)throw new fe(xe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Em extends Lm{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Em(e,t,i)}_apply(e){const t=this._parse(e);return nR(e._query,t),new pr(e.firestore,e.converter,Fd(e._query,t))}_parse(e){const t=R5(e.firestore);return function(r,s,a,c,d,h,g){let y;if(d.isKeyField()){if("array-contains"===h||"array-contains-any"===h)throw new fe(xe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if("in"===h||"not-in"===h){tR(g,h);const M=[];for(const S of g)M.push(eR(c,r,S));y={arrayValue:{values:M}}}else y=eR(c,r,g)}else"in"!==h&&"not-in"!==h&&"array-contains-any"!==h||tR(g,h),y=$P(a,"where",g,"in"===h||"not-in"===h);return Ln.create(d,h,y)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Sf extends vz{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Sf(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:w1.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let s=i;const a=r.getFlattenedFilters();for(const c of a)nR(s,c),s=Fd(s,c)}(e._query,t),new pr(e.firestore,e.converter,Fd(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class yz extends Lm{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new yz(e,t)}_apply(e){const t=function(i,r,s){if(null!==i.startAt)throw new fe(xe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new fe(xe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new w4(r,s);return function(c,d){if(null===Wp(c)){const h=K3(c);null!==h&&iR(0,h,d.field)}}(i,a),a}(e._query,this._field,this._direction);return new pr(e.firestore,e.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new Ha(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class Qb extends Lm{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new Qb(e,t,i)}_apply(e){return new pr(e.firestore,e.converter,C5(e._query,this._limit,this._limitType))}}class Jb extends Lm{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new Jb(e,t,i)}_apply(e){const t=XP(e,this.type,this._docOrFields,this._inclusive);return new pr(e.firestore,e.converter,(r=t,new Ha((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class Xb extends Lm{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new Xb(e,t,i)}_apply(e){const t=XP(e,this.type,this._docOrFields,this._inclusive);return new pr(e.firestore,e.converter,(r=t,new Ha((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function XP(n,e,t,i){if(t[0]=(0,O.m9)(t[0]),t[0]instanceof Hm)return function(r,s,a,c,d){if(!c)throw new fe(xe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const h=[];for(const g of Q3(r))if(g.field.isKeyField())h.push(M4(s,c.key));else{const y=c.data.field(g.field);if(Lp(y))throw new fe(xe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===y){const M=g.field.canonicalString();throw new fe(xe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${M}' (used as the orderBy) does not exist.`)}h.push(y)}return new $3(h,d)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=R5(n.firestore);return function(s,a,c,d,h,g){const y=s.explicitOrderBy;if(h.length>y.length)throw new fe(xe.INVALID_ARGUMENT,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const M=[];for(let S=0;S<h.length;S++){const k=h[S];if(y[S].field.isKeyField()){if("string"!=typeof k)throw new fe(xe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof k}`);if(!Od(s)&&-1!==k.indexOf("/"))throw new fe(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${k}' contains a slash.`);const A=s.path.child(Kn.fromString(k));if(!_t.isDocumentKey(A))throw new fe(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${A}' is not because it contains an odd number of segments.`);const L=new _t(A);M.push(M4(a,L))}else{const A=$P(c,d,k);M.push(A)}}return new $3(M,g)}(n._query,n.firestore._databaseId,r,e,t,i)}}function eR(n,e,t){if("string"==typeof(t=(0,O.m9)(t))){if(""===t)throw new fe(xe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Od(e)&&-1!==t.indexOf("/"))throw new fe(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Kn.fromString(t));if(!_t.isDocumentKey(i))throw new fe(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return M4(n,new _t(i))}if(t instanceof C2)return M4(n,t._key);throw new fe(xe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jb(t)}.`)}function tR(n,e){if(!Array.isArray(n)||0===n.length)throw new fe(xe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nR(n,e){if(e.isInequality()){const i=K3(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new fe(xe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const s=Wp(n);null!==s&&iR(0,r,s)}const t=function(i,r){for(const s of i)for(const a of s.getFlattenedFilters())if(r.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new fe(xe.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function iR(n,e,t){if(!t.isEqual(e))throw new fe(xe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Cz{convertValue(e,t="none"){switch(b4(e)){case 0:return null;case 1:return e.booleanValue;case 2:return H2(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(za(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Dt()}}convertObject(e,t){const i={};return q3(e.fields,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new Yb(H2(e.latitude),H2(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Ep(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(w0(e));default:return null}}convertTimestamp(e){const t=ka(e);return new n1(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Kn.fromString(e);Ut(DD(i));const r=new C4(i.get(1),i.get(3)),s=new _t(i.popFirst(5));return r.isEqual(t)||j2(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function eM(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class _oe extends Cz{constructor(e){super(),this.firestore=e}convertBytes(e){return new tc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new C2(this.firestore,null,t)}}class F5{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class U4 extends Hm{constructor(e,t,i,r,s,a){super(e,t,i,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Vm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Kb("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Vm extends U4{data(e={}){return super.data(e)}}class q0{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new F5(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Vm(this._firestore,this._userDataWriter,i.key,i,new F5(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new Vm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new F5(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>r||3!==a.type).map(a=>{const c=new Vm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new F5(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,h=-1;return 0!==a.type&&(d=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:yoe(a.type),doc:c,oldIndex:d,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function yoe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dt()}}function sR(n,e){return n instanceof U4&&e instanceof U4?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof q0&&e instanceof q0&&n._firestore===e._firestore&&fz(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class G0 extends Cz{constructor(e){super(),this.firestore=e}convertBytes(e){return new tc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new C2(this.firestore,null,t)}}function oR(n,e,t){n=Qn(n,C2);const i=Qn(n.firestore,b2),r=eM(n.converter,e,t);return Tf(i,[Gb(R5(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,$1.none())])}function aR(n,e,t,...i){n=Qn(n,C2);const r=Qn(n.firestore,b2),s=R5(r);let a;return a="string"==typeof(e=(0,O.m9)(e))||e instanceof B4?gz(s,"updateDoc",n._key,e,t,i):mz(s,"updateDoc",n._key,e),Tf(r,[a.toMutation(n._key,$1.exists(!0))])}function cR(n,...e){var t,i,r;n=(0,O.m9)(n);let s={includeMetadataChanges:!1},a=0;"object"!=typeof e[a]||hz(e[a])||(s=e[a],a++);const c={includeMetadataChanges:s.includeMetadataChanges};if(hz(e[a])){const y=e[a];e[a]=null===(t=y.next)||void 0===t?void 0:t.bind(y),e[a+1]=null===(i=y.error)||void 0===i?void 0:i.bind(y),e[a+2]=null===(r=y.complete)||void 0===r?void 0:r.bind(y)}let d,h,g;if(n instanceof C2)h=Qn(n.firestore,b2),g=k0(n._key.path),d={next:y=>{e[a]&&e[a](bz(h,n,y))},error:e[a+1],complete:e[a+2]};else{const y=Qn(n,pr);h=Qn(y.firestore,b2),g=y._query;const M=new G0(h);d={next:S=>{e[a]&&e[a](new q0(h,M,y,S))},error:e[a+1],complete:e[a+2]},JP(n._query)}return function(y,M,S,k){const A=new Fb(k),L=new Ak(M,A,S);return y.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return Sk(yield xf(y),L)})),()=>{A.bc(),y.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return Dk(yield xf(y),L)}))}}(di(h),g,c,d)}function Tf(n,e){return function(t,i){const r=new ai;return t.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function hse(n,e,t){return Ik.apply(this,arguments)}(yield lz(t),i,r)})),r.promise}(di(n),e)}function bz(n,e,t){const i=t.docs.get(e._key),r=new G0(n);return new U4(n,r,e._key,i,new F5(t.hasPendingWrites,t.fromCache),e.converter)}const Aoe={maxAttempts:5};class lR{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=R5(e)}set(e,t,i){this._verifyNotCommitted();const r=$0(e,this._firestore),s=eM(r.converter,t,i),a=Gb(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(a.toMutation(r._key,$1.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const s=$0(e,this._firestore);let a;return a="string"==typeof(t=(0,O.m9)(t))||t instanceof B4?gz(this._dataReader,"WriteBatch.update",s._key,t,i,r):mz(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(a.toMutation(s._key,$1.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=$0(e,this._firestore);return this._mutations=this._mutations.concat(new z4(t._key,$1.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new fe(xe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function $0(n,e){if((n=(0,O.m9)(n)).firestore!==e)throw new fe(xe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Hoe extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=R5(e)}get(e){const t=$0(e,this._firestore),i=new _oe(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return Dt();const s=r[0];if(s.isFoundDocument())return new Hm(this._firestore,i,s.key,s,t.converter);if(s.isNoDocument())return new Hm(this._firestore,i,t._key,null,t.converter);throw Dt()})}set(e,t,i){const r=$0(e,this._firestore),s=eM(r.converter,t,i),a=Gb(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,a),this}update(e,t,i,...r){const s=$0(e,this._firestore);let a;return a="string"==typeof(t=(0,O.m9)(t))||t instanceof B4?gz(this._dataReader,"Transaction.update",s._key,t,i,r):mz(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,a),this}delete(e){const t=$0(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=$0(e,this._firestore),i=new G0(this._firestore);return super.get(e).then(r=>new U4(this._firestore,i,t._key,r._document,new F5(!1,!1),t.converter))}}!function(n,e=!0){g4=R1.SDK_VERSION,(0,R1._registerComponent)(new Wr.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const s=t.getProvider("app").getImmediate(),a=new b2(new rD(t.getProvider("auth-internal")),new ON(t.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new fe(xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new C4(c.options.projectId,d)}(s,i),s);return r=Object.assign({useFetchStreams:e},r),a._setSettings(r),a},"PUBLIC").setMultipleInstances(!0)),(0,R1.registerVersion)(xp,"3.9.0",n),(0,R1.registerVersion)(xp,"3.9.0","esm2017")}();function Mz(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new fe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function dR(){if(typeof Uint8Array>"u")throw new fe("unimplemented","Uint8Arrays are not available in this environment.")}function fR(){if(!function dD(){return typeof atob<"u"}())throw new fe("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Im{constructor(e){this._delegate=e}static fromBase64String(e){return fR(),new Im(tc.fromBase64String(e))}static fromUint8Array(e){return dR(),new Im(tc.fromUint8Array(e))}toBase64(){return fR(),this._delegate.toBase64()}toUint8Array(){return dR(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function wz(n){return function Foe(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class Boe{enableIndexedDbPersistence(e,t){return function qse(n,e){WP(n=Qn(n,b2));const t=di(n),i=n._freezeSettings(),r=new nz;return jP(t,r,new SP(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Gse(n){WP(n=Qn(n,b2));const e=di(n),t=n._freezeSettings(),i=new nz;return jP(e,i,new zse(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function $se(n){if(n._initialized&&!n._terminated)throw new fe(xe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ai;return n._queue.enqueueAndForgetEvenWhileRestricted((0,De.Z)(function*(){try{yield(t=(0,De.Z)(function*(i){if(!Fs.C())return Promise.resolve();const r=i+"main";yield Fs.delete(r)}),function(i){return t.apply(this,arguments)})(Mm(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class hR{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof C4||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ys("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){OP(this._delegate,e,t,i)}enableNetwork(){return function Kse(n){return function Vse(n){return n.asyncQueue.enqueue((0,De.Z)(function*(){const e=yield zP(n),t=yield cz(n);return e.setNetworkEnabled(!0),function(i){const r=yt(i);return r.mu.delete(0),Sm(r)}(t)}))}(di(n=Qn(n,b2)))}(this._delegate)}disableNetwork(){return function Qse(n){return function Ise(n){return n.asyncQueue.enqueue((0,De.Z)(function*(){const e=yield zP(n),t=yield cz(n);return e.setNetworkEnabled(!1),(i=(0,De.Z)(function*(r){const s=yt(r);s.mu.add(0),yield _f(s),s.pu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(di(n=Qn(n,b2)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,VP("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Zse(n){return function(e){const t=new ai;return e.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function _se(n,e){return Fk.apply(this,arguments)}(yield lz(e),t)})),t.promise}(di(n=Qn(n,b2)))}(this._delegate)}onSnapshotsInSync(e){return function koe(n,e){return function Rse(n,e){const t=new Fb(e);return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return i=yield xf(n),r=t,yt(i).vu.add(r),void r.next();var i,r})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return i=yield xf(n),r=t,void yt(i).vu.delete(r);var i,r}))}}(di(n=Qn(n,b2)),hz(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new fe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Df(this,FP(this._delegate,e))}catch(t){throw Jr(t,"collection()","Firestore.collection()")}}doc(e){try{return new Eo(this,Wb(this._delegate,e))}catch(t){throw Jr(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Xr(this,function Bse(n,e){if(n=Qn(n,Dm),dz("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new fe(xe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new pr(n,null,(t=e,new Ha(Kn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Jr(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Loe(n,e,t){n=Qn(n,b2);const i=Object.assign(Object.assign({},Aoe),t);return function(r){if(r.maxAttempts<1)throw new fe(xe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,s,a){const c=new ai;return r.asyncQueue.enqueueAndForget((0,De.Z)(function*(){const d=yield function AP(n){return Bb(n).then(e=>e.datastore)}(r);new Lse(r.asyncQueue,d,a,s,c).run()})),c.promise}(di(n),r=>e(new Hoe(n,r)),i)}(this._delegate,t=>e(new pR(this,t)))}batch(){return di(this._delegate),new mR(new lR(this._delegate,e=>Tf(this._delegate,e)))}loadBundle(e){return function Jse(n,e){const t=di(n=Qn(n,b2)),i=new jse;return function Ose(n,e,t,i){const r=function(s,a){let c;return c="string"==typeof s?(new TextEncoder).encode(s):s,d=function(d,h){if(d instanceof Uint8Array)return TP(d,h);if(d instanceof ArrayBuffer)return TP(new Uint8Array(d),h);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),new Ase(d,a);var d}(t,xm(e));n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){!function kse(n,e,t){const i=yt(n);var r;(r=(0,De.Z)(function*(s,a,c){try{const d=yield a.getMetadata();if(yield function(M,S){const k=yt(M),A=y2(S.createTime);return k.persistence.runTransaction("hasNewerBundle","readonly",L=>k.$s.getBundleMetadata(L,S.id)).then(L=>!!L&&L.createTime.compareTo(A)>=0)}(s.localStore,d))return yield a.close(),c._completeWith({taskState:"Success",documentsLoaded:(M=d).totalDocuments,bytesLoaded:M.totalBytes,totalDocuments:M.totalDocuments,totalBytes:M.totalBytes}),Promise.resolve(new Set);c._updateProgress(mP(d));const h=new ase(d,s.localStore,a.Tt);let g=yield a.yc();for(;g;){const M=yield h.Bu(g);M&&c._updateProgress(M),g=yield a.yc()}const y=yield h.complete();return yield F4(s,y.Uu,void 0),yield function(M,S){const k=yt(M);return k.persistence.runTransaction("Save bundle","readwrite",A=>k.$s.saveBundleMetadata(A,S))}(s.localStore,d),c._completeWith(y.progress),Promise.resolve(y.qu)}catch(d){return ys("SyncEngine",`Loading bundle failed with ${d}`),c._failWith(d),Promise.resolve(new Set)}var M}),function(s,a,c){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield lz(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function Xse(n,e){return function Fse(n,e){return n.asyncQueue.enqueue((0,De.Z)(function*(){return function(t,i){const r=yt(t);return r.persistence.runTransaction("Get named query","readonly",s=>r.$s.getNamedQuery(s,i))}(yield Ub(n),e)}))}(di(n=Qn(n,b2)),e).then(t=>t?new pr(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Xr(this,t):null)}}class tM extends Cz{constructor(e){super(),this.firestore=e}convertBytes(e){return new Im(new tc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Eo.forKey(t,this.firestore,null)}}class pR{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new tM(e)}get(e){const t=U5(e);return this._delegate.get(t).then(i=>new Nm(this._firestore,new U4(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=U5(e);return i?(Mz("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=U5(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=U5(e);return this._delegate.delete(t),this}}class mR{constructor(e){this._delegate=e}set(e,t,i){const r=U5(e);return i?(Mz("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=U5(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=U5(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class B5{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new Vm(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Pm(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=B5.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(t);return s||(s=new B5(e,new tM(e),t),r.set(t,s)),s}}B5.INSTANCES=new WeakMap;class Eo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new tM(e)}static forPath(e,t,i){if(e.length%2!=0)throw new fe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Eo(t,new C2(t._delegate,i,new _t(e)))}static forKey(e,t,i){return new Eo(t,new C2(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Df(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Df(this.firestore,FP(this._delegate,e))}catch(t){throw Jr(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,O.m9)(e))instanceof C2&&BP(this._delegate,e)}set(e,t){t=Mz("DocumentReference.set",t);try{return t?oR(this._delegate,e,t):oR(this._delegate,e)}catch(i){throw Jr(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?aR(this._delegate,e):aR(this._delegate,e,t,...i)}catch(r){throw Jr(r,"updateDoc()","DocumentReference.update()")}}delete(){return function Toe(n){return Tf(Qn(n.firestore,b2),[new z4(n._key,$1.none())])}(this._delegate)}onSnapshot(...e){const t=gR(e),i=_R(e,r=>new Nm(this.firestore,new U4(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return cR(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function boe(n){n=Qn(n,C2);const e=Qn(n.firestore,b2),t=di(e),i=new G0(e);return function Nse(n,e){const t=new ai;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return(i=(0,De.Z)(function*(r,s,a){try{const c=yield function(d,h){const g=yt(d);return g.persistence.runTransaction("read document","readonly",y=>g.localDocuments.getDocument(y,h))}(r,s);c.isFoundDocument()?a.resolve(c):c.isNoDocument()?a.resolve(null):a.reject(new fe(xe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const d=Cf(c,`Failed to get document '${s} from cache`);a.reject(d)}}),function(r,s,a){return i.apply(this,arguments)})(yield Ub(n),e,t);var i})),t.promise}(t,n._key).then(r=>new U4(e,i,n._key,r,new F5(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function Moe(n){n=Qn(n,C2);const e=Qn(n.firestore,b2);return HP(di(e),n._key,{source:"server"}).then(t=>bz(e,n,t))}(this._delegate):function Coe(n){n=Qn(n,C2);const e=Qn(n.firestore,b2);return HP(di(e),n._key).then(t=>bz(e,n,t))}(this._delegate),t.then(i=>new Nm(this.firestore,new U4(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Eo(this.firestore,this._delegate.withConverter(e?B5.getInstance(this.firestore,e):null))}}function Jr(n,e,t){return n.message=n.message.replace(e,t),n}function gR(n){for(const e of n)if("object"==typeof e&&!wz(e))return e;return{}}function _R(n,e){var t,i;let r;return r=wz(n[0])?n[0]:wz(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(e(s))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Nm{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Eo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return sR(this._delegate,e._delegate)}}class Pm extends Nm{data(e){const t=this._delegate.data(e);return function cC(n,e){n||Dt()}(void 0!==t),t}}class Xr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new tM(e)}where(e,t,i){try{return new Xr(this.firestore,Y0(this._delegate,function loe(n,e,t){const i=e,r=Kb("where",n);return Em._create(r,i,t)}(e,t,i)))}catch(r){throw Jr(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Xr(this.firestore,Y0(this._delegate,function uoe(n,e="asc"){const t=e,i=Kb("orderBy",n);return yz._create(i,t)}(e,t)))}catch(i){throw Jr(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Xr(this.firestore,Y0(this._delegate,function doe(n){return PP("limit",n),Qb._create("limit",n,"F")}(e)))}catch(t){throw Jr(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Xr(this.firestore,Y0(this._delegate,function foe(n){return PP("limitToLast",n),Qb._create("limitToLast",n,"L")}(e)))}catch(t){throw Jr(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Xr(this.firestore,Y0(this._delegate,function hoe(...n){return Jb._create("startAt",n,!0)}(...e)))}catch(t){throw Jr(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Xr(this.firestore,Y0(this._delegate,function poe(...n){return Jb._create("startAfter",n,!1)}(...e)))}catch(t){throw Jr(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Xr(this.firestore,Y0(this._delegate,function moe(...n){return Xb._create("endBefore",n,!1)}(...e)))}catch(t){throw Jr(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Xr(this.firestore,Y0(this._delegate,function goe(...n){return Xb._create("endAt",n,!0)}(...e)))}catch(t){throw Jr(t,"endAt()","Query.endAt()")}}isEqual(e){return fz(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function xoe(n){n=Qn(n,pr);const e=Qn(n.firestore,b2),t=di(e),i=new G0(e);return function Pse(n,e){const t=new ai;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return(i=(0,De.Z)(function*(r,s,a){try{const c=yield p(r,s,!0),d=new vP(s,c.Yi),h=d.Hu(c.documents),g=d.applyChanges(h,!1);a.resolve(g.snapshot)}catch(c){const d=Cf(c,`Failed to execute query '${s} against cache`);a.reject(d)}}),function(r,s,a){return i.apply(this,arguments)})(yield Ub(n),e,t);var i})),t.promise}(t,n._query).then(r=>new q0(e,i,n,r))}(this._delegate):"server"===e?.source?function Soe(n){n=Qn(n,pr);const e=Qn(n.firestore,b2),t=di(e),i=new G0(e);return LP(t,n._query,{source:"server"}).then(r=>new q0(e,i,n,r))}(this._delegate):function woe(n){n=Qn(n,pr);const e=Qn(n.firestore,b2),t=di(e),i=new G0(e);return JP(n._query),LP(t,n._query).then(r=>new q0(e,i,n,r))}(this._delegate),t.then(i=>new xz(this.firestore,new q0(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=gR(e),i=_R(e,r=>new xz(this.firestore,new q0(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return cR(this._delegate,t,i)}withConverter(e){return new Xr(this.firestore,this._delegate.withConverter(e?B5.getInstance(this.firestore,e):null))}}class joe{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Pm(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class xz{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Xr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Pm(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new joe(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Pm(this._firestore,i))})}isEqual(e){return sR(this._delegate,e._delegate)}}class Df extends Xr{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Eo(this.firestore,e):null}doc(e){try{return new Eo(this.firestore,void 0===e?Wb(this._delegate):Wb(this._delegate,e))}catch(t){throw Jr(t,"doc()","CollectionReference.doc()")}}add(e){return function Doe(n,e){const t=Qn(n.firestore,b2),i=Wb(n),r=eM(n.converter,e);return Tf(t,[Gb(R5(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,$1.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Eo(this.firestore,t))}isEqual(e){return BP(this._delegate,e._delegate)}withConverter(e){return new Df(this.firestore,this._delegate.withConverter(e?B5.getInstance(this.firestore,e):null))}}function U5(n){return Qn(n,C2)}class Sz{constructor(...e){this._delegate=new B4(...e)}static documentId(){return new Sz(A2.keyField().canonicalString())}isEqual(e){return(e=(0,O.m9)(e))instanceof B4&&this._delegate._internalPath.isEqual(e._internalPath)}}class j5{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Voe(){return new pz("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new j5(e)}static delete(){const e=function Eoe(){return new zm("deleteField")}();return e._methodName="FieldValue.delete",new j5(e)}static arrayUnion(...e){const t=function Ioe(...n){return new roe("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new j5(t)}static arrayRemove(...e){const t=function Noe(...n){return new soe("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new j5(t)}static increment(e){const t=function Poe(n){return new ooe("increment",n)}(e);return t._methodName="FieldValue.increment",new j5(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Woe={Firestore:hR,GeoPoint:Yb,Timestamp:n1,Blob:Im,Transaction:pR,WriteBatch:mR,DocumentReference:Eo,DocumentSnapshot:Nm,Query:Xr,QueryDocumentSnapshot:Pm,QuerySnapshot:xz,CollectionReference:Df,FieldPath:Sz,FieldValue:j5,setLogLevel:function Uoe(n){!function _4(n){ko.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function qoe(n){(function Yoe(n,e){n.INTERNAL.registerComponent(new Wr.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},Woe)))})(n,(e,t)=>new hR(e,t,new Boe)),n.registerVersion("@firebase/firestore-compat","0.3.5")}(V9.Z);var nM=N(6451),Rm=N(5363),Goe=N(6063);class $oe extends h2.x{constructor(e=1/0,t=1/0,i=Goe.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:a}=this;t||(i.push(e),!r&&i.push(s.now()+a)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let a=0;a<s.length&&!e.closed;a+=i?1:2)e.next(s[a]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const a=t.now();let c=0;for(let d=1;d<i.length&&i[d]<=a;d+=2)c=d;c&&i.splice(0,c+1)}}}var vR=N(3099);function yR(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,vR.B)({connector:()=>new $oe(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function CR(n,e){return(0,$i.m)(e)?m2(()=>n,e):m2(()=>n)}var Tz=N(9468),Vo=N(259);class nc{constructor(e){return e}}class W5{constructor(){return(0,Vo.C6)()}}const Dz=new o.OlP("angularfire2._apps"),Koe={provide:nc,useFactory:function Zoe(n){return n&&1===n.length?n[0]:new nc((0,Vo.Mq)())},deps:[[new o.FiY,Dz]]},Qoe={provide:W5,deps:[[new o.FiY,Dz]]};function Joe(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new nc(i)}}let Xoe=(()=>{class n{constructor(t){(0,Vo.KN)("angularfire",Tt.q4.full,"core"),(0,Vo.KN)("angularfire",Tt.q4.full,"app"),(0,Vo.KN)("angular",o.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.Lbi))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Koe,Qoe]}),n})();function eae(n,...e){return{ngModule:Xoe,providers:[{provide:Dz,useFactory:Joe(n),multi:!0,deps:[o.R0b,o.zs3,Tt.HU,...e]}]}}const tae=(0,Tt.u3)(Vo.ZF,!0),kz=new Map,bR={activated:!1,tokenObservers:[]},nae={initialized:!1,enabled:!1};function mr(n){return kz.get(n)||Object.assign({},bR)}function iM(){return nae}const zz="https://content-firebaseappcheck.googleapis.com/v1",oae="exchangeDebugToken",MR={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class cae{constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,De.Z)(function*(){t.stop();try{t.pending=new O.BH,yield function lae(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new O.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const es=new O.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Lz(){return Lz=(0,De.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const y=yield r.getHeartbeatsHeader();y&&(i["X-Firebase-Client"]=y)}const s={method:"POST",body:JSON.stringify(e),headers:i};let a,c;try{a=yield fetch(n,s)}catch(y){throw es.create("fetch-network-error",{originalErrorMessage:y?.message})}if(200!==a.status)throw es.create("fetch-status-error",{httpStatus:a.status});try{c=yield a.json()}catch(y){throw es.create("fetch-parse-error",{originalErrorMessage:y?.message})}const d=c.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw es.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});const h=1e3*Number(d[1]),g=Date.now();return{token:c.token,expireTimeMillis:g+h,issuedAtTimeMillis:g}}),Lz.apply(this,arguments)}const pae="firebase-app-check-database",mae=1,Om="firebase-app-check-store";let oM=null;function Ez(){return Ez=(0,De.Z)(function*(n,e){const i=(yield function SR(){return oM||(oM=new Promise((n,e)=>{try{const t=indexedDB.open(pae,mae);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(es.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Om,{keyPath:"compositeKey"})}}catch(t){e(es.create("storage-open",{originalErrorMessage:t?.message}))}}),oM)}()).transaction(Om,"readwrite"),s=i.objectStore(Om).put({compositeKey:n,value:e});return new Promise((a,c)=>{s.onsuccess=d=>{a()},i.onerror=d=>{var h;c(es.create("storage-set",{originalErrorMessage:null===(h=d.target.error)||void 0===h?void 0:h.message}))}})}),Ez.apply(this,arguments)}const Fm=new ms.Yd("@firebase/app-check");function Nz(n,e){return(0,O.hl)()?function _ae(n,e){return function TR(n,e){return Ez.apply(this,arguments)}(function kR(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Fm.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Rz(){return Rz=(0,De.Z)(function*(){const n=iM();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),Rz.apply(this,arguments)}const wae={error:"UNKNOWN_ERROR"};function xae(n){return O.US.encodeString(JSON.stringify(n),!1)}function aM(n){return Oz.apply(this,arguments)}function Oz(){return Oz=(0,De.Z)(function*(n,e=!1){const t=n.app;!function wR(n){if(!mr(n).activated)throw es.create("use-before-activation",{appName:n.name})}(t);const i=mr(t);let s,r=i.token;if(r&&!kf(r)&&(i.token=void 0,r=void 0),!r){const d=yield i.cachedTokenPromise;d&&(kf(d)?r=d:yield Nz(t,void 0))}if(!e&&r&&kf(r))return{token:r.token};let c,a=!1;if(function zR(){return iM().enabled}()){i.exchangeTokenPromise||(i.exchangeTokenPromise=function Hz(n,e){return Lz.apply(this,arguments)}(function hae(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${zz}/projects/${t}/apps/${i}:${oae}?key=${r}`,body:{debug_token:e}}}(t,yield function AR(){return Rz.apply(this,arguments)}()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);const d=yield i.exchangeTokenPromise;return yield Nz(t,d),i.token=d,{token:d.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),r=yield mr(t).exchangeTokenPromise}catch(d){"appCheck/throttled"===d.code?Fm.warn(d.message):Fm.error(d),s=d}return r?s?c=kf(r)?{token:r.token,internalError:s}:ER(s):(c={token:r.token},i.token=r,yield Nz(t,r)):c=ER(s),a&&function LR(n,e){const t=mr(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,c),c}),Oz.apply(this,arguments)}function Bz(n,e){const t=mr(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function HR(n){const{app:e}=n,t=mr(e);let i=t.tokenRefresher;i||(i=function Sae(n){const{app:e}=n;return new cae((0,De.Z)(function*(){let i;if(i=mr(e).token?yield aM(n,!0):yield aM(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=mr(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},MR.RETRIAL_MIN_WAIT,MR.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function kf(n){return n.expireTimeMillis-Date.now()>0}function ER(n){return{token:xae(wae),error:n}}class Tae{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=mr(this.app);for(const t of e)Bz(this.app,t.next);return Promise.resolve()}}const BR="app-check-internal";!function Fae(){(0,R1._registerComponent)(new Wr.wA("app-check",n=>function Dae(n,e){return new Tae(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(BR).initialize()})),(0,R1._registerComponent)(new Wr.wA(BR,n=>function kae(n){return{getToken:e=>aM(n,e),addTokenListener:e=>function Fz(n,e,t,i){const{app:r}=n,s=mr(r);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:i,type:e}],s.token&&kf(s.token)){const c=s.token;Promise.resolve().then(()=>{t({token:c.token}),HR(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>HR(n))}(n,"INTERNAL",e),removeTokenListener:e=>Bz(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,R1.registerVersion)("@firebase/app-check","0.6.4")}();class ic{constructor(){return(0,Tt.vb)("app-check")}}typeof window<"u"&&window;var Z1=N(9260);const qz=new o.OlP("angularfire2.auth.use-emulator"),Gz=new o.OlP("angularfire2.auth.settings"),$z=new o.OlP("angularfire2.auth.tenant-id"),Zz=new o.OlP("angularfire2.auth.langugage-code"),Kz=new o.OlP("angularfire2.auth.use-device-language"),Qz=new o.OlP("angularfire.auth.persistence"),Jz=(n,e,t,i,r,s,a,c)=>(0,B2.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const d=e.runOutsideAngular(()=>n.auth());if(t&&d.useEmulator(...t),i&&(d.tenantId=i),d.languageCode=r,s&&d.useDeviceLanguage(),a)for(const[h,g]of Object.entries(a))d.settings[h]=g;return c&&d.setPersistence(c),d},[t,i,r,s,a,c]);let Bm=(()=>{class n{constructor(t,i,r,s,a,c,d,h,g,y,M,S){const k=new h2.x,A=It(void 0).pipe((0,Rm.Q)(a.outsideAngular),m2(()=>s.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,9568)))),(0,kt.U)(()=>(0,B2.on)(t,s,i)),(0,kt.U)(L=>Jz(L,s,c,h,g,y,d,M)),yR({bufferSize:1,refCount:!1}));if(tt(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=It(null);else{A.pipe(ls()).subscribe();const B=A.pipe(m2(te=>te.getRedirectResult().then(re=>re,()=>null)),Tt.iC,yR({bufferSize:1,refCount:!1})),G=A.pipe(m2(te=>new Ci.y(re=>({unsubscribe:s.runOutsideAngular(()=>te.onAuthStateChanged(be=>re.next(be),be=>re.error(be),()=>re.complete()))})))),X=A.pipe(m2(te=>new Ci.y(re=>({unsubscribe:s.runOutsideAngular(()=>te.onIdTokenChanged(be=>re.next(be),be=>re.error(be),()=>re.complete()))}))));this.authState=B.pipe(CR(G),(0,Tz.R)(a.outsideAngular),(0,Rm.Q)(a.insideAngular)),this.user=B.pipe(CR(X),(0,Tz.R)(a.outsideAngular),(0,Rm.Q)(a.insideAngular)),this.idToken=this.user.pipe(m2(te=>te?(0,_1.D)(te.getIdToken()):It(null))),this.idTokenResult=this.user.pipe(m2(te=>te?(0,_1.D)(te.getIdTokenResult()):It(null))),this.credential=(0,nM.T)(B,k,this.authState.pipe(o1(te=>!te))).pipe((0,kt.U)(te=>te?.user?te:null),(0,Tz.R)(a.outsideAngular),(0,Rm.Q)(a.insideAngular))}return(0,B2.pX)(this,A,s,{spy:{apply:(L,B,G)=>{(L.startsWith("signIn")||L.startsWith("createUser"))&&G.then(X=>k.next(X))}}})}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(B2.Dh),o.LFG(B2.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Tt.HU),o.LFG(qz,8),o.LFG(Gz,8),o.LFG($z,8),o.LFG(Zz,8),o.LFG(Kz,8),o.LFG(Qz,8),o.LFG(ic,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),qae=(()=>{class n{constructor(){Z1.Z.registerVersion("angularfire",Tt.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Bm]}),n})();function jR(n,e){return function Gae(n,e=n0.z){return new Ci.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function Xz(n,e){return jR(n,e).pipe((0,kt.U)(t=>({payload:t,type:"query"})))}function lM(n,e){return Xz(n,e).pipe(v3(void 0),E8(),(0,kt.U)(([t,i])=>{const r=i.payload.docChanges(),s=r.map(a=>({type:a.type,payload:a}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,c)=>{const d=r.find(g=>g.doc.ref.isEqual(a.ref)),h=t?.payload.docs.find(g=>g.ref.isEqual(a.ref));d&&JSON.stringify(d.doc.metadata)===JSON.stringify(a.metadata)||!d&&h&&JSON.stringify(h.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),s}))}function WR(n,e,t){return lM(n,t).pipe(us((i,r)=>function Zae(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function Kae(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return eA(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return eA(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return eA(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),e),[]),E3(),(0,kt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function eA(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function YR(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class qR{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=lM(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,kt.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(v3(void 0),E8(),o1(([i,r])=>r.length>0||!i),(0,kt.U)(([i,r])=>r),Tt.iC)}auditTrail(e){return this.stateChanges(e).pipe(us((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=YR(e);return WR(this.query,t,this.afs.schedulers.outsideAngular).pipe(Tt.iC)}valueChanges(e={}){return Xz(this.query,this.afs.schedulers.outsideAngular).pipe((0,kt.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),Tt.iC)}get(e){return(0,_1.D)(this.query.get(e)).pipe(Tt.iC)}add(e){return this.ref.add(e)}doc(e){return new GR(this.ref.doc(e),this.afs)}}class GR{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:s}=KR(i,t);return new qR(r,s,this.afs)}snapshotChanges(){return function $ae(n,e){return jR(n,e).pipe(v3(void 0),E8(),(0,kt.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Tt.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,kt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,_1.D)(this.ref.get(e)).pipe(Tt.iC)}}class Qae{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?lM(this.query,this.afs.schedulers.outsideAngular).pipe((0,kt.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),o1(t=>t.length>0),Tt.iC):lM(this.query,this.afs.schedulers.outsideAngular).pipe(Tt.iC)}auditTrail(e){return this.stateChanges(e).pipe(us((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=YR(e);return WR(this.query,t,this.afs.schedulers.outsideAngular).pipe(Tt.iC)}valueChanges(e={}){return Xz(this.query,this.afs.schedulers.outsideAngular).pipe((0,kt.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),Tt.iC)}get(e){return(0,_1.D)(this.query.get(e)).pipe(Tt.iC)}}const $R=new o.OlP("angularfire2.enableFirestorePersistence"),ZR=new o.OlP("angularfire2.firestore.persistenceSettings"),Jae=new o.OlP("angularfire2.firestore.settings"),Xae=new o.OlP("angularfire2.firestore.use-emulator");function KR(n,e=(t=>t)){return{query:e(n),ref:n}}let Us=(()=>{class n{constructor(t,i,r,s,a,c,d,h,g,y,M,S,k,A,L,B,G){this.schedulers=d;const X=(0,B2.on)(t,c,i),te=g;y&&Jz(X,c,M,k,A,L,S,B),[this.firestore,this.persistenceEnabled$]=(0,B2.cc)(`${X.name}.firestore`,"AngularFirestore",X.name,()=>{const re=c.runOutsideAngular(()=>X.firestore());if(s&&re.settings(s),te&&re.useEmulator(...te),r&&!tt(a)){const be=()=>{try{return(0,_1.D)(re.enablePersistence(h||void 0).then(()=>!0,()=>!1))}catch(Ee){return typeof console<"u"&&console.warn(Ee),It(!1)}};return[re,c.runOutsideAngular(be)]}return[re,It(!1)]},[s,te,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:a}=KR(r,i),c=this.schedulers.ngZone.run(()=>s);return new qR(c,a,this)}collectionGroup(t,i){const r=i||(a=>a),s=this.firestore.collectionGroup(t);return new Qae(r(s),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new GR(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(B2.Dh),o.LFG(B2.xv,8),o.LFG($R,8),o.LFG(Jae,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Tt.HU),o.LFG(ZR,8),o.LFG(Xae,8),o.LFG(Bm,8),o.LFG(qz,8),o.LFG(Gz,8),o.LFG($z,8),o.LFG(Zz,8),o.LFG(Kz,8),o.LFG(Qz,8),o.LFG(ic,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),e3e=(()=>{class n{constructor(){Z1.Z.registerVersion("angularfire",Tt.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:$R,useValue:!0},{provide:ZR,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Us]}),n})();var rc=function(){function n(e){this.afs=e}return Object.defineProperty(n.prototype,"initProfile",{get:function(){return{uid:"",profileHandle:"",profileName:"",age:"",weight:"",heightFeet:"",heightInches:"",sex:"",about:"",profilePicture:"",isPrivate:!1,completedWorkouts:[],workouts:[],followers:[],following:[],posts:[],achievements:[],completedGoals:[],selectedGoals:[],goals:[]}},enumerable:!1,configurable:!0}),n.prototype.getProfile=function(e){return this.afs.doc("/profiles/".concat(e))},n.prototype.getProfileByUid=function(e){return this.afs.collection("profiles",function(t){return t.where("uid","==",e)}).valueChanges().pipe((0,kt.U)(function(t){return t[0]}),ls())},n.prototype.searchProfiles=function(e){return this.profilesCollection=this.afs.collection("profiles",function(t){return t.where("profileHandle",">=",e).where("profileHandle","<=",e+"\uf8ff").orderBy("profileHandle").limit(10)}),this.profilesCollection.valueChanges()},n.\u0275fac=function(t){return new(t||n)(o.LFG(Us))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n}(),W2=function(){function n(e,t,i,r){this.router=e,this.afs=t,this.profileService=i,this.platformId=r,this.USER_INFO="FitHubUser",this.user=this.BASE_USER,this.account=new t2(this.user),this.initialize()}return Object.defineProperty(n.prototype,"BASE_USER",{get:function(){return{account:{uid:"",email:"",displayName:"",photoURL:"",profileHandle:"",get loggedIn(){return this.email}},profile:this.profileService.initProfile}},enumerable:!1,configurable:!0}),n.prototype.initialize=function(){if(Se(this.platformId)){var e=sessionStorage.getItem(this.USER_INFO);e||(e=localStorage.getItem(this.USER_INFO)),e&&(this.user=JSON.parse(e),this.user.account.profileHandle&&this.fetchProfile(this.user.account))}},n.prototype.isLoggedIn=function(){return""!=this.user.account.email},n.prototype.isUsernameAvailable=function(e){return this.afs.firestore.doc("/profiles/".concat(e)).get().then(function(t){return!t.exists}).catch(function(t){return!1})},n.prototype.newProfile=function(e){var t=this.afs.doc("profiles/".concat(e.profileHandle)),i=this.afs.doc("users/".concat(this.user.account.uid));return this.user.account.profileHandle=e.profileHandle,i.set({profileHandle:e.profileHandle},{merge:!0}),this.user.profile.uid=this.user.account.uid,this.user.profile.profileHandle=e.profileHandle,this.user.profile.profileName=e.profileName,this.user.profile.age=e.age,this.user.profile.weight=e.weight,this.user.profile.heightFeet=e.heightFeet,this.user.profile.heightInches=e.heightInches,this.user.profile.sex=e.sex,this.router.navigate(["/dashboard"]),Se(this.platformId)&&(localStorage.removeItem(this.USER_INFO),localStorage.setItem(this.USER_INFO,JSON.stringify(this.user)),sessionStorage.removeItem(this.USER_INFO),sessionStorage.setItem(this.USER_INFO,JSON.stringify(this.user))),t.set(this.user.profile,{merge:!0})},n.prototype.fetchProfile=function(e){var t=this;this.user.account.profileHandle=e.profileHandle,this.profileService.getProfile(e.profileHandle).ref.get().then(function(i){var r=i.data();t.user.profile.uid=r.uid,t.user.profile.profileHandle=r.profileHandle,t.user.profile.profileName=r.profileName,t.user.profile.age=r.age,t.user.profile.weight=r.weight,t.user.profile.heightFeet=r.heightFeet,t.user.profile.heightInches=r.heightInches,t.user.profile.sex=r.sex,t.user.profile.about=r.about,t.user.profile.followers=r.followers||[],t.user.profile.following=r.following||[],t.user.profile.posts=r.posts,t.user.profile.completedWorkouts=r.completedWorkouts||[],t.user.profile.achievements=r.achievements||[],t.user.profile.completedGoals=r.completedGoals||[],t.user.profile.isPrivate=r.isPrivate,t.user.profile.goals=r.goals||[],Se(t.platformId)&&(localStorage.removeItem(t.USER_INFO),localStorage.setItem(t.USER_INFO,JSON.stringify(t.user)),sessionStorage.removeItem(t.USER_INFO),sessionStorage.setItem(t.USER_INFO,JSON.stringify(t.user)))})},n.prototype.updateProfile=function(e){var t=this;return this.user.profile=(0,en.pi)((0,en.pi)({},this.user.profile),e),this.afs.doc("profiles/".concat(this.user.account.profileHandle)).update(e).then(function(){Se(t.platformId)&&(localStorage.removeItem(t.USER_INFO),localStorage.setItem(t.USER_INFO,JSON.stringify(t.user)),sessionStorage.removeItem(t.USER_INFO),sessionStorage.setItem(t.USER_INFO,JSON.stringify(t.user)))})},n.prototype.setUser=function(e){var t=this;this.user.account.uid=e.uid,this.user.account.email=e.email,this.user.account.displayName=e.displayName,this.user.account.photoURL=e.photoURL,this.user.account.profileHandle=e.profileHandle,e.profileHandle?(this.fetchProfile(e),setTimeout(function(){t.router.navigate(["/dashboard"])},500)):this.router.navigate(["/create-profile"]),this.account.next(this.user),Se(this.platformId)&&(localStorage.removeItem(this.USER_INFO),localStorage.setItem(this.USER_INFO,JSON.stringify(this.user)),sessionStorage.removeItem(this.USER_INFO),sessionStorage.setItem(this.USER_INFO,JSON.stringify(this.user)))},n.prototype.logOut=function(){var e=this;Se(this.platformId)&&(localStorage.removeItem(this.USER_INFO),sessionStorage.removeItem(this.USER_INFO)),setTimeout(function(){e.user=e.BASE_USER,e.router.navigate([""])},500)},n.\u0275fac=function(t){return new(t||n)(o.LFG(c1),o.LFG(Us),o.LFG(rc),o.LFG(o.Lbi))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n}(),t3e=function(){function n(e,t,i){this.currentUser=e,this.router=t,this.title=i}return n.prototype.ngOnInit=function(){this.title.setTitle("FitHub | Transform Your Body, Transform Your Life"),this.currentUser.isLoggedIn()&&this.router.navigate(["/dashboard"])},n.\u0275fac=function(t){return new(t||n)(o.Y36(W2),o.Y36(c1),o.Y36(un))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-home"]],decls:40,vars:0,consts:[[1,"row","home-bg","min-vh-100"],[1,"col"],[1,"col-12","col-md-10","col-xl-8","col-xxl-5","text-center"],[1,"card","card-home","card-home-bg"],[1,"card-body"],[1,"row"],[1,"col-4","offset-4"],["src","../../../assets/Logo1/png/logo-no-background.png",1,"img-fluid","logo-glow"],[1,"row","mt-3"],[1,"display-3","glow-small"],[1,""],[1,"row","justify-content-evenly","home-section"],[1,"col","col-md-8"],[1,"row","justify-content-center"],["routerLink","login",1,"btn","btn-lg","btn-success","w-100"],[1,"row","justify-content-evenly","mt-5"],["routerLink","sign-up",1,"btn","btn-lg","btn-outline-success","w-100"],[1,"row","home-section"],[1,"display-6"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0),o._UZ(1,"div",1),o.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),o._UZ(7,"img",7),o.qZA()(),o.TgZ(8,"div",8)(9,"div",1)(10,"h1",9),o._uU(11,"Welcome to FitHub"),o.qZA(),o.TgZ(12,"h5",10),o._uU(13,"Transform Your Body, Transform Your Life"),o.qZA()()(),o.TgZ(14,"div",11)(15,"div",12)(16,"div",13)(17,"div",1)(18,"h3"),o._uU(19,"Returning User?"),o.qZA(),o.TgZ(20,"button",14),o._uU(21,"Login"),o.qZA()()(),o.TgZ(22,"div",15)(23,"div",1)(24,"h3"),o._uU(25,"New Here?"),o.qZA(),o.TgZ(26,"button",16),o._uU(27,"Create an Account"),o.qZA()()()()(),o.TgZ(28,"div",17)(29,"div",1)(30,"h1",18),o._uU(31,"About FitHub"),o.qZA(),o.TgZ(32,"p"),o._uU(33," FitHub is a comprehensive fitness website that provides a variety of resources for individuals seeking to improve their overall health and wellness. With a focus on both physical fitness and mental well-being, FitHub offers a range of workout plans, nutrition advice, and motivational content to help users achieve their goals. Whether you're a seasoned fitness enthusiast or just starting out on your wellness journey, FitHub has something to offer, with user-friendly interfaces and expert guidance to help you reach your full potential. "),o.qZA()()(),o.TgZ(34,"div",17)(35,"h1",18),o._uU(36,"About the Creators"),o.qZA(),o.TgZ(37,"p"),o._uU(38," FitHub was founded by four passionate college seniors who wanted to create a platform that would inspire and motivate people to lead healthier lifestyles. With a shared love of fitness and a desire to make a positive impact on the world, they pooled their skills and resources to create the website from scratch. From designing the user interface to researching and curating content, the trio worked tirelessly to bring their vision to life. They consulted with fitness experts and nutritionists to ensure that the information on their website was accurate and useful, and spent countless hours testing and refining the platform to make it as user-friendly as possible. "),o.qZA()()()()(),o._UZ(39,"div",1),o.qZA())},dependencies:[Ma]}),n}();let QR=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n}),n})(),Y5=(()=>{class n extends QR{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})();const js=new o.OlP("NgValueAccessor"),i3e={provide:js,useExisting:(0,o.Gpc)(()=>Um),multi:!0};let Um=(()=>{class n extends Y5{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,i){1&t&&o.NdJ("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[o._Bn([i3e]),o.qOj]}),n})();const r3e={provide:js,useExisting:(0,o.Gpc)(()=>sc),multi:!0},o3e=new o.OlP("CompositionEventMode");let sc=(()=>{class n extends QR{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function s3e(){const n=F()?F().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(o3e,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&o.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[o._Bn([r3e]),o.qOj]}),n})();const a3e=!1;function Z0(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function JR(n){return null!=n&&"number"==typeof n.length}const Qi=new o.OlP("NgValidators"),K0=new o.OlP("NgAsyncValidators"),c3e=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ra{static min(e){return XR(e)}static max(e){return eO(e)}static required(e){return function tO(n){return Z0(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function nO(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function iO(n){return Z0(n.value)||c3e.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function rO(n){return e=>Z0(e.value)||!JR(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function sO(n){return e=>JR(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function oO(n){if(!n)return uM;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Z0(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return fO(e)}static composeAsync(e){return hO(e)}}function XR(n){return e=>{if(Z0(e.value)||Z0(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function eO(n){return e=>{if(Z0(e.value)||Z0(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function uM(n){return null}function aO(n){return null!=n}function cO(n){const e=(0,o.QGY)(n)?(0,_1.D)(n):n;if(a3e&&!(0,o.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new o.vHH(-1101,t)}return e}function lO(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function uO(n,e){return e.map(t=>t(n))}function dO(n){return n.map(e=>function l3e(n){return!n.validate}(e)?e:t=>e.validate(t))}function fO(n){if(!n)return null;const e=n.filter(aO);return 0==e.length?null:function(t){return lO(uO(t,e))}}function tA(n){return null!=n?fO(dO(n)):null}function hO(n){if(!n)return null;const e=n.filter(aO);return 0==e.length?null:function(t){return function n3e(...n){const e=(0,Cr.jO)(n),{args:t,keys:i}=a8(n),r=new Ci.y(s=>{const{length:a}=t;if(!a)return void s.complete();const c=new Array(a);let d=a,h=a;for(let g=0;g<a;g++){let y=!1;(0,mo.Xf)(t[g]).subscribe((0,p2.x)(s,M=>{y||(y=!0,h--),c[g]=M},()=>d--,void 0,()=>{(!d||!y)&&(h||s.next(i?R6(i,c):c),s.complete())}))}});return e?r.pipe(P6(e)):r}(uO(t,e).map(cO)).pipe((0,kt.U)(lO))}}function nA(n){return null!=n?hO(dO(n)):null}function pO(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function mO(n){return n._rawValidators}function gO(n){return n._rawAsyncValidators}function iA(n){return n?Array.isArray(n)?n:[n]:[]}function dM(n,e){return Array.isArray(n)?n.includes(e):n===e}function _O(n,e){const t=iA(e);return iA(n).forEach(r=>{dM(t,r)||t.push(r)}),t}function vO(n,e){return iA(e).filter(t=>!dM(n,t))}class yO{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=tA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=nA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ts extends yO{get formDirective(){return null}get path(){return null}}class Q0 extends yO{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class CO{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let oc=(()=>{class n extends CO{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Q0,2))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&o.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[o.qOj]}),n})(),j4=(()=>{class n extends CO{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(ts,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&o.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[o.qOj]}),n})();function bO(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const oA=!1,jm="VALID",hM="INVALID",zf="PENDING",Wm="DISABLED";function aA(n){return(pM(n)?n.validators:n)||null}function cA(n,e){return(pM(e)?e.asyncValidators:n)||null}function pM(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function MO(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new o.vHH(1e3,oA?function h3e(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!i[t])throw new o.vHH(1001,oA?function p3e(n,e){return`Cannot find form control ${bO(n,e)}`}(e,t):"")}function wO(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new o.vHH(1002,oA?function m3e(n,e){return`Must supply a value for form control ${bO(n,e)}`}(e,r):"")})}class mM{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===jm}get invalid(){return this.status===hM}get pending(){return this.status==zf}get disabled(){return this.status===Wm}get enabled(){return this.status!==Wm}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(_O(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(_O(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(vO(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(vO(e,this._rawAsyncValidators))}hasValidator(e){return dM(this._rawValidators,e)}hasAsyncValidator(e){return dM(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=zf,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Wm,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=jm,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===jm||this.status===zf)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Wm:jm}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=zf,this._hasOwnPendingAsyncValidator=!0;const t=cO(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?Wm:this.errors?hM:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(zf)?zf:this._anyControlsHaveStatus(hM)?hM:jm}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){pM(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function g3e(n){return Array.isArray(n)?tA(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function _3e(n){return Array.isArray(n)?nA(n):n||null}(this._rawAsyncValidators)}}class Ym extends mM{constructor(e,t,i){super(aA(t),cA(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){wO(this,!0,e),Object.keys(e).forEach(i=>{MO(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class xO extends Ym{}const q5=new o.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>qm}),qm="always";function gM(n,e){return[...e.path,n]}function Gm(n,e,t=qm){lA(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function y3e(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&SO(n,e)})}(n,e),function b3e(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function C3e(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&SO(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function v3e(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function _M(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),yM(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function vM(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function lA(n,e){const t=mO(n);null!==e.validator?n.setValidators(pO(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=gO(n);null!==e.asyncValidator?n.setAsyncValidators(pO(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();vM(e._rawValidators,r),vM(e._rawAsyncValidators,r)}function yM(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=mO(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(a=>a!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const r=gO(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(a=>a!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}const i=()=>{};return vM(e._rawValidators,i),vM(e._rawAsyncValidators,i),t}function SO(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function TO(n,e){lA(n,e)}function dA(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function DO(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function fA(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===sc?t=s:function x3e(n){return Object.getPrototypeOf(n.constructor)===Y5}(s)?i=s:r=s}),r||i||t||null}const T3e={provide:ts,useExisting:(0,o.Gpc)(()=>Af)},$m=(()=>Promise.resolve())();let Af=(()=>{class n extends ts{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new o.vpe,this.form=new Ym({},tA(t),nA(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){$m.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Gm(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){$m.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){$m.then(()=>{const i=this._findContainer(t.path),r=new Ym({});TO(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){$m.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){$m.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,DO(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Qi,10),o.Y36(K0,10),o.Y36(q5,8))},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([T3e]),o.qOj]}),n})();function kO(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function zO(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Zm=class extends mM{constructor(e=null,t,i){super(aA(t),cA(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),pM(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=zO(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){kO(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){kO(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){zO(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let AO=(()=>{class n extends ts{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return gM(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})();const z3e={provide:Q0,useExisting:(0,o.Gpc)(()=>Hf)},LO=(()=>Promise.resolve())();let Hf=(()=>{class n extends Q0{constructor(t,i,r,s,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new Zm,this._registered=!1,this.update=new o.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=fA(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),dA(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Gm(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){LO.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&(0,o.D6c)(i);LO.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?gM(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(ts,9),o.Y36(Qi,10),o.Y36(K0,10),o.Y36(js,10),o.Y36(o.sBO,8),o.Y36(q5,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o._Bn([z3e]),o.qOj,o.TTD]}),n})(),W4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const A3e={provide:js,useExisting:(0,o.Gpc)(()=>CM),multi:!0};let CM=(()=>{class n extends Y5{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=i=>{t(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,i){1&t&&o.NdJ("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[o._Bn([A3e]),o.qOj]}),n})(),EO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const hA=new o.OlP("NgModelWithFormControlWarning"),I3e={provide:ts,useExisting:(0,o.Gpc)(()=>J0)};let J0=(()=>{class n extends ts{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(yM(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return Gm(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){_M(t.control||null,t,!1),function S3e(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,DO(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(_M(i||null,t),(n=>n instanceof Zm)(r)&&(Gm(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);TO(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function M3e(n,e){return yM(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){lA(this.form,this),this._oldForm&&yM(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Qi,10),o.Y36(K0,10),o.Y36(q5,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([I3e]),o.qOj,o.TTD]}),n})();const N3e={provide:ts,useExisting:(0,o.Gpc)(()=>bM)};let bM=(()=>{class n extends AO{constructor(t,i,r){super(),this._parent=t,this._setValidators(i),this._setAsyncValidators(r)}_checkParentType(){PO(this._parent)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(ts,13),o.Y36(Qi,10),o.Y36(K0,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[o._Bn([N3e]),o.qOj]}),n})();const P3e={provide:ts,useExisting:(0,o.Gpc)(()=>MM)};let MM=(()=>{class n extends ts{constructor(t,i,r){super(),this._parent=t,this._setValidators(i),this._setAsyncValidators(r)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return gM(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){PO(this._parent)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(ts,13),o.Y36(Qi,10),o.Y36(K0,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[o._Bn([P3e]),o.qOj]}),n})();function PO(n){return!(n instanceof bM||n instanceof J0||n instanceof MM)}const R3e={provide:Q0,useExisting:(0,o.Gpc)(()=>G5)};let G5=(()=>{class n extends Q0{set isDisabled(t){}constructor(t,i,r,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.update=new o.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=fA(0,s)}ngOnChanges(t){this._added||this._setUpControl(),dA(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return gM(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(o.Y36(ts,13),o.Y36(Qi,10),o.Y36(K0,10),o.Y36(js,10),o.Y36(hA,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[o._Bn([R3e]),o.qOj,o.TTD]}),n})();const O3e={provide:js,useExisting:(0,o.Gpc)(()=>Km),multi:!0};function RO(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Km=(()=>{class n extends Y5{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const r=RO(this._getOptionId(t),t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){const i=function F3e(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i):t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,i){1&t&&o.NdJ("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[o._Bn([O3e]),o.qOj]}),n})(),wM=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(RO(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(Km,9))},n.\u0275dir=o.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const B3e={provide:js,useExisting:(0,o.Gpc)(()=>pA),multi:!0};function OO(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let pA=(()=>{class n extends Y5{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let i;if(this.value=t,Array.isArray(t)){const r=t.map(s=>this._getOptionId(s));i=(s,a)=>{s._setSelected(r.indexOf(a.toString())>-1)}}else i=(r,s)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{const r=[],s=i.selectedOptions;if(void 0!==s){const a=s;for(let c=0;c<a.length;c++){const h=this._getOptionValue(a[c].value);r.push(h)}}else{const a=i.options;for(let c=0;c<a.length;c++){const d=a[c];if(d.selected){const h=this._getOptionValue(d.value);r.push(h)}}}this.value=r,t(r)}}_registerOption(t){const i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){const i=function U3e(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,i){1&t&&o.NdJ("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[o._Bn([B3e]),o.qOj]}),n})(),xM=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(OO(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(OO(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(pA,9))},n.\u0275dir=o.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();function BO(n){return"number"==typeof n?n:parseFloat(n)}let $5=(()=>{class n{constructor(){this._validator=uM}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):uM,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,features:[o.TTD]}),n})();const j3e={provide:Qi,useExisting:(0,o.Gpc)(()=>mA),multi:!0};let mA=(()=>{class n extends $5{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=t=>BO(t),this.createValidator=t=>eO(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(t,i){2&t&&o.uIk("max",i._enabled?i.max:null)},inputs:{max:"max"},features:[o._Bn([j3e]),o.qOj]}),n})();const W3e={provide:Qi,useExisting:(0,o.Gpc)(()=>SM),multi:!0};let SM=(()=>{class n extends $5{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>BO(t),this.createValidator=t=>XR(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(t,i){2&t&&o.uIk("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[o._Bn([W3e]),o.qOj]}),n})(),GO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[EO]}),n})();class $O extends mM{constructor(e,t,i){super(aA(t),cA(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){wO(this,!1,e),e.forEach((i,r)=>{MO(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function ZO(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let Ws=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,i=null){const r=this._reduceControls(t);let s={};return ZO(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new Ym(r,s)}record(t,i=null){const r=this._reduceControls(t);return new xO(r,i)}control(t,i,r){let s={};return this.useNonNullable?(ZO(i)?s=i:(s.validators=i,s.asyncValidators=r),new Zm(t,{...s,nonNullable:!0})):new Zm(t,i,r)}array(t,i,r){const s=t.map(a=>this._createControl(a));return new $O(s,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return t instanceof Zm||t instanceof mM?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Q3e=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:q5,useValue:t.callSetDisabledState??qm}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[GO]}),n})(),J3e=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:hA,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:q5,useValue:t.callSetDisabledState??qm}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[GO]}),n})();var _A={prefix:"fab",iconName:"google",icon:[488,512,[],"f1a0","M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"]},yA=N(5114);class Qm{}class V7e{}const Y4="*";function Oa(n,e){return{type:7,name:n,definitions:e,options:{}}}function r2(n,e=null){return{type:4,styles:e,timings:n}}function kF(n,e=null){return{type:2,steps:n,options:e}}function on(n){return{type:6,styles:n,offset:null}}function Jm(n,e,t){return{type:0,name:n,styles:e,options:t}}function Y2(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function zF(n){Promise.resolve().then(n)}class Xm{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){zF(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class AF{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?zF(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++t==s&&this._onFinish()}),a.onDestroy(()=>{++i==s&&this._onDestroy()}),a.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((a,c)=>Math.max(a,c.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const CA="!",HF=["toast-component",""];function I7e(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",5),o.NdJ("click",function(){o.CHM(t);const r=o.oxw();return o.KtG(r.remove())}),o.TgZ(1,"span",6),o._uU(2,"\xd7"),o.qZA()()}}function N7e(n,e){if(1&n&&(o.ynx(0),o._uU(1),o.BQk()),2&n){const t=o.oxw(2);o.xp6(1),o.hij("[",t.duplicatesCount+1,"]")}}function P7e(n,e){if(1&n&&(o.TgZ(0,"div"),o._uU(1),o.YNc(2,N7e,2,1,"ng-container",4),o.qZA()),2&n){const t=o.oxw();o.Tol(t.options.titleClass),o.uIk("aria-label",t.title),o.xp6(1),o.hij(" ",t.title," "),o.xp6(1),o.Q6J("ngIf",t.duplicatesCount)}}function R7e(n,e){if(1&n&&o._UZ(0,"div",7),2&n){const t=o.oxw();o.Tol(t.options.messageClass),o.Q6J("innerHTML",t.message,o.oJD)}}function O7e(n,e){if(1&n&&(o.TgZ(0,"div",8),o._uU(1),o.qZA()),2&n){const t=o.oxw();o.Tol(t.options.messageClass),o.uIk("aria-label",t.message),o.xp6(1),o.hij(" ",t.message," ")}}function F7e(n,e){if(1&n&&(o.TgZ(0,"div"),o._UZ(1,"div",9),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Udp("width",t.width+"%")}}class G7e{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class $7e{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}class Z7e{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new h2.x,this._activate=new h2.x,this._manualClose=new h2.x,this._resetTimeout=new h2.x,this._countDuplicate=new h2.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class TM{constructor(e,t,i,r,s,a){this.toastId=e,this.config=t,this.message=i,this.title=r,this.toastType=s,this.toastRef=a,this._onTap=new h2.x,this._onAction=new h2.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const EF=new o.OlP("ToastConfig");class K7e extends $7e{constructor(e,t,i){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=i}attachComponentPortal(e,t){const i=this._componentFactoryResolver.resolveComponentFactory(e.component);let r;return r=i.create(e.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class Q7e{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let J7e=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(ae))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),X7e=(()=>{class n{constructor(t,i,r,s){this._overlayContainer=t,this._componentFactoryResolver=i,this._appRef=r,this._document=s,this._paneElements=new Map}create(t,i){return this._createOverlayRef(this.getPaneElement(t,i))}getPaneElement(t="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[t]||(this._paneElements.get(i)[t]=this._createPaneElement(t,i)),this._paneElements.get(i)[t]}_createPaneElement(t,i){const r=this._document.createElement("div");return r.id="toast-container",r.classList.add(t),r.classList.add("toast-container"),i?i.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(t){return new K7e(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new Q7e(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(J7e),o.LFG(o._Vd),o.LFG(o.z2F),o.LFG(ae))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Si=(()=>{class n{constructor(t,i,r,s,a){this.overlay=i,this._injector=r,this.sanitizer=s,this.ngZone=a,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,i,r={},s=""){return this._preBuildNotification(s,t,i,this.applyConfig(r))}success(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,i,this.applyConfig(r))}error(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,i,this.applyConfig(r))}info(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,i,this.applyConfig(r))}warning(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,i,this.applyConfig(r))}clear(t){for(const i of this.toasts)if(void 0!==t){if(i.toastId===t)return void i.toastRef.manualClose()}else i.toastRef.manualClose()}remove(t){const i=this._findToast(t);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(t="",i="",r,s){const{includeTitleDuplicates:a}=this.toastrConfig;for(const c of this.toasts)if((!a||a&&c.title===t)&&c.message===i)return c.toastRef.onDuplicate(r,s),c;return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===t)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(t,i,r,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,i,r,s)):this._buildNotification(t,i,r,s)}_buildNotification(t,i,r,s){if(!s.toastComponent)throw new Error("toastComponent required");const a=this.findDuplicate(r,i,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||i)&&this.toastrConfig.preventDuplicates&&null!==a)return a;this.previousToastMessage=i;let c=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(c=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const d=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let h=i;i&&s.enableHtml&&(h=this.sanitizer.sanitize(o.q3G.HTML,i));const g=new Z7e(d),y=new TM(this.index,s,h,r,t,g),S=o.zs3.create({providers:[{provide:TM,useValue:y}],parent:this._injector}),k=new G7e(s.toastComponent,S),A=d.attach(k,s.newestOnTop);g.componentInstance=A.instance;const L={toastId:this.index,title:r||"",message:i||"",toastRef:g,onShown:g.afterActivate(),onHidden:g.afterClosed(),onTap:y.onTap(),onAction:y.onAction(),portal:A};return c||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{L.toastRef.activate()})),this.toasts.push(L),L}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(EF),o.LFG(X7e),o.LFG(o.zs3),o.LFG(Fc),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ede={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class n{constructor(t,i,r){this.toastrService=t,this.toastPackage=i,this.ngZone=r,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),i)):this.timeout=setTimeout(()=>t(),i)}outsideInterval(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),i)):this.intervalId=setInterval(()=>t(),i)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Si),o.Y36(TM),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,i){1&t&&o.NdJ("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&t&&(o.d8E("@flyInOut",i.state),o.Tol(i.toastClasses),o.Udp("display",i.displayStyle))},attrs:HF,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,i){1&t&&(o.YNc(0,I7e,3,0,"button",0),o.YNc(1,P7e,3,5,"div",1),o.YNc(2,R7e,1,3,"div",2),o.YNc(3,O7e,2,4,"div",3),o.YNc(4,F7e,2,2,"div",4)),2&t&&(o.Q6J("ngIf",i.options.closeButton),o.xp6(1),o.Q6J("ngIf",i.title),o.xp6(1),o.Q6J("ngIf",i.message&&i.options.enableHtml),o.xp6(1),o.Q6J("ngIf",i.message&&!i.options.enableHtml),o.xp6(1),o.Q6J("ngIf",i.options.progressBar))},dependencies:[Zn],encapsulation:2,data:{animation:[Oa("flyInOut",[Jm("inactive",on({opacity:0})),Jm("active",on({opacity:1})),Jm("removed",on({opacity:0})),Y2("inactive => active",r2("{{ easeTime }}ms {{ easing }}")),Y2("active => removed",r2("{{ easeTime }}ms {{ easing }}"))])]}}),n})()};let tde=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:EF,useValue:{default:ede,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[qi]}),n})();var Dr=function(){function n(e,t,i,r,s,a){this.afs=e,this.afAuth=t,this.router=i,this.ngZone=r,this.toastr=s,this.currentUserService=a}return n.prototype.SignIn=function(e,t){var i=this;return this.afAuth.signInWithEmailAndPassword(e,t).then(function(r){i.SetUserData(r.user),i.afAuth.authState.subscribe(function(s){}),console.log("success")}).catch(function(r){console.log(r.message),i.toastr.error(r.message)})},n.prototype.SignUp=function(e,t){var i=this;return this.afAuth.createUserWithEmailAndPassword(e,t).then(function(r){return!!r&&(i.SetNewUserData(r.user),!0)}).catch(function(r){i.toastr.error(r.message)})},n.prototype.SendVerificationMail=function(){var e=this;return this.afAuth.currentUser.then(function(t){return t.sendEmailVerification()}).then(function(){e.router.navigate(["verify-email-address"])})},n.prototype.ForgotPassword=function(e){return this.afAuth.sendPasswordResetEmail(e).then(function(){window.alert("Password reset email sent, check your inbox.")}).catch(function(t){window.alert(t)})},Object.defineProperty(n.prototype,"isLoggedIn",{get:function(){var e=JSON.parse(localStorage.getItem("user"));return null!==e&&!1!==e.emailVerified},enumerable:!1,configurable:!0}),n.prototype.GoogleAuthLogin=function(){return this.AuthLogin(new yA.Q).then(function(e){return!!e})},n.prototype.AuthLogin=function(e){var t=this;return this.afAuth.signInWithPopup(e).then(function(i){return t.SetUserData(i.user),!0}).catch(function(i){window.alert(i)})},n.prototype.GoogleAuthSignUp=function(){return this.AuthSignUp(new yA.Q).then(function(e){return!!e})},n.prototype.AuthSignUp=function(e){var t=this;return this.afAuth.signInWithPopup(e).then(function(i){return t.SetNewUserData(i.user),!0}).catch(function(i){window.alert(i)})},n.prototype.SetUserData=function(e){var t=this;this.afs.doc("users/".concat(e.uid)).ref.get().then(function(r){t.currentUserService.setUser(r.data())})},n.prototype.SetNewUserData=function(e){var t=this.afs.doc("users/".concat(e.uid)),i={uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL,profileHandle:""};return this.currentUserService.setUser(i),t.set(i,{merge:!0})},n.prototype.SignOut=function(){var e=this;return this.currentUserService.logOut(),this.afAuth.signOut().then(function(){localStorage.removeItem("user"),e.router.navigate([""])})},n.\u0275fac=function(t){return new(t||n)(o.LFG(Us),o.LFG(Bm),o.LFG(c1),o.LFG(o.R0b),o.LFG(Si),o.LFG(W2))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n}();function VF(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Et(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?VF(Object(t),!0).forEach(function(i){Oi(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):VF(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function DM(n){return(DM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function IF(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function Oi(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function bA(n,e){return function ode(n){if(Array.isArray(n))return n}(n)||function cde(n,e){var t=null==n?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var a,c,i=[],r=!0,s=!1;try{for(t=t.call(n);!(r=(a=t.next()).done)&&(i.push(a.value),!e||i.length!==e);r=!0);}catch(d){s=!0,c=d}finally{try{!r&&null!=t.return&&t.return()}finally{if(s)throw c}}return i}}(n,e)||NF(n,e)||function ude(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tg(n){return function sde(n){if(Array.isArray(n))return MA(n)}(n)||function ade(n){if(typeof Symbol<"u"&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||NF(n)||function lde(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function NF(n,e){if(n){if("string"==typeof n)return MA(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return MA(n,e)}}function MA(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}var PF=function(){},wA={},RF={},OF=null,FF={mark:PF,measure:PF};try{typeof window<"u"&&(wA=window),typeof document<"u"&&(RF=document),typeof MutationObserver<"u"&&(OF=MutationObserver),typeof performance<"u"&&(FF=performance)}catch{}var AM,HM,LM,EM,VM,BF=(wA.navigator||{}).userAgent,UF=void 0===BF?"":BF,X0=wA,M2=RF,jF=OF,zM=FF,q4=!!M2.documentElement&&!!M2.head&&"function"==typeof M2.addEventListener&&"function"==typeof M2.createElement,WF=~UF.indexOf("MSIE")||~UF.indexOf("Trident/"),G4="___FONT_AWESOME___",xA=16,YF="fa",qF="svg-inline--fa",Z5="data-fa-i2svg",SA="data-fa-pseudo-element",fde="data-fa-pseudo-element-pending",TA="data-prefix",DA="data-icon",GF="fontawesome-i2svg",hde="async",pde=["HTML","HEAD","STYLE","SCRIPT"],$F=function(){try{return!0}catch{return!1}}(),w2="classic",ni="sharp",kA=[w2,ni];function ng(n){return new Proxy(n,{get:function(t,i){return i in t?t[i]:t[w2]}})}var ig=ng((Oi(AM={},w2,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),Oi(AM,ni,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),AM)),rg=ng((Oi(HM={},w2,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),Oi(HM,ni,{solid:"fass",regular:"fasr",light:"fasl"}),HM)),sg=ng((Oi(LM={},w2,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),Oi(LM,ni,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),LM)),mde=ng((Oi(EM={},w2,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),Oi(EM,ni,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),EM)),gde=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,ZF="fa-layers-text",_de=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,vde=ng((Oi(VM={},w2,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),Oi(VM,ni,{900:"fass",400:"fasr",300:"fasl"}),VM)),KF=[1,2,3,4,5,6,7,8,9,10],yde=KF.concat([11,12,13,14,15,16,17,18,19,20]),Cde=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],K5={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},og=new Set;Object.keys(rg[w2]).map(og.add.bind(og)),Object.keys(rg[ni]).map(og.add.bind(og));var bde=[].concat(kA,tg(og),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",K5.GROUP,K5.SWAP_OPACITY,K5.PRIMARY,K5.SECONDARY]).concat(KF.map(function(n){return"".concat(n,"x")})).concat(yde.map(function(n){return"w-".concat(n)})),ag=X0.FontAwesomeConfig||{};M2&&"function"==typeof M2.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(n){var e=bA(n,2),i=e[1],r=function wde(n){return""===n||"false"!==n&&("true"===n||n)}(function Mde(n){var e=M2.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}(e[0]));null!=r&&(ag[i]=r)});var QF={styleDefault:"solid",familyDefault:"classic",cssPrefix:YF,replacementClass:qF,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};ag.familyPrefix&&(ag.cssPrefix=ag.familyPrefix);var Lf=Et(Et({},QF),ag);Lf.autoReplaceSvg||(Lf.observeMutations=!1);var Yt={};Object.keys(QF).forEach(function(n){Object.defineProperty(Yt,n,{enumerable:!0,set:function(t){Lf[n]=t,cg.forEach(function(i){return i(Yt)})},get:function(){return Lf[n]}})}),Object.defineProperty(Yt,"familyPrefix",{enumerable:!0,set:function(e){Lf.cssPrefix=e,cg.forEach(function(t){return t(Yt)})},get:function(){return Lf.cssPrefix}}),X0.FontAwesomeConfig=Yt;var cg=[],el=xA,ac={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},Dde="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function lg(){for(var n=12,e="";n-- >0;)e+=Dde[62*Math.random()|0];return e}function Ef(n){for(var e=[],t=(n||[]).length>>>0;t--;)e[t]=n[t];return e}function zA(n){return n.classList?Ef(n.classList):(n.getAttribute("class")||"").split(" ").filter(function(e){return e})}function JF(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function IM(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,": ").concat(n[t].trim(),";")},"")}function AA(n){return n.size!==ac.size||n.x!==ac.x||n.y!==ac.y||n.rotate!==ac.rotate||n.flipX||n.flipY}var Hde=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function XF(){var n=YF,e=qF,t=Yt.cssPrefix,i=Yt.replacementClass,r=Hde;if(t!==n||i!==e){var s=new RegExp("\\.".concat(n,"\\-"),"g"),a=new RegExp("\\--".concat(n,"\\-"),"g"),c=new RegExp("\\.".concat(e),"g");r=r.replace(s,".".concat(t,"-")).replace(a,"--".concat(t,"-")).replace(c,".".concat(i))}return r}var eB=!1;function HA(){Yt.autoAddCss&&!eB&&(function Tde(n){if(n&&q4){var e=M2.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;for(var t=M2.head.childNodes,i=null,r=t.length-1;r>-1;r--){var s=t[r],a=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(i=s)}M2.head.insertBefore(e,i)}}(XF()),eB=!0)}var Lde={mixout:function(){return{dom:{css:XF,insertCss:HA}}},hooks:function(){return{beforeDOMElementCreation:function(){HA()},beforeI2svg:function(){HA()}}}},$4=X0||{};$4[G4]||($4[G4]={}),$4[G4].styles||($4[G4].styles={}),$4[G4].hooks||($4[G4].hooks={}),$4[G4].shims||($4[G4].shims=[]);var Fa=$4[G4],tB=[],NM=!1;function ug(n){var e=n.tag,t=n.attributes,i=void 0===t?{}:t,r=n.children,s=void 0===r?[]:r;return"string"==typeof n?JF(n):"<".concat(e," ").concat(function kde(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,'="').concat(JF(n[t]),'" ')},"").trim()}(i),">").concat(s.map(ug).join(""),"</").concat(e,">")}function nB(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}q4&&((NM=(M2.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(M2.readyState))||M2.addEventListener("DOMContentLoaded",function n(){M2.removeEventListener("DOMContentLoaded",n),NM=1,tB.map(function(e){return e()})}));var LA=function(e,t,i,r){var d,h,g,s=Object.keys(e),a=s.length,c=void 0!==r?function(e,t){return function(i,r,s,a){return e.call(t,i,r,s,a)}}(t,r):t;for(void 0===i?(d=1,g=e[s[0]]):(d=0,g=i);d<a;d++)g=c(g,e[h=s[d]],h,e);return g};function EA(n){var e=function Nde(n){for(var e=[],t=0,i=n.length;t<i;){var r=n.charCodeAt(t++);if(r>=55296&&r<=56319&&t<i){var s=n.charCodeAt(t++);56320==(64512&s)?e.push(((1023&r)<<10)+(1023&s)+65536):(e.push(r),t--)}else e.push(r)}return e}(n);return 1===e.length?e[0].toString(16):null}function iB(n){return Object.keys(n).reduce(function(e,t){var i=n[t];return i.icon?e[i.iconName]=i.icon:e[t]=i,e},{})}function VA(n,e){var i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,r=void 0!==i&&i,s=iB(e);"function"!=typeof Fa.hooks.addPack||r?Fa.styles[n]=Et(Et({},Fa.styles[n]||{}),s):Fa.hooks.addPack(n,iB(e)),"fas"===n&&VA("fa",e)}var PM,RM,OM,Vf=Fa.styles,Rde=Fa.shims,Ode=(Oi(PM={},w2,Object.values(sg[w2])),Oi(PM,ni,Object.values(sg[ni])),PM),IA=null,rB={},sB={},oB={},aB={},cB={},Fde=(Oi(RM={},w2,Object.keys(ig[w2])),Oi(RM,ni,Object.keys(ig[ni])),RM);var lB=function(){var e=function(s){return LA(Vf,function(a,c,d){return a[d]=LA(c,s,{}),a},{})};rB=e(function(r,s,a){return s[3]&&(r[s[3]]=a),s[2]&&s[2].filter(function(d){return"number"==typeof d}).forEach(function(d){r[d.toString(16)]=a}),r}),sB=e(function(r,s,a){return r[a]=a,s[2]&&s[2].filter(function(d){return"string"==typeof d}).forEach(function(d){r[d]=a}),r}),cB=e(function(r,s,a){var c=s[2];return r[a]=a,c.forEach(function(d){r[d]=a}),r});var t="far"in Vf||Yt.autoFetchSvg,i=LA(Rde,function(r,s){var a=s[0],c=s[1],d=s[2];return"far"===c&&!t&&(c="fas"),"string"==typeof a&&(r.names[a]={prefix:c,iconName:d}),"number"==typeof a&&(r.unicodes[a.toString(16)]={prefix:c,iconName:d}),r},{names:{},unicodes:{}});oB=i.names,aB=i.unicodes,IA=FM(Yt.styleDefault,{family:Yt.familyDefault})};function NA(n,e){return(rB[n]||{})[e]}function Q5(n,e){return(cB[n]||{})[e]}function uB(n){return oB[n]||{prefix:null,iconName:null}}function tl(){return IA}(function Sde(n){cg.push(n)})(function(n){IA=FM(n.styleDefault,{family:Yt.familyDefault})}),lB();var PA=function(){return{prefix:null,iconName:null,rest:[]}};function FM(n){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,i=void 0===t?w2:t;return rg[i][n]||rg[i][ig[i][n]]||(n in Fa.styles?n:null)||null}var dB=(Oi(OM={},w2,Object.keys(sg[w2])),Oi(OM,ni,Object.keys(sg[ni])),OM);function BM(n){var e,i=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,r=void 0!==i&&i,s=(Oi(e={},w2,"".concat(Yt.cssPrefix,"-").concat(w2)),Oi(e,ni,"".concat(Yt.cssPrefix,"-").concat(ni)),e),a=null,c=w2;(n.includes(s[w2])||n.some(function(h){return dB[w2].includes(h)}))&&(c=w2),(n.includes(s[ni])||n.some(function(h){return dB[ni].includes(h)}))&&(c=ni);var d=n.reduce(function(h,g){var y=function Ude(n,e){var t=e.split("-"),i=t[0],r=t.slice(1).join("-");return i!==n||""===r||function Bde(n){return~bde.indexOf(n)}(r)?null:r}(Yt.cssPrefix,g);if(Vf[g]?(g=Ode[c].includes(g)?mde[c][g]:g,a=g,h.prefix=g):Fde[c].indexOf(g)>-1?(a=g,h.prefix=FM(g,{family:c})):y?h.iconName=y:g!==Yt.replacementClass&&g!==s[w2]&&g!==s[ni]&&h.rest.push(g),!r&&h.prefix&&h.iconName){var M="fa"===a?uB(h.iconName):{},S=Q5(h.prefix,h.iconName);M.prefix&&(a=null),h.iconName=M.iconName||S||h.iconName,h.prefix=M.prefix||h.prefix,"far"===h.prefix&&!Vf.far&&Vf.fas&&!Yt.autoFetchSvg&&(h.prefix="fas")}return h},PA());return(n.includes("fa-brands")||n.includes("fab"))&&(d.prefix="fab"),(n.includes("fa-duotone")||n.includes("fad"))&&(d.prefix="fad"),!d.prefix&&c===ni&&(Vf.fass||Yt.autoFetchSvg)&&(d.prefix="fass",d.iconName=Q5(d.prefix,d.iconName)||d.iconName),("fa"===d.prefix||"fa"===a)&&(d.prefix=tl()||"fas"),d}var Yde=function(){function n(){(function nde(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.definitions={}}return function ide(n,e,t){e&&IF(n.prototype,e),t&&IF(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"add",value:function(){for(var t=this,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];var a=r.reduce(this._pullDefinitions,{});Object.keys(a).forEach(function(c){t.definitions[c]=Et(Et({},t.definitions[c]||{}),a[c]),VA(c,a[c]);var d=sg[w2][c];d&&VA(d,a[c]),lB()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,i){var r=i.prefix&&i.iconName&&i.icon?{0:i}:i;return Object.keys(r).map(function(s){var a=r[s],c=a.prefix,d=a.iconName,h=a.icon,g=h[2];t[c]||(t[c]={}),g.length>0&&g.forEach(function(y){"string"==typeof y&&(t[c][y]=h)}),t[c][d]=h}),t}}]),n}(),fB=[],If={},Nf={},qde=Object.keys(Nf);function RA(n,e){for(var t=arguments.length,i=new Array(t>2?t-2:0),r=2;r<t;r++)i[r-2]=arguments[r];return(If[n]||[]).forEach(function(a){e=a.apply(null,[e].concat(i))}),e}function J5(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];(If[n]||[]).forEach(function(s){s.apply(null,t)})}function Z4(){var n=arguments[0],e=Array.prototype.slice.call(arguments,1);return Nf[n]?Nf[n].apply(null,e):void 0}function OA(n){"fa"===n.prefix&&(n.prefix="fas");var e=n.iconName,t=n.prefix||tl();if(e)return e=Q5(t,e)||e,nB(hB.definitions,t,e)||nB(Fa.styles,t,e)}var hB=new Yde,Zde={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return q4?(J5("beforeI2svg",e),Z4("pseudoElements2svg",e),Z4("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot;!1===Yt.autoReplaceSvg&&(Yt.autoReplaceSvg=!0),Yt.observeMutations=!0,function Vde(n){q4&&(NM?setTimeout(n,0):tB.push(n))}(function(){Qde({autoReplaceSvgRoot:t}),J5("watch",e)})}},Ys={noAuto:function(){Yt.autoReplaceSvg=!1,Yt.observeMutations=!1,J5("noAuto")},config:Yt,dom:Zde,parse:{icon:function(e){if(null===e)return null;if("object"===DM(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Q5(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],i=FM(e[0]);return{prefix:i,iconName:Q5(i,t)||t}}if("string"==typeof e&&(e.indexOf("".concat(Yt.cssPrefix,"-"))>-1||e.match(gde))){var r=BM(e.split(" "),{skipLookups:!0});return{prefix:r.prefix||tl(),iconName:Q5(r.prefix,r.iconName)||r.iconName}}if("string"==typeof e){var s=tl();return{prefix:s,iconName:Q5(s,e)||e}}}},library:hB,findIconDefinition:OA,toHtml:ug},Qde=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,i=void 0===t?M2:t;(Object.keys(Fa.styles).length>0||Yt.autoFetchSvg)&&q4&&Yt.autoReplaceSvg&&Ys.dom.i2svg({node:i})};function UM(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(i){return ug(i)})}}),Object.defineProperty(n,"node",{get:function(){if(q4){var i=M2.createElement("div");return i.innerHTML=n.html,i.children}}}),n}function FA(n){var e=n.icons,t=e.main,i=e.mask,r=n.prefix,s=n.iconName,a=n.transform,c=n.symbol,d=n.title,h=n.maskId,g=n.titleId,y=n.extra,M=n.watchable,S=void 0!==M&&M,k=i.found?i:t,A=k.width,L=k.height,B="fak"===r,G=[Yt.replacementClass,s?"".concat(Yt.cssPrefix,"-").concat(s):""].filter(function(dt){return-1===y.classes.indexOf(dt)}).filter(function(dt){return""!==dt||!!dt}).concat(y.classes).join(" "),X={children:[],attributes:Et(Et({},y.attributes),{},{"data-prefix":r,"data-icon":s,class:G,role:y.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(A," ").concat(L)})},te=B&&!~y.classes.indexOf("fa-fw")?{width:"".concat(A/L*16*.0625,"em")}:{};S&&(X.attributes[Z5]=""),d&&(X.children.push({tag:"title",attributes:{id:X.attributes["aria-labelledby"]||"title-".concat(g||lg())},children:[d]}),delete X.attributes.title);var re=Et(Et({},X),{},{prefix:r,iconName:s,main:t,mask:i,maskId:h,transform:a,symbol:c,styles:Et(Et({},te),y.styles)}),be=i.found&&t.found?Z4("generateAbstractMask",re)||{children:[],attributes:{}}:Z4("generateAbstractIcon",re)||{children:[],attributes:{}},rt=be.attributes;return re.children=be.children,re.attributes=rt,c?function Xde(n){var t=n.iconName,i=n.children,r=n.attributes,s=n.symbol,a=!0===s?"".concat(n.prefix,"-").concat(Yt.cssPrefix,"-").concat(t):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Et(Et({},r),{},{id:a}),children:i}]}]}(re):function Jde(n){var e=n.children,t=n.main,i=n.mask,r=n.attributes,s=n.styles,a=n.transform;if(AA(a)&&t.found&&!i.found){var h={x:t.width/t.height/2,y:.5};r.style=IM(Et(Et({},s),{},{"transform-origin":"".concat(h.x+a.x/16,"em ").concat(h.y+a.y/16,"em")}))}return[{tag:"svg",attributes:r,children:e}]}(re)}function pB(n){var e=n.content,t=n.width,i=n.height,r=n.transform,s=n.title,a=n.extra,c=n.watchable,d=void 0!==c&&c,h=Et(Et(Et({},a.attributes),s?{title:s}:{}),{},{class:a.classes.join(" ")});d&&(h[Z5]="");var g=Et({},a.styles);AA(r)&&(g.transform=function Ade(n){var e=n.transform,t=n.width,r=n.height,s=void 0===r?xA:r,a=n.startCentered,c=void 0!==a&&a,d="";return d+=c&&WF?"translate(".concat(e.x/el-(void 0===t?xA:t)/2,"em, ").concat(e.y/el-s/2,"em) "):c?"translate(calc(-50% + ".concat(e.x/el,"em), calc(-50% + ").concat(e.y/el,"em)) "):"translate(".concat(e.x/el,"em, ").concat(e.y/el,"em) "),(d+="scale(".concat(e.size/el*(e.flipX?-1:1),", ").concat(e.size/el*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:r,startCentered:!0,width:t,height:i}),g["-webkit-transform"]=g.transform);var y=IM(g);y.length>0&&(h.style=y);var M=[];return M.push({tag:"span",attributes:h,children:[e]}),s&&M.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),M}var BA=Fa.styles;function UA(n){var e=n[0],t=n[1],s=bA(n.slice(4),1)[0];return{found:!0,width:e,height:t,icon:Array.isArray(s)?{tag:"g",attributes:{class:"".concat(Yt.cssPrefix,"-").concat(K5.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Yt.cssPrefix,"-").concat(K5.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(Yt.cssPrefix,"-").concat(K5.PRIMARY),fill:"currentColor",d:s[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:s}}}}var tfe={found:!1,width:512,height:512};function jA(n,e){var t=e;return"fa"===e&&null!==Yt.styleDefault&&(e=tl()),new Promise(function(i,r){if(Z4("missingIconAbstract"),"fa"===t){var a=uB(n)||{};n=a.iconName||n,e=a.prefix||e}if(n&&e&&BA[e]&&BA[e][n])return i(UA(BA[e][n]));(function nfe(n,e){!$F&&!Yt.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(e,'" is missing.'))})(n,e),i(Et(Et({},tfe),{},{icon:Yt.showMissingIcons&&n&&Z4("missingIconAbstract")||{}}))})}var mB=function(){},WA=Yt.measurePerformance&&zM&&zM.mark&&zM.measure?zM:{mark:mB,measure:mB},dg='FA "6.4.0"',gB=function(e){WA.mark("".concat(dg," ").concat(e," ends")),WA.measure("".concat(dg," ").concat(e),"".concat(dg," ").concat(e," begins"),"".concat(dg," ").concat(e," ends"))},YA={begin:function(e){return WA.mark("".concat(dg," ").concat(e," begins")),function(){return gB(e)}},end:gB},jM=function(){};function _B(n){return"string"==typeof(n.getAttribute?n.getAttribute(Z5):null)}function afe(n){return M2.createElementNS("http://www.w3.org/2000/svg",n)}function cfe(n){return M2.createElement(n)}function vB(n){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,i=void 0===t?"svg"===n.tag?afe:cfe:t;if("string"==typeof n)return M2.createTextNode(n);var r=i(n.tag);return Object.keys(n.attributes||[]).forEach(function(a){r.setAttribute(a,n.attributes[a])}),(n.children||[]).forEach(function(a){r.appendChild(vB(a,{ceFn:i}))}),r}var WM={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach(function(r){t.parentNode.insertBefore(vB(r),t)}),null===t.getAttribute(Z5)&&Yt.keepOriginalSource){var i=M2.createComment(function lfe(n){var e=" ".concat(n.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(i,t)}else t.remove()},nest:function(e){var t=e[0],i=e[1];if(~zA(t).indexOf(Yt.replacementClass))return WM.replace(e);var r=new RegExp("".concat(Yt.cssPrefix,"-.*"));if(delete i[0].attributes.id,i[0].attributes.class){var s=i[0].attributes.class.split(" ").reduce(function(c,d){return d===Yt.replacementClass||d.match(r)?c.toSvg.push(d):c.toNode.push(d),c},{toNode:[],toSvg:[]});i[0].attributes.class=s.toSvg.join(" "),0===s.toNode.length?t.removeAttribute("class"):t.setAttribute("class",s.toNode.join(" "))}var a=i.map(function(c){return ug(c)}).join("\n");t.setAttribute(Z5,""),t.innerHTML=a}};function yB(n){n()}function CB(n,e){var t="function"==typeof e?e:jM;if(0===n.length)t();else{var i=yB;Yt.mutateApproach===hde&&(i=X0.requestAnimationFrame||yB),i(function(){var r=function ofe(){return!0===Yt.autoReplaceSvg?WM.replace:WM[Yt.autoReplaceSvg]||WM.replace}(),s=YA.begin("mutate");n.map(r),s(),t()})}}var qA=!1;function bB(){qA=!0}function GA(){qA=!1}var YM=null;function MB(n){if(jF&&Yt.observeMutations){var e=n.treeCallback,t=void 0===e?jM:e,i=n.nodeCallback,r=void 0===i?jM:i,s=n.pseudoElementsCallback,a=void 0===s?jM:s,c=n.observeMutationsRoot,d=void 0===c?M2:c;YM=new jF(function(h){if(!qA){var g=tl();Ef(h).forEach(function(y){if("childList"===y.type&&y.addedNodes.length>0&&!_B(y.addedNodes[0])&&(Yt.searchPseudoElements&&a(y.target),t(y.target)),"attributes"===y.type&&y.target.parentNode&&Yt.searchPseudoElements&&a(y.target.parentNode),"attributes"===y.type&&_B(y.target)&&~Cde.indexOf(y.attributeName))if("class"===y.attributeName&&function rfe(n){var e=n.getAttribute?n.getAttribute(TA):null,t=n.getAttribute?n.getAttribute(DA):null;return e&&t}(y.target)){var M=BM(zA(y.target)),k=M.iconName;y.target.setAttribute(TA,M.prefix||g),k&&y.target.setAttribute(DA,k)}else(function sfe(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(Yt.replacementClass)})(y.target)&&r(y.target)})}}),q4&&YM.observe(d,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function wB(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},t=function ffe(n){var e=n.getAttribute("data-prefix"),t=n.getAttribute("data-icon"),i=void 0!==n.innerText?n.innerText.trim():"",r=BM(zA(n));return r.prefix||(r.prefix=tl()),e&&t&&(r.prefix=e,r.iconName=t),r.iconName&&r.prefix||(r.prefix&&i.length>0&&(r.iconName=function jde(n,e){return(sB[n]||{})[e]}(r.prefix,n.innerText)||NA(r.prefix,EA(n.innerText))),!r.iconName&&Yt.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(r.iconName=n.firstChild.data)),r}(n),i=t.iconName,r=t.prefix,s=t.rest,a=function hfe(n){var e=Ef(n.attributes).reduce(function(r,s){return"class"!==r.name&&"style"!==r.name&&(r[s.name]=s.value),r},{}),t=n.getAttribute("title"),i=n.getAttribute("data-fa-title-id");return Yt.autoA11y&&(t?e["aria-labelledby"]="".concat(Yt.replacementClass,"-title-").concat(i||lg()):(e["aria-hidden"]="true",e.focusable="false")),e}(n),c=RA("parseNodeAttributes",{},n),d=e.styleParser?function dfe(n){var e=n.getAttribute("style"),t=[];return e&&(t=e.split(";").reduce(function(i,r){var s=r.split(":"),a=s[0],c=s.slice(1);return a&&c.length>0&&(i[a]=c.join(":").trim()),i},{})),t}(n):[];return Et({iconName:i,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:r,transform:ac,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:d,attributes:a}},c)}var mfe=Fa.styles;function xB(n){var e="nest"===Yt.autoReplaceSvg?wB(n,{styleParser:!1}):wB(n);return~e.extra.classes.indexOf(ZF)?Z4("generateLayersText",n,e):Z4("generateSvgReplacementMutation",n,e)}var nl=new Set;function SB(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!q4)return Promise.resolve();var t=M2.documentElement.classList,i=function(y){return t.add("".concat(GF,"-").concat(y))},r=function(y){return t.remove("".concat(GF,"-").concat(y))},s=Yt.autoFetchSvg?nl:kA.map(function(g){return"fa-".concat(g)}).concat(Object.keys(mfe));s.includes("fa")||s.push("fa");var a=[".".concat(ZF,":not([").concat(Z5,"])")].concat(s.map(function(g){return".".concat(g,":not([").concat(Z5,"])")})).join(", ");if(0===a.length)return Promise.resolve();var c=[];try{c=Ef(n.querySelectorAll(a))}catch{}if(!(c.length>0))return Promise.resolve();i("pending"),r("complete");var d=YA.begin("onTree"),h=c.reduce(function(g,y){try{var M=xB(y);M&&g.push(M)}catch(S){$F||"MissingIcon"===S.name&&console.error(S)}return g},[]);return new Promise(function(g,y){Promise.all(h).then(function(M){CB(M,function(){i("active"),i("complete"),r("pending"),"function"==typeof e&&e(),d(),g()})}).catch(function(M){d(),y(M)})})}function gfe(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;xB(n).then(function(t){t&&CB([t],e)})}function _fe(n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=(e||{}).icon?e:OA(e||{}),r=t.mask;return r&&(r=(r||{}).icon?r:OA(r||{})),n(i,Et(Et({},t),{},{mask:r}))}}kA.map(function(n){nl.add("fa-".concat(n))}),Object.keys(ig[w2]).map(nl.add.bind(nl)),Object.keys(ig[ni]).map(nl.add.bind(nl)),nl=tg(nl);var vfe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.transform,r=void 0===i?ac:i,s=t.symbol,a=void 0!==s&&s,c=t.mask,d=void 0===c?null:c,h=t.maskId,g=void 0===h?null:h,y=t.title,M=void 0===y?null:y,S=t.titleId,k=void 0===S?null:S,A=t.classes,L=void 0===A?[]:A,B=t.attributes,G=void 0===B?{}:B,X=t.styles,te=void 0===X?{}:X;if(e){var re=e.prefix,be=e.iconName,Ee=e.icon;return UM(Et({type:"icon"},e),function(){return J5("beforeDOMElementCreation",{iconDefinition:e,params:t}),Yt.autoA11y&&(M?G["aria-labelledby"]="".concat(Yt.replacementClass,"-title-").concat(k||lg()):(G["aria-hidden"]="true",G.focusable="false")),FA({icons:{main:UA(Ee),mask:d?UA(d.icon):{found:!1,width:null,height:null,icon:{}}},prefix:re,iconName:be,transform:Et(Et({},ac),r),symbol:a,title:M,maskId:g,titleId:k,extra:{attributes:G,styles:te,classes:L}})})}},yfe={mixout:function(){return{icon:_fe(vfe)}},hooks:function(){return{mutationObserverCallbacks:function(t){return t.treeCallback=SB,t.nodeCallback=gfe,t}}},provides:function(e){e.i2svg=function(t){var i=t.node,s=t.callback;return SB(void 0===i?M2:i,void 0===s?function(){}:s)},e.generateSvgReplacementMutation=function(t,i){var r=i.iconName,s=i.title,a=i.titleId,c=i.prefix,d=i.transform,h=i.symbol,g=i.mask,y=i.maskId,M=i.extra;return new Promise(function(S,k){Promise.all([jA(r,c),g.iconName?jA(g.iconName,g.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(A){var L=bA(A,2);S([t,FA({icons:{main:L[0],mask:L[1]},prefix:c,iconName:r,transform:d,symbol:h,maskId:y,title:s,titleId:a,extra:M,watchable:!0})])}).catch(k)})},e.generateAbstractIcon=function(t){var h,i=t.children,r=t.attributes,s=t.main,a=t.transform,d=IM(t.styles);return d.length>0&&(r.style=d),AA(a)&&(h=Z4("generateAbstractTransformGrouping",{main:s,transform:a,containerWidth:s.width,iconWidth:s.width})),i.push(h||s.icon),{children:i,attributes:r}}}},Cfe={mixout:function(){return{layer:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.classes,s=void 0===r?[]:r;return UM({type:"layer"},function(){J5("beforeDOMElementCreation",{assembler:t,params:i});var a=[];return t(function(c){Array.isArray(c)?c.map(function(d){a=a.concat(d.abstract)}):a=a.concat(c.abstract)}),[{tag:"span",attributes:{class:["".concat(Yt.cssPrefix,"-layers")].concat(tg(s)).join(" ")},children:a}]})}}}},bfe={mixout:function(){return{counter:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.title,s=void 0===r?null:r,a=i.classes,c=void 0===a?[]:a,d=i.attributes,h=void 0===d?{}:d,g=i.styles,y=void 0===g?{}:g;return UM({type:"counter",content:t},function(){return J5("beforeDOMElementCreation",{content:t,params:i}),function efe(n){var e=n.content,t=n.title,i=n.extra,r=Et(Et(Et({},i.attributes),t?{title:t}:{}),{},{class:i.classes.join(" ")}),s=IM(i.styles);s.length>0&&(r.style=s);var a=[];return a.push({tag:"span",attributes:r,children:[e]}),t&&a.push({tag:"span",attributes:{class:"sr-only"},children:[t]}),a}({content:t.toString(),title:s,extra:{attributes:h,styles:y,classes:["".concat(Yt.cssPrefix,"-layers-counter")].concat(tg(c))}})})}}}},Mfe={mixout:function(){return{text:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.transform,s=void 0===r?ac:r,a=i.title,c=void 0===a?null:a,d=i.classes,h=void 0===d?[]:d,g=i.attributes,y=void 0===g?{}:g,M=i.styles,S=void 0===M?{}:M;return UM({type:"text",content:t},function(){return J5("beforeDOMElementCreation",{content:t,params:i}),pB({content:t,transform:Et(Et({},ac),s),title:c,extra:{attributes:y,styles:S,classes:["".concat(Yt.cssPrefix,"-layers-text")].concat(tg(h))}})})}}},provides:function(e){e.generateLayersText=function(t,i){var r=i.title,s=i.transform,a=i.extra,c=null,d=null;if(WF){var h=parseInt(getComputedStyle(t).fontSize,10),g=t.getBoundingClientRect();c=g.width/h,d=g.height/h}return Yt.autoA11y&&!r&&(a.attributes["aria-hidden"]="true"),Promise.resolve([t,pB({content:t.innerHTML,width:c,height:d,transform:s,title:r,extra:a,watchable:!0})])}}},wfe=new RegExp('"',"ug"),TB=[1105920,1112319];function DB(n,e){var t="".concat(fde).concat(e.replace(":","-"));return new Promise(function(i,r){if(null!==n.getAttribute(t))return i();var a=Ef(n.children).filter(function(Ee){return Ee.getAttribute(SA)===e})[0],c=X0.getComputedStyle(n,e),d=c.getPropertyValue("font-family").match(_de),h=c.getPropertyValue("font-weight"),g=c.getPropertyValue("content");if(a&&!d)return n.removeChild(a),i();if(d&&"none"!==g&&""!==g){var y=c.getPropertyValue("content"),M=~["Sharp"].indexOf(d[2])?ni:w2,S=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(d[2])?rg[M][d[2].toLowerCase()]:vde[M][h],k=function xfe(n){var e=n.replace(wfe,""),t=function Pde(n,e){var r,t=n.length,i=n.charCodeAt(e);return i>=55296&&i<=56319&&t>e+1&&(r=n.charCodeAt(e+1))>=56320&&r<=57343?1024*(i-55296)+r-56320+65536:i}(e,0),i=t>=TB[0]&&t<=TB[1],r=2===e.length&&e[0]===e[1];return{value:EA(r?e[0]:e),isSecondary:i||r}}(y),A=k.value,L=k.isSecondary,B=d[0].startsWith("FontAwesome"),G=NA(S,A),X=G;if(B){var te=function Wde(n){var e=aB[n],t=NA("fas",n);return e||(t?{prefix:"fas",iconName:t}:null)||{prefix:null,iconName:null}}(A);te.iconName&&te.prefix&&(G=te.iconName,S=te.prefix)}if(!G||L||a&&a.getAttribute(TA)===S&&a.getAttribute(DA)===X)i();else{n.setAttribute(t,X),a&&n.removeChild(a);var re=function pfe(){return{iconName:null,title:null,titleId:null,prefix:null,transform:ac,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),be=re.extra;be.attributes[SA]=e,jA(G,S).then(function(Ee){var rt=FA(Et(Et({},re),{},{icons:{main:Ee,mask:PA()},prefix:S,iconName:X,extra:be,watchable:!0})),dt=M2.createElement("svg");"::before"===e?n.insertBefore(dt,n.firstChild):n.appendChild(dt),dt.outerHTML=rt.map(function(_n){return ug(_n)}).join("\n"),n.removeAttribute(t),i()}).catch(r)}}else i()})}function Sfe(n){return Promise.all([DB(n,"::before"),DB(n,"::after")])}function Tfe(n){return!(n.parentNode===document.head||~pde.indexOf(n.tagName.toUpperCase())||n.getAttribute(SA)||n.parentNode&&"svg"===n.parentNode.tagName)}function kB(n){if(q4)return new Promise(function(e,t){var i=Ef(n.querySelectorAll("*")).filter(Tfe).map(Sfe),r=YA.begin("searchPseudoElements");bB(),Promise.all(i).then(function(){r(),GA(),e()}).catch(function(){r(),GA(),t()})})}var zB=!1,AB=function(e){return e.toLowerCase().split(" ").reduce(function(i,r){var s=r.toLowerCase().split("-"),a=s[0],c=s.slice(1).join("-");if(a&&"h"===c)return i.flipX=!0,i;if(a&&"v"===c)return i.flipY=!0,i;if(c=parseFloat(c),isNaN(c))return i;switch(a){case"grow":i.size=i.size+c;break;case"shrink":i.size=i.size-c;break;case"left":i.x=i.x-c;break;case"right":i.x=i.x+c;break;case"up":i.y=i.y-c;break;case"down":i.y=i.y+c;break;case"rotate":i.rotate=i.rotate+c}return i},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},$A={x:0,y:0,width:"100%",height:"100%"};function HB(n){return n.attributes&&(n.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(n.attributes.fill="black"),n}function Afe(n){return"g"===n.tag?n.children:[n]}var Hfe={hooks:function(){return{parseNodeAttributes:function(t,i){var r=i.getAttribute("data-fa-mask"),s=r?BM(r.split(" ").map(function(a){return a.trim()})):PA();return s.prefix||(s.prefix=tl()),t.mask=s,t.maskId=i.getAttribute("data-fa-mask-id"),t}}},provides:function(e){e.generateAbstractMask=function(t){var i=t.children,r=t.attributes,s=t.main,a=t.mask,c=t.maskId,g=s.icon,M=a.icon,S=function zde(n){var e=n.transform,i=n.iconWidth,r={transform:"translate(".concat(n.containerWidth/2," 256)")},s="translate(".concat(32*e.x,", ").concat(32*e.y,") "),a="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),c="rotate(".concat(e.rotate," 0 0)");return{outer:r,inner:{transform:"".concat(s," ").concat(a," ").concat(c)},path:{transform:"translate(".concat(i/2*-1," -256)")}}}({transform:t.transform,containerWidth:a.width,iconWidth:s.width}),k={tag:"rect",attributes:Et(Et({},$A),{},{fill:"white"})},A=g.children?{children:g.children.map(HB)}:{},L={tag:"g",attributes:Et({},S.inner),children:[HB(Et({tag:g.tag,attributes:Et(Et({},g.attributes),S.path)},A))]},B={tag:"g",attributes:Et({},S.outer),children:[L]},G="mask-".concat(c||lg()),X="clip-".concat(c||lg()),te={tag:"mask",attributes:Et(Et({},$A),{},{id:G,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[k,B]},re={tag:"defs",children:[{tag:"clipPath",attributes:{id:X},children:Afe(M)},te]};return i.push(re,{tag:"rect",attributes:Et({fill:"currentColor","clip-path":"url(#".concat(X,")"),mask:"url(#".concat(G,")")},$A)}),{children:i,attributes:r}}}};!function Gde(n,e){var t=e.mixoutsTo;fB=n,If={},Object.keys(Nf).forEach(function(i){-1===qde.indexOf(i)&&delete Nf[i]}),fB.forEach(function(i){var r=i.mixout?i.mixout():{};if(Object.keys(r).forEach(function(a){"function"==typeof r[a]&&(t[a]=r[a]),"object"===DM(r[a])&&Object.keys(r[a]).forEach(function(c){t[a]||(t[a]={}),t[a][c]=r[a][c]})}),i.hooks){var s=i.hooks();Object.keys(s).forEach(function(a){If[a]||(If[a]=[]),If[a].push(s[a])})}i.provides&&i.provides(Nf)})}([Lde,yfe,Cfe,bfe,Mfe,{hooks:function(){return{mutationObserverCallbacks:function(t){return t.pseudoElementsCallback=kB,t}}},provides:function(e){e.pseudoElements2svg=function(t){var i=t.node;Yt.searchPseudoElements&&kB(void 0===i?M2:i)}}},{mixout:function(){return{dom:{unwatch:function(){bB(),zB=!0}}}},hooks:function(){return{bootstrap:function(){MB(RA("mutationObserverCallbacks",{}))},noAuto:function(){!function ufe(){YM&&YM.disconnect()}()},watch:function(t){var i=t.observeMutationsRoot;zB?GA():MB(RA("mutationObserverCallbacks",{observeMutationsRoot:i}))}}}},{mixout:function(){return{parse:{transform:function(t){return AB(t)}}}},hooks:function(){return{parseNodeAttributes:function(t,i){var r=i.getAttribute("data-fa-transform");return r&&(t.transform=AB(r)),t}}},provides:function(e){e.generateAbstractTransformGrouping=function(t){var i=t.main,r=t.transform,a=t.iconWidth,c={transform:"translate(".concat(t.containerWidth/2," 256)")},d="translate(".concat(32*r.x,", ").concat(32*r.y,") "),h="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),g="rotate(".concat(r.rotate," 0 0)"),S={outer:c,inner:{transform:"".concat(d," ").concat(h," ").concat(g)},path:{transform:"translate(".concat(a/2*-1," -256)")}};return{tag:"g",attributes:Et({},S.outer),children:[{tag:"g",attributes:Et({},S.inner),children:[{tag:i.icon.tag,children:i.icon.children,attributes:Et(Et({},i.icon.attributes),S.path)}]}]}}}},Hfe,{provides:function(e){var t=!1;X0.matchMedia&&(t=X0.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var i=[],r={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};i.push({tag:"path",attributes:Et(Et({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var a=Et(Et({},s),{},{attributeName:"opacity"}),c={tag:"circle",attributes:Et(Et({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||c.children.push({tag:"animate",attributes:Et(Et({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Et(Et({},a),{},{values:"1;0;1;1;0;1;"})}),i.push(c),i.push({tag:"path",attributes:Et(Et({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:Et(Et({},a),{},{values:"1;0;0;0;0;1;"})}]}),t||i.push({tag:"path",attributes:Et(Et({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Et(Et({},a),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:i}}}},{hooks:function(){return{parseNodeAttributes:function(t,i){var r=i.getAttribute("data-fa-symbol");return t.symbol=null!==r&&(""===r||r),t}}}}],{mixoutsTo:Ys});var Ife=Ys.parse,Nfe=Ys.icon;const Pfe=["*"],Ffe=n=>{const e={[`fa-${n.animation}`]:null!=n.animation&&!n.animation.startsWith("spin"),"fa-spin":"spin"===n.animation||"spin-reverse"===n.animation,"fa-spin-pulse":"spin-pulse"===n.animation||"spin-pulse-reverse"===n.animation,"fa-spin-reverse":"spin-reverse"===n.animation||"spin-pulse-reverse"===n.animation,"fa-pulse":"spin-pulse"===n.animation||"spin-pulse-reverse"===n.animation,"fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":"horizontal"===n.flip||"both"===n.flip,"fa-flip-vertical":"vertical"===n.flip||"both"===n.flip,[`fa-${n.size}`]:null!==n.size,[`fa-rotate-${n.rotate}`]:null!==n.rotate,[`fa-pull-${n.pull}`]:null!==n.pull,[`fa-stack-${n.stackItemSize}`]:null!=n.stackItemSize};return Object.keys(e).map(t=>e[t]?t:null).filter(t=>t)};let jfe=(()=>{class n{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wfe=(()=>{class n{constructor(){this.definitions={}}addIcons(...t){for(const i of t){i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i;for(const r of i.icon[2])"string"==typeof r&&(this.definitions[i.prefix][r]=i)}}addIconPacks(...t){for(const i of t){const r=Object.keys(i).map(s=>i[s]);this.addIcons(...r)}}getIconDefinition(t,i){return t in this.definitions&&i in this.definitions[t]?this.definitions[t][i]:null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Yfe=(()=>{class n{constructor(){this.stackItemSize="1x"}ngOnChanges(t){if("size"in t)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[o.TTD]}),n})(),qfe=(()=>{class n{constructor(t,i){this.renderer=t,this.elementRef=i}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(t){"size"in t&&(null!=t.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${t.size.currentValue}`),null!=t.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${t.size.previousValue}`))}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275cmp=o.Xpm({type:n,selectors:[["fa-stack"]],inputs:{size:"size"},features:[o.TTD],ngContentSelectors:Pfe,decls:1,vars:0,template:function(t,i){1&t&&(o.F$t(),o.Hsn(0))},encapsulation:2}),n})(),K4=(()=>{class n{constructor(t,i,r,s,a){this.sanitizer=t,this.config=i,this.iconLibrary=r,this.stackItem=s,this.classes=[],null!=a&&null==s&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}set spin(t){this.animation=t?"spin":void 0}set pulse(t){this.animation=t?"spin-pulse":void 0}ngOnChanges(t){if(null!=this.icon||null!=this.config.fallbackIcon){if(t){const r=this.findIconDefinition(null!=this.icon?this.icon:this.config.fallbackIcon);if(null!=r){const s=this.buildParams();this.renderIcon(r,s)}}}else(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})()}render(){this.ngOnChanges({})}findIconDefinition(t){const i=((n,e)=>(n=>void 0!==n.prefix&&void 0!==n.iconName)(n)?n:"string"==typeof n?{prefix:e,iconName:n}:{prefix:n[0],iconName:n[1]})(t,this.config.defaultPrefix);return"icon"in i?i:this.iconLibrary.getIconDefinition(i.prefix,i.iconName)??((n=>{throw new Error(`Could not find icon with iconName=${n.iconName} and prefix=${n.prefix} in the icon library.`)})(i),null)}buildParams(){const t={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},i="string"==typeof this.transform?Ife.transform(this.transform):this.transform;return{title:this.title,transform:i,classes:[...Ffe(t),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(t,i){const r=Nfe(t,i);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(r.html.join("\n"))}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Fc),o.Y36(jfe),o.Y36(Wfe),o.Y36(Yfe,8),o.Y36(qfe,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(t,i){2&t&&(o.Ikx("innerHTML",i.renderedIconHTML,o.oJD),o.uIk("title",i.title))},inputs:{icon:"icon",title:"title",animation:"animation",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[o.TTD],decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})(),Gfe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();function $fe(n,e){1&n&&(o.TgZ(0,"small",21),o._uU(1,"E-Mail is required"),o.qZA())}function Zfe(n,e){1&n&&(o.TgZ(0,"small",21),o._uU(1,"Password is required"),o.qZA())}var Kfe=function(){function n(e,t,i,r,s,a){this.router=e,this.title=t,this.fb=i,this.authService=r,this.toastr=s,this.currentUserService=a,this.faGoogle=_A,this.loginForm=this.fb.group({username:["",Ra.required],password:["",Ra.required]})}return n.prototype.ngOnInit=function(){this.title.setTitle("Login | FitHub")},n.prototype.login=function(){this.loginForm.markAllAsTouched(),this.loginForm.valid&&this.authService.SignIn(this.username.value,this.password.value)},n.prototype.googleSignIn=function(){this.authService.GoogleAuthLogin().then(function(e){})},Object.defineProperty(n.prototype,"username",{get:function(){return this.loginForm.get("username")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"password",{get:function(){return this.loginForm.get("password")},enumerable:!1,configurable:!0}),n.\u0275fac=function(t){return new(t||n)(o.Y36(c1),o.Y36(un),o.Y36(Ws),o.Y36(Dr),o.Y36(Si),o.Y36(W2))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-login"]],decls:32,vars:8,consts:[[1,"row","main-bg","min-vh-100"],[1,"col"],[1,"col-12","col-md-8","col-xxl-4","text-center"],[1,"card","card-home"],[1,"card-body"],[1,"row"],[1,"col-4","offset-4"],["src","../../../assets/Logo1/png/logo-no-background.png",1,"img-fluid"],[1,"row","mt-3"],[1,"display-3"],[1,"row","home-section","justify-content-center"],[1,"col","col-md-10"],[3,"formGroup","ngSubmit"],["type","text","placeholder","E-Mail","formControlName","username",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"row","mt-4"],["type","password","placeholder","Password","formControlName","password",1,"form-control"],["type","submit","value","Login",1,"btn","btn-success","col-sm-10","offset-sm-1"],["type","button",1,"btn","btn-outline-primary","col-sm-6","offset-sm-3",3,"click"],[1,"d-flex","justify-content-evenly"],[2,"font-size","1rem",3,"icon"],[1,"text-danger"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0),o._UZ(1,"div",1),o.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),o._UZ(7,"img",7),o.qZA()(),o.TgZ(8,"div",8)(9,"div",1)(10,"h1",9),o._uU(11,"FitHub Login"),o.qZA()()(),o.TgZ(12,"div",10)(13,"div",11)(14,"form",12),o.NdJ("ngSubmit",function(){return i.login()}),o.TgZ(15,"div",5)(16,"div",1),o._UZ(17,"input",13),o.YNc(18,$fe,2,0,"small",14),o.qZA()(),o.TgZ(19,"div",15)(20,"div",1),o._UZ(21,"input",16),o.YNc(22,Zfe,2,0,"small",14),o.qZA()(),o.TgZ(23,"div",15),o._UZ(24,"input",17),o.qZA()(),o.TgZ(25,"div",15)(26,"button",18),o.NdJ("click",function(){return i.googleSignIn()}),o.TgZ(27,"div",19),o._UZ(28,"fa-icon",20),o.TgZ(29,"span"),o._uU(30,"Sign in with Google"),o.qZA()()()()()()()()(),o._UZ(31,"div",1),o.qZA()),2&t&&(o.xp6(14),o.Q6J("formGroup",i.loginForm),o.xp6(3),o.ekj("is-invalid",i.username.invalid&&i.username.touched),o.xp6(1),o.Q6J("ngIf",i.username.invalid&&i.username.touched),o.xp6(3),o.ekj("is-invalid",i.password.invalid&&i.password.touched),o.xp6(1),o.Q6J("ngIf",i.password.invalid&&i.password.touched),o.xp6(6),o.Q6J("icon",i.faGoogle))},dependencies:[Zn,W4,sc,oc,j4,J0,G5,K4],styles:[".btn-outline-primary[_ngcontent-%COMP%]{color:#d0463b;background-color:transparent;background-image:none;border-color:#d0463b}.btn-outline-primary[_ngcontent-%COMP%]:hover{color:#222;background-color:#ff6d48;border-color:#ff6d48}.btn-outline-primary[_ngcontent-%COMP%]:focus, .btn-outline-primary.focus[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem #77cccc80}.btn-outline-primary.disabled[_ngcontent-%COMP%], .btn-outline-primary[_ngcontent-%COMP%]:disabled{color:#7cc;background-color:transparent}.btn-outline-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .btn-outline-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .show[_ngcontent-%COMP%] > .btn-outline-primary.dropdown-toggle[_ngcontent-%COMP%]{color:#212529;background-color:#8ad3d3;border-color:#7cc}.btn-outline-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active:focus, .btn-outline-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active:focus, .show[_ngcontent-%COMP%] > .btn-outline-primary.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #77cccc80}"]}),n}();function Qfe(n,e){1&n&&(o.TgZ(0,"small",25),o._uU(1,"E-Mail is required"),o.qZA())}function Jfe(n,e){1&n&&(o.TgZ(0,"small",25),o._uU(1,"Password is required"),o.qZA())}function Xfe(n,e){1&n&&(o.TgZ(0,"small",25),o._uU(1,"Password is required"),o.qZA())}function ehe(n,e){if(1&n){var t=o.EpF();o.TgZ(0,"div")(1,"div",9)(2,"div",1)(3,"h1",10),o._uU(4,"FitHub Sign Up"),o.qZA(),o.TgZ(5,"h1",11),o._uU(6,"Ready to start your fitness journey?"),o.qZA()()(),o.TgZ(7,"div",9)(8,"h6"),o._uU(9,"Let's start with your account details"),o.qZA()(),o.TgZ(10,"div",12)(11,"div",13)(12,"form",14),o.NdJ("ngSubmit",function(){o.CHM(t);var s=o.oxw();return o.KtG(s.submitAccount())}),o.TgZ(13,"div",5)(14,"div",1)(15,"label",15),o._uU(16,"Email "),o.qZA(),o._UZ(17,"input",16),o.YNc(18,Qfe,2,0,"small",17),o.qZA()(),o.TgZ(19,"div",9)(20,"div",1)(21,"label",15),o._uU(22,"Password "),o.qZA(),o._UZ(23,"input",18),o.YNc(24,Jfe,2,0,"small",17),o.qZA()(),o.TgZ(25,"div",9)(26,"div",1)(27,"label",15),o._uU(28,"Confirm Password "),o.qZA(),o._UZ(29,"input",19),o.YNc(30,Xfe,2,0,"small",17),o.qZA()(),o.TgZ(31,"div",20),o._UZ(32,"input",21),o.qZA()()()(),o.TgZ(33,"div",20)(34,"button",22),o.NdJ("click",function(){o.CHM(t);var s=o.oxw();return o.KtG(s.googleSignUp())}),o.TgZ(35,"div",23),o._UZ(36,"fa-icon",24),o.TgZ(37,"span"),o._uU(38,"Continue with Google"),o.qZA()()()()()}if(2&n){var i=o.oxw();o.Q6J("@slideOutAnimation",void 0),o.xp6(12),o.Q6J("formGroup",i.signupForm),o.xp6(5),o.ekj("is-invalid",i.username.invalid&&i.username.touched),o.xp6(1),o.Q6J("ngIf",i.username.invalid&&i.username.touched),o.xp6(5),o.ekj("is-invalid",i.password.invalid&&i.password.touched),o.xp6(1),o.Q6J("ngIf",i.password.invalid&&i.password.touched),o.xp6(5),o.ekj("is-invalid",i.password.invalid&&i.password.touched),o.xp6(1),o.Q6J("ngIf",i.password.invalid&&i.password.touched),o.xp6(6),o.Q6J("icon",i.faGoogle)}}var the=function(){function n(e,t,i,r,s,a){this.router=e,this.title=t,this.fb=i,this.authService=r,this.toastr=s,this.currentUser=a,this.faGoogle=_A,this.transitionDone=!1,this.usernameAvailable=!0,this.page=1,this.signupForm=this.fb.group({username:["",Ra.required],password:["",Ra.required],confirm_password:["",Ra.required],profileHandle:[""]}),this.profileForm=this.fb.group({profileHandle:["",Ra.required],profileName:["",Ra.required],age:[""],heightFeet:[""],heightInches:[""],weight:[""],sex:[""]})}return n.prototype.ngOnInit=function(){this.title.setTitle("Sign Up | FitHub"),console.log(this.currentUser.user)},n.prototype.goToProfilePage=function(){this.router.navigate(["/create-profile"])},n.prototype.checkDisplayName=function(){var e=this;this.currentUser.isUsernameAvailable(this.profileHandle.value).then(function(t){e.usernameAvailable=!!t}).catch(function(t){e.usernameAvailable=!1})},n.prototype.submitAccount=function(){var e=this;this.signupForm.markAllAsTouched(),this.signupForm.valid?this.password.value==this.confirm_password.value?this.authService.SignUp(this.username.value,this.password.value).then(function(t){t&&(e.goToProfilePage(),e.toastr.success("Account created."))}):this.toastr.error("Passwords do not match"):this.toastr.error("Missing required fields")},n.prototype.googleSignUp=function(){var e=this;this.authService.GoogleAuthSignUp().then(function(t){t&&(e.goToProfilePage(),e.toastr.success("Account created."))})},n.prototype.submitProfile=function(){var e=this;this.currentUser.newProfile(this.profileForm.getRawValue()).then(function(t){e.router.navigate(["/dashboard"])}).catch(function(t){e.toastr.error(t.message)})},Object.defineProperty(n.prototype,"username",{get:function(){return this.signupForm.get("username")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"password",{get:function(){return this.signupForm.get("password")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"confirm_password",{get:function(){return this.signupForm.get("confirm_password")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"profileHandle",{get:function(){return this.profileForm.get("profileHandle")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"profileName",{get:function(){return this.profileForm.get("profileName")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"age",{get:function(){return this.profileForm.get("age")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.profileForm.get("height")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"weight",{get:function(){return this.profileForm.get("weight")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"sex",{get:function(){return this.profileForm.get("sex")},enumerable:!1,configurable:!0}),n.\u0275fac=function(t){return new(t||n)(o.Y36(c1),o.Y36(un),o.Y36(Ws),o.Y36(Dr),o.Y36(Si),o.Y36(W2))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-sign-up"]],decls:10,vars:1,consts:[[1,"row","main-bg","min-vh-100"],[1,"col"],[1,"col-12","col-md-8","col-xl-6","col-xxl-5","text-center"],[1,"card","card-transition","card-home"],[1,"card-body"],[1,"row"],[1,"col-4","offset-4"],["src","../../../assets/Logo1/png/logo-no-background.png",1,"img-fluid"],[4,"ngIf"],[1,"row","mt-3"],[1,"display-3"],[1,"display-6"],[1,"row","mt-4","justify-content-center","text-start"],[1,"col","col-md-10"],[3,"formGroup","ngSubmit"],[1,"required"],["type","text","placeholder","E-Mail","formControlName","username",1,"form-control"],["class","text-danger",4,"ngIf"],["type","password","placeholder","Password","formControlName","password",1,"form-control"],["type","password","placeholder","Password","formControlName","confirm_password",1,"form-control"],[1,"row","mt-4"],["type","submit","value","Create Account",1,"btn","btn-success","col-sm-10","offset-sm-1"],["type","button",1,"btn","btn-outline-primary","col-sm-6","offset-sm-3",3,"click"],[1,"d-flex","justify-content-evenly"],[2,"font-size","1rem",3,"icon"],[1,"text-danger"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0),o._UZ(1,"div",1),o.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),o._UZ(7,"img",7),o.qZA()(),o.YNc(8,ehe,39,12,"div",8),o.qZA()()(),o._UZ(9,"div",1),o.qZA()),2&t&&(o.xp6(8),o.Q6J("ngIf",1==i.page))},dependencies:[Zn,W4,sc,oc,j4,J0,G5,K4],styles:[".btn-outline-primary[_ngcontent-%COMP%]{color:#d0463b;background-color:transparent;background-image:none;border-color:#d0463b}.btn-outline-primary[_ngcontent-%COMP%]:hover{color:#222;background-color:#ff6d48;border-color:#ff6d48}.btn-outline-primary[_ngcontent-%COMP%]:focus, .btn-outline-primary.focus[_ngcontent-%COMP%]{box-shadow:0 0 0 .2rem #77cccc80}.btn-outline-primary.disabled[_ngcontent-%COMP%], .btn-outline-primary[_ngcontent-%COMP%]:disabled{color:#7cc;background-color:transparent}.btn-outline-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .btn-outline-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .show[_ngcontent-%COMP%] > .btn-outline-primary.dropdown-toggle[_ngcontent-%COMP%]{color:#212529;background-color:#8ad3d3;border-color:#7cc}.btn-outline-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active:focus, .btn-outline-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active:focus, .show[_ngcontent-%COMP%] > .btn-outline-primary.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #77cccc80}"],data:{animation:[Oa("slideOutAnimation",[Y2(":enter",[on({height:0,opacity:0}),r2("0.4s ease-out",on({}))]),Y2(":leave",[on({}),r2("0.3s ease-in",on({height:0,opacity:0}))])])]}}),n}(),zU={prefix:"fas",iconName:"lightbulb",icon:[384,512,[128161],"f0eb","M272 384c9.6-31.9 29.5-59.1 49.2-86.2l0 0c5.2-7.1 10.4-14.2 15.4-21.4c19.8-28.5 31.4-63 31.4-100.3C368 78.8 289.2 0 192 0S16 78.8 16 176c0 37.3 11.6 71.9 31.4 100.3c5 7.2 10.2 14.3 15.4 21.4l0 0c19.8 27.1 39.7 54.4 49.2 86.2H272zM192 512c44.2 0 80-35.8 80-80V416H112v16c0 44.2 35.8 80 80 80zM112 176c0 8.8-7.2 16-16 16s-16-7.2-16-16c0-61.9 50.1-112 112-112c8.8 0 16 7.2 16 16s-7.2 16-16 16c-44.2 0-80 35.8-80 80z"]},qM={prefix:"fas",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160V416c0 53 43 96 96 96H352c53 0 96-43 96-96V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H96z"]},dj={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"]},_j={prefix:"fas",iconName:"star",icon:[576,512,[11088,61446],"f005","M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"]},oY={prefix:"fas",iconName:"heart",icon:[512,512,[128153,128154,128155,128156,128420,129293,129294,129505,9829,10084,61578],"f004","M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"]},gH={prefix:"fas",iconName:"circle-info",icon:[512,512,["info-circle"],"f05a","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]},yH={prefix:"fas",iconName:"dumbbell",icon:[640,512,[],"f44b","M96 64c0-17.7 14.3-32 32-32h32c17.7 0 32 14.3 32 32V224v64V448c0 17.7-14.3 32-32 32H128c-17.7 0-32-14.3-32-32V384H64c-17.7 0-32-14.3-32-32V288c-17.7 0-32-14.3-32-32s14.3-32 32-32V160c0-17.7 14.3-32 32-32H96V64zm448 0v64h32c17.7 0 32 14.3 32 32v64c17.7 0 32 14.3 32 32s-14.3 32-32 32v64c0 17.7-14.3 32-32 32H544v64c0 17.7-14.3 32-32 32H480c-17.7 0-32-14.3-32-32V288 224 64c0-17.7 14.3-32 32-32h32c17.7 0 32 14.3 32 32zM416 224v64H224V224H416z"]},xq={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"]},hg={prefix:"fas",iconName:"house",icon:[576,512,[127968,63498,63500,"home","home-alt","home-lg-alt"],"f015","M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1V472c0 22.1-17.9 40-40 40H456c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1H416 392c-22.1 0-40-17.9-40-40V448 384c0-17.7-14.3-32-32-32H256c-17.7 0-32 14.3-32 32v64 24c0 22.1-17.9 40-40 40H160 128.1c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2H104c-22.1 0-40-17.9-40-40V360c0-.9 0-1.9 .1-2.8V287.6H32c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"]},yG={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]},s$={prefix:"fas",iconName:"award",icon:[384,512,[],"f559","M173.8 5.5c11-7.3 25.4-7.3 36.4 0L228 17.2c6 3.9 13 5.8 20.1 5.4l21.3-1.3c13.2-.8 25.6 6.4 31.5 18.2l9.6 19.1c3.2 6.4 8.4 11.5 14.7 14.7L344.5 83c11.8 5.9 19 18.3 18.2 31.5l-1.3 21.3c-.4 7.1 1.5 14.2 5.4 20.1l11.8 17.8c7.3 11 7.3 25.4 0 36.4L366.8 228c-3.9 6-5.8 13-5.4 20.1l1.3 21.3c.8 13.2-6.4 25.6-18.2 31.5l-19.1 9.6c-6.4 3.2-11.5 8.4-14.7 14.7L301 344.5c-5.9 11.8-18.3 19-31.5 18.2l-21.3-1.3c-7.1-.4-14.2 1.5-20.1 5.4l-17.8 11.8c-11 7.3-25.4 7.3-36.4 0L156 366.8c-6-3.9-13-5.8-20.1-5.4l-21.3 1.3c-13.2 .8-25.6-6.4-31.5-18.2l-9.6-19.1c-3.2-6.4-8.4-11.5-14.7-14.7L39.5 301c-11.8-5.9-19-18.3-18.2-31.5l1.3-21.3c.4-7.1-1.5-14.2-5.4-20.1L5.5 210.2c-7.3-11-7.3-25.4 0-36.4L17.2 156c3.9-6 5.8-13 5.4-20.1l-1.3-21.3c-.8-13.2 6.4-25.6 18.2-31.5l19.1-9.6C65 70.2 70.2 65 73.4 58.6L83 39.5c5.9-11.8 18.3-19 31.5-18.2l21.3 1.3c7.1 .4 14.2-1.5 20.1-5.4L173.8 5.5zM272 192a80 80 0 1 0 -160 0 80 80 0 1 0 160 0zM1.3 441.8L44.4 339.3c.2 .1 .3 .2 .4 .4l9.6 19.1c11.7 23.2 36 37.3 62 35.8l21.3-1.3c.2 0 .5 0 .7 .2l17.8 11.8c5.1 3.3 10.5 5.9 16.1 7.7l-37.6 89.3c-2.3 5.5-7.4 9.2-13.3 9.7s-11.6-2.2-14.8-7.2L74.4 455.5l-56.1 8.3c-5.7 .8-11.4-1.5-15-6s-4.3-10.7-2.1-16zm248 60.4L211.7 413c5.6-1.8 11-4.3 16.1-7.7l17.8-11.8c.2-.1 .4-.2 .7-.2l21.3 1.3c26 1.5 50.3-12.6 62-35.8l9.6-19.1c.1-.2 .2-.3 .4-.4l43.2 102.5c2.2 5.3 1.4 11.4-2.1 16s-9.3 6.9-15 6l-56.1-8.3-32.2 49.2c-3.2 5-8.9 7.7-14.8 7.2s-11-4.3-13.3-9.7z"]},ow={prefix:"fas",iconName:"circle-plus",icon:[512,512,["plus-circle"],"f055","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM232 344V280H168c-13.3 0-24-10.7-24-24s10.7-24 24-24h64V168c0-13.3 10.7-24 24-24s24 10.7 24 24v64h64c13.3 0 24 10.7 24 24s-10.7 24-24 24H280v64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"]},z$={prefix:"fas",iconName:"rss",icon:[448,512,["feed"],"f09e","M0 64C0 46.3 14.3 32 32 32c229.8 0 416 186.2 416 416c0 17.7-14.3 32-32 32s-32-14.3-32-32C384 253.6 226.4 96 32 96C14.3 96 0 81.7 0 64zM0 416a64 64 0 1 1 128 0A64 64 0 1 1 0 416zM32 160c159.1 0 288 128.9 288 288c0 17.7-14.3 32-32 32s-32-14.3-32-32c0-123.7-100.3-224-224-224c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},jH={prefix:"fas",iconName:"x",icon:[384,512,[120],"58","M376.6 84.5c11.3-13.6 9.5-33.8-4.1-45.1s-33.8-9.5-45.1 4.1L192 206 56.6 43.5C45.3 29.9 25.1 28.1 11.5 39.4S-3.9 70.9 7.4 84.5L150.3 256 7.4 427.5c-11.3 13.6-9.5 33.8 4.1 45.1s33.8 9.5 45.1-4.1L192 306 327.4 468.5c11.3 13.6 31.5 15.4 45.1 4.1s15.4-31.5 4.1-45.1L233.7 256 376.6 84.5z"]},fZ=function(){function n(e,t){var i=this;this.afs=e,this.currentUserService=t,this.availableGoalsDoc=this.afs.collection("availableGoals").doc("RurqXsPUJfxUBXZ5nDkp"),this.progress$=new t2(0),this.currentUserService.account.subscribe(function(s){s&&(i.goalsDoc=i.afs.collection("userGoals").doc(s.uid))}),this.getGoals().subscribe(function(s){var a=s.filter(function(d){return d.completed}).length;i.progress$.next(a/s.length*100)})}return n.prototype.getGoals=function(){return this.goalsDoc.valueChanges().pipe((0,kt.U)(function(e){return e&&e.Goals?e.Goals.map(function(i,r){return{description:i,completed:!(!e.completed||!e.completed[r])}}):[]}))},n.prototype.completeGoal=function(e,t){return(0,en.mG)(this,void 0,void 0,function(){var i,r=this;return(0,en.Jh)(this,function(s){return i=this.getGoals().pipe(ls()).subscribe(function(a){return(0,en.mG)(r,void 0,void 0,function(){var c,d;return(0,en.Jh)(this,function(g){switch(g.label){case 0:return a[e].completed=t,c=a.map(function(y){return y.completed}),[4,this.goalsDoc.update({completed:c})];case 1:return g.sent(),d=a.filter(function(y){return y.completed}).length,this.progress$.next(d/a.length*100),i.unsubscribe(),[2]}})})}),[2]})})},n.prototype.getProgress=function(){return this.progress$.asObservable()},n.prototype.getAvailableGoals=function(){return this.availableGoalsDoc.valueChanges().pipe((0,kt.U)(function(e){return e.goals.map(function(t){return{description:t,completed:!1,selected:!1}})}))},n.prototype.saveGoals=function(e){return(0,en.mG)(this,void 0,void 0,function(){var t,i;return(0,en.Jh)(this,function(s){switch(s.label){case 0:return t=e.map(function(a){return a.completed}),[4,this.goalsDoc.update({Goals:e.map(function(a){return a.description}),completed:t})];case 1:return s.sent(),i=e.filter(function(a){return a.completed}).length,this.progress$.next(i/e.length*100),[2]}})})},n.\u0275fac=function(t){return new(t||n)(o.LFG(Us),o.LFG(W2))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n}();function hZ(n,e=n0.z){return(0,Q2.e)((t,i)=>{let r=null,s=null,a=null;const c=()=>{if(r){r.unsubscribe(),r=null;const h=s;s=null,i.next(h)}};function d(){const h=a+n,g=e.now();if(g<h)return r=this.schedule(void 0,h-g),void i.add(r);c()}t.subscribe((0,p2.x)(i,h=>{s=h,a=e.now(),r||(r=e.schedule(d,n),i.add(r))},()=>{c(),i.complete()},void 0,()=>{s=r=null}))})}class lw{}class WH{}class Q4{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),a=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(a):this.headers.set(s,[a])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Q4?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Q4;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Q4?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let a=this.headers.get(t);if(!a)return;a=a.filter(c=>-1===s.indexOf(c)),0===a.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,a)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class pOe{encodeKey(e){return pZ(e)}encodeValue(e){return pZ(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const gOe=/%(\d[a-f0-9])/gi,_Oe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function pZ(n){return encodeURIComponent(n).replace(gOe,(e,t)=>_Oe[t]??e)}function uw(n){return`${n}`}class il{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new pOe,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function mOe(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[a,c]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],d=t.get(a)||[];d.push(c),t.set(a,d)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(uw):[uw(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new il({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(uw(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(uw(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class vOe{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function mZ(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function gZ(n){return typeof Blob<"u"&&n instanceof Blob}function _Z(n){return typeof FormData<"u"&&n instanceof FormData}class vg{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function yOe(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Q4),this.context||(this.context=new vOe),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=t;else{const c=t.indexOf("?");this.urlWithParams=t+(-1===c?"?":c<t.length-1?"&":"")+a}}else this.params=new il,this.urlWithParams=t}serializeBody(){return null===this.body?null:mZ(this.body)||gZ(this.body)||_Z(this.body)||function COe(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof il?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||_Z(this.body)?null:gZ(this.body)?this.body.type||null:mZ(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof il?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,c=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let d=e.headers||this.headers,h=e.params||this.params;const g=e.context??this.context;return void 0!==e.setHeaders&&(d=Object.keys(e.setHeaders).reduce((y,M)=>y.set(M,e.setHeaders[M]),d)),e.setParams&&(h=Object.keys(e.setParams).reduce((y,M)=>y.set(M,e.setParams[M]),h)),new vg(t,i,s,{params:h,headers:d,context:g,reportProgress:c,responseType:r,withCredentials:a})}}var Ti=(()=>((Ti=Ti||{})[Ti.Sent=0]="Sent",Ti[Ti.UploadProgress=1]="UploadProgress",Ti[Ti.ResponseHeader=2]="ResponseHeader",Ti[Ti.DownloadProgress=3]="DownloadProgress",Ti[Ti.Response=4]="Response",Ti[Ti.User=5]="User",Ti))();class YH{constructor(e,t=200,i="OK"){this.headers=e.headers||new Q4,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class qH extends YH{constructor(e={}){super(e),this.type=Ti.ResponseHeader}clone(e={}){return new qH({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class dw extends YH{constructor(e={}){super(e),this.type=Ti.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new dw({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class vZ extends YH{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function GH(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let yZ=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof vg)s=t;else{let d,h;d=r.headers instanceof Q4?r.headers:new Q4(r.headers),r.params&&(h=r.params instanceof il?r.params:new il({fromObject:r.params})),s=new vg(t,i,void 0!==r.body?r.body:null,{headers:d,context:r.context,params:h,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const a=It(s).pipe(_a(d=>this.handler.handle(d)));if(t instanceof vg||"events"===r.observe)return a;const c=a.pipe(o1(d=>d instanceof dw));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe((0,kt.U)(d=>{if(null!==d.body&&!(d.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return d.body}));case"blob":return c.pipe((0,kt.U)(d=>{if(null!==d.body&&!(d.body instanceof Blob))throw new Error("Response is not a Blob.");return d.body}));case"text":return c.pipe((0,kt.U)(d=>{if(null!==d.body&&"string"!=typeof d.body)throw new Error("Response is not a string.");return d.body}));default:return c.pipe((0,kt.U)(d=>d.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new il).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,GH(r,i))}post(t,i,r={}){return this.request("POST",t,GH(r,i))}put(t,i,r={}){return this.request("PUT",t,GH(r,i))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(lw))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function CZ(n,e){return e(n)}function bOe(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}const wOe=new o.OlP("HTTP_INTERCEPTORS"),yg=new o.OlP("HTTP_INTERCEPTOR_FNS");function xOe(){let n=null;return(e,t)=>(null===n&&(n=((0,o.f3M)(wOe,{optional:!0})??[]).reduceRight(bOe,CZ)),n(e,t))}let bZ=(()=>{class n extends lw{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=Array.from(new Set(this.injector.get(yg)));this.chain=i.reduceRight((r,s)=>function MOe(n,e,t){return(i,r)=>t.runInContext(()=>e(i,s=>n(s,r)))}(r,s,this.injector),CZ)}return this.chain(t,i=>this.backend.handle(i))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(WH),o.LFG(o.lqb))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const kOe=/^\)\]\}',?\n/;let wZ=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ci.y(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((S,k)=>r.setRequestHeader(S,k.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const S=t.detectContentTypeHeader();null!==S&&r.setRequestHeader("Content-Type",S)}if(t.responseType){const S=t.responseType.toLowerCase();r.responseType="json"!==S?S:"text"}const s=t.serializeBody();let a=null;const c=()=>{if(null!==a)return a;const S=r.statusText||"OK",k=new Q4(r.getAllResponseHeaders()),A=function zOe(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return a=new qH({headers:k,status:r.status,statusText:S,url:A}),a},d=()=>{let{headers:S,status:k,statusText:A,url:L}=c(),B=null;204!==k&&(B=typeof r.response>"u"?r.responseText:r.response),0===k&&(k=B?200:0);let G=k>=200&&k<300;if("json"===t.responseType&&"string"==typeof B){const X=B;B=B.replace(kOe,"");try{B=""!==B?JSON.parse(B):null}catch(te){B=X,G&&(G=!1,B={error:te,text:B})}}G?(i.next(new dw({body:B,headers:S,status:k,statusText:A,url:L||void 0})),i.complete()):i.error(new vZ({error:B,headers:S,status:k,statusText:A,url:L||void 0}))},h=S=>{const{url:k}=c(),A=new vZ({error:S,status:r.status||0,statusText:r.statusText||"Unknown Error",url:k||void 0});i.error(A)};let g=!1;const y=S=>{g||(i.next(c()),g=!0);let k={type:Ti.DownloadProgress,loaded:S.loaded};S.lengthComputable&&(k.total=S.total),"text"===t.responseType&&r.responseText&&(k.partialText=r.responseText),i.next(k)},M=S=>{let k={type:Ti.UploadProgress,loaded:S.loaded};S.lengthComputable&&(k.total=S.total),i.next(k)};return r.addEventListener("load",d),r.addEventListener("error",h),r.addEventListener("timeout",h),r.addEventListener("abort",h),t.reportProgress&&(r.addEventListener("progress",y),null!==s&&r.upload&&r.upload.addEventListener("progress",M)),r.send(s),i.next({type:Ti.Sent}),()=>{r.removeEventListener("error",h),r.removeEventListener("abort",h),r.removeEventListener("load",d),r.removeEventListener("timeout",h),t.reportProgress&&(r.removeEventListener("progress",y),null!==s&&r.upload&&r.upload.removeEventListener("progress",M)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Ls))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const $H=new o.OlP("XSRF_ENABLED"),xZ=new o.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),SZ=new o.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class TZ{}let LOe=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=at(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(ae),o.LFG(o.Lbi),o.LFG(xZ))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function EOe(n,e){const t=n.url.toLowerCase();if(!(0,o.f3M)($H)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=(0,o.f3M)(TZ).getToken(),r=(0,o.f3M)(SZ);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var fi=(()=>((fi=fi||{})[fi.Interceptors=0]="Interceptors",fi[fi.LegacyInterceptors=1]="LegacyInterceptors",fi[fi.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",fi[fi.NoXsrfProtection=3]="NoXsrfProtection",fi[fi.JsonpSupport=4]="JsonpSupport",fi[fi.RequestsMadeViaParent=5]="RequestsMadeViaParent",fi))();function Pf(n,e){return{\u0275kind:n,\u0275providers:e}}function VOe(...n){const e=[yZ,wZ,bZ,{provide:lw,useExisting:bZ},{provide:WH,useExisting:wZ},{provide:yg,useValue:EOe,multi:!0},{provide:$H,useValue:!0},{provide:TZ,useClass:LOe}];for(const t of n)e.push(...t.\u0275providers);return(0,o.MR2)(e)}const DZ=new o.OlP("LEGACY_INTERCEPTOR_FN");let NOe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[VOe(Pf(fi.LegacyInterceptors,[{provide:DZ,useFactory:xOe},{provide:yg,useExisting:DZ,multi:!0}]))]}),n})();var qs=function(){function n(e,t,i){this.http=e,this.currentUser=t,this.afs=i}return n.prototype.getEquipmentGroups=function(){return this.afs.collection("profiles").doc(this.currentUser.user.profile.profileHandle).valueChanges()},n.prototype.addEquipmentGroup=function(e){return this.afs.collection("profiles").doc(this.currentUser.user.profile.profileHandle).update({equipmentGroups:Z1.Z.firestore.FieldValue.arrayUnion({name:e.name,equipment:e.equipment})})},n.prototype.updateEquipmentGroup=function(e){return this.afs.collection("profiles").doc(this.currentUser.user.profile.profileHandle).collection("equipmentGroups").doc(e.uid).update({name:e.name,equipment:e.equipment})},n.prototype.deleteEquipmentGroup=function(e){return this.afs.collection("profiles").doc(this.currentUser.user.profile.profileHandle).update({equipmentGroups:Z1.Z.firestore.FieldValue.arrayRemove({name:e.name,equipment:e.equipment})})},n.prototype.getExercises=function(e,t){return t&&"*"!=t[0]?(t.push("body only"),this.afs.collection("exercises",function(i){return i.where("primaryMuscles","array-contains",e).where("equipment","in",t)})):this.afs.collection("exercises",function(i){return i.where("primaryMuscles","array-contains",e)})},n.prototype.getWorkouts=function(e){return void 0===e&&(e=this.currentUser.user.profile.profileHandle),this.afs.collection("profiles").doc(e).collection("workouts").valueChanges({idField:"uid"})},n.prototype.newWorkout=function(e){return this.afs.collection("profiles").doc(this.currentUser.user.profile.profileHandle).collection("workouts").add({name:e.name,description:e.description,equipment:e.equipment.split(","),groups:e.groups})},n.prototype.updateWorkout=function(e){var t=e.workout.equipment;return"string"==typeof t&&(e.workout.equipment=t.split(",")),this.afs.collection("profiles").doc(this.currentUser.user.profile.profileHandle).collection("workouts").doc(e.uid).update({name:e.workout.name,description:e.workout.description,equipment:t,groups:e.workout.groups})},n.prototype.updateFavorite=function(e,t){return this.afs.collection("profiles").doc(this.currentUser.user.profile.profileHandle).collection("workouts").doc(e).update({favorite:t})},n.prototype.deleteWorkout=function(e){return this.afs.collection("profiles").doc(this.currentUser.user.profile.profileHandle).collection("workouts").doc(e).delete()},n.prototype.getWorkout=function(e,t){return void 0===t&&(t=this.currentUser.user.profile.profileHandle),this.afs.collection("profiles").doc(t).collection("workouts").doc(e).valueChanges().pipe(hZ(250))},n.prototype.completeWorkout=function(e){var t=this;return this.afs.collection("profiles").doc(this.currentUser.user.profile.profileHandle).update({completedWorkouts:Z1.Z.firestore.FieldValue.arrayUnion({workoutUid:e.uid,workoutName:e.name,workoutCreator:e.createdBy,percentCompleted:e.percentComplete,timeToComplete:e.elapsedTime,dateCompleted:e.date})}).then(function(){t.getCompletedWorkouts().subscribe(function(i){1===i.length&&t.addAchievement("Completed your first workout")})})},n.prototype.addAchievement=function(e){return this.afs.collection("profiles").doc(this.currentUser.user.profile.profileHandle).update({achievements:Z1.Z.firestore.FieldValue.arrayUnion({description:e})})},n.prototype.getCompletedWorkouts=function(e){return void 0===e&&(e=this.currentUser.user.profile.profileHandle),this.afs.collection("profiles").doc(e).valueChanges({idField:"uid"}).pipe((0,kt.U)(function(t){return t.completedWorkouts}))},n.prototype.getFavoriteWorkouts=function(e){return void 0===e&&(e=this.currentUser.user.profile.profileHandle),this.afs.collection("profiles").doc(e).collection("workouts",function(t){return t.where("favorite","==",!0)}).valueChanges({idField:"uid"})},n.prototype.getWorkoutByUid=function(e){return this.afs.collection("profiles").doc(this.currentUser.user.profile.profileHandle).collection("workouts").doc(e).valueChanges()},n.prototype.addCuratedWorkout=function(e){return this.afs.collection("curatedWorkouts").add({name:e.name,description:e.description,equipment:e.equipment,groups:e.groups})},n.prototype.getCuratedWorkoutById=function(e){return this.afs.collection("curatedWorkouts").doc(e).ref.get()},n.\u0275fac=function(t){return new(t||n)(o.LFG(yZ),o.LFG(W2),o.LFG(Us))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n}(),POe=N(3532);function kZ(n=0,e,t=n0.P){let i=-1;return null!=e&&((0,POe.K)(e)?t=e:i=e),new Ci.y(r=>{let s=function ROe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let a=0;return t.schedule(function(){r.closed||(r.next(a++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function FOe(n,e){if(1&n){var t=o.EpF();o.TgZ(0,"div",3)(1,"a",4),o.NdJ("click",function(){var a=o.CHM(t).$implicit,c=o.oxw();return o.KtG(c.onFavoriteClicked(a.uid))}),o._uU(2),o.qZA(),o._UZ(3,"i",5),o.qZA()}if(2&n){var i=e.$implicit;o.xp6(2),o.Oqu(i.name)}}var BOe=function(){function n(e,t,i,r,s,a,c){this.router=e,this.title=t,this.fb=i,this.authService=r,this.toastr=s,this.currentUserService=a,this.workoutsService=c}return n.prototype.ngOnInit=function(){var e=this;this.title.setTitle("Favorite Workouts");var t=this.workoutsService.getFavoriteWorkouts().subscribe(function(i){t.unsubscribe(),e.favoriteWorkouts=i.map(function(r){return{uid:r.uid,name:r.name}})})},n.prototype.onFavoriteClicked=function(e){this.router.navigate(["/workout",e])},n.prototype.goToWorkout=function(e){var t=this,i=this.workoutsService.getWorkoutByUid(e.uid).subscribe(function(r){t.router.navigate(["/workout/".concat(e.uid)],{state:{data:r}}),i.unsubscribe()})},n.\u0275fac=function(t){return new(t||n)(o.Y36(c1),o.Y36(un),o.Y36(Ws),o.Y36(Dr),o.Y36(Si),o.Y36(W2),o.Y36(qs))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-favorite-workouts"]],decls:4,vars:1,consts:[[1,"bg-light","p-3","rounded","mb-3","mb-3","pb-2"],[1,"custom-text","mb-3","pb-2","border-bottom","border-dark"],["class","bg-white p-3 mb-2 rounded shadow-sm d-flex",4,"ngFor","ngForOf"],[1,"bg-white","p-3","mb-2","rounded","shadow-sm","d-flex"],[1,"fav-workout","text-decoration-none","text-dark","align-items-center","text-center",3,"click"],[1,"fas","fa-heart","text-danger"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0)(1,"h6",1),o._uU(2,"Favorite Workouts"),o.qZA(),o.YNc(3,FOe,4,1,"div",2),o.qZA()),2&t&&(o.xp6(3),o.Q6J("ngForOf",i.favoriteWorkouts))},dependencies:[S1],styles:[".custom-text[_ngcontent-%COMP%]{color:#0b8200;font-weight:700}@media (max-width: 1500px){.custom-text[_ngcontent-%COMP%]{font-size:1rem}}"]}),n}(),UOe=["goalsModal"];function jOe(n,e){1&n&&(o.TgZ(0,"p"),o._uU(1,"No goals selected"),o.qZA())}function WOe(n,e){if(1&n){var t=o.EpF();o.TgZ(0,"li",34)(1,"div",35)(2,"input",36),o.NdJ("ngModelChange",function(a){var c=o.CHM(t);return o.KtG(c.$implicit.completed=a)})("ngModelChange",function(){var a=o.CHM(t),c=a.index,d=a.$implicit,h=o.oxw();return h.completeGoal(c,d.completed),o.KtG(h.updateProgress())}),o.qZA(),o.TgZ(3,"label",37),o._uU(4),o.qZA()()()}if(2&n){var i=e.$implicit,r=e.index;o.xp6(2),o.Q6J("id","selectedGoal"+r)("ngModel",i.completed),o.xp6(1),o.Q6J("for","selectedGoal"+r),o.xp6(1),o.hij(" ",i.description," ")}}function YOe(n,e){if(1&n){var t=o.EpF();o.TgZ(0,"li",34)(1,"div",35)(2,"input",38),o.NdJ("ngModelChange",function(c){var d=o.CHM(t);return o.KtG(d.$implicit.selected=c)})("change",function(){var d=o.CHM(t).index,h=o.oxw();return o.KtG(h.toggleGoalSelection(d))}),o.qZA(),o.TgZ(3,"label",37),o._uU(4),o.qZA()()()}if(2&n){var i=e.$implicit,r=e.index,s=o.oxw();o.xp6(2),o.Q6J("id","availableGoal"+r)("ngModel",i.selected)("disabled",!0!==i.selected&&5===s.numberOfSelectedGoals()),o.xp6(1),o.Q6J("for","availableGoal"+r),o.xp6(1),o.hij(" ",i.description," ")}}function qOe(n,e){1&n&&(o.TgZ(0,"p"),o._uU(1,"No goals selected"),o.qZA())}function GOe(n,e){if(1&n&&(o.TgZ(0,"li",34)(1,"label"),o._uU(2),o.qZA()()),2&n){var t=e.$implicit;o.xp6(2),o.Oqu(t.description)}}function $Oe(n,e){1&n&&(o.TgZ(0,"p"),o._uU(1,"You don't have any completed goals"),o.qZA())}function ZOe(n,e){if(1&n&&(o.TgZ(0,"li",34)(1,"del"),o._uU(2),o.qZA()()),2&n){var t=e.$implicit;o.xp6(2),o.Oqu(t.description)}}var KOe=function(){function n(e,t,i,r,s,a,c,d,h){this.router=e,this.title=t,this.fb=i,this.authService=r,this.toastr=s,this.currentUserService=a,this.goalsService=c,this.workoutsService=d,this.firestore=h,this.progressSummary="Track your progress and reach your fitness goals!",this.circumference=2*Math.PI*120,this.availableGoals=[],this.selectedGoals=[],this.completedGoals=[]}return n.prototype.ngOnInit=function(){var e=this;console.log(this.currentUserService.user),this.title.setTitle("Dashboard | FitHub"),""==this.currentUserService.user.profile.profileHandle&&this.router.navigate(["/create-profile"]),this.selectedGoals=this.currentUserService.user.profile.goals;var t=this.goalsService.getAvailableGoals().subscribe(function(i){i.forEach(function(r){e.selectedGoals.find(function(a){return a.description==r.description})?e.availableGoals.splice(e.availableGoals.findIndex(function(a){return a.description==r.description}),1):e.availableGoals.push((0,en.pi)({},r))}),t.unsubscribe()});console.log("selected goals",this.selectedGoals),this.loadSelectedGoals(),this.updateProgress()},n.prototype.numberOfSelectedGoals=function(){return this.availableGoals.filter(function(e){return e.selected}).length},n.prototype.toggleGoalSelection=function(e){var t=this.availableGoals[e];if(t.selected)this.selectedGoals.push((0,en.pi)((0,en.pi)({},t),{completed:!1})),t.splice(e,1);else{var i=this.selectedGoals.findIndex(function(r){return r.id===t.id});i>-1&&this.selectedGoals.splice(i,1)}},n.prototype.openGoalsModal=function(){this.goalsModal.nativeElement.classList.add("show"),this.goalsModal.nativeElement.style.display="block",document.body.classList.add("modal-open"),this.loadSelectedGoals(),this.loadCompletedGoals()},n.prototype.loadSelectedGoals=function(){this.selectedGoals=this.currentUserService.user.profile.goals},n.prototype.loadCompletedGoals=function(){var e=this,t=this.currentUserService.account.subscribe(function(i){i.profile.completedGoals&&(e.completedGoals=i.profile.completedGoals,e.updateProgress(),t.unsubscribe())})},n.prototype.closeGoalsModal=function(){this.goalsModal.nativeElement.classList.remove("show"),this.goalsModal.nativeElement.style.display="none",document.body.classList.remove("modal-open")},n.prototype.saveGoals=function(){this.currentUserService.updateProfile({goals:this.selectedGoals,completedGoals:this.completedGoals}),this.goalsModal.nativeElement.classList.remove("show"),this.goalsModal.nativeElement.style.display="none",document.body.classList.remove("modal-open")},n.prototype.completeGoal=function(e,t){var i=this.selectedGoals[e];i.completed=t,t&&(this.selectedGoals.splice(e,1),this.completedGoals.push(i)),this.currentUserService.updateProfile({goals:this.selectedGoals,completedGoals:this.completedGoals}),this.updateProgress()},n.prototype.updateProgress=function(){var e=this.selectedGoals.length+this.completedGoals.length;0===e?(this.progressValue=0,this.strokeDashoffset=this.circumference):(this.progressValue=this.completedGoals.length/e*100,this.progressValue=this.progressValue===Math.floor(this.progressValue)?parseInt(this.progressValue.toFixed(0)):parseFloat(this.progressValue.toFixed(2)),this.strokeDashoffset=this.calculateStrokeDashoffset(this.progressValue))},n.prototype.calculateStrokeDashoffset=function(e){return 0===e?this.circumference:(1-e/100)*this.circumference},n.\u0275fac=function(t){return new(t||n)(o.Y36(c1),o.Y36(un),o.Y36(Ws),o.Y36(Dr),o.Y36(Si),o.Y36(W2),o.Y36(fZ),o.Y36(qs),o.Y36(Us))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-my-progress"]],viewQuery:function(t,i){var r;(1&t&&o.Gf(UOe,5),2&t)&&(o.iGM(r=o.CRH())&&(i.goalsModal=r.first))},decls:54,vars:10,consts:[[1,"row","min-vh-50"],[1,"container"],[1,"row"],[1,"col-12","col-lg-12"],[1,"card","w-100","align-items-center","custom-height"],[1,"card-body","text-center","d-flex","flex-column","justify-content-center"],[1,"card-title","custom-text","mb-4"],[1,"progress-wrapper","align-items-center"],["width","400","height","400",1,"progress-ring"],["stroke","lightgrey","stroke-width","50","fill","transparent","r","120","cx","200","cy","200",1,"progress-ring__circle"],["stroke","Green","stroke-width","50","stroke-dasharray","755","fill","transparent","r","120","cx","200","cy","200",1,"progress-ring__circle","progress-ring__circle--value"],[1,"progress-value","h3","font-weight-bold"],[1,"small"],[1,"card-text","mt-3"],["data-mdb-ripple-color","dark",1,"btn","btn-outline-success","select-goals-btn",3,"click"],[1,"goals-group","mt-4"],[1,"selected-goals-container","mt-5"],[1,"custom-text"],[4,"ngIf"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"modal"],["goalsModal",""],[1,"modal-content"],[1,"modal-header"],[1,"modal-title","m-2"],["type","button",1,"btn-close","m-2",3,"click"],[1,"modal-body"],[1,"font-weight-bold","mb-2"],[1,"list-group","mb-4"],[1,"font-weight-bold"],[1,"completed-goals-container","mt-3"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-success",3,"click"],[1,"list-group-item"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"id","ngModel","ngModelChange"],[1,"form-check-label",3,"for"],["type","checkbox",1,"form-check-input",3,"id","ngModel","disabled","ngModelChange","change"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2",6),o._uU(7,"My Progress"),o.qZA(),o.TgZ(8,"div",7),o.O4$(),o.TgZ(9,"svg",8),o._UZ(10,"circle",9)(11,"circle",10),o.qZA(),o.kcU(),o.TgZ(12,"span",11),o._uU(13),o.TgZ(14,"sup",12),o._uU(15,"%"),o.qZA()()(),o.TgZ(16,"p",13),o._uU(17),o.qZA(),o.TgZ(18,"button",14),o.NdJ("click",function(){return i.openGoalsModal()}),o.TgZ(19,"h5"),o._uU(20,"Select Your Goals!"),o.qZA()(),o.TgZ(21,"div",15)(22,"div",16)(23,"h4",17),o._uU(24,"Your Goals"),o.qZA(),o.YNc(25,jOe,2,0,"p",18),o.TgZ(26,"ul",19),o.YNc(27,WOe,5,4,"li",20),o.qZA()()()()()()()()(),o.TgZ(28,"div",21,22)(30,"div",23)(31,"div",24)(32,"h3",25),o._uU(33,"Select Goals"),o.qZA(),o.TgZ(34,"button",26),o.NdJ("click",function(){return i.closeGoalsModal()}),o.qZA()(),o.TgZ(35,"div",27)(36,"h5",28),o._uU(37,"Select your goals (Choose up to 5)"),o.qZA(),o.TgZ(38,"ul",29),o.YNc(39,YOe,5,5,"li",20),o.qZA(),o.TgZ(40,"h5",30),o._uU(41,"Selected Goals"),o.qZA(),o.YNc(42,qOe,2,0,"p",18),o.TgZ(43,"ul",19),o.YNc(44,GOe,3,1,"li",20),o.qZA(),o.TgZ(45,"div",31)(46,"h5"),o._uU(47,"Completed Goals"),o.qZA(),o.YNc(48,$Oe,2,0,"p",18),o.TgZ(49,"ul",19),o.YNc(50,ZOe,3,1,"li",20),o.qZA()()(),o.TgZ(51,"div",32)(52,"button",33),o.NdJ("click",function(){return i.saveGoals()}),o._uU(53,"Close"),o.qZA()()()()),2&t&&(o.xp6(11),o.uIk("stroke-dashoffset",i.calculateStrokeDashoffset(i.progressValue)),o.xp6(2),o.Oqu(i.progressValue),o.xp6(4),o.Oqu(i.progressSummary),o.xp6(8),o.Q6J("ngIf",0===i.selectedGoals.length),o.xp6(2),o.Q6J("ngForOf",i.selectedGoals),o.xp6(12),o.Q6J("ngForOf",i.availableGoals),o.xp6(3),o.Q6J("ngIf",0===i.selectedGoals.length),o.xp6(2),o.Q6J("ngForOf",i.selectedGoals),o.xp6(4),o.Q6J("ngIf",0===i.completedGoals.length),o.xp6(2),o.Q6J("ngForOf",i.completedGoals))},dependencies:[S1,Zn,Um,oc,Hf],styles:[".row.h-50[_ngcontent-%COMP%]{min-height:50vh}.card.custom-height[_ngcontent-%COMP%]{min-height:70vh}.custom-text[_ngcontent-%COMP%]{color:#0b8200}h1[_ngcontent-%COMP%]{font-weight:700}.card[_ngcontent-%COMP%]{transition:all .3s ease;background-color:#ffffffd9}.card[_ngcontent-%COMP%]:hover{transform:scale(1.01)}.card-title[_ngcontent-%COMP%]{font-weight:700;top:0}.form-check[_ngcontent-%COMP%]{border:none;background-color:#ffffffd9}.form-check-input[_ngcontent-%COMP%]{background-color:#818181;border-color:#818181}.form-check-input[_ngcontent-%COMP%]:hover{cursor:pointer}.progress-wrapper[_ngcontent-%COMP%]{position:relative;display:inline-block}.progress-ring[_ngcontent-%COMP%]{transform:rotate(-90deg)}.progress-ring__circle[_ngcontent-%COMP%]{stroke-linecap:round}.progress-ring__circle--value[_ngcontent-%COMP%]{transition:stroke-dashoffset .35s}.progress-value[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.select-goals-btn[_ngcontent-%COMP%]{border-radius:4rem;padding:.4rem 1rem;border:rgb(11,128,0) solid 2px}.select-goals-btn[_ngcontent-%COMP%]:hover{background-color:#0b8000d3;color:#fff;cursor:pointer}.modal[_ngcontent-%COMP%]{display:none;position:fixed;background-color:#cacacae6;left:35%;top:30%;width:30%;height:40%;overflow-y:auto;align-items:center;justify-content:center;overflow:auto;border-color:#00000080;border-radius:2%}.modal-content[_ngcontent-%COMP%]{background-color:transparent;margin:auto;border:none;display:flex;flex-direction:column;height:100%}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;border:none}.modal-title[_ngcontent-%COMP%]{border-bottom:2px solid rgba(16,141,0,.493);padding-bottom:5px;width:50%}.modal-body[_ngcontent-%COMP%]{flex-grow:1;padding:1rem;overflow-y:auto}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:1rem;border:none}@media (max-width: 767px){.card-text[_ngcontent-%COMP%]{width:90%;margin-left:5%}.select-goals-btn[_ngcontent-%COMP%]{width:100%;max-width:20rem;margin:.5rem auto}.modal[_ngcontent-%COMP%]{left:0;top:0;width:100%;height:90%;border-radius:0}.modal-content[_ngcontent-%COMP%]{height:80%}.modal-title[_ngcontent-%COMP%]{width:60%}}@media (max-width: 1500px){.card-text[_ngcontent-%COMP%]{width:90%;margin-left:5%}.select-goals-btn[_ngcontent-%COMP%]{width:100%;max-width:20rem;margin:.5rem auto}.modal[_ngcontent-%COMP%]{left:25%;top:15%;width:50%;height:80%;border-radius:0;align-items:center;justify-content:center}.modal-content[_ngcontent-%COMP%]{height:80%;margin-top:5%}.modal-title[_ngcontent-%COMP%]{width:60%}}"]}),n}();function J4(){}const QOe=function(){let n=0;return function(){return n++}}();function f1(n){return null===n||typeof n>"u"}function s2(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function Jn(n){return null!==n&&"[object Object]"===Object.prototype.toString.call(n)}const hi=n=>("number"==typeof n||n instanceof Number)&&isFinite(+n);function Io(n,e){return hi(n)?n:e}function Hn(n,e){return typeof n>"u"?e:n}const zZ=(n,e)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100*e:+n;function o2(n,e,t){if(n&&"function"==typeof n.call)return n.apply(t,e)}function H1(n,e,t,i){let r,s,a;if(s2(n))if(s=n.length,i)for(r=s-1;r>=0;r--)e.call(t,n[r],r);else for(r=0;r<s;r++)e.call(t,n[r],r);else if(Jn(n))for(a=Object.keys(n),s=a.length,r=0;r<s;r++)e.call(t,n[a[r]],a[r])}function fw(n,e){let t,i,r,s;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(r=n[t],s=e[t],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function hw(n){if(s2(n))return n.map(hw);if(Jn(n)){const e=Object.create(null),t=Object.keys(n),i=t.length;let r=0;for(;r<i;++r)e[t[r]]=hw(n[t[r]]);return e}return n}function AZ(n){return-1===["__proto__","prototype","constructor"].indexOf(n)}function XOe(n,e,t,i){if(!AZ(n))return;const r=e[n],s=t[n];Jn(r)&&Jn(s)?Cg(r,s,i):e[n]=hw(s)}function Cg(n,e,t){const i=s2(e)?e:[e],r=i.length;if(!Jn(n))return n;const s=(t=t||{}).merger||XOe;for(let a=0;a<r;++a){if(!Jn(e=i[a]))continue;const c=Object.keys(e);for(let d=0,h=c.length;d<h;++d)s(c[d],n,e,t)}return n}function bg(n,e){return Cg(n,e,{merger:eFe})}function eFe(n,e,t){if(!AZ(n))return;const i=e[n],r=t[n];Jn(i)&&Jn(r)?bg(i,r):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=hw(r))}const HZ={"":n=>n,x:n=>n.x,y:n=>n.y};function rl(n,e){return(HZ[e]||(HZ[e]=function tFe(n){const e=function nFe(n){const e=n.split("."),t=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}(n);return t=>{for(const i of e){if(""===i)break;t=t&&t[i]}return t}}(e)))(n)}function ZH(n){return n.charAt(0).toUpperCase()+n.slice(1)}const No=n=>typeof n<"u",sl=n=>"function"==typeof n,LZ=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0},E2=Math.PI,O1=2*E2,rFe=O1+E2,pw=Number.POSITIVE_INFINITY,sFe=E2/180,ii=E2/2,Mg=E2/4,EZ=2*E2/3,Po=Math.log10,cc=Math.sign;function VZ(n){const e=Math.round(n);n=wg(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(Po(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function Rf(n){return!isNaN(parseFloat(n))&&isFinite(n)}function wg(n,e,t){return Math.abs(n-e)<t}function IZ(n,e,t){let i,r,s;for(i=0,r=n.length;i<r;i++)s=n[i][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Ba(n){return n*(E2/180)}function KH(n){return n*(180/E2)}function NZ(n){if(!hi(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function PZ(n,e){const t=e.x-n.x,i=e.y-n.y,r=Math.sqrt(t*t+i*i);let s=Math.atan2(i,t);return s<-.5*E2&&(s+=O1),{angle:s,distance:r}}function QH(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function cFe(n,e){return(n-e+rFe)%O1-E2}function Gs(n){return(n%O1+O1)%O1}function xg(n,e,t,i){const r=Gs(n),s=Gs(e),a=Gs(t),c=Gs(s-r),d=Gs(a-r),h=Gs(r-s),g=Gs(r-a);return r===s||r===a||i&&s===a||c>d&&h<g}function Ji(n,e,t){return Math.max(e,Math.min(t,n))}function X4(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function JH(n,e,t){t=t||(a=>n[a]<e);let s,i=n.length-1,r=0;for(;i-r>1;)s=r+i>>1,t(s)?r=s:i=s;return{lo:r,hi:i}}const e6=(n,e,t,i)=>JH(n,t,i?r=>n[r][e]<=t:r=>n[r][e]<t),uFe=(n,e,t)=>JH(n,t,i=>n[i][e]>=t),RZ=["push","pop","shift","splice","unshift"];function OZ(n,e){const t=n._chartjs;if(!t)return;const i=t.listeners,r=i.indexOf(e);-1!==r&&i.splice(r,1),!(i.length>0)&&(RZ.forEach(s=>{delete n[s]}),delete n._chartjs)}function FZ(n){const e=new Set;let t,i;for(t=0,i=n.length;t<i;++t)e.add(n[t]);return e.size===i?n:Array.from(e)}const BZ=typeof window>"u"?function(n){return n()}:window.requestAnimationFrame;function UZ(n,e,t){const i=t||(a=>Array.prototype.slice.call(a));let r=!1,s=[];return function(...a){s=i(a),r||(r=!0,BZ.call(window,()=>{r=!1,n.apply(e,s)}))}}const XH=n=>"start"===n?"left":"end"===n?"right":"center",kr=(n,e,t)=>"start"===n?e:"end"===n?t:(e+t)/2;function jZ(n,e,t){const i=e.length;let r=0,s=i;if(n._sorted){const{iScale:a,_parsed:c}=n,d=a.axis,{min:h,max:g,minDefined:y,maxDefined:M}=a.getUserBounds();y&&(r=Ji(Math.min(e6(c,a.axis,h).lo,t?i:e6(e,d,a.getPixelForValue(h)).lo),0,i-1)),s=M?Ji(Math.max(e6(c,a.axis,g,!0).hi+1,t?0:e6(e,d,a.getPixelForValue(g),!0).hi+1),r,i)-r:i-r}return{start:r,count:s}}function WZ(n){const{xScale:e,yScale:t,_scaleRanges:i}=n,r={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!i)return n._scaleRanges=r,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==t.min||i.ymax!==t.max;return Object.assign(i,r),s}const mw=n=>0===n||1===n,YZ=(n,e,t)=>-Math.pow(2,10*(n-=1))*Math.sin((n-e)*O1/t),qZ=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*O1/t)+1,Sg={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>1-Math.cos(n*ii),easeOutSine:n=>Math.sin(n*ii),easeInOutSine:n=>-.5*(Math.cos(E2*n)-1),easeInExpo:n=>0===n?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>1===n?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>mw(n)?n:n<.5?.5*Math.pow(2,10*(2*n-1)):.5*(2-Math.pow(2,-10*(2*n-1))),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>mw(n)?n:YZ(n,.075,.3),easeOutElastic:n=>mw(n)?n:qZ(n,.075,.3),easeInOutElastic:n=>mw(n)?n:n<.5?.5*YZ(2*n,.1125,.45):.5+.5*qZ(2*n-1,.1125,.45),easeInBack:n=>n*n*(2.70158*n-1.70158),easeOutBack:n=>(n-=1)*n*(2.70158*n+1.70158)+1,easeInOutBack(n){let e=1.70158;return(n/=.5)<1?n*n*((1+(e*=1.525))*n-e)*.5:.5*((n-=2)*n*((1+(e*=1.525))*n+e)+2)},easeInBounce:n=>1-Sg.easeOutBounce(1-n),easeOutBounce:n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,easeInOutBounce:n=>n<.5?.5*Sg.easeInBounce(2*n):.5*Sg.easeOutBounce(2*n-1)+.5};function Tg(n){return n+.5|0}const ol=(n,e,t)=>Math.max(Math.min(n,t),e);function Dg(n){return ol(Tg(2.55*n),0,255)}function al(n){return ol(Tg(255*n),0,255)}function t6(n){return ol(Tg(n/2.55)/100,0,1)}function GZ(n){return ol(Tg(100*n),0,100)}const Ro={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},eL=[..."0123456789ABCDEF"],mFe=n=>eL[15&n],gFe=n=>eL[(240&n)>>4]+eL[15&n],gw=n=>(240&n)>>4==(15&n),bFe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function $Z(n,e,t){const i=e*Math.min(t,1-t),r=(s,a=(s+n/30)%12)=>t-i*Math.max(Math.min(a-3,9-a,1),-1);return[r(0),r(8),r(4)]}function MFe(n,e,t){const i=(r,s=(r+n/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function wFe(n,e,t){const i=$Z(n,1,.5);let r;for(e+t>1&&(r=1/(e+t),e*=r,t*=r),r=0;r<3;r++)i[r]*=1-e-t,i[r]+=e;return i}function tL(n){const t=n.r/255,i=n.g/255,r=n.b/255,s=Math.max(t,i,r),a=Math.min(t,i,r),c=(s+a)/2;let d,h,g;return s!==a&&(g=s-a,h=c>.5?g/(2-s-a):g/(s+a),d=function xFe(n,e,t,i,r){return n===r?(e-t)/i+(e<t?6:0):e===r?(t-n)/i+2:(n-e)/i+4}(t,i,r,g,s),d=60*d+.5),[0|d,h||0,c]}function nL(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(al)}function iL(n,e,t){return nL($Z,n,e,t)}function ZZ(n){return(n%360+360)%360}const KZ={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},QZ={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let _w;const LFe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,rL=n=>n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055,Of=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function vw(n,e,t){if(n){let i=tL(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,0===e?360:1)),i=iL(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function JZ(n,e){return n&&Object.assign(e||{},n)}function XZ(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=al(n[3]))):(e=JZ(n,{r:0,g:0,b:0,a:1})).a=al(e.a),e}function NFe(n){return"r"===n.charAt(0)?function EFe(n){const e=LFe.exec(n);let i,r,s,t=255;if(e){if(e[7]!==i){const a=+e[7];t=e[8]?Dg(a):ol(255*a,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?Dg(i):ol(i,0,255)),r=255&(e[4]?Dg(r):ol(r,0,255)),s=255&(e[6]?Dg(s):ol(s,0,255)),{r:i,g:r,b:s,a:t}}}(n):function DFe(n){const e=bFe.exec(n);let i,t=255;if(!e)return;e[5]!==i&&(t=e[6]?Dg(+e[5]):al(+e[5]));const r=ZZ(+e[2]),s=+e[3]/100,a=+e[4]/100;return i="hwb"===e[1]?function SFe(n,e,t){return nL(wFe,n,e,t)}(r,s,a):"hsv"===e[1]?function TFe(n,e,t){return nL(MFe,n,e,t)}(r,s,a):iL(r,s,a),{r:i[0],g:i[1],b:i[2],a:t}}(n)}class yw{constructor(e){if(e instanceof yw)return e;const t=typeof e;let i;"object"===t?i=XZ(e):"string"===t&&(i=function vFe(n){var t,e=n.length;return"#"===n[0]&&(4===e||5===e?t={r:255&17*Ro[n[1]],g:255&17*Ro[n[2]],b:255&17*Ro[n[3]],a:5===e?17*Ro[n[4]]:255}:(7===e||9===e)&&(t={r:Ro[n[1]]<<4|Ro[n[2]],g:Ro[n[3]]<<4|Ro[n[4]],b:Ro[n[5]]<<4|Ro[n[6]],a:9===e?Ro[n[7]]<<4|Ro[n[8]]:255})),t}(e)||function HFe(n){_w||(_w=function AFe(){const n={},e=Object.keys(QZ),t=Object.keys(KZ);let i,r,s,a,c;for(i=0;i<e.length;i++){for(a=c=e[i],r=0;r<t.length;r++)s=t[r],c=c.replace(s,KZ[s]);s=parseInt(QZ[a],16),n[c]=[s>>16&255,s>>8&255,255&s]}return n}(),_w.transparent=[0,0,0,0]);const e=_w[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}(e)||NFe(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=JZ(this._rgb);return e&&(e.a=t6(e.a)),e}set rgb(e){this._rgb=XZ(e)}rgbString(){return this._valid?function VFe(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${t6(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}(this._rgb):void 0}hexString(){return this._valid?function CFe(n){var e=(n=>gw(n.r)&&gw(n.g)&&gw(n.b)&&gw(n.a))(n)?mFe:gFe;return n?"#"+e(n.r)+e(n.g)+e(n.b)+((n,e)=>n<255?e(n):"")(n.a,e):void 0}(this._rgb):void 0}hslString(){return this._valid?function zFe(n){if(!n)return;const e=tL(n),t=e[0],i=GZ(e[1]),r=GZ(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${r}%, ${t6(n.a)})`:`hsl(${t}, ${i}%, ${r}%)`}(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,r=e.rgb;let s;const a=t===s?.5:t,c=2*a-1,d=i.a-r.a,h=((c*d==-1?c:(c+d)/(1+c*d))+1)/2;s=1-h,i.r=255&h*i.r+s*r.r+.5,i.g=255&h*i.g+s*r.g+.5,i.b=255&h*i.b+s*r.b+.5,i.a=a*i.a+(1-a)*r.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=function IFe(n,e,t){const i=Of(t6(n.r)),r=Of(t6(n.g)),s=Of(t6(n.b));return{r:al(rL(i+t*(Of(t6(e.r))-i))),g:al(rL(r+t*(Of(t6(e.g))-r))),b:al(rL(s+t*(Of(t6(e.b))-s))),a:n.a+t*(e.a-n.a)}}(this._rgb,e._rgb,t)),this}clone(){return new yw(this.rgb)}alpha(e){return this._rgb.a=al(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=Tg(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return vw(this._rgb,2,e),this}darken(e){return vw(this._rgb,2,-e),this}saturate(e){return vw(this._rgb,1,e),this}desaturate(e){return vw(this._rgb,1,-e),this}rotate(e){return function kFe(n,e){var t=tL(n);t[0]=ZZ(t[0]+e),t=iL(t),n.r=t[0],n.g=t[1],n.b=t[2]}(this._rgb,e),this}}function eK(n){return new yw(n)}function tK(n){if(n&&"object"==typeof n){const e=n.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function nK(n){return tK(n)?n:eK(n)}function sL(n){return tK(n)?n:eK(n).saturate(.5).darken(.1).hexString()}const X5=Object.create(null),oL=Object.create(null);function kg(n,e){if(!e)return n;const t=e.split(".");for(let i=0,r=t.length;i<r;++i){const s=t[i];n=n[s]||(n[s]=Object.create(null))}return n}function aL(n,e,t){return"string"==typeof e?Cg(kg(n,e),t):Cg(kg(n,""),e)}var Xn=new class PFe{constructor(e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,i)=>sL(i.backgroundColor),this.hoverBorderColor=(t,i)=>sL(i.borderColor),this.hoverColor=(t,i)=>sL(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e)}set(e,t){return aL(this,e,t)}get(e){return kg(this,e)}describe(e,t){return aL(oL,e,t)}override(e,t){return aL(X5,e,t)}route(e,t,i,r){const s=kg(this,e),a=kg(this,i),c="_"+t;Object.defineProperties(s,{[c]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const d=this[c],h=a[r];return Jn(d)?Object.assign({},h,d):Hn(d,h)},set(d){this[c]=d}}})}}({_scriptable:n=>!n.startsWith("on"),_indexable:n=>"events"!==n,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function Cw(n,e,t,i,r){let s=e[r];return s||(s=e[r]=n.measureText(r).width,t.push(r)),s>i&&(i=s),i}function OFe(n,e,t,i){let r=(i=i||{}).data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},s=i.garbageCollect=[],i.font=e),n.save(),n.font=e;let a=0;const c=t.length;let d,h,g,y,M;for(d=0;d<c;d++)if(y=t[d],null!=y&&!0!==s2(y))a=Cw(n,r,s,a,y);else if(s2(y))for(h=0,g=y.length;h<g;h++)M=y[h],null!=M&&!s2(M)&&(a=Cw(n,r,s,a,M));n.restore();const S=s.length/2;if(S>t.length){for(d=0;d<S;d++)delete r[s[d]];s.splice(0,S)}return a}function eu(n,e,t){const i=n.currentDevicePixelRatio,r=0!==t?Math.max(t/2,.5):0;return Math.round((e-r)*i)/i+r}function iK(n,e){(e=e||n.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore()}function cL(n,e,t,i){rK(n,e,t,i,null)}function rK(n,e,t,i,r){let s,a,c,d,h,g;const y=e.pointStyle,M=e.rotation,S=e.radius;let k=(M||0)*sFe;if(y&&"object"==typeof y&&(s=y.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return n.save(),n.translate(t,i),n.rotate(k),n.drawImage(y,-y.width/2,-y.height/2,y.width,y.height),void n.restore();if(!(isNaN(S)||S<=0)){switch(n.beginPath(),y){default:r?n.ellipse(t,i,r/2,S,0,0,O1):n.arc(t,i,S,0,O1),n.closePath();break;case"triangle":n.moveTo(t+Math.sin(k)*S,i-Math.cos(k)*S),k+=EZ,n.lineTo(t+Math.sin(k)*S,i-Math.cos(k)*S),k+=EZ,n.lineTo(t+Math.sin(k)*S,i-Math.cos(k)*S),n.closePath();break;case"rectRounded":h=.516*S,d=S-h,a=Math.cos(k+Mg)*d,c=Math.sin(k+Mg)*d,n.arc(t-a,i-c,h,k-E2,k-ii),n.arc(t+c,i-a,h,k-ii,k),n.arc(t+a,i+c,h,k,k+ii),n.arc(t-c,i+a,h,k+ii,k+E2),n.closePath();break;case"rect":if(!M){d=Math.SQRT1_2*S,g=r?r/2:d,n.rect(t-g,i-d,2*g,2*d);break}k+=Mg;case"rectRot":a=Math.cos(k)*S,c=Math.sin(k)*S,n.moveTo(t-a,i-c),n.lineTo(t+c,i-a),n.lineTo(t+a,i+c),n.lineTo(t-c,i+a),n.closePath();break;case"crossRot":k+=Mg;case"cross":a=Math.cos(k)*S,c=Math.sin(k)*S,n.moveTo(t-a,i-c),n.lineTo(t+a,i+c),n.moveTo(t+c,i-a),n.lineTo(t-c,i+a);break;case"star":a=Math.cos(k)*S,c=Math.sin(k)*S,n.moveTo(t-a,i-c),n.lineTo(t+a,i+c),n.moveTo(t+c,i-a),n.lineTo(t-c,i+a),k+=Mg,a=Math.cos(k)*S,c=Math.sin(k)*S,n.moveTo(t-a,i-c),n.lineTo(t+a,i+c),n.moveTo(t+c,i-a),n.lineTo(t-c,i+a);break;case"line":a=r?r/2:Math.cos(k)*S,c=Math.sin(k)*S,n.moveTo(t-a,i-c),n.lineTo(t+a,i+c);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(k)*S,i+Math.sin(k)*S)}n.fill(),e.borderWidth>0&&n.stroke()}}function zg(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function bw(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function Mw(n){n.restore()}function FFe(n,e,t,i,r){if(!e)return n.lineTo(t.x,t.y);if("middle"===r){const s=(e.x+t.x)/2;n.lineTo(s,e.y),n.lineTo(s,t.y)}else"after"===r!=!!i?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function BFe(n,e,t,i){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function tu(n,e,t,i,r,s={}){const a=s2(e)?e:[e],c=s.strokeWidth>0&&""!==s.strokeColor;let d,h;for(n.save(),n.font=r.string,function UFe(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),f1(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}(n,s),d=0;d<a.length;++d)h=a[d],c&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),f1(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(h,t,i,s.maxWidth)),n.fillText(h,t,i,s.maxWidth),jFe(n,t,i,h,s),i+=r.lineHeight;n.restore()}function jFe(n,e,t,i,r){if(r.strikethrough||r.underline){const s=n.measureText(i),a=e-s.actualBoundingBoxLeft,c=e+s.actualBoundingBoxRight,h=t+s.actualBoundingBoxDescent,g=r.strikethrough?(t-s.actualBoundingBoxAscent+h)/2:h;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(a,g),n.lineTo(c,g),n.stroke()}}function Ag(n,e){const{x:t,y:i,w:r,h:s,radius:a}=e;n.arc(t+a.topLeft,i+a.topLeft,a.topLeft,-ii,E2,!0),n.lineTo(t,i+s-a.bottomLeft),n.arc(t+a.bottomLeft,i+s-a.bottomLeft,a.bottomLeft,E2,ii,!0),n.lineTo(t+r-a.bottomRight,i+s),n.arc(t+r-a.bottomRight,i+s-a.bottomRight,a.bottomRight,ii,0,!0),n.lineTo(t+r,i+a.topRight),n.arc(t+r-a.topRight,i+a.topRight,a.topRight,0,-ii,!0),n.lineTo(t+a.topLeft,i)}const WFe=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),YFe=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function qFe(n,e){const t=(""+n).match(WFe);if(!t||"normal"===t[1])return 1.2*e;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100}return e*n}const GFe=n=>+n||0;function lL(n,e){const t={},i=Jn(e),r=i?Object.keys(e):e,s=Jn(n)?i?a=>Hn(n[a],n[e[a]]):a=>n[a]:()=>n;for(const a of r)t[a]=GFe(s(a));return t}function sK(n){return lL(n,{top:"y",right:"x",bottom:"y",left:"x"})}function nu(n){return lL(n,["topLeft","topRight","bottomLeft","bottomRight"])}function zr(n){const e=sK(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Fi(n,e){let t=Hn((n=n||{}).size,(e=e||Xn.font).size);"string"==typeof t&&(t=parseInt(t,10));let i=Hn(n.style,e.style);i&&!(""+i).match(YFe)&&(console.warn('Invalid font style specified: "'+i+'"'),i="");const r={family:Hn(n.family,e.family),lineHeight:qFe(Hn(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:Hn(n.weight,e.weight),string:""};return r.string=function RFe(n){return!n||f1(n.size)||f1(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}(r),r}function Hg(n,e,t,i){let s,a,c,r=!0;for(s=0,a=n.length;s<a;++s)if(c=n[s],void 0!==c&&(void 0!==e&&"function"==typeof c&&(c=c(e),r=!1),void 0!==t&&s2(c)&&(c=c[t%c.length],r=!1),void 0!==c))return i&&!r&&(i.cacheable=!1),c}function cl(n,e){return Object.assign(Object.create(n),e)}function uL(n,e=[""],t=n,i,r=(()=>n[0])){No(i)||(i=uK("_fallback",n));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:t,_fallback:i,_getTarget:r,override:a=>uL([a,...n],e,t,i)};return new Proxy(s,{deleteProperty:(a,c)=>(delete a[c],delete a._keys,delete n[0][c],!0),get:(a,c)=>aK(a,c,()=>function nBe(n,e,t,i){let r;for(const s of e)if(r=uK(ZFe(s,n),t),No(r))return dL(n,r)?fL(t,i,n,r):r}(c,e,n,a)),getOwnPropertyDescriptor:(a,c)=>Reflect.getOwnPropertyDescriptor(a._scopes[0],c),getPrototypeOf:()=>Reflect.getPrototypeOf(n[0]),has:(a,c)=>dK(a).includes(c),ownKeys:a=>dK(a),set(a,c,d){const h=a._storage||(a._storage=r());return a[c]=h[c]=d,delete a._keys,!0}})}function Ff(n,e,t,i){const r={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:oK(n,i),setContext:s=>Ff(n,s,t,i),override:s=>Ff(n.override(s),e,t,i)};return new Proxy(r,{deleteProperty:(s,a)=>(delete s[a],delete n[a],!0),get:(s,a,c)=>aK(s,a,()=>function KFe(n,e,t){const{_proxy:i,_context:r,_subProxy:s,_descriptors:a}=n;let c=i[e];return sl(c)&&a.isScriptable(e)&&(c=function QFe(n,e,t,i){const{_proxy:r,_context:s,_subProxy:a,_stack:c}=t;if(c.has(n))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+n);return c.add(n),e=e(s,a||i),c.delete(n),dL(n,e)&&(e=fL(r._scopes,r,n,e)),e}(e,c,n,t)),s2(c)&&c.length&&(c=function JFe(n,e,t,i){const{_proxy:r,_context:s,_subProxy:a,_descriptors:c}=t;if(No(s.index)&&i(n))e=e[s.index%e.length];else if(Jn(e[0])){const d=e,h=r._scopes.filter(g=>g!==d);e=[];for(const g of d){const y=fL(h,r,n,g);e.push(Ff(y,s,a&&a[n],c))}}return e}(e,c,n,a.isIndexable)),dL(e,c)&&(c=Ff(c,r,s&&s[e],a)),c}(s,a,c)),getOwnPropertyDescriptor:(s,a)=>s._descriptors.allKeys?Reflect.has(n,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,a),getPrototypeOf:()=>Reflect.getPrototypeOf(n),has:(s,a)=>Reflect.has(n,a),ownKeys:()=>Reflect.ownKeys(n),set:(s,a,c)=>(n[a]=c,delete s[a],!0)})}function oK(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=n;return{allKeys:r,scriptable:t,indexable:i,isScriptable:sl(t)?t:()=>t,isIndexable:sl(i)?i:()=>i}}const ZFe=(n,e)=>n?n+ZH(e):e,dL=(n,e)=>Jn(e)&&"adapters"!==n&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function aK(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e))return n[e];const i=t();return n[e]=i,i}function cK(n,e,t){return sl(n)?n(e,t):n}const XFe=(n,e)=>!0===n?e:"string"==typeof n?rl(e,n):void 0;function eBe(n,e,t,i,r){for(const s of e){const a=XFe(t,s);if(a){n.add(a);const c=cK(a._fallback,t,r);if(No(c)&&c!==t&&c!==i)return c}else if(!1===a&&No(i)&&t!==i)return null}return!1}function fL(n,e,t,i){const r=e._rootScopes,s=cK(e._fallback,t,i),a=[...n,...r],c=new Set;c.add(i);let d=lK(c,a,t,s||t,i);return!(null===d||No(s)&&s!==t&&(d=lK(c,a,s,d,i),null===d))&&uL(Array.from(c),[""],r,s,()=>function tBe(n,e,t){const i=n._getTarget();e in i||(i[e]={});const r=i[e];return s2(r)&&Jn(t)?t:r}(e,t,i))}function lK(n,e,t,i,r){for(;t;)t=eBe(n,e,t,i,r);return t}function uK(n,e){for(const t of e){if(!t)continue;const i=t[n];if(No(i))return i}}function dK(n){let e=n._keys;return e||(e=n._keys=function iBe(n){const e=new Set;for(const t of n)for(const i of Object.keys(t).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}(n._scopes)),e}function fK(n,e,t,i){const{iScale:r}=n,{key:s="r"}=this._parsing,a=new Array(i);let c,d,h,g;for(c=0,d=i;c<d;++c)h=c+t,g=e[h],a[c]={r:r.parse(rl(g,s),h)};return a}const rBe=Number.EPSILON||1e-14,Bf=(n,e)=>e<n.length&&!n[e].skip&&n[e],hK=n=>"x"===n?"y":"x";function sBe(n,e,t,i){const r=n.skip?e:n,s=e,a=t.skip?e:t,c=QH(s,r),d=QH(a,s);let h=c/(c+d),g=d/(c+d);h=isNaN(h)?0:h,g=isNaN(g)?0:g;const y=i*h,M=i*g;return{previous:{x:s.x-y*(a.x-r.x),y:s.y-y*(a.y-r.y)},next:{x:s.x+M*(a.x-r.x),y:s.y+M*(a.y-r.y)}}}function ww(n,e,t){return Math.max(Math.min(n,t),e)}function uBe(n,e,t,i,r){let s,a,c,d;if(e.spanGaps&&(n=n.filter(h=>!h.skip)),"monotone"===e.cubicInterpolationMode)!function cBe(n,e="x"){const t=hK(e),i=n.length,r=Array(i).fill(0),s=Array(i);let a,c,d,h=Bf(n,0);for(a=0;a<i;++a)if(c=d,d=h,h=Bf(n,a+1),d){if(h){const g=h[e]-d[e];r[a]=0!==g?(h[t]-d[t])/g:0}s[a]=c?h?cc(r[a-1])!==cc(r[a])?0:(r[a-1]+r[a])/2:r[a-1]:r[a]}(function oBe(n,e,t){const i=n.length;let r,s,a,c,d,h=Bf(n,0);for(let g=0;g<i-1;++g)if(d=h,h=Bf(n,g+1),d&&h){if(wg(e[g],0,rBe)){t[g]=t[g+1]=0;continue}r=t[g]/e[g],s=t[g+1]/e[g],c=Math.pow(r,2)+Math.pow(s,2),!(c<=9)&&(a=3/Math.sqrt(c),t[g]=r*a*e[g],t[g+1]=s*a*e[g])}})(n,r,s),function aBe(n,e,t="x"){const i=hK(t),r=n.length;let s,a,c,d=Bf(n,0);for(let h=0;h<r;++h){if(a=c,c=d,d=Bf(n,h+1),!c)continue;const g=c[t],y=c[i];a&&(s=(g-a[t])/3,c[`cp1${t}`]=g-s,c[`cp1${i}`]=y-s*e[h]),d&&(s=(d[t]-g)/3,c[`cp2${t}`]=g+s,c[`cp2${i}`]=y+s*e[h])}}(n,s,e)}(n,r);else{let h=i?n[n.length-1]:n[0];for(s=0,a=n.length;s<a;++s)c=n[s],d=sBe(h,c,n[Math.min(s+1,a-(i?0:1))%a],e.tension),c.cp1x=d.previous.x,c.cp1y=d.previous.y,c.cp2x=d.next.x,c.cp2y=d.next.y,h=c}e.capBezierPoints&&function lBe(n,e){let t,i,r,s,a,c=zg(n[0],e);for(t=0,i=n.length;t<i;++t)a=s,s=c,c=t<i-1&&zg(n[t+1],e),s&&(r=n[t],a&&(r.cp1x=ww(r.cp1x,e.left,e.right),r.cp1y=ww(r.cp1y,e.top,e.bottom)),c&&(r.cp2x=ww(r.cp2x,e.left,e.right),r.cp2y=ww(r.cp2y,e.top,e.bottom)))}(n,t)}function pK(){return typeof window<"u"&&typeof document<"u"}function hL(n){let e=n.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function xw(n,e,t){let i;return"string"==typeof n?(i=parseInt(n,10),-1!==n.indexOf("%")&&(i=i/100*e.parentNode[t])):i=n,i}const Sw=n=>window.getComputedStyle(n,null),fBe=["top","right","bottom","left"];function iu(n,e,t){const i={};t=t?"-"+t:"";for(let r=0;r<4;r++){const s=fBe[r];i[s]=parseFloat(n[e+"-"+s+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const hBe=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function ru(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:i}=e,r=Sw(t),s="border-box"===r.boxSizing,a=iu(r,"padding"),c=iu(r,"border","width"),{x:d,y:h,box:g}=function pBe(n,e){const t=n.touches,i=t&&t.length?t[0]:n,{offsetX:r,offsetY:s}=i;let c,d,a=!1;if(hBe(r,s,n.target))c=r,d=s;else{const h=e.getBoundingClientRect();c=i.clientX-h.left,d=i.clientY-h.top,a=!0}return{x:c,y:d,box:a}}(n,t),y=a.left+(g&&c.left),M=a.top+(g&&c.top);let{width:S,height:k}=e;return s&&(S-=a.width+c.width,k-=a.height+c.height),{x:Math.round((d-y)/S*t.width/i),y:Math.round((h-M)/k*t.height/i)}}const pL=n=>Math.round(10*n)/10;function mK(n,e,t){const i=e||1,r=Math.floor(n.height*i),s=Math.floor(n.width*i);n.height=r/i,n.width=s/i;const a=n.canvas;return a.style&&(t||!a.style.height&&!a.style.width)&&(a.style.height=`${n.height}px`,a.style.width=`${n.width}px`),(n.currentDevicePixelRatio!==i||a.height!==r||a.width!==s)&&(n.currentDevicePixelRatio=i,a.height=r,a.width=s,n.ctx.setTransform(i,0,0,i,0,0),!0)}const _Be=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return n}();function gK(n,e){const t=function dBe(n,e){return Sw(n).getPropertyValue(e)}(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function su(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function vBe(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:"middle"===i?t<.5?n.y:e.y:"after"===i?t<1?n.y:e.y:t>0?e.y:n.y}}function yBe(n,e,t,i){const r={x:n.cp2x,y:n.cp2y},s={x:e.cp1x,y:e.cp1y},a=su(n,r,t),c=su(r,s,t),d=su(s,e,t),h=su(a,c,t),g=su(c,d,t);return su(h,g,t)}const _K=new Map;function Lg(n,e,t){return function CBe(n,e){e=e||{};const t=n+JSON.stringify(e);let i=_K.get(t);return i||(i=new Intl.NumberFormat(n,e),_K.set(t,i)),i}(e,t).format(n)}const bBe=function(n,e){return{x:t=>n+n+e-t,setWidth(t){e=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,i)=>t-i,leftForLtr:(t,i)=>t-i}},MBe=function(){return{x:n=>n,setWidth(n){},textAlign:n=>n,xPlus:(n,e)=>n+e,leftForLtr:(n,e)=>n}};function Uf(n,e,t){return n?bBe(e,t):MBe()}function vK(n,e){let t,i;("ltr"===e||"rtl"===e)&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function yK(n,e){void 0!==e&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function CK(n){return"angle"===n?{between:xg,compare:cFe,normalize:Gs}:{between:X4,compare:(e,t)=>e-t,normalize:e=>e}}function bK({start:n,end:e,count:t,loop:i,style:r}){return{start:n%t,end:e%t,loop:i&&(e-n+1)%t==0,style:r}}function MK(n,e,t){if(!t)return[n];const{property:i,start:r,end:s}=t,a=e.length,{compare:c,between:d,normalize:h}=CK(i),{start:g,end:y,loop:M,style:S}=function wBe(n,e,t){const{property:i,start:r,end:s}=t,{between:a,normalize:c}=CK(i),d=e.length;let M,S,{start:h,end:g,loop:y}=n;if(y){for(h+=d,g+=d,M=0,S=d;M<S&&a(c(e[h%d][i]),r,s);++M)h--,g--;h%=d,g%=d}return g<h&&(g+=d),{start:h,end:g,loop:y,style:n.style}}(n,e,t),k=[];let B,G,X,A=!1,L=null;for(let rt=g,dt=g;rt<=y;++rt)G=e[rt%a],!G.skip&&(B=h(G[i]),B!==X&&(A=d(B,r,s),null===L&&(A||d(r,X,B)&&0!==c(r,X))&&(L=0===c(B,r)?rt:dt),null!==L&&(!A||0===c(s,B)||d(s,X,B))&&(k.push(bK({start:L,end:rt,loop:M,count:a,style:S})),L=null),dt=rt,X=B));return null!==L&&k.push(bK({start:L,end:y,loop:M,count:a,style:S})),k}function wK(n,e){const t=[],i=n.segments;for(let r=0;r<i.length;r++){const s=MK(i[r],n.points,e);s.length&&t.push(...s)}return t}function SK(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function kBe(n,e){return e&&JSON.stringify(n)!==JSON.stringify(e)}var n6=new class zBe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,r){const a=t.duration;t.listeners[r].forEach(c=>c({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(i-t.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=BZ.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let d,a=s.length-1,c=!1;for(;a>=0;--a)d=s[a],d._active?(d._total>i.duration&&(i.duration=d._total),d.tick(e),c=!0):(s[a]=s[s.length-1],s.pop());c&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),t+=s.length}),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}};const TK="transparent",ABe={boolean:(n,e,t)=>t>.5?e:n,color(n,e,t){const i=nK(n||TK),r=i.valid&&nK(e||TK);return r&&r.valid?r.mix(i,t).hexString():e},number:(n,e,t)=>n+(e-n)*t};class HBe{constructor(e,t,i,r){const s=t[i];r=Hg([e.to,r,s,e.from]);const a=Hg([e.from,s,r]);this._active=!0,this._fn=e.fn||ABe[e.type||typeof a],this._easing=Sg[e.easing]||Sg.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=a,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,a=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Hg([e.to,t,r,e.from]),this._from=Hg([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,r=this._prop,s=this._from,a=this._loop,c=this._to;let d;if(this._active=s!==c&&(a||t<i),!this._active)return this._target[r]=c,void this._notify(!0);t<0?this._target[r]=s:(d=t/i%2,d=a&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[r]=this._fn(s,c,d))}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][t]()}}Xn.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const VBe=Object.keys(Xn.animation);Xn.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:n=>"onProgress"!==n&&"onComplete"!==n&&"fn"!==n}),Xn.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),Xn.describe("animations",{_fallback:"animation"}),Xn.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:n=>0|n}}}});class DK{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Jn(e))return;const t=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const r=e[i];if(!Jn(r))return;const s={};for(const a of VBe)s[a]=r[a];(s2(r.properties)&&r.properties||[i]).forEach(a=>{(a===i||!t.has(a))&&t.set(a,s)})})}_animateOptions(e,t){const i=t.options,r=function NBe(n,e){if(!e)return;let t=n.options;if(t)return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t;n.options=e}(e,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&function IBe(n,e){const t=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const s=n[i[r]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,t){const i=this._properties,r=[],s=e.$animations||(e.$animations={}),a=Object.keys(t),c=Date.now();let d;for(d=a.length-1;d>=0;--d){const h=a[d];if("$"===h.charAt(0))continue;if("options"===h){r.push(...this._animateOptions(e,t));continue}const g=t[h];let y=s[h];const M=i.get(h);if(y){if(M&&y.active()){y.update(M,g,c);continue}y.cancel()}M&&M.duration?(s[h]=y=new HBe(M,e,h,g),r.push(y)):e[h]=g}return r}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const i=this._createAnimations(e,t);return i.length?(n6.add(this._chart,i),!0):void 0}}function kK(n,e){const t=n&&n.options||{},i=t.reverse,r=void 0===t.min?e:0,s=void 0===t.max?e:0;return{start:i?s:r,end:i?r:s}}function zK(n,e){const t=[],i=n._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)t.push(i[r].index);return t}function AK(n,e,t,i={}){const r=n.keys,s="single"===i.mode;let a,c,d,h;if(null!==e){for(a=0,c=r.length;a<c;++a){if(d=+r[a],d===t){if(i.all)continue;break}h=n.values[d],hi(h)&&(s||0===e||cc(e)===cc(h))&&(e+=h)}return e}}function HK(n,e){const t=n&&n.options.stacked;return t||void 0===t&&void 0!==e.stack}function UBe(n,e,t){const i=n[e]||(n[e]={});return i[t]||(i[t]={})}function LK(n,e,t,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const s=n[r.index];if(t&&s>0||!t&&s<0)return r.index}return null}function EK(n,e){const{chart:t,_cachedMeta:i}=n,r=t._stacks||(t._stacks={}),{iScale:s,vScale:a,index:c}=i,d=s.axis,h=a.axis,g=function FBe(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}(s,a,i),y=e.length;let M;for(let S=0;S<y;++S){const k=e[S],{[d]:A,[h]:L}=k;M=(k._stacks||(k._stacks={}))[h]=UBe(r,g,A),M[c]=L,M._top=LK(M,a,!0,i.type),M._bottom=LK(M,a,!1,i.type)}}function mL(n,e){const t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function Eg(n,e){const t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const r of e){const s=r._stacks;if(!s||void 0===s[i]||void 0===s[i][t])return;delete s[i][t]}}}const gL=n=>"reset"===n||"none"===n,VK=(n,e)=>e?n:Object.assign({},n);let lc=(()=>{class n{constructor(t,i){this.chart=t,this._ctx=t.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=HK(t.vScale,t),this.addElements()}updateIndex(t){this.index!==t&&Eg(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,i=this._cachedMeta,r=this.getDataset(),s=(M,S,k,A)=>"x"===M?S:"r"===M?A:k,a=i.xAxisID=Hn(r.xAxisID,mL(t,"x")),c=i.yAxisID=Hn(r.yAxisID,mL(t,"y")),d=i.rAxisID=Hn(r.rAxisID,mL(t,"r")),h=i.indexAxis,g=i.iAxisID=s(h,a,c,d),y=i.vAxisID=s(h,c,a,d);i.xScale=this.getScaleForId(a),i.yScale=this.getScaleForId(c),i.rScale=this.getScaleForId(d),i.iScale=this.getScaleForId(g),i.vScale=this.getScaleForId(y)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const i=this._cachedMeta;return t===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&OZ(this._data,this),t._stacked&&Eg(t)}_dataCheck(){const t=this.getDataset(),i=t.data||(t.data=[]),r=this._data;if(Jn(i))this._data=function OBe(n){const e=Object.keys(n),t=new Array(e.length);let i,r,s;for(i=0,r=e.length;i<r;++i)s=e[i],t[i]={x:s,y:n[s]};return t}(i);else if(r!==i){if(r){OZ(r,this);const s=this._cachedMeta;Eg(s),s._parsed=[]}i&&Object.isExtensible(i)&&function fFe(n,e){n._chartjs?n._chartjs.listeners.push(e):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),RZ.forEach(t=>{const i="_onData"+ZH(t),r=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...s){const a=r.apply(this,s);return n._chartjs.listeners.forEach(c=>{"function"==typeof c[i]&&c[i](...s)}),a}})}))}(i,this),this._syncList=[],this._data=i}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const i=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const a=i._stacked;i._stacked=HK(i.vScale,i),i.stack!==r.stack&&(s=!0,Eg(i),i.stack=r.stack),this._resyncElements(t),(s||a!==i._stacked)&&EK(this,i._parsed)}configure(){const t=this.chart.config,i=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),i,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,i){const{_cachedMeta:r,_data:s}=this,{iScale:a,_stacked:c}=r,d=a.axis;let y,M,S,h=0===t&&i===s.length||r._sorted,g=t>0&&r._parsed[t-1];if(!1===this._parsing)r._parsed=s,r._sorted=!0,S=s;else{S=s2(s[t])?this.parseArrayData(r,s,t,i):Jn(s[t])?this.parseObjectData(r,s,t,i):this.parsePrimitiveData(r,s,t,i);const k=()=>null===M[d]||g&&M[d]<g[d];for(y=0;y<i;++y)r._parsed[y+t]=M=S[y],h&&(k()&&(h=!1),g=M);r._sorted=h}c&&EK(this,S)}parsePrimitiveData(t,i,r,s){const{iScale:a,vScale:c}=t,d=a.axis,h=c.axis,g=a.getLabels(),y=a===c,M=new Array(s);let S,k,A;for(S=0,k=s;S<k;++S)A=S+r,M[S]={[d]:y||a.parse(g[A],A),[h]:c.parse(i[A],A)};return M}parseArrayData(t,i,r,s){const{xScale:a,yScale:c}=t,d=new Array(s);let h,g,y,M;for(h=0,g=s;h<g;++h)y=h+r,M=i[y],d[h]={x:a.parse(M[0],y),y:c.parse(M[1],y)};return d}parseObjectData(t,i,r,s){const{xScale:a,yScale:c}=t,{xAxisKey:d="x",yAxisKey:h="y"}=this._parsing,g=new Array(s);let y,M,S,k;for(y=0,M=s;y<M;++y)S=y+r,k=i[S],g[y]={x:a.parse(rl(k,d),S),y:c.parse(rl(k,h),S)};return g}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,i,r){const a=this._cachedMeta,c=i[t.axis];return AK({keys:zK(this.chart,!0),values:i._stacks[t.axis]},c,a.index,{mode:r})}updateRangeFromParsed(t,i,r,s){const a=r[i.axis];let c=null===a?NaN:a;const d=s&&r._stacks[i.axis];s&&d&&(s.values=d,c=AK(s,a,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,i){const r=this._cachedMeta,s=r._parsed,a=r._sorted&&t===r.iScale,c=s.length,d=this._getOtherScale(t),h=((n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:zK(this.chart,!0),values:null})(i,r),g={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:y,max:M}=function BBe(n){const{min:e,max:t,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}(d);let S,k;function A(){k=s[S];const L=k[d.axis];return!hi(k[t.axis])||y>L||M<L}for(S=0;S<c&&(A()||(this.updateRangeFromParsed(g,t,k,h),!a));++S);if(a)for(S=c-1;S>=0;--S)if(!A()){this.updateRangeFromParsed(g,t,k,h);break}return g}getAllParsedValues(t){const i=this._cachedMeta._parsed,r=[];let s,a,c;for(s=0,a=i.length;s<a;++s)c=i[s][t.axis],hi(c)&&r.push(c);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const i=this._cachedMeta,r=i.iScale,s=i.vScale,a=this.getParsed(t);return{label:r?""+r.getLabelForValue(a[r.axis]):"",value:s?""+s.getLabelForValue(a[s.axis]):""}}_update(t){const i=this._cachedMeta;this.update(t||"default"),i._clip=function RBe(n){let e,t,i,r;return Jn(n)?(e=n.top,t=n.right,i=n.bottom,r=n.left):e=t=i=r=n,{top:e,right:t,bottom:i,left:r,disabled:!1===n}}(Hn(this.options.clip,function PBe(n,e,t){if(!1===t)return!1;const i=kK(n,t),r=kK(e,t);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(i.xScale,i.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,r=this._cachedMeta,s=r.data||[],a=this.chart.chartArea,c=[],d=this._drawStart||0,h=this._drawCount||s.length-d,g=this.options.drawActiveElementsOnTop;let y;for(r.dataset&&r.dataset.draw(t,a,d,h),y=d;y<d+h;++y){const M=s[y];M.hidden||(M.active&&g?c.push(M):M.draw(t,a))}for(y=0;y<c.length;++y)c[y].draw(t,a)}getStyle(t,i){const r=i?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,i,r){const s=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];a=c.$context||(c.$context=function WBe(n,e,t){return cl(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}(this.getContext(),t,c)),a.parsed=this.getParsed(t),a.raw=s.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=function jBe(n,e){return cl(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),a.dataset=s,a.index=a.datasetIndex=this.index;return a.active=!!i,a.mode=r,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,i){return this._resolveElementOptions(this.dataElementType.id,i,t)}_resolveElementOptions(t,i="default",r){const s="active"===i,a=this._cachedDataOpts,c=t+"-"+i,d=a[c],h=this.enableOptionSharing&&No(r);if(d)return VK(d,h);const g=this.chart.config,y=g.datasetElementScopeKeys(this._type,t),M=s?[`${t}Hover`,"hover",t,""]:[t,""],S=g.getOptionScopes(this.getDataset(),y),k=Object.keys(Xn.elements[t]),L=g.resolveNamedOptions(S,k,()=>this.getContext(r,s),M);return L.$shared&&(L.$shared=h,a[c]=Object.freeze(VK(L,h))),L}_resolveAnimations(t,i,r){const s=this.chart,a=this._cachedDataOpts,c=`animation-${i}`,d=a[c];if(d)return d;let h;if(!1!==s.options.animation){const y=this.chart.config,M=y.datasetAnimationScopeKeys(this._type,i),S=y.getOptionScopes(this.getDataset(),M);h=y.createResolver(S,this.getContext(t,r,i))}const g=new DK(s,h&&h.animations);return h&&h._cacheable&&(a[c]=Object.freeze(g)),g}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,i){return!i||gL(t)||this.chart._animationsDisabled}_getSharedOptions(t,i){const r=this.resolveDataElementOptions(t,i),s=this._sharedOptions,a=this.getSharedOptions(r),c=this.includeOptions(i,a)||a!==s;return this.updateSharedOptions(a,i,r),{sharedOptions:a,includeOptions:c}}updateElement(t,i,r,s){gL(s)?Object.assign(t,r):this._resolveAnimations(i,s).update(t,r)}updateSharedOptions(t,i,r){t&&!gL(i)&&this._resolveAnimations(void 0,i).update(t,r)}_setStyle(t,i,r,s){t.active=s;const a=this.getStyle(i,s);this._resolveAnimations(i,r,s).update(t,{options:!s&&this.getSharedOptions(a)||a})}removeHoverStyle(t,i,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,i,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const i=this._data,r=this._cachedMeta.data;for(const[d,h,g]of this._syncList)this[d](h,g);this._syncList=[];const s=r.length,a=i.length,c=Math.min(a,s);c&&this.parse(0,c),a>s?this._insertElements(s,a-s,t):a<s&&this._removeElements(a,s-a)}_insertElements(t,i,r=!0){const s=this._cachedMeta,a=s.data,c=t+i;let d;const h=g=>{for(g.length+=i,d=g.length-1;d>=c;d--)g[d]=g[d-i]};for(h(a),d=t;d<c;++d)a[d]=new this.dataElementType;this._parsing&&h(s._parsed),this.parse(t,i),r&&this.updateElements(a,t,i,"reset")}updateElements(t,i,r,s){}_removeElements(t,i){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(t,i);r._stacked&&Eg(r,s)}r.data.splice(t,i)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[i,r,s]=t;this[i](r,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,i){i&&this._sync(["_removeElements",t,i]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return n.defaults={},n})();function GBe(n){const e=n.iScale,t=function qBe(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let i=[];for(let r=0,s=t.length;r<s;r++)i=i.concat(t[r].controller.getAllParsedValues(n));n._cache.$bar=FZ(i.sort((r,s)=>r-s))}return n._cache.$bar}(e,n.type);let r,s,a,c,i=e._length;const d=()=>{32767===a||-32768===a||(No(c)&&(i=Math.min(i,Math.abs(a-c)||i)),c=a)};for(r=0,s=t.length;r<s;++r)a=e.getPixelForValue(t[r]),d();for(c=void 0,r=0,s=e.ticks.length;r<s;++r)a=e.getPixelForTick(r),d();return i}function IK(n,e,t,i){return s2(n)?function KBe(n,e,t,i){const r=t.parse(n[0],i),s=t.parse(n[1],i),a=Math.min(r,s),c=Math.max(r,s);let d=a,h=c;Math.abs(a)>Math.abs(c)&&(d=c,h=a),e[t.axis]=h,e._custom={barStart:d,barEnd:h,start:r,end:s,min:a,max:c}}(n,e,t,i):e[t.axis]=t.parse(n,i),e}function NK(n,e,t,i){const r=n.iScale,s=n.vScale,a=r.getLabels(),c=r===s,d=[];let h,g,y,M;for(h=t,g=t+i;h<g;++h)M=e[h],y={},y[r.axis]=c||r.parse(a[h],h),d.push(IK(M,y,s,h));return d}function _L(n){return n&&void 0!==n.barStart&&void 0!==n.barEnd}function XBe(n,e,t,i){let r=e.borderSkipped;const s={};if(!r)return void(n.borderSkipped=s);if(!0===r)return void(n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:a,end:c,reverse:d,top:h,bottom:g}=function JBe(n){let e,t,i,r,s;return n.horizontal?(e=n.base>n.x,t="left",i="right"):(e=n.base<n.y,t="bottom",i="top"),e?(r="end",s="start"):(r="start",s="end"),{start:t,end:i,reverse:e,top:r,bottom:s}}(n);"middle"===r&&t&&(n.enableBorderRadius=!0,(t._top||0)===i?r=h:(t._bottom||0)===i?r=g:(s[PK(g,a,c,d)]=!0,r=h)),s[PK(r,a,c,d)]=!0,n.borderSkipped=s}function PK(n,e,t,i){return i?(n=function eUe(n,e,t){return n===e?t:n===t?e:n}(n,e,t),n=RK(n,t,e)):n=RK(n,e,t),n}function RK(n,e,t){return"start"===n?e:"end"===n?t:n}function tUe(n,{inflateAmount:e},t){n.inflateAmount="auto"===e?1===t?.33:0:e}lc.prototype.datasetElementType=null,lc.prototype.dataElementType=null;let nUe=(()=>{class n extends lc{parsePrimitiveData(t,i,r,s){return NK(t,i,r,s)}parseArrayData(t,i,r,s){return NK(t,i,r,s)}parseObjectData(t,i,r,s){const{iScale:a,vScale:c}=t,{xAxisKey:d="x",yAxisKey:h="y"}=this._parsing,g="x"===a.axis?d:h,y="x"===c.axis?d:h,M=[];let S,k,A,L;for(S=r,k=r+s;S<k;++S)L=i[S],A={},A[a.axis]=a.parse(rl(L,g),S),M.push(IK(rl(L,y),A,c,S));return M}updateRangeFromParsed(t,i,r,s){super.updateRangeFromParsed(t,i,r,s);const a=r._custom;a&&i===this._cachedMeta.vScale&&(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const i=this._cachedMeta,{iScale:r,vScale:s}=i,a=this.getParsed(t),c=a._custom,d=_L(c)?"["+c.start+", "+c.end+"]":""+s.getLabelForValue(a[s.axis]);return{label:""+r.getLabelForValue(a[r.axis]),value:d}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(t){const i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,t)}updateElements(t,i,r,s){const a="reset"===s,{index:c,_cachedMeta:{vScale:d}}=this,h=d.getBasePixel(),g=d.isHorizontal(),y=this._getRuler(),{sharedOptions:M,includeOptions:S}=this._getSharedOptions(i,s);for(let k=i;k<i+r;k++){const A=this.getParsed(k),L=a||f1(A[d.axis])?{base:h,head:h}:this._calculateBarValuePixels(k),B=this._calculateBarIndexPixels(k,y),G=(A._stacks||{})[d.axis],X={horizontal:g,base:L.base,enableBorderRadius:!G||_L(A._custom)||c===G._top||c===G._bottom,x:g?L.head:B.center,y:g?B.center:L.head,height:g?B.size:Math.abs(L.size),width:g?Math.abs(L.size):B.size};S&&(X.options=M||this.resolveDataElementOptions(k,t[k].active?"active":s));const te=X.options||t[k].options;XBe(X,te,G,c),tUe(X,te,y.ratio),this.updateElement(t[k],k,X,s)}}_getStacks(t,i){const{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),a=r.options.stacked,c=[],d=h=>{const g=h.controller.getParsed(i),y=g&&g[h.vScale.axis];if(f1(y)||isNaN(y))return!0};for(const h of s)if((void 0===i||!d(h))&&((!1===a||-1===c.indexOf(h.stack)||void 0===a&&void 0===h.stack)&&c.push(h.stack),h.index===t))break;return c.length||c.push(void 0),c}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,i,r){const s=this._getStacks(t,r),a=void 0!==i?s.indexOf(i):-1;return-1===a?s.length-1:a}_getRuler(){const t=this.options,i=this._cachedMeta,r=i.iScale,s=[];let a,c;for(a=0,c=i.data.length;a<c;++a)s.push(r.getPixelForValue(this.getParsed(a)[r.axis],a));const d=t.barThickness;return{min:d||GBe(i),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:d?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:i,_stacked:r},options:{base:s,minBarLength:a}}=this,c=s||0,d=this.getParsed(t),h=d._custom,g=_L(h);let k,A,y=d[i.axis],M=0,S=r?this.applyStack(i,d,r):y;S!==y&&(M=S-y,S=y),g&&(y=h.barStart,S=h.barEnd-h.barStart,0!==y&&cc(y)!==cc(h.barEnd)&&(M=0),M+=y);const L=f1(s)||g?M:s;let B=i.getPixelForValue(L);if(k=this.chart.getDataVisibility(t)?i.getPixelForValue(M+S):B,A=k-B,Math.abs(A)<a){A=function QBe(n,e,t){return 0!==n?cc(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}(A,i,c)*a,y===c&&(B-=A/2);const G=i.getPixelForDecimal(0),X=i.getPixelForDecimal(1),te=Math.min(G,X),re=Math.max(G,X);B=Math.max(Math.min(B,re),te),k=B+A}if(B===i.getPixelForValue(c)){const G=cc(A)*i.getLineWidthForValue(c)/2;B+=G,A-=G}return{size:A,base:B,head:k,center:k+A/2}}_calculateBarIndexPixels(t,i){const r=i.scale,s=this.options,a=s.skipNull,c=Hn(s.maxBarThickness,1/0);let d,h;if(i.grouped){const g=a?this._getStackCount(t):i.stackCount,y="flex"===s.barThickness?function ZBe(n,e,t,i){const r=e.pixels,s=r[n];let a=n>0?r[n-1]:null,c=n<r.length-1?r[n+1]:null;const d=t.categoryPercentage;null===a&&(a=s-(null===c?e.end-e.start:c-s)),null===c&&(c=s+s-a);const h=s-(s-Math.min(a,c))/2*d;return{chunk:Math.abs(c-a)/2*d/i,ratio:t.barPercentage,start:h}}(t,i,s,g):function $Be(n,e,t,i){const r=t.barThickness;let s,a;return f1(r)?(s=e.min*t.categoryPercentage,a=t.barPercentage):(s=r*i,a=1),{chunk:s/i,ratio:a,start:e.pixels[n]-s/2}}(t,i,s,g),M=this._getStackIndex(this.index,this._cachedMeta.stack,a?t:void 0);d=y.start+y.chunk*M+y.chunk/2,h=Math.min(c,y.chunk*y.ratio)}else d=r.getPixelForValue(this.getParsed(t)[r.axis],t),h=Math.min(c,i.min*i.ratio);return{base:d-h/2,head:d+h/2,center:d,size:h}}draw(){const t=this._cachedMeta,i=t.vScale,r=t.data,s=r.length;let a=0;for(;a<s;++a)null!==this.getParsed(a)[i.axis]&&r[a].draw(this._ctx)}}return n.id="bar",n.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},n.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}},n})(),iUe=(()=>{class n extends lc{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,i,r,s){const a=super.parsePrimitiveData(t,i,r,s);for(let c=0;c<a.length;c++)a[c]._custom=this.resolveDataElementOptions(c+r).radius;return a}parseArrayData(t,i,r,s){const a=super.parseArrayData(t,i,r,s);for(let c=0;c<a.length;c++)a[c]._custom=Hn(i[r+c][2],this.resolveDataElementOptions(c+r).radius);return a}parseObjectData(t,i,r,s){const a=super.parseObjectData(t,i,r,s);for(let c=0;c<a.length;c++){const d=i[r+c];a[c]._custom=Hn(d&&d.r&&+d.r,this.resolveDataElementOptions(c+r).radius)}return a}getMaxOverflow(){const t=this._cachedMeta.data;let i=0;for(let r=t.length-1;r>=0;--r)i=Math.max(i,t[r].size(this.resolveDataElementOptions(r))/2);return i>0&&i}getLabelAndValue(t){const i=this._cachedMeta,{xScale:r,yScale:s}=i,a=this.getParsed(t),c=r.getLabelForValue(a.x),d=s.getLabelForValue(a.y),h=a._custom;return{label:i.label,value:"("+c+", "+d+(h?", "+h:"")+")"}}update(t){const i=this._cachedMeta.data;this.updateElements(i,0,i.length,t)}updateElements(t,i,r,s){const a="reset"===s,{iScale:c,vScale:d}=this._cachedMeta,{sharedOptions:h,includeOptions:g}=this._getSharedOptions(i,s),y=c.axis,M=d.axis;for(let S=i;S<i+r;S++){const k=t[S],A=!a&&this.getParsed(S),L={},B=L[y]=a?c.getPixelForDecimal(.5):c.getPixelForValue(A[y]),G=L[M]=a?d.getBasePixel():d.getPixelForValue(A[M]);L.skip=isNaN(B)||isNaN(G),g&&(L.options=h||this.resolveDataElementOptions(S,k.active?"active":s),a&&(L.options.radius=0)),this.updateElement(k,S,L,s)}}resolveDataElementOptions(t,i){const r=this.getParsed(t);let s=super.resolveDataElementOptions(t,i);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const a=s.radius;return"active"!==i&&(s.radius=0),s.radius+=Hn(r&&r._custom,a),s}}return n.id="bubble",n.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},n.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}},n})(),OK=(()=>{class n extends lc{constructor(t,i){super(t,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,i){const r=this.getDataset().data,s=this._cachedMeta;if(!1===this._parsing)s._parsed=r;else{let c,d,a=h=>+r[h];if(Jn(r[t])){const{key:h="value"}=this._parsing;a=g=>+rl(r[g],h)}for(c=t,d=t+i;c<d;++c)s._parsed[c]=a(c)}}_getRotation(){return Ba(this.options.rotation-90)}_getCircumference(){return Ba(this.options.circumference)}_getRotationExtents(){let t=O1,i=-O1;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)){const s=this.chart.getDatasetMeta(r).controller,a=s._getRotation(),c=s._getCircumference();t=Math.min(t,a),i=Math.max(i,a+c)}return{rotation:t,circumference:i-t}}update(t){const i=this.chart,{chartArea:r}=i,s=this._cachedMeta,a=s.data,c=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,d=Math.max((Math.min(r.width,r.height)-c)/2,0),h=Math.min(((n,e)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100:n/e)(this.options.cutout,d),1),g=this._getRingWeight(this.index),{circumference:y,rotation:M}=this._getRotationExtents(),{ratioX:S,ratioY:k,offsetX:A,offsetY:L}=function rUe(n,e,t){let i=1,r=1,s=0,a=0;if(e<O1){const c=n,d=c+e,h=Math.cos(c),g=Math.sin(c),y=Math.cos(d),M=Math.sin(d),S=(X,te,re)=>xg(X,c,d,!0)?1:Math.max(te,te*t,re,re*t),k=(X,te,re)=>xg(X,c,d,!0)?-1:Math.min(te,te*t,re,re*t),A=S(0,h,y),L=S(ii,g,M),B=k(E2,h,y),G=k(E2+ii,g,M);i=(A-B)/2,r=(L-G)/2,s=-(A+B)/2,a=-(L+G)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:a}}(M,y,h),X=Math.max(Math.min((r.width-c)/S,(r.height-c)/k)/2,0),te=zZ(this.options.radius,X),be=(te-Math.max(te*h,0))/this._getVisibleDatasetWeightTotal();this.offsetX=A*te,this.offsetY=L*te,s.total=this.calculateTotal(),this.outerRadius=te-be*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-be*g,0),this.updateElements(a,0,a.length,t)}_circumference(t,i){const r=this.options,s=this._cachedMeta,a=this._getCircumference();return i&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||null===s._parsed[t]||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*a/O1)}updateElements(t,i,r,s){const a="reset"===s,c=this.chart,d=c.chartArea,y=(d.left+d.right)/2,M=(d.top+d.bottom)/2,S=a&&c.options.animation.animateScale,k=S?0:this.innerRadius,A=S?0:this.outerRadius,{sharedOptions:L,includeOptions:B}=this._getSharedOptions(i,s);let X,G=this._getRotation();for(X=0;X<i;++X)G+=this._circumference(X,a);for(X=i;X<i+r;++X){const te=this._circumference(X,a),re=t[X],be={x:y+this.offsetX,y:M+this.offsetY,startAngle:G,endAngle:G+te,circumference:te,outerRadius:A,innerRadius:k};B&&(be.options=L||this.resolveDataElementOptions(X,re.active?"active":s)),G+=te,this.updateElement(re,X,be,s)}}calculateTotal(){const t=this._cachedMeta,i=t.data;let s,r=0;for(s=0;s<i.length;s++){const a=t._parsed[s];null!==a&&!isNaN(a)&&this.chart.getDataVisibility(s)&&!i[s].hidden&&(r+=Math.abs(a))}return r}calculateCircumference(t){const i=this._cachedMeta.total;return i>0&&!isNaN(t)?O1*(Math.abs(t)/i):0}getLabelAndValue(t){const r=this.chart,s=r.data.labels||[],a=Lg(this._cachedMeta._parsed[t],r.options.locale);return{label:s[t]||"",value:a}}getMaxBorderWidth(t){let i=0;const r=this.chart;let s,a,c,d,h;if(!t)for(s=0,a=r.data.datasets.length;s<a;++s)if(r.isDatasetVisible(s)){c=r.getDatasetMeta(s),t=c.data,d=c.controller;break}if(!t)return 0;for(s=0,a=t.length;s<a;++s)h=d.resolveDataElementOptions(s),"inner"!==h.borderAlign&&(i=Math.max(i,h.borderWidth||0,h.hoverBorderWidth||0));return i}getMaxOffset(t){let i=0;for(let r=0,s=t.length;r<s;++r){const a=this.resolveDataElementOptions(r);i=Math.max(i,a.offset||0,a.hoverOffset||0)}return i}_getRingWeightOffset(t){let i=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(i+=this._getRingWeight(r));return i}_getRingWeight(t){return Math.max(Hn(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return n.id="doughnut",n.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},n.descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e},n.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i}}=e.legend.options;return t.labels.map((r,s)=>{const c=e.getDatasetMeta(0).controller.getStyle(s);return{text:r,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,lineWidth:c.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(s),index:s}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}},tooltip:{callbacks:{title:()=>"",label(e){let t=e.label;const i=": "+e.formattedValue;return s2(t)?(t=t.slice(),t[0]+=i):t+=i,t}}}}},n})(),sUe=(()=>{class n extends lc{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const i=this._cachedMeta,{dataset:r,data:s=[],_dataset:a}=i,c=this.chart._animationsDisabled;let{start:d,count:h}=jZ(i,s,c);this._drawStart=d,this._drawCount=h,WZ(i)&&(d=0,h=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!a._decimated,r.points=s;const g=this.resolveDatasetElementOptions(t);this.options.showLine||(g.borderWidth=0),g.segment=this.options.segment,this.updateElement(r,void 0,{animated:!c,options:g},t),this.updateElements(s,d,h,t)}updateElements(t,i,r,s){const a="reset"===s,{iScale:c,vScale:d,_stacked:h,_dataset:g}=this._cachedMeta,{sharedOptions:y,includeOptions:M}=this._getSharedOptions(i,s),S=c.axis,k=d.axis,{spanGaps:A,segment:L}=this.options,B=Rf(A)?A:Number.POSITIVE_INFINITY,G=this.chart._animationsDisabled||a||"none"===s;let X=i>0&&this.getParsed(i-1);for(let te=i;te<i+r;++te){const re=t[te],be=this.getParsed(te),Ee=G?re:{},rt=f1(be[k]),dt=Ee[S]=c.getPixelForValue(be[S],te),_n=Ee[k]=a||rt?d.getBasePixel():d.getPixelForValue(h?this.applyStack(d,be,h):be[k],te);Ee.skip=isNaN(dt)||isNaN(_n)||rt,Ee.stop=te>0&&Math.abs(be[S]-X[S])>B,L&&(Ee.parsed=be,Ee.raw=g.data[te]),M&&(Ee.options=y||this.resolveDataElementOptions(te,re.active?"active":s)),G||this.updateElement(re,te,Ee,s),X=be}}getMaxOverflow(){const t=this._cachedMeta,i=t.dataset,r=i.options&&i.options.borderWidth||0,s=t.data||[];if(!s.length)return r;const a=s[0].size(this.resolveDataElementOptions(0)),c=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,a,c)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}return n.id="line",n.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},n.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}},n})(),oUe=(()=>{class n extends lc{constructor(t,i){super(t,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const r=this.chart,s=r.data.labels||[],a=Lg(this._cachedMeta._parsed[t].r,r.options.locale);return{label:s[t]||"",value:a}}parseObjectData(t,i,r,s){return fK.bind(this)(t,i,r,s)}update(t){const i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,t)}getMinMax(){const i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((r,s)=>{const a=this.getParsed(s).r;!isNaN(a)&&this.chart.getDataVisibility(s)&&(a<i.min&&(i.min=a),a>i.max&&(i.max=a))}),i}_updateRadius(){const t=this.chart,i=t.chartArea,r=t.options,s=Math.min(i.right-i.left,i.bottom-i.top),a=Math.max(s/2,0),d=(a-Math.max(r.cutoutPercentage?a/100*r.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=a-d*this.index,this.innerRadius=this.outerRadius-d}updateElements(t,i,r,s){const a="reset"===s,c=this.chart,h=c.options.animation,g=this._cachedMeta.rScale,y=g.xCenter,M=g.yCenter,S=g.getIndexAngle(0)-.5*E2;let A,k=S;const L=360/this.countVisibleElements();for(A=0;A<i;++A)k+=this._computeAngle(A,s,L);for(A=i;A<i+r;A++){const B=t[A];let G=k,X=k+this._computeAngle(A,s,L),te=c.getDataVisibility(A)?g.getDistanceFromCenterForValue(this.getParsed(A).r):0;k=X,a&&(h.animateScale&&(te=0),h.animateRotate&&(G=X=S));const re={x:y,y:M,innerRadius:0,outerRadius:te,startAngle:G,endAngle:X,options:this.resolveDataElementOptions(A,B.active?"active":s)};this.updateElement(B,A,re,s)}}countVisibleElements(){let i=0;return this._cachedMeta.data.forEach((r,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&i++}),i}_computeAngle(t,i,r){return this.chart.getDataVisibility(t)?Ba(this.resolveDataElementOptions(t,i).angle||r):0}}return n.id="polarArea",n.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},n.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i}}=e.legend.options;return t.labels.map((r,s)=>{const c=e.getDatasetMeta(0).controller.getStyle(s);return{text:r,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,lineWidth:c.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(s),index:s}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}},tooltip:{callbacks:{title:()=>"",label:e=>e.chart.data.labels[e.dataIndex]+": "+e.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}},n})(),aUe=(()=>{class n extends OK{}return n.id="pie",n.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"},n})(),cUe=(()=>{class n extends lc{getLabelAndValue(t){const i=this._cachedMeta.vScale,r=this.getParsed(t);return{label:i.getLabels()[t],value:""+i.getLabelForValue(r[i.axis])}}parseObjectData(t,i,r,s){return fK.bind(this)(t,i,r,s)}update(t){const i=this._cachedMeta,r=i.dataset,s=i.data||[],a=i.iScale.getLabels();if(r.points=s,"resize"!==t){const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),this.updateElement(r,void 0,{_loop:!0,_fullLoop:a.length===s.length,options:c},t)}this.updateElements(s,0,s.length,t)}updateElements(t,i,r,s){const a=this._cachedMeta.rScale,c="reset"===s;for(let d=i;d<i+r;d++){const h=t[d],g=this.resolveDataElementOptions(d,h.active?"active":s),y=a.getPointPositionForValue(d,this.getParsed(d).r),M=c?a.xCenter:y.x,S=c?a.yCenter:y.y,k={x:M,y:S,angle:y.angle,skip:isNaN(M)||isNaN(S),options:g};this.updateElement(h,d,k,s)}}}return n.id="radar",n.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},n.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}},n})();class Ua{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return Rf(this.x)&&Rf(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}}Ua.defaults={},Ua.defaultRoutes=void 0;const FK={values:n=>s2(n)?n:""+n,numeric(n,e,t){if(0===n)return"0";const i=this.chart.options.locale;let r,s=n;if(t.length>1){const h=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(h<1e-4||h>1e15)&&(r="scientific"),s=function lUe(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}(n,t)}const a=Po(Math.abs(s)),c=Math.max(Math.min(-1*Math.floor(a),20),0),d={notation:r,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(d,this.options.ticks.format),Lg(n,i,d)},logarithmic(n,e,t){if(0===n)return"0";const i=n/Math.pow(10,Math.floor(Po(n)));return 1===i||2===i||5===i?FK.numeric.call(this,n,e,t):""}};var Tw={formatters:FK};function Dw(n,e,t,i,r){const s=Hn(i,0),a=Math.min(Hn(r,n.length),n.length);let d,h,g,c=0;for(t=Math.ceil(t),r&&(d=r-i,t=d/Math.floor(d/t)),g=s;g<0;)c++,g=Math.round(s+c*t);for(h=Math.max(s,0);h<a;h++)h===g&&(e.push(n[h]),c++,g=Math.round(s+c*t))}Xn.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(n,e)=>e.lineWidth,tickColor:(n,e)=>e.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Tw.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),Xn.route("scale.ticks","color","","color"),Xn.route("scale.grid","color","","borderColor"),Xn.route("scale.grid","borderColor","","borderColor"),Xn.route("scale.title","color","","color"),Xn.describe("scale",{_fallback:!1,_scriptable:n=>!n.startsWith("before")&&!n.startsWith("after")&&"callback"!==n&&"parser"!==n,_indexable:n=>"borderDash"!==n&&"tickBorderDash"!==n}),Xn.describe("scales",{_fallback:"scale"}),Xn.describe("scale.ticks",{_scriptable:n=>"backdropPadding"!==n&&"callback"!==n,_indexable:n=>"backdropPadding"!==n});const gUe=n=>"left"===n?"right":"right"===n?"left":n,BK=(n,e,t)=>"top"===e||"left"===e?n[e]+t:n[e]-t;function UK(n,e){const t=[],i=n.length/e,r=n.length;let s=0;for(;s<r;s+=i)t.push(n[Math.floor(s)]);return t}function _Ue(n,e,t){const i=n.ticks.length,r=Math.min(e,i-1),s=n._startPixel,a=n._endPixel,c=1e-6;let h,d=n.getPixelForTick(r);if(!(t&&(h=1===i?Math.max(d-s,a-d):0===e?(n.getPixelForTick(1)-d)/2:(d-n.getPixelForTick(r-1))/2,d+=r<e?h:-h,d<s-c||d>a+c)))return d}function Vg(n){return n.drawTicks?n.tickLength:0}function jK(n,e){if(!n.display)return 0;const t=Fi(n.font,e),i=zr(n.padding);return(s2(n.text)?n.text.length:1)*t.lineHeight+i.height}function bUe(n,e,t){let i=XH(n);return(t&&"right"!==e||!t&&"right"===e)&&(i=gUe(i)),i}class ou extends Ua{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:r}=this;return e=Io(e,Number.POSITIVE_INFINITY),t=Io(t,Number.NEGATIVE_INFINITY),i=Io(i,Number.POSITIVE_INFINITY),r=Io(r,Number.NEGATIVE_INFINITY),{min:Io(e,i),max:Io(t,r),minDefined:hi(e),maxDefined:hi(t)}}getMinMax(e){let a,{min:t,max:i,minDefined:r,maxDefined:s}=this.getUserBounds();if(r&&s)return{min:t,max:i};const c=this.getMatchingVisibleMetas();for(let d=0,h=c.length;d<h;++d)a=c[d].controller.getMinMax(this,e),r||(t=Math.min(t,a.min)),s||(i=Math.max(i,a.max));return t=s&&t>i?i:t,i=r&&t>i?t:i,{min:Io(t,Io(i,t)),max:Io(i,Io(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){o2(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:r,grace:s,ticks:a}=this.options,c=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function $Fe(n,e,t){const{min:i,max:r}=n,s=zZ(e,(r-i)/2),a=(c,d)=>t&&0===c?0:c+d;return{min:a(i,-Math.abs(s)),max:a(r,s)}}(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=c<this.ticks.length;this._convertTicksToLabels(d?UK(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||"auto"===a.source)&&(this.ticks=function uUe(n,e){const t=n.options.ticks,i=t.maxTicksLimit||function dUe(n){const e=n.options.offset,t=n._tickSize();return Math.floor(Math.min(n._length/t+(e?0:1),n._maxLength/t))}(n),r=t.major.enabled?function hUe(n){const e=[];let t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}(e):[],s=r.length,a=r[0],c=r[s-1],d=[];if(s>i)return function pUe(n,e,t,i){let a,r=0,s=t[0];for(i=Math.ceil(i),a=0;a<n.length;a++)a===s&&(e.push(n[a]),r++,s=t[r*i])}(e,d,r,s/i),d;const h=function fUe(n,e,t){const i=function mUe(n){const e=n.length;let t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}(n),r=e.length/t;if(!i)return Math.max(r,1);const s=function oFe(n){const e=[],t=Math.sqrt(n);let i;for(i=1;i<t;i++)n%i==0&&(e.push(i),e.push(n/i));return t===(0|t)&&e.push(t),e.sort((r,s)=>r-s).pop(),e}(i);for(let a=0,c=s.length-1;a<c;a++){const d=s[a];if(d>r)return d}return Math.max(r,1)}(r,e,i);if(s>0){let g,y;const M=s>1?Math.round((c-a)/(s-1)):null;for(Dw(e,d,h,f1(M)?0:a-M,a),g=0,y=s-1;g<y;g++)Dw(e,d,h,r[g],r[g+1]);return Dw(e,d,h,c,f1(M)?e.length:c+M),d}return Dw(e,d,h),d}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,i,e=this.options.reverse;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){o2(this.options.afterUpdate,[this])}beforeSetDimensions(){o2(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){o2(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),o2(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){o2(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=o2(t.callback,[s.value,i,e],this)}afterTickToLabelConversion(){o2(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){o2(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=this.ticks.length,r=t.minRotation||0,s=t.maxRotation;let c,d,h,a=r;if(!this._isVisible()||!t.display||r>=s||i<=1||!this.isHorizontal())return void(this.labelRotation=r);const g=this._getLabelSizes(),y=g.widest.width,M=g.highest.height,S=Ji(this.chart.width-y,0,this.maxWidth);c=e.offset?this.maxWidth/i:S/(i-1),y+6>c&&(c=S/(i-(e.offset?.5:1)),d=this.maxHeight-Vg(e.grid)-t.padding-jK(e.title,this.chart.options.font),h=Math.sqrt(y*y+M*M),a=KH(Math.min(Math.asin(Ji((g.highest.height+6)/c,-1,1)),Math.asin(Ji(d/h,-1,1))-Math.asin(Ji(M/h,-1,1)))),a=Math.max(r,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){o2(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){o2(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:r,grid:s}}=this,a=this._isVisible(),c=this.isHorizontal();if(a){const d=jK(r,t.options.font);if(c?(e.width=this.maxWidth,e.height=Vg(s)+d):(e.height=this.maxHeight,e.width=Vg(s)+d),i.display&&this.ticks.length){const{first:h,last:g,widest:y,highest:M}=this._getLabelSizes(),S=2*i.padding,k=Ba(this.labelRotation),A=Math.cos(k),L=Math.sin(k);c?e.height=Math.min(this.maxHeight,e.height+(i.mirror?0:L*y.width+A*M.height)+S):e.width=Math.min(this.maxWidth,e.width+(i.mirror?0:A*y.width+L*M.height)+S),this._calculatePadding(h,g,L,A)}}this._handleMargins(),c?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,r){const{ticks:{align:s,padding:a},position:c}=this.options,d=0!==this.labelRotation,h="top"!==c&&"x"===this.axis;if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let M=0,S=0;d?h?(M=r*e.width,S=i*t.height):(M=i*e.height,S=r*t.width):"start"===s?S=t.width:"end"===s?M=e.width:"inner"!==s&&(M=e.width/2,S=t.width/2),this.paddingLeft=Math.max((M-g+a)*this.width/(this.width-g),0),this.paddingRight=Math.max((S-y+a)*this.width/(this.width-y),0)}else{let g=t.height/2,y=e.height/2;"start"===s?(g=0,y=e.height):"end"===s&&(g=t.height,y=0),this.paddingTop=g+a,this.paddingBottom=y+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){o2(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,i=e.length;t<i;t++)f1(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=UK(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length)}return e}_computeLabelSizes(e,t){const{ctx:i,_longestTextCache:r}=this,s=[],a=[];let h,g,y,M,S,k,A,L,B,G,X,c=0,d=0;for(h=0;h<t;++h){if(M=e[h].label,S=this._resolveTickFontOptions(h),i.font=k=S.string,A=r[k]=r[k]||{data:{},gc:[]},L=S.lineHeight,B=G=0,f1(M)||s2(M)){if(s2(M))for(g=0,y=M.length;g<y;++g)X=M[g],!f1(X)&&!s2(X)&&(B=Cw(i,A.data,A.gc,B,X),G+=L)}else B=Cw(i,A.data,A.gc,B,M),G=L;s.push(B),a.push(G),c=Math.max(B,c),d=Math.max(G,d)}!function vUe(n,e){H1(n,t=>{const i=t.gc,r=i.length/2;let s;if(r>e){for(s=0;s<r;++s)delete t.data[i[s]];i.splice(0,r)}})}(r,t);const te=s.indexOf(c),re=a.indexOf(d),be=Ee=>({width:s[Ee]||0,height:a[Ee]||0});return{first:be(0),last:be(t-1),widest:be(te),highest:be(re),widths:s,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return function lFe(n){return Ji(n,-32768,32767)}(this._alignToPixels?eu(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=function CUe(n,e,t){return cl(n,{tick:t,index:e,type:"tick"})}(this.getContext(),e,i))}return this.$context||(this.$context=function yUe(n,e){return cl(n,{scale:e,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Ba(this.labelRotation),i=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),s=this._getLabelSizes(),a=e.autoSkipPadding||0,c=s?s.widest.width+a:0,d=s?s.highest.height+a:0;return this.isHorizontal()?d*i>c*r?c/i:d/r:d*r<c*i?d/i:c/r}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,r=this.options,{grid:s,position:a}=r,c=s.offset,d=this.isHorizontal(),g=this.ticks.length+(c?1:0),y=Vg(s),M=[],S=s.setContext(this.getContext()),k=S.drawBorder?S.borderWidth:0,A=k/2,L=function(bn){return eu(i,bn,k)};let B,G,X,te,re,be,Ee,rt,dt,_n,En,Tn;if("top"===a)B=L(this.bottom),be=this.bottom-y,rt=B-A,_n=L(e.top)+A,Tn=e.bottom;else if("bottom"===a)B=L(this.top),_n=e.top,Tn=L(e.bottom)-A,be=B+A,rt=this.top+y;else if("left"===a)B=L(this.right),re=this.right-y,Ee=B-A,dt=L(e.left)+A,En=e.right;else if("right"===a)B=L(this.left),dt=e.left,En=L(e.right)-A,re=B+A,Ee=this.left+y;else if("x"===t){if("center"===a)B=L((e.top+e.bottom)/2+.5);else if(Jn(a)){const bn=Object.keys(a)[0];B=L(this.chart.scales[bn].getPixelForValue(a[bn]))}_n=e.top,Tn=e.bottom,be=B+A,rt=be+y}else if("y"===t){if("center"===a)B=L((e.left+e.right)/2);else if(Jn(a)){const bn=Object.keys(a)[0];B=L(this.chart.scales[bn].getPixelForValue(a[bn]))}re=B-A,Ee=re-y,dt=e.left,En=e.right}const p1=Hn(r.ticks.maxTicksLimit,g),pi=Math.max(1,Math.ceil(g/p1));for(G=0;G<g;G+=pi){const bn=s.setContext(this.getContext(G)),ft=bn.lineWidth,Ct=bn.color,qt=bn.borderDash||[],kn=bn.borderDashOffset,y1=bn.tickWidth,os=bn.tickColor,zi=bn.tickBorderDash||[],Ss=bn.tickBorderDashOffset;X=_Ue(this,G,c),void 0!==X&&(te=eu(i,X,ft),d?re=Ee=dt=En=te:be=rt=_n=Tn=te,M.push({tx1:re,ty1:be,tx2:Ee,ty2:rt,x1:dt,y1:_n,x2:En,y2:Tn,width:ft,color:Ct,borderDash:qt,borderDashOffset:kn,tickWidth:y1,tickColor:os,tickBorderDash:zi,tickBorderDashOffset:Ss}))}return this._ticksLength=g,this._borderValue=B,M}_computeLabelItems(e){const t=this.axis,i=this.options,{position:r,ticks:s}=i,a=this.isHorizontal(),c=this.ticks,{align:d,crossAlign:h,padding:g,mirror:y}=s,M=Vg(i.grid),S=M+g,k=y?-g:S,A=-Ba(this.labelRotation),L=[];let B,G,X,te,re,be,Ee,rt,dt,_n,En,Tn,p1="middle";if("top"===r)be=this.bottom-k,Ee=this._getXAxisLabelAlignment();else if("bottom"===r)be=this.top+k,Ee=this._getXAxisLabelAlignment();else if("left"===r){const bn=this._getYAxisLabelAlignment(M);Ee=bn.textAlign,re=bn.x}else if("right"===r){const bn=this._getYAxisLabelAlignment(M);Ee=bn.textAlign,re=bn.x}else if("x"===t){if("center"===r)be=(e.top+e.bottom)/2+S;else if(Jn(r)){const bn=Object.keys(r)[0];be=this.chart.scales[bn].getPixelForValue(r[bn])+S}Ee=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===r)re=(e.left+e.right)/2-S;else if(Jn(r)){const bn=Object.keys(r)[0];re=this.chart.scales[bn].getPixelForValue(r[bn])}Ee=this._getYAxisLabelAlignment(M).textAlign}"y"===t&&("start"===d?p1="top":"end"===d&&(p1="bottom"));const pi=this._getLabelSizes();for(B=0,G=c.length;B<G;++B){X=c[B],te=X.label;const bn=s.setContext(this.getContext(B));rt=this.getPixelForTick(B)+s.labelOffset,dt=this._resolveTickFontOptions(B),_n=dt.lineHeight,En=s2(te)?te.length:1;const ft=En/2,Ct=bn.color,qt=bn.textStrokeColor,kn=bn.textStrokeWidth;let os,y1=Ee;if(a?(re=rt,"inner"===Ee&&(y1=B===G-1?this.options.reverse?"left":"right":0===B?this.options.reverse?"right":"left":"center"),Tn="top"===r?"near"===h||0!==A?-En*_n+_n/2:"center"===h?-pi.highest.height/2-ft*_n+_n:_n/2-pi.highest.height:"near"===h||0!==A?_n/2:"center"===h?pi.highest.height/2-ft*_n:pi.highest.height-En*_n,y&&(Tn*=-1)):(be=rt,Tn=(1-En)*_n/2),bn.showLabelBackdrop){const zi=zr(bn.backdropPadding),Ss=pi.heights[B],Q1=pi.widths[B];let Ah=be+Tn-zi.top,K_=re-zi.left;switch(p1){case"middle":Ah-=Ss/2;break;case"bottom":Ah-=Ss}switch(Ee){case"center":K_-=Q1/2;break;case"right":K_-=Q1}os={left:K_,top:Ah,width:Q1+zi.width,height:Ss+zi.height,color:bn.backdropColor}}L.push({rotation:A,label:te,font:dt,color:Ct,strokeColor:qt,strokeWidth:kn,textOffset:Tn,textAlign:y1,textBaseline:p1,translation:[re,be],backdrop:os})}return L}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Ba(this.labelRotation))return"top"===e?"left":"right";let r="center";return"start"===t.align?r="left":"end"===t.align?r="right":"inner"===t.align&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,c=e+s,d=this._getLabelSizes().widest.width;let h,g;return"left"===t?r?(g=this.right+s,"near"===i?h="left":"center"===i?(h="center",g+=d/2):(h="right",g+=d)):(g=this.right-c,"near"===i?h="right":"center"===i?(h="center",g-=d/2):(h="left",g=this.left)):"right"===t?r?(g=this.left+s,"near"===i?h="right":"center"===i?(h="center",g-=d/2):(h="left",g-=d)):(g=this.left+c,"near"===i?h="left":"center"===i?(h="center",g+=d/2):(h="right",g=this.right)):h="right",{textAlign:h,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:r,width:s,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,r,s,a),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,a;const c=(d,h,g)=>{!g.width||!g.color||(i.save(),i.lineWidth=g.width,i.strokeStyle=g.color,i.setLineDash(g.borderDash||[]),i.lineDashOffset=g.borderDashOffset,i.beginPath(),i.moveTo(d.x,d.y),i.lineTo(h.x,h.y),i.stroke(),i.restore())};if(t.display)for(s=0,a=r.length;s<a;++s){const d=r[s];t.drawOnChartArea&&c({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),t.drawTicks&&c({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{grid:i}}=this,r=i.setContext(this.getContext()),s=i.drawBorder?r.borderWidth:0;if(!s)return;const a=i.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,h,g,y;this.isHorizontal()?(d=eu(e,this.left,s)-s/2,h=eu(e,this.right,a)+a/2,g=y=c):(g=eu(e,this.top,s)-s/2,y=eu(e,this.bottom,a)+a/2,d=h=c),t.save(),t.lineWidth=r.borderWidth,t.strokeStyle=r.borderColor,t.beginPath(),t.moveTo(d,g),t.lineTo(h,y),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&bw(i,r);const s=this._labelItems||(this._labelItems=this._computeLabelItems(e));let a,c;for(a=0,c=s.length;a<c;++a){const d=s[a],h=d.font,g=d.label;d.backdrop&&(i.fillStyle=d.backdrop.color,i.fillRect(d.backdrop.left,d.backdrop.top,d.backdrop.width,d.backdrop.height)),tu(i,g,0,d.textOffset,h,d)}r&&Mw(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:r}}=this;if(!i.display)return;const s=Fi(i.font),a=zr(i.padding),c=i.align;let d=s.lineHeight/2;"bottom"===t||"center"===t||Jn(t)?(d+=a.bottom,s2(i.text)&&(d+=s.lineHeight*(i.text.length-1))):d+=a.top;const{titleX:h,titleY:g,maxWidth:y,rotation:M}=function MUe(n,e,t,i){const{top:r,left:s,bottom:a,right:c,chart:d}=n,{chartArea:h,scales:g}=d;let M,S,k,y=0;const A=a-r,L=c-s;if(n.isHorizontal()){if(S=kr(i,s,c),Jn(t)){const B=Object.keys(t)[0];k=g[B].getPixelForValue(t[B])+A-e}else k="center"===t?(h.bottom+h.top)/2+A-e:BK(n,t,e);M=c-s}else{if(Jn(t)){const B=Object.keys(t)[0];S=g[B].getPixelForValue(t[B])-L+e}else S="center"===t?(h.left+h.right)/2-L+e:BK(n,t,e);k=kr(i,a,r),y="left"===t?-ii:ii}return{titleX:S,titleY:k,maxWidth:M,rotation:y}}(this,d,t,c);tu(e,i.text,0,0,s,{color:i.color,maxWidth:y,rotation:M,textAlign:bUe(c,t,r),textBaseline:"middle",translation:[h,g]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=Hn(e.grid&&e.grid.z,-1);return this._isVisible()&&this.draw===ou.prototype.draw?[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i+1,draw:()=>{this.drawBorder()}},{z:t,draw:r=>{this.drawLabels(r)}}]:[{z:t,draw:r=>{this.draw(r)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,a;for(s=0,a=t.length;s<a;++s){const c=t[s];c[i]===this.id&&(!e||c.type===e)&&r.push(c)}return r}_resolveTickFontOptions(e){return Fi(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class kw{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;(function SUe(n){return"id"in n&&"defaults"in n})(t)&&(i=this.register(t));const r=this.items,s=e.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,function wUe(n,e,t){const i=Cg(Object.create(null),[t?Xn.get(t):{},Xn.get(e),n.defaults]);Xn.set(e,i),n.defaultRoutes&&function xUe(n,e){Object.keys(e).forEach(t=>{const i=t.split("."),r=i.pop(),s=[n].concat(i).join("."),a=e[t].split("."),c=a.pop(),d=a.join(".");Xn.route(s,r,d,c)})}(e,n.defaultRoutes),n.descriptors&&Xn.describe(e,n.descriptors)}(e,a,i),this.override&&Xn.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,r=this.scope;i in t&&delete t[i],r&&i in Xn[r]&&(delete Xn[r][i],this.override&&delete X5[i])}}var uc=new class TUe{constructor(){this.controllers=new kw(lc,"datasets",!0),this.elements=new kw(Ua,"elements"),this.plugins=new kw(Object,"plugins"),this.scales=new kw(ou,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):H1(r,a=>{const c=i||this._getRegistryForType(a);this._exec(e,c,a)})})}_exec(e,t,i){const r=ZH(e);o2(i["before"+r],[],i),t[e](i),o2(i["after"+r],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const r=t.get(e);if(void 0===r)throw new Error('"'+e+'" is not a registered '+i+".");return r}},DUe=Object.freeze({__proto__:null,BarController:nUe,BubbleController:iUe,DoughnutController:OK,LineController:sUe,PolarAreaController:oUe,PieController:aUe,RadarController:cUe,ScatterController:(()=>{class n extends lc{update(t){const i=this._cachedMeta,{data:r=[]}=i,s=this.chart._animationsDisabled;let{start:a,count:c}=jZ(i,r,s);if(this._drawStart=a,this._drawCount=c,WZ(i)&&(a=0,c=r.length),this.options.showLine){const{dataset:d,_dataset:h}=i;d._chart=this.chart,d._datasetIndex=this.index,d._decimated=!!h._decimated,d.points=r;const g=this.resolveDatasetElementOptions(t);g.segment=this.options.segment,this.updateElement(d,void 0,{animated:!s,options:g},t)}this.updateElements(r,a,c,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=uc.getElement("line")),super.addElements()}updateElements(t,i,r,s){const a="reset"===s,{iScale:c,vScale:d,_stacked:h,_dataset:g}=this._cachedMeta,y=this.resolveDataElementOptions(i,s),M=this.getSharedOptions(y),S=this.includeOptions(s,M),k=c.axis,A=d.axis,{spanGaps:L,segment:B}=this.options,G=Rf(L)?L:Number.POSITIVE_INFINITY,X=this.chart._animationsDisabled||a||"none"===s;let te=i>0&&this.getParsed(i-1);for(let re=i;re<i+r;++re){const be=t[re],Ee=this.getParsed(re),rt=X?be:{},dt=f1(Ee[A]),_n=rt[k]=c.getPixelForValue(Ee[k],re),En=rt[A]=a||dt?d.getBasePixel():d.getPixelForValue(h?this.applyStack(d,Ee,h):Ee[A],re);rt.skip=isNaN(_n)||isNaN(En)||dt,rt.stop=re>0&&Math.abs(Ee[k]-te[k])>G,B&&(rt.parsed=Ee,rt.raw=g.data[re]),S&&(rt.options=M||this.resolveDataElementOptions(re,be.active?"active":s)),X||this.updateElement(be,re,rt,s),te=Ee}this.updateSharedOptions(M,s,y)}getMaxOverflow(){const t=this._cachedMeta,i=t.data||[];if(!this.options.showLine){let d=0;for(let h=i.length-1;h>=0;--h)d=Math.max(d,i[h].size(this.resolveDataElementOptions(h))/2);return d>0&&d}const r=t.dataset,s=r.options&&r.options.borderWidth||0;if(!i.length)return s;const a=i[0].size(this.resolveDataElementOptions(0)),c=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,a,c)/2}}return n.id="scatter",n.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1},n.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:e=>"("+e.label+", "+e.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}},n})()});function au(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var kUe={_date:(()=>{class n{constructor(t){this.options=t||{}}init(t){}formats(){return au()}parse(t,i){return au()}format(t,i){return au()}add(t,i,r){return au()}diff(t,i,r){return au()}startOf(t,i,r){return au()}endOf(t,i){return au()}}return n.override=function(e){Object.assign(n.prototype,e)},n})()};function zUe(n,e,t,i){const{controller:r,data:s,_sorted:a}=n,c=r._cachedMeta.iScale;if(c&&e===c.axis&&"r"!==e&&a&&s.length){const d=c._reversePixels?uFe:e6;if(!i)return d(s,e,t);if(r._sharedOptions){const h=s[0],g="function"==typeof h.getRange&&h.getRange(e);if(g){const y=d(s,e,t-g),M=d(s,e,t+g);return{lo:y.lo,hi:M.hi}}}}return{lo:0,hi:s.length-1}}function Ig(n,e,t,i,r){const s=n.getSortedVisibleDatasetMetas(),a=t[e];for(let c=0,d=s.length;c<d;++c){const{index:h,data:g}=s[c],{lo:y,hi:M}=zUe(s[c],e,a,r);for(let S=y;S<=M;++S){const k=g[S];k.skip||i(k,h,S)}}}function vL(n,e,t,i,r){const s=[];return!r&&!n.isPointInArea(e)||Ig(n,t,e,function(c,d,h){!r&&!zg(c,n.chartArea,0)||c.inRange(e.x,e.y,i)&&s.push({element:c,datasetIndex:d,index:h})},!0),s}function yL(n,e,t,i,r,s){return s||n.isPointInArea(e)?"r"!==t||i?function LUe(n,e,t,i,r,s){let a=[];const c=function AUe(n){const e=-1!==n.indexOf("x"),t=-1!==n.indexOf("y");return function(i,r){const s=e?Math.abs(i.x-r.x):0,a=t?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}(t);let d=Number.POSITIVE_INFINITY;return Ig(n,t,e,function h(g,y,M){const S=g.inRange(e.x,e.y,r);if(i&&!S)return;const k=g.getCenterPoint(r);if(!s&&!n.isPointInArea(k)&&!S)return;const L=c(e,k);L<d?(a=[{element:g,datasetIndex:y,index:M}],d=L):L===d&&a.push({element:g,datasetIndex:y,index:M})}),a}(n,e,t,i,r,s):function HUe(n,e,t,i){let r=[];return Ig(n,t,e,function s(a,c,d){const{startAngle:h,endAngle:g}=a.getProps(["startAngle","endAngle"],i),{angle:y}=PZ(a,{x:e.x,y:e.y});xg(y,h,g)&&r.push({element:a,datasetIndex:c,index:d})}),r}(n,e,t,r):[]}function WK(n,e,t,i,r){const s=[],a="x"===t?"inXRange":"inYRange";let c=!1;return Ig(n,t,e,(d,h,g)=>{d[a](e[t],r)&&(s.push({element:d,datasetIndex:h,index:g}),c=c||d.inRange(e.x,e.y,r))}),i&&!c?[]:s}var EUe={evaluateInteractionItems:Ig,modes:{index(n,e,t,i){const r=ru(e,n),s=t.axis||"x",a=t.includeInvisible||!1,c=t.intersect?vL(n,r,s,i,a):yL(n,r,s,!1,i,a),d=[];return c.length?(n.getSortedVisibleDatasetMetas().forEach(h=>{const g=c[0].index,y=h.data[g];y&&!y.skip&&d.push({element:y,datasetIndex:h.index,index:g})}),d):[]},dataset(n,e,t,i){const r=ru(e,n),s=t.axis||"xy",a=t.includeInvisible||!1;let c=t.intersect?vL(n,r,s,i,a):yL(n,r,s,!1,i,a);if(c.length>0){const d=c[0].datasetIndex,h=n.getDatasetMeta(d).data;c=[];for(let g=0;g<h.length;++g)c.push({element:h[g],datasetIndex:d,index:g})}return c},point:(n,e,t,i)=>vL(n,ru(e,n),t.axis||"xy",i,t.includeInvisible||!1),nearest:(n,e,t,i)=>yL(n,ru(e,n),t.axis||"xy",t.intersect,i,t.includeInvisible||!1),x:(n,e,t,i)=>WK(n,ru(e,n),"x",t.intersect,i),y:(n,e,t,i)=>WK(n,ru(e,n),"y",t.intersect,i)}};const YK=["left","top","right","bottom"];function Ng(n,e){return n.filter(t=>t.pos===e)}function qK(n,e){return n.filter(t=>-1===YK.indexOf(t.pos)&&t.box.axis===e)}function Pg(n,e){return n.sort((t,i)=>{const r=e?i:t,s=e?t:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function GK(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function $K(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function RUe(n,e,t,i){const{pos:r,box:s}=t,a=n.maxPadding;if(!Jn(r)){t.size&&(n[r]-=t.size);const y=i[t.stack]||{size:0,count:1};y.size=Math.max(y.size,t.horizontal?s.height:s.width),t.size=y.size/y.count,n[r]+=t.size}s.getPadding&&$K(a,s.getPadding());const c=Math.max(0,e.outerWidth-GK(a,n,"left","right")),d=Math.max(0,e.outerHeight-GK(a,n,"top","bottom")),h=c!==n.w,g=d!==n.h;return n.w=c,n.h=d,t.horizontal?{same:h,other:g}:{same:g,other:h}}function FUe(n,e){const t=e.maxPadding;return function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(a=>{s[a]=Math.max(e[a],t[a])}),s}(n?["left","right"]:["top","bottom"])}function Rg(n,e,t,i){const r=[];let s,a,c,d,h,g;for(s=0,a=n.length,h=0;s<a;++s){c=n[s],d=c.box,d.update(c.width||e.w,c.height||e.h,FUe(c.horizontal,e));const{same:y,other:M}=RUe(e,t,c,i);h|=y&&r.length,g=g||M,d.fullSize||r.push(c)}return h&&Rg(r,e,t,i)||g}function zw(n,e,t,i,r){n.top=t,n.left=e,n.right=e+i,n.bottom=t+r,n.width=i,n.height=r}function ZK(n,e,t,i){const r=t.padding;let{x:s,y:a}=e;for(const c of n){const d=c.box,h=i[c.stack]||{count:1,placed:0,weight:1},g=c.stackWeight/h.weight||1;if(c.horizontal){const y=e.w*g,M=h.size||d.height;No(h.start)&&(a=h.start),d.fullSize?zw(d,r.left,a,t.outerWidth-r.right-r.left,M):zw(d,e.left+h.placed,a,y,M),h.start=a,h.placed+=y,a=d.bottom}else{const y=e.h*g,M=h.size||d.width;No(h.start)&&(s=h.start),d.fullSize?zw(d,s,r.top,M,t.outerHeight-r.bottom-r.top):zw(d,s,e.top+h.placed,M,y),h.start=s,h.placed+=y,s=d.right}}e.x=s,e.y=a}Xn.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var Ar={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;-1!==t&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;const r=zr(n.options.layout.padding),s=Math.max(e-r.width,0),a=Math.max(t-r.height,0),c=function PUe(n){const e=function VUe(n){const e=[];let t,i,r,s,a,c;for(t=0,i=(n||[]).length;t<i;++t)r=n[t],({position:s,options:{stack:a,stackWeight:c=1}}=r),e.push({index:t,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:a&&s+a,stackWeight:c});return e}(n),t=Pg(e.filter(h=>h.box.fullSize),!0),i=Pg(Ng(e,"left"),!0),r=Pg(Ng(e,"right")),s=Pg(Ng(e,"top"),!0),a=Pg(Ng(e,"bottom")),c=qK(e,"x"),d=qK(e,"y");return{fullSize:t,leftAndTop:i.concat(s),rightAndBottom:r.concat(d).concat(a).concat(c),chartArea:Ng(e,"chartArea"),vertical:i.concat(r).concat(d),horizontal:s.concat(a).concat(c)}}(n.boxes),d=c.vertical,h=c.horizontal;H1(n.boxes,A=>{"function"==typeof A.beforeLayout&&A.beforeLayout()});const g=d.reduce((A,L)=>L.box.options&&!1===L.box.options.display?A:A+1,0)||1,y=Object.freeze({outerWidth:e,outerHeight:t,padding:r,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/g,hBoxMaxHeight:a/2}),M=Object.assign({},r);$K(M,zr(i));const S=Object.assign({maxPadding:M,w:s,h:a,x:r.left,y:r.top},r),k=function NUe(n,e){const t=function IUe(n){const e={};for(const t of n){const{stack:i,pos:r,stackWeight:s}=t;if(!i||!YK.includes(r))continue;const a=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return e}(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,a,c;for(s=0,a=n.length;s<a;++s){c=n[s];const{fullSize:d}=c.box,h=t[c.stack],g=h&&c.stackWeight/h.weight;c.horizontal?(c.width=g?g*i:d&&e.availableWidth,c.height=r):(c.width=i,c.height=g?g*r:d&&e.availableHeight)}return t}(d.concat(h),y);Rg(c.fullSize,S,y,k),Rg(d,S,y,k),Rg(h,S,y,k)&&Rg(d,S,y,k),function OUe(n){const e=n.maxPadding;function t(i){const r=Math.max(e[i]-n[i],0);return n[i]+=r,r}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}(S),ZK(c.leftAndTop,S,y,k),S.x+=S.w,S.y+=S.h,ZK(c.rightAndBottom,S,y,k),n.chartArea={left:S.left,top:S.top,right:S.left+S.w,bottom:S.top+S.h,height:S.h,width:S.w},H1(c.chartArea,A=>{const L=A.box;Object.assign(L,n.chartArea),L.update(S.w,S.h,{left:0,top:0,right:0,bottom:0})})}};class KK{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,r){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):i)}}isAttached(e){return!0}updateConfig(e){}}class BUe extends KK{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Aw="$chartjs",UUe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},QK=n=>null===n||""===n,JK=!!_Be&&{passive:!0};function YUe(n,e,t){n.canvas.removeEventListener(e,t,JK)}function Hw(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function GUe(n,e,t){const i=n.canvas,r=new MutationObserver(s=>{let a=!1;for(const c of s)a=a||Hw(c.addedNodes,i),a=a&&!Hw(c.removedNodes,i);a&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function $Ue(n,e,t){const i=n.canvas,r=new MutationObserver(s=>{let a=!1;for(const c of s)a=a||Hw(c.removedNodes,i),a=a&&!Hw(c.addedNodes,i);a&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}const Og=new Map;let XK=0;function eQ(){const n=window.devicePixelRatio;n!==XK&&(XK=n,Og.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function QUe(n,e,t){const i=n.canvas,r=i&&hL(i);if(!r)return;const s=UZ((c,d)=>{const h=r.clientWidth;t(c,d),h<r.clientWidth&&t()},window),a=new ResizeObserver(c=>{const d=c[0],h=d.contentRect.width,g=d.contentRect.height;0===h&&0===g||s(h,g)});return a.observe(r),function ZUe(n,e){Og.size||window.addEventListener("resize",eQ),Og.set(n,e)}(n,s),a}function CL(n,e,t){t&&t.disconnect(),"resize"===e&&function KUe(n){Og.delete(n),Og.size||window.removeEventListener("resize",eQ)}(n)}function JUe(n,e,t){const i=n.canvas,r=UZ(s=>{null!==n.ctx&&t(function qUe(n,e){const t=UUe[n.type]||n.type,{x:i,y:r}=ru(n,e);return{type:t,chart:e,native:n,x:void 0!==i?i:null,y:void 0!==r?r:null}}(s,n))},n,s=>{const a=s[0];return[a,a.offsetX,a.offsetY]});return function WUe(n,e,t){n.addEventListener(e,t,JK)}(i,e,r),r}class XUe extends KK{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(function jUe(n,e){const t=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[Aw]={initial:{height:i,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",QK(r)){const s=gK(n,"width");void 0!==s&&(n.width=s)}if(QK(i))if(""===n.style.height)n.height=n.width/(e||2);else{const s=gK(n,"height");void 0!==s&&(n.height=s)}}(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[Aw])return!1;const i=t[Aw].initial;["height","width"].forEach(s=>{const a=i[s];f1(a)?t.removeAttribute(s):t.setAttribute(s,a)});const r=i.style||{};return Object.keys(r).forEach(s=>{t.style[s]=r[s]}),t.width=t.width,delete t[Aw],!0}addEventListener(e,t,i){this.removeEventListener(e,t),(e.$proxies||(e.$proxies={}))[t]=({attach:GUe,detach:$Ue,resize:QUe}[t]||JUe)(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),r=i[t];r&&(({attach:CL,detach:CL,resize:CL}[t]||YUe)(e,t,r),i[t]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,r){return function gBe(n,e,t,i){const r=Sw(n),s=iu(r,"margin"),a=xw(r.maxWidth,n,"clientWidth")||pw,c=xw(r.maxHeight,n,"clientHeight")||pw,d=function mBe(n,e,t){let i,r;if(void 0===e||void 0===t){const s=hL(n);if(s){const a=s.getBoundingClientRect(),c=Sw(s),d=iu(c,"border","width"),h=iu(c,"padding");e=a.width-h.width-d.width,t=a.height-h.height-d.height,i=xw(c.maxWidth,s,"clientWidth"),r=xw(c.maxHeight,s,"clientHeight")}else e=n.clientWidth,t=n.clientHeight}return{width:e,height:t,maxWidth:i||pw,maxHeight:r||pw}}(n,e,t);let{width:h,height:g}=d;if("content-box"===r.boxSizing){const y=iu(r,"border","width"),M=iu(r,"padding");h-=M.width+y.width,g-=M.height+y.height}return h=Math.max(0,h-s.width),g=Math.max(0,i?Math.floor(h/i):g-s.height),h=pL(Math.min(h,a,d.maxWidth)),g=pL(Math.min(g,c,d.maxHeight)),h&&!g&&(g=pL(h/2)),{width:h,height:g}}(e,t,i,r)}isAttached(e){const t=hL(e);return!(!t||!t.isConnected)}}class tje{constructor(){this._init=[]}notify(e,t,i,r){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=r?this._descriptors(e).filter(r):this._descriptors(e),a=this._notify(s,e,t,i);return"afterDestroy"===t&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,t,i,r){r=r||{};for(const s of e){const a=s.plugin;if(!1===o2(a[i],[t,r,s.options],a)&&r.cancelable)return!1}return!0}invalidate(){f1(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,r=Hn(i.options&&i.options.plugins,{}),s=function nje(n){const e={},t=[],i=Object.keys(uc.plugins.items);for(let s=0;s<i.length;s++)t.push(uc.getPlugin(i[s]));const r=n.plugins||[];for(let s=0;s<r.length;s++){const a=r[s];-1===t.indexOf(a)&&(t.push(a),e[a.id]=!0)}return{plugins:t,localIds:e}}(i);return!1!==r||t?function rje(n,{plugins:e,localIds:t},i,r){const s=[],a=n.getContext();for(const c of e){const d=c.id,h=ije(i[d],r);null!==h&&s.push({plugin:c,options:sje(n.config,{plugin:c,local:t[d]},h,a)})}return s}(e,s,r,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,r=(s,a)=>s.filter(c=>!a.some(d=>c.plugin.id===d.plugin.id));this._notify(r(t,i),e,"stop"),this._notify(r(i,t),e,"start")}}function ije(n,e){return e||!1!==n?!0===n?{}:n:null}function sje(n,{plugin:e,local:t},i,r){const s=n.pluginScopeKeys(e),a=n.getOptionScopes(i,s);return t&&e.defaults&&a.push(e.defaults),n.createResolver(a,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function bL(n,e){return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||(Xn.datasets[n]||{}).indexAxis||"x"}function ML(n,e){return"x"===n||"y"===n?n:e.axis||function cje(n){return"top"===n||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0}(e.position)||n.charAt(0).toLowerCase()}function tQ(n){const e=n.options||(n.options={});e.plugins=Hn(e.plugins,{}),e.scales=function lje(n,e){const t=X5[n.type]||{scales:{}},i=e.scales||{},r=bL(n.type,e),s=Object.create(null),a=Object.create(null);return Object.keys(i).forEach(c=>{const d=i[c];if(!Jn(d))return console.error(`Invalid scale configuration for scale: ${c}`);if(d._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const h=ML(c,d),g=function aje(n,e){return n===e?"_index_":"_value_"}(h,r),y=t.scales||{};s[h]=s[h]||c,a[c]=bg(Object.create(null),[{axis:h},d,y[h],y[g]])}),n.data.datasets.forEach(c=>{const d=c.type||n.type,h=c.indexAxis||bL(d,e),y=(X5[d]||{}).scales||{};Object.keys(y).forEach(M=>{const S=function oje(n,e){let t=n;return"_index_"===n?t=e:"_value_"===n&&(t="x"===e?"y":"x"),t}(M,h),k=c[S+"AxisID"]||s[S]||S;a[k]=a[k]||Object.create(null),bg(a[k],[{axis:S},i[k],y[M]])})}),Object.keys(a).forEach(c=>{const d=a[c];bg(d,[Xn.scales[d.type],Xn.scale])}),a}(n,e)}function nQ(n){return(n=n||{}).datasets=n.datasets||[],n.labels=n.labels||[],n}const iQ=new Map,rQ=new Set;function Lw(n,e){let t=iQ.get(n);return t||(t=e(),iQ.set(n,t),rQ.add(t)),t}const Fg=(n,e,t)=>{const i=rl(e,t);void 0!==i&&n.add(i)};class dje{constructor(e){this._config=function uje(n){return(n=n||{}).data=nQ(n.data),tQ(n),n}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=nQ(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),tQ(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Lw(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Lw(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Lw(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id;return Lw(`${this.type}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let r=i.get(e);return(!r||t)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,t,i){const{options:r,type:s}=this,a=this._cachedScopes(e,i),c=a.get(t);if(c)return c;const d=new Set;t.forEach(g=>{e&&(d.add(e),g.forEach(y=>Fg(d,e,y))),g.forEach(y=>Fg(d,r,y)),g.forEach(y=>Fg(d,X5[s]||{},y)),g.forEach(y=>Fg(d,Xn,y)),g.forEach(y=>Fg(d,oL,y))});const h=Array.from(d);return 0===h.length&&h.push(Object.create(null)),rQ.has(t)&&a.set(t,h),h}chartOptionScopes(){const{options:e,type:t}=this;return[e,X5[t]||{},Xn.datasets[t]||{},{type:t},Xn,oL]}resolveNamedOptions(e,t,i,r=[""]){const s={$shared:!0},{resolver:a,subPrefixes:c}=sQ(this._resolverCache,e,r);let d=a;(function hje(n,e){const{isScriptable:t,isIndexable:i}=oK(n);for(const r of e){const s=t(r),a=i(r),c=(a||s)&&n[r];if(s&&(sl(c)||fje(c))||a&&s2(c))return!0}return!1})(a,t)&&(s.$shared=!1,d=Ff(a,i=sl(i)?i():i,this.createResolver(e,i,c)));for(const h of t)s[h]=d[h];return s}createResolver(e,t,i=[""],r){const{resolver:s}=sQ(this._resolverCache,e,i);return Jn(t)?Ff(s,t,void 0,r):s}}function sQ(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));const r=t.join();let s=i.get(r);return s||(s={resolver:uL(e,t),subPrefixes:t.filter(c=>!c.toLowerCase().includes("hover"))},i.set(r,s)),s}const fje=n=>Jn(n)&&Object.getOwnPropertyNames(n).reduce((e,t)=>e||sl(n[t]),!1),mje=["top","bottom","left","right","chartArea"];function oQ(n,e){return"top"===n||"bottom"===n||-1===mje.indexOf(n)&&"x"===e}function aQ(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function cQ(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),o2(t&&t.onComplete,[n],e)}function gje(n){const e=n.chart,t=e.options.animation;o2(t&&t.onProgress,[n],e)}function lQ(n){return pK()&&"string"==typeof n?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Ew={},uQ=n=>{const e=lQ(n);return Object.values(Ew).filter(t=>t.canvas===e).pop()};function _je(n,e,t){const i=Object.keys(n);for(const r of i){const s=+r;if(s>=e){const a=n[r];delete n[r],(t>0||s>e)&&(n[s+t]=a)}}}class Bg{constructor(e,t){const i=this.config=new dje(t),r=lQ(e),s=uQ(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||function eje(n){return!pK()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?BUe:XUe}(r)),this.platform.updateConfig(i);const c=this.platform.acquireContext(r,a.aspectRatio),d=c&&c.canvas,h=d&&d.height,g=d&&d.width;this.id=QOe(),this.ctx=c,this.canvas=d,this.width=g,this.height=h,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new tje,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function hFe(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}(y=>this.update(y),a.resizeDelay||0),this._dataChanges=[],Ew[this.id]=this,c&&d?(n6.listen(this,"complete",cQ),n6.listen(this,"progress",gje),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:r,_aspectRatio:s}=this;return f1(e)?t&&s?s:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():mK(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return iK(this.canvas,this.ctx),this}stop(){return n6.stop(this),this}resize(e,t){n6.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,a=this.platform.getMaximumSize(this.canvas,e,t,i.maintainAspectRatio&&this.aspectRatio),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,mK(this,c,!0)&&(this.notifyPlugins("resize",{size:a}),o2(i.onResize,[this,a],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){H1(this.options.scales||{},(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,r=Object.keys(i).reduce((a,c)=>(a[c]=!1,a),{});let s=[];t&&(s=s.concat(Object.keys(t).map(a=>{const c=t[a],d=ML(a,c),h="r"===d,g="x"===d;return{options:c,dposition:h?"chartArea":g?"bottom":"left",dtype:h?"radialLinear":g?"category":"linear"}}))),H1(s,a=>{const c=a.options,d=c.id,h=ML(d,c),g=Hn(c.type,a.dtype);(void 0===c.position||oQ(c.position,h)!==oQ(a.dposition))&&(c.position=a.dposition),r[d]=!0;let y=null;d in i&&i[d].type===g?y=i[d]:(y=new(uc.getScale(g))({id:d,type:g,ctx:this.ctx,chart:this}),i[y.id]=y),y.init(c,e)}),H1(r,(a,c)=>{a||delete i[c]}),H1(i,a=>{Ar.configure(this,a,a.options),Ar.addBox(this,a)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((r,s)=>r.index-s.index),i>t){for(let r=t;r<i;++r)this._destroyDatasetMeta(r);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(aQ("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,r)=>{0===t.filter(s=>s===i._dataset).length&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=t.length;i<r;i++){const s=t[i];let a=this.getDatasetMeta(i);const c=s.type||this.config.type;if(a.type&&a.type!==c&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=c,a.indexAxis=s.indexAxis||bL(c,this.options),a.order=s.order||0,a.index=i,a.label=""+s.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const d=uc.getController(c),{datasetElementType:h,dataElementType:g}=Xn.datasets[c];Object.assign(d.prototype,{dataElementType:uc.getElement(g),datasetElementType:h&&uc.getElement(h)}),a.controller=new d(this,i),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){H1(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let h=0,g=this.data.datasets.length;h<g;h++){const{controller:y}=this.getDatasetMeta(h),M=!r&&-1===s.indexOf(y);y.buildOrUpdateElements(M),a=Math.max(+y.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),r||H1(s,h=>{h.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(aQ("z","_idx"));const{_active:c,_lastEvent:d}=this;d?this._eventHandler(d,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){H1(this.scales,e=>{Ar.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!LZ(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of t)_je(e,r,"_removeElements"===i?-s:s)}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=s=>new Set(e.filter(a=>a[0]===s).map((a,c)=>c+","+a.splice(1).join(","))),r=i(0);for(let s=1;s<t;s++)if(!LZ(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Ar.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],H1(this.boxes,r=>{i&&"chartArea"===r.position||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,sl(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(i.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(n6.has(this)?this.attached&&!n6.running(this)&&n6.start(this):(this.draw(),cQ({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resize(i,r),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let r,s;for(r=0,s=t.length;r<s;++r){const a=t[r];(!e||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i=e._clip,r=!i.disabled,s=this.chartArea,a={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",a)&&(r&&bw(t,{left:!1===i.left?0:s.left-i.left,right:!1===i.right?this.width:s.right+i.right,top:!1===i.top?0:s.top-i.top,bottom:!1===i.bottom?this.height:s.bottom+i.bottom}),e.controller.draw(),r&&Mw(t),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return zg(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,r){const s=EUe.modes[t];return"function"==typeof s?s(this,e,i,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let r=i.filter(s=>s&&s._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=cl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return"boolean"==typeof i.hidden?!i.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const r=i?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,r);No(t)?(s.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),a.update(s,{visible:i}),this.update(c=>c.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),n6.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),iK(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete Ew[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(s,a)=>{t.addEventListener(this,s,a),e[s]=a},r=(s,a,c)=>{s.offsetX=a,s.offsetY=c,this._eventHandler(s)};H1(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(d,h)=>{t.addEventListener(this,d,h),e[d]=h},r=(d,h)=>{e[d]&&(t.removeEventListener(this,d,h),delete e[d])},s=(d,h)=>{this.canvas&&this.resize(d,h)};let a;const c=()=>{r("attach",c),this.attached=!0,this.resize(),i("resize",s),i("detach",a)};a=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",c)},t.isAttached(this.canvas)?c():a()}unbindEvents(){H1(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},H1(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const r=i?"set":"remove";let s,a,c,d;for("dataset"===t&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),c=0,d=e.length;c<d;++c){a=e[c];const h=a&&this.getDatasetMeta(a.datasetIndex).controller;h&&h[r+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:s,index:a})=>{const c=this.getDatasetMeta(s);if(!c)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:c.data[a],index:a}});!fw(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}_updateHoverStyles(e,t,i){const r=this.options.hover,s=(d,h)=>d.filter(g=>!h.some(y=>g.datasetIndex===y.datasetIndex&&g.index===y.index)),a=s(t,e),c=i?e:s(e,t);a.length&&this.updateHoverStyle(a,r.mode,!1),c.length&&r.mode&&this.updateHoverStyle(c,r.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=a=>(a.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",i,r))return;const s=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:r=[],options:s}=this,c=this._getActiveElements(e,r,i,t),d=function iFe(n){return"mouseup"===n.type||"click"===n.type||"contextmenu"===n.type}(e),h=function vje(n,e,t,i){return t&&"mouseout"!==n.type?i?e:n:null}(e,this._lastEvent,i,d);i&&(this._lastEvent=null,o2(s.onHover,[e,c,this],this),d&&o2(s.onClick,[e,c,this],this));const g=!fw(c,r);return(g||t)&&(this._active=c,this._updateHoverStyles(c,r,t)),this._lastEvent=h,g}_getActiveElements(e,t,i,r){if("mouseout"===e.type)return[];if(!i)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}}const dQ=()=>H1(Bg.instances,n=>n._plugins.invalidate()),ll=!0;function fQ(n,e,t){const{startAngle:i,pixelMargin:r,x:s,y:a,outerRadius:c,innerRadius:d}=e;let h=r/c;n.beginPath(),n.arc(s,a,c,i-h,t+h),d>r?(h=r/d,n.arc(s,a,d,t+h,i-h,!0)):n.arc(s,a,r,t+ii,i-ii),n.closePath(),n.clip()}function jf(n,e,t,i){return{x:t+n*Math.cos(e),y:i+n*Math.sin(e)}}function wL(n,e,t,i,r,s){const{x:a,y:c,startAngle:d,pixelMargin:h,innerRadius:g}=e,y=Math.max(e.outerRadius+i+t-h,0),M=g>0?g+i+t+h:0;let S=0;const k=r-d;if(i){const Ct=((g>0?g-i:0)+(y>0?y-i:0))/2;S=(k-(0!==Ct?k*Ct/(Ct+i):k))/2}const L=(k-Math.max(.001,k*y-t/E2)/y)/2,B=d+L+S,G=r-L-S,{outerStart:X,outerEnd:te,innerStart:re,innerEnd:be}=function Cje(n,e,t,i){const r=function yje(n){return lL(n,["outerStart","outerEnd","innerStart","innerEnd"])}(n.options.borderRadius),s=(t-e)/2,a=Math.min(s,i*e/2),c=d=>{const h=(t-Math.min(s,d))*i/2;return Ji(d,0,Math.min(s,h))};return{outerStart:c(r.outerStart),outerEnd:c(r.outerEnd),innerStart:Ji(r.innerStart,0,a),innerEnd:Ji(r.innerEnd,0,a)}}(e,M,y,G-B),Ee=y-X,rt=y-te,dt=B+X/Ee,_n=G-te/rt,En=M+re,Tn=M+be,p1=B+re/En,pi=G-be/Tn;if(n.beginPath(),s){if(n.arc(a,c,y,dt,_n),te>0){const Ct=jf(rt,_n,a,c);n.arc(Ct.x,Ct.y,te,_n,G+ii)}const bn=jf(Tn,G,a,c);if(n.lineTo(bn.x,bn.y),be>0){const Ct=jf(Tn,pi,a,c);n.arc(Ct.x,Ct.y,be,G+ii,pi+Math.PI)}if(n.arc(a,c,M,G-be/M,B+re/M,!0),re>0){const Ct=jf(En,p1,a,c);n.arc(Ct.x,Ct.y,re,p1+Math.PI,B-ii)}const ft=jf(Ee,B,a,c);if(n.lineTo(ft.x,ft.y),X>0){const Ct=jf(Ee,dt,a,c);n.arc(Ct.x,Ct.y,X,B-ii,dt)}}else{n.moveTo(a,c);const bn=Math.cos(dt)*y+a,ft=Math.sin(dt)*y+c;n.lineTo(bn,ft);const Ct=Math.cos(_n)*y+a,qt=Math.sin(_n)*y+c;n.lineTo(Ct,qt)}n.closePath()}Object.defineProperties(Bg,{defaults:{enumerable:ll,value:Xn},instances:{enumerable:ll,value:Ew},overrides:{enumerable:ll,value:X5},registry:{enumerable:ll,value:uc},version:{enumerable:ll,value:"3.9.1"},getChart:{enumerable:ll,value:uQ},register:{enumerable:ll,value:(...n)=>{uc.add(...n),dQ()}},unregister:{enumerable:ll,value:(...n)=>{uc.remove(...n),dQ()}}});class Vw extends Ua{constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,i){const r=this.getProps(["x","y"],i),{angle:s,distance:a}=PZ(r,{x:e,y:t}),{startAngle:c,endAngle:d,innerRadius:h,outerRadius:g,circumference:y}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),M=this.options.spacing/2,k=Hn(y,d-c)>=O1||xg(s,c,d),A=X4(a,h+M,g+M);return k&&A}getCenterPoint(e){const{x:t,y:i,startAngle:r,endAngle:s,innerRadius:a,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],e),{offset:d,spacing:h}=this.options,g=(r+s)/2,y=(a+c+h+d)/2;return{x:t+Math.cos(g)*y,y:i+Math.sin(g)*y}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:i}=this,r=(t.offset||0)/2,s=(t.spacing||0)/2,a=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=i>O1?Math.floor(i/O1):0,0===i||this.innerRadius<0||this.outerRadius<0)return;e.save();let c=0;if(r){c=r/2;const h=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(h)*c,Math.sin(h)*c),this.circumference>=E2&&(c=r)}e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor;const d=function bje(n,e,t,i,r){const{fullCircles:s,startAngle:a,circumference:c}=e;let d=e.endAngle;if(s){wL(n,e,t,i,a+O1,r);for(let h=0;h<s;++h)n.fill();isNaN(c)||(d=a+c%O1,c%O1==0&&(d+=O1))}return wL(n,e,t,i,d,r),n.fill(),d}(e,this,c,s,a);(function wje(n,e,t,i,r,s){const{options:a}=e,{borderWidth:c,borderJoinStyle:d}=a,h="inner"===a.borderAlign;c&&(h?(n.lineWidth=2*c,n.lineJoin=d||"round"):(n.lineWidth=c,n.lineJoin=d||"bevel"),e.fullCircles&&function Mje(n,e,t){const{x:i,y:r,startAngle:s,pixelMargin:a,fullCircles:c}=e,d=Math.max(e.outerRadius-a,0),h=e.innerRadius+a;let g;for(t&&fQ(n,e,s+O1),n.beginPath(),n.arc(i,r,h,s+O1,s,!0),g=0;g<c;++g)n.stroke();for(n.beginPath(),n.arc(i,r,d,s,s+O1),g=0;g<c;++g)n.stroke()}(n,e,h),h&&fQ(n,e,r),wL(n,e,t,i,r,s),n.stroke())})(e,this,c,s,d,a),e.restore()}}function hQ(n,e,t=e){n.lineCap=Hn(t.borderCapStyle,e.borderCapStyle),n.setLineDash(Hn(t.borderDash,e.borderDash)),n.lineDashOffset=Hn(t.borderDashOffset,e.borderDashOffset),n.lineJoin=Hn(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=Hn(t.borderWidth,e.borderWidth),n.strokeStyle=Hn(t.borderColor,e.borderColor)}function xje(n,e,t){n.lineTo(t.x,t.y)}function pQ(n,e,t={}){const i=n.length,{start:r=0,end:s=i-1}=t,{start:a,end:c}=e,d=Math.max(r,a),h=Math.min(s,c);return{count:i,start:d,loop:e.loop,ilen:h<d&&!(r<a&&s<a||r>c&&s>c)?i+h-d:h-d}}function Tje(n,e,t,i){const{points:r,options:s}=e,{count:a,start:c,loop:d,ilen:h}=pQ(r,t,i),g=function Sje(n){return n.stepped?FFe:n.tension||"monotone"===n.cubicInterpolationMode?BFe:xje}(s);let S,k,A,{move:y=!0,reverse:M}=i||{};for(S=0;S<=h;++S)k=r[(c+(M?h-S:S))%a],!k.skip&&(y?(n.moveTo(k.x,k.y),y=!1):g(n,A,k,M,s.stepped),A=k);return d&&(k=r[(c+(M?h:0))%a],g(n,A,k,M,s.stepped)),!!d}function Dje(n,e,t,i){const r=e.points,{count:s,start:a,ilen:c}=pQ(r,t,i),{move:d=!0,reverse:h}=i||{};let M,S,k,A,L,B,g=0,y=0;const G=te=>(a+(h?c-te:te))%s,X=()=>{A!==L&&(n.lineTo(g,L),n.lineTo(g,A),n.lineTo(g,B))};for(d&&(S=r[G(0)],n.moveTo(S.x,S.y)),M=0;M<=c;++M){if(S=r[G(M)],S.skip)continue;const te=S.x,re=S.y,be=0|te;be===k?(re<A?A=re:re>L&&(L=re),g=(y*g+te)/++y):(X(),n.lineTo(te,re),k=be,y=0,A=L=re),B=re}X()}function xL(n){const e=n.options;return n._decimated||n._loop||e.tension||"monotone"===e.cubicInterpolationMode||e.stepped||e.borderDash&&e.borderDash.length?Tje:Dje}Vw.id="arc",Vw.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0},Vw.defaultRoutes={backgroundColor:"backgroundColor"};const Hje="function"==typeof Path2D;let Iw=(()=>{class n extends Ua{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,i){const r=this.options;!r.tension&&"monotone"!==r.cubicInterpolationMode||r.stepped||this._pointsUpdated||(uBe(this._points,r,t,r.spanGaps?this._loop:this._fullLoop,i),this._pointsUpdated=!0)}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function TBe(n,e){const t=n.points,i=n.options.spanGaps,r=t.length;if(!r)return[];const s=!!n._loop,{start:a,end:c}=function xBe(n,e,t,i){let r=0,s=e-1;if(t&&!i)for(;r<e&&!n[r].skip;)r++;for(;r<e&&n[r].skip;)r++;for(r%=e,t&&(s+=r);s>r&&n[s%e].skip;)s--;return s%=e,{start:r,end:s}}(t,r,s,i);return function xK(n,e,t,i){return i&&i.setContext&&t?function DBe(n,e,t,i){const r=n._chart.getContext(),s=SK(n.options),{_datasetIndex:a,options:{spanGaps:c}}=n,d=t.length,h=[];let g=s,y=e[0].start,M=y;function S(k,A,L,B){const G=c?-1:1;if(k!==A){for(k+=d;t[k%d].skip;)k-=G;for(;t[A%d].skip;)A+=G;k%d!=A%d&&(h.push({start:k%d,end:A%d,loop:L,style:B}),g=B,y=A%d)}}for(const k of e){y=c?y:k.start;let L,A=t[y%d];for(M=y+1;M<=k.end;M++){const B=t[M%d];L=SK(i.setContext(cl(r,{type:"segment",p0:A,p1:B,p0DataIndex:(M-1)%d,p1DataIndex:M%d,datasetIndex:a}))),kBe(L,g)&&S(y,M-1,k.loop,g),A=B,g=L}y<M-1&&S(y,M-1,k.loop,g)}return h}(n,e,t,i):e}(n,!0===i?[{start:a,end:c,loop:s}]:function SBe(n,e,t,i){const r=n.length,s=[];let d,a=e,c=n[e];for(d=e+1;d<=t;++d){const h=n[d%r];h.skip||h.stop?c.skip||(s.push({start:e%r,end:(d-1)%r,loop:i=!1}),e=a=h.stop?d:null):(a=d,c.skip&&(e=d)),c=h}return null!==a&&s.push({start:e%r,end:a%r,loop:i}),s}(t,a,c<a?c+r:c,!!n._fullLoop&&0===a&&c===r-1),t,e)}(this,this.options.segment))}first(){const t=this.segments;return t.length&&this.points[t[0].start]}last(){const t=this.segments,r=t.length;return r&&this.points[t[r-1].end]}interpolate(t,i){const r=this.options,s=t[i],a=this.points,c=wK(this,{property:i,start:s,end:s});if(!c.length)return;const d=[],h=function kje(n){return n.stepped?vBe:n.tension||"monotone"===n.cubicInterpolationMode?yBe:su}(r);let g,y;for(g=0,y=c.length;g<y;++g){const{start:M,end:S}=c[g],k=a[M],A=a[S];if(k===A){d.push(k);continue}const B=h(k,A,Math.abs((s-k[i])/(A[i]-k[i])),r.stepped);B[i]=t[i],d.push(B)}return 1===d.length?d[0]:d}pathSegment(t,i,r){return xL(this)(t,this,i,r)}path(t,i,r){const s=this.segments,a=xL(this);let c=this._loop;i=i||0,r=r||this.points.length-i;for(const d of s)c&=a(t,this,d,{start:i,end:i+r-1});return!!c}draw(t,i,r,s){(this.points||[]).length&&(this.options||{}).borderWidth&&(t.save(),function Lje(n,e,t,i){Hje&&!e.options.segment?function zje(n,e,t,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,t,i)&&r.closePath()),hQ(n,e.options),n.stroke(r)}(n,e,t,i):function Aje(n,e,t,i){const{segments:r,options:s}=e,a=xL(e);for(const c of r)hQ(n,s,c.style),n.beginPath(),a(n,e,c,{start:t,end:t+i-1})&&n.closePath(),n.stroke()}(n,e,t,i)}(t,this,r,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return n.id="line",n.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},n.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},n.descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e},n})();function mQ(n,e,t,i){const r=n.options,{[t]:s}=n.getProps([t],i);return Math.abs(e-s)<r.radius+r.hitRadius}let Eje=(()=>{class n extends Ua{constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,i,r){const s=this.options,{x:a,y:c}=this.getProps(["x","y"],r);return Math.pow(t-a,2)+Math.pow(i-c,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,i){return mQ(this,t,"x",i)}inYRange(t,i){return mQ(this,t,"y",i)}getCenterPoint(t){const{x:i,y:r}=this.getProps(["x","y"],t);return{x:i,y:r}}size(t){let i=(t=t||this.options||{}).radius||0;return i=Math.max(i,i&&t.hoverRadius||0),2*(i+(i&&t.borderWidth||0))}draw(t,i){const r=this.options;this.skip||r.radius<.1||!zg(this,i,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,cL(t,r,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}return n.id="point",n.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},n.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},n})();function gQ(n,e){const{x:t,y:i,base:r,width:s,height:a}=n.getProps(["x","y","base","width","height"],e);let c,d,h,g,y;return n.horizontal?(y=a/2,c=Math.min(t,r),d=Math.max(t,r),h=i-y,g=i+y):(y=s/2,c=t-y,d=t+y,h=Math.min(i,r),g=Math.max(i,r)),{left:c,top:h,right:d,bottom:g}}function ul(n,e,t,i){return n?0:Ji(e,t,i)}function SL(n,e,t,i){const r=null===e,s=null===t,c=n&&!(r&&s)&&gQ(n,i);return c&&(r||X4(e,c.left,c.right))&&(s||X4(t,c.top,c.bottom))}function Rje(n,e){n.rect(e.x,e.y,e.w,e.h)}function TL(n,e,t={}){const i=n.x!==t.x?-e:0,r=n.y!==t.y?-e:0;return{x:n.x+i,y:n.y+r,w:n.w+((n.x+n.w!==t.x+t.w?e:0)-i),h:n.h+((n.y+n.h!==t.y+t.h?e:0)-r),radius:n.radius}}class Nw extends Ua{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:a}=function Nje(n){const e=gQ(n),t=e.right-e.left,i=e.bottom-e.top,r=function Vje(n,e,t){const r=n.borderSkipped,s=sK(n.options.borderWidth);return{t:ul(r.top,s.top,0,t),r:ul(r.right,s.right,0,e),b:ul(r.bottom,s.bottom,0,t),l:ul(r.left,s.left,0,e)}}(n,t/2,i/2),s=function Ije(n,e,t){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,s=nu(r),a=Math.min(e,t),c=n.borderSkipped,d=i||Jn(r);return{topLeft:ul(!d||c.top||c.left,s.topLeft,0,a),topRight:ul(!d||c.top||c.right,s.topRight,0,a),bottomLeft:ul(!d||c.bottom||c.left,s.bottomLeft,0,a),bottomRight:ul(!d||c.bottom||c.right,s.bottomRight,0,a)}}(n,t/2,i/2);return{outer:{x:e.left,y:e.top,w:t,h:i,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:t-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}(this),c=function Pje(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}(a.radius)?Ag:Rje;e.save(),(a.w!==s.w||a.h!==s.h)&&(e.beginPath(),c(e,TL(a,t,s)),e.clip(),c(e,TL(s,-t,a)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),c(e,TL(s,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,i){return SL(this,e,t,i)}inXRange(e,t){return SL(this,e,null,t)}inYRange(e,t){return SL(this,null,e,t)}getCenterPoint(e){const{x:t,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+r)/2:t,y:s?i:(i+r)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}Nw.id="bar",Nw.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},Nw.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var Oje=Object.freeze({__proto__:null,ArcElement:Vw,LineElement:Iw,PointElement:Eje,BarElement:Nw});function _Q(n){if(n._decimated){const e=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{value:e})}}function vQ(n){n.data.datasets.forEach(e=>{_Q(e)})}var jje={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,e,t)=>{if(!t.enabled)return void vQ(n);const i=n.width;n.data.datasets.forEach((r,s)=>{const{_data:a,indexAxis:c}=r,d=n.getDatasetMeta(s),h=a||r.data;if("y"===Hg([c,n.options.indexAxis])||!d.controller.supportsDecimation)return;const g=n.scales[d.xAxisID];if("linear"!==g.type&&"time"!==g.type||n.options.parsing)return;let k,{start:y,count:M}=function Uje(n,e){const t=e.length;let r,i=0;const{iScale:s}=n,{min:a,max:c,minDefined:d,maxDefined:h}=s.getUserBounds();return d&&(i=Ji(e6(e,s.axis,a).lo,0,t-1)),r=h?Ji(e6(e,s.axis,c).hi+1,i,t)-i:t-i,{start:i,count:r}}(d,h);if(M<=(t.threshold||4*i))_Q(r);else{switch(f1(a)&&(r._data=h,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(A){this._data=A}})),t.algorithm){case"lttb":k=function Fje(n,e,t,i,r){const s=r.samples||i;if(s>=t)return n.slice(e,e+t);const a=[],c=(t-2)/(s-2);let d=0;const h=e+t-1;let y,M,S,k,A,g=e;for(a[d++]=n[g],y=0;y<s-2;y++){let G,L=0,B=0;const X=Math.floor((y+1)*c)+1+e,te=Math.min(Math.floor((y+2)*c)+1,t)+e,re=te-X;for(G=X;G<te;G++)L+=n[G].x,B+=n[G].y;L/=re,B/=re;const be=Math.floor(y*c)+1+e,Ee=Math.min(Math.floor((y+1)*c)+1,t)+e,{x:rt,y:dt}=n[g];for(S=k=-1,G=be;G<Ee;G++)k=.5*Math.abs((rt-L)*(n[G].y-dt)-(rt-n[G].x)*(B-dt)),k>S&&(S=k,M=n[G],A=G);a[d++]=M,g=A}return a[d++]=n[h],a}(h,y,M,i,t);break;case"min-max":k=function Bje(n,e,t,i){let a,c,d,h,g,y,M,S,k,A,r=0,s=0;const L=[],G=n[e].x,te=n[e+t-1].x-G;for(a=e;a<e+t;++a){c=n[a],d=(c.x-G)/te*i,h=c.y;const re=0|d;if(re===g)h<k?(k=h,y=a):h>A&&(A=h,M=a),r=(s*r+c.x)/++s;else{const be=a-1;if(!f1(y)&&!f1(M)){const Ee=Math.min(y,M),rt=Math.max(y,M);Ee!==S&&Ee!==be&&L.push({...n[Ee],x:r}),rt!==S&&rt!==be&&L.push({...n[rt],x:r})}a>0&&be!==S&&L.push(n[be]),L.push(c),g=re,s=0,k=A=h,y=M=S=a}}return L}(h,y,M,i);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}r._decimated=k}})},destroy(n){vQ(n)}};function DL(n,e,t,i){if(i)return;let r=e[n],s=t[n];return"angle"===n&&(r=Gs(r),s=Gs(s)),{property:n,start:r,end:s}}function kL(n,e,t){for(;e>n;e--){const i=t[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function yQ(n,e,t,i){return n&&e?i(n[t],e[t]):n?n[t]:e?e[t]:0}function CQ(n,e){let t=[],i=!1;return s2(n)?(i=!0,t=n):t=function Yje(n,e){const{x:t=null,y:i=null}=n||{},r=e.points,s=[];return e.segments.forEach(({start:a,end:c})=>{c=kL(a,c,r);const d=r[a],h=r[c];null!==i?(s.push({x:d.x,y:i}),s.push({x:h.x,y:i})):null!==t&&(s.push({x:t,y:d.y}),s.push({x:t,y:h.y}))}),s}(n,e),t.length?new Iw({points:t,options:{tension:0},_loop:i,_fullLoop:i}):null}function bQ(n){return n&&!1!==n.fill}function qje(n,e,t){let r=n[e].fill;const s=[e];let a;if(!t)return r;for(;!1!==r&&-1===s.indexOf(r);){if(!hi(r))return r;if(a=n[r],!a)return!1;if(a.visible)return r;s.push(r),r=a.fill}return!1}function Gje(n,e,t){const i=function Qje(n){const e=n.options,t=e.fill;let i=Hn(t&&t.target,t);return void 0===i&&(i=!!e.backgroundColor),!1!==i&&null!==i&&(!0===i?"origin":i)}(n);if(Jn(i))return!isNaN(i.value)&&i;let r=parseFloat(i);return hi(r)&&Math.floor(r)===r?function $je(n,e,t,i){return("-"===n||"+"===n)&&(t=e+t),!(t===e||t<0||t>=i)&&t}(i[0],e,r,t):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function eWe(n,e,t){const i=[];for(let r=0;r<t.length;r++){const s=t[r],{first:a,last:c,point:d}=tWe(s,e,"x");if(!(!d||a&&c))if(a)i.unshift(d);else if(n.push(d),!c)break}n.push(...i)}function tWe(n,e,t){const i=n.interpolate(e,t);if(!i)return{};const r=i[t],s=n.segments,a=n.points;let c=!1,d=!1;for(let h=0;h<s.length;h++){const g=s[h],y=a[g.start][t],M=a[g.end][t];if(X4(r,y,M)){c=r===y,d=r===M;break}}return{first:c,last:d,point:i}}class MQ{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,i){const{x:r,y:s,radius:a}=this;return e.arc(r,s,a,(t=t||{start:0,end:O1}).end,t.start,!0),!i.bounds}interpolate(e){const{x:t,y:i,radius:r}=this,s=e.angle;return{x:t+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function zL(n,e,t){const i=function nWe(n){const{chart:e,fill:t,line:i}=n;if(hi(t))return function iWe(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}(e,t);if("stack"===t)return function Jje(n){const{scale:e,index:t,line:i}=n,r=[],s=i.segments,a=i.points,c=function Xje(n,e){const t=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===e)break;s.hidden||t.unshift(s.dataset)}return t}(e,t);c.push(CQ({x:null,y:e.bottom},i));for(let d=0;d<s.length;d++){const h=s[d];for(let g=h.start;g<=h.end;g++)eWe(r,a[g],c)}return new Iw({points:r,options:{}})}(n);if("shape"===t)return!0;const r=function rWe(n){return(n.scale||{}).getPointPositionForValue?function oWe(n){const{scale:e,fill:t}=n,i=e.options,r=e.getLabels().length,s=i.reverse?e.max:e.min,a=function Kje(n,e,t){let i;return i="start"===n?t:"end"===n?e.options.reverse?e.min:e.max:Jn(n)?n.value:e.getBaseValue(),i}(t,e,s),c=[];if(i.grid.circular){const d=e.getPointPositionForValue(0,s);return new MQ({x:d.x,y:d.y,radius:e.getDistanceFromCenterForValue(a)})}for(let d=0;d<r;++d)c.push(e.getPointPositionForValue(d,a));return c}(n):function sWe(n){const{scale:e={},fill:t}=n,i=function Zje(n,e){let t=null;return"start"===n?t=e.bottom:"end"===n?t=e.top:Jn(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}(t,e);if(hi(i)){const r=e.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}(n)}(n);return r instanceof MQ?r:CQ(r,i)}(e),{line:r,scale:s,axis:a}=e,c=r.options,d=c.fill,h=c.backgroundColor,{above:g=h,below:y=h}=d||{};i&&r.points.length&&(bw(n,t),function aWe(n,e){const{line:t,target:i,above:r,below:s,area:a,scale:c}=e,d=t._loop?"angle":e.axis;n.save(),"x"===d&&s!==r&&(wQ(n,i,a.top),xQ(n,{line:t,target:i,color:r,scale:c,property:d}),n.restore(),n.save(),wQ(n,i,a.bottom)),xQ(n,{line:t,target:i,color:s,scale:c,property:d}),n.restore()}(n,{line:r,target:i,above:g,below:y,area:t,scale:s,axis:a}),Mw(n))}function wQ(n,e,t){const{segments:i,points:r}=e;let s=!0,a=!1;n.beginPath();for(const c of i){const{start:d,end:h}=c,g=r[d],y=r[kL(d,h,r)];s?(n.moveTo(g.x,g.y),s=!1):(n.lineTo(g.x,t),n.lineTo(g.x,g.y)),a=!!e.pathSegment(n,c,{move:a}),a?n.closePath():n.lineTo(y.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function xQ(n,e){const{line:t,target:i,property:r,color:s,scale:a}=e,c=function Wje(n,e,t){const i=n.segments,r=n.points,s=e.points,a=[];for(const c of i){let{start:d,end:h}=c;h=kL(d,h,r);const g=DL(t,r[d],r[h],c.loop);if(!e.segments){a.push({source:c,target:g,start:r[d],end:r[h]});continue}const y=wK(e,g);for(const M of y){const S=DL(t,s[M.start],s[M.end],M.loop),k=MK(c,r,S);for(const A of k)a.push({source:A,target:M,start:{[t]:yQ(g,S,"start",Math.max)},end:{[t]:yQ(g,S,"end",Math.min)}})}}return a}(t,i,r);for(const{source:d,target:h,start:g,end:y}of c){const{style:{backgroundColor:M=s}={}}=d,S=!0!==i;n.save(),n.fillStyle=M,cWe(n,a,S&&DL(r,g,y)),n.beginPath();const k=!!t.pathSegment(n,d);let A;if(S){k?n.closePath():SQ(n,i,y,r);const L=!!i.pathSegment(n,h,{move:k,reverse:!0});A=k&&L,A||SQ(n,i,g,r)}n.closePath(),n.fill(A?"evenodd":"nonzero"),n.restore()}}function cWe(n,e,t){const{top:i,bottom:r}=e.chart.chartArea,{property:s,start:a,end:c}=t||{};"x"===s&&(n.beginPath(),n.rect(a,i,c-a,r-i),n.clip())}function SQ(n,e,t,i){const r=e.interpolate(t,i);r&&n.lineTo(r.x,r.y)}var lWe={id:"filler",afterDatasetsUpdate(n,e,t){const i=(n.data.datasets||[]).length,r=[];let s,a,c,d;for(a=0;a<i;++a)s=n.getDatasetMeta(a),c=s.dataset,d=null,c&&c.options&&c instanceof Iw&&(d={visible:n.isDatasetVisible(a),index:a,fill:Gje(c,a,i),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:c}),s.$filler=d,r.push(d);for(a=0;a<i;++a)d=r[a],d&&!1!==d.fill&&(d.fill=qje(r,a,t.propagate))},beforeDraw(n,e,t){const i="beforeDraw"===t.drawTime,r=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let a=r.length-1;a>=0;--a){const c=r[a].$filler;c&&(c.line.updateControlPoints(s,c.axis),i&&c.fill&&zL(n.ctx,c,s))}},beforeDatasetsDraw(n,e,t){if("beforeDatasetsDraw"!==t.drawTime)return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;bQ(s)&&zL(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,e,t){const i=e.meta.$filler;!bQ(i)||"beforeDatasetDraw"!==t.drawTime||zL(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const TQ=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}};class DQ extends Ua{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=o2(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const i=e.labels,r=Fi(i.font),s=r.size,a=this._computeTitleHeight(),{boxWidth:c,itemHeight:d}=TQ(i,s);let h,g;t.font=r.string,this.isHorizontal()?(h=this.maxWidth,g=this._fitRows(a,s,c,d)+10):(g=this.maxHeight,h=this._fitCols(a,s,c,d)+10),this.width=Math.min(h,e.maxWidth||this.maxWidth),this.height=Math.min(g,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,r){const{ctx:s,maxWidth:a,options:{labels:{padding:c}}}=this,d=this.legendHitBoxes=[],h=this.lineWidths=[0],g=r+c;let y=e;s.textAlign="left",s.textBaseline="middle";let M=-1,S=-g;return this.legendItems.forEach((k,A)=>{const L=i+t/2+s.measureText(k.text).width;(0===A||h[h.length-1]+L+2*c>a)&&(y+=g,h[h.length-(A>0?0:1)]=0,S+=g,M++),d[A]={left:0,top:S,row:M,width:L,height:r},h[h.length-1]+=L+c}),y}_fitCols(e,t,i,r){const{ctx:s,maxHeight:a,options:{labels:{padding:c}}}=this,d=this.legendHitBoxes=[],h=this.columnSizes=[],g=a-e;let y=c,M=0,S=0,k=0,A=0;return this.legendItems.forEach((L,B)=>{const G=i+t/2+s.measureText(L.text).width;B>0&&S+r+2*c>g&&(y+=M+c,h.push({width:M,height:S}),k+=M+c,A++,M=S=0),d[B]={left:k,top:S,col:A,width:G,height:r},M=Math.max(M,G),S+=r+c}),y+=M,h.push({width:M,height:S}),y}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:r},rtl:s}}=this,a=Uf(s,this.left,this.width);if(this.isHorizontal()){let c=0,d=kr(i,this.left+r,this.right-this.lineWidths[c]);for(const h of t)c!==h.row&&(c=h.row,d=kr(i,this.left+r,this.right-this.lineWidths[c])),h.top+=this.top+e+r,h.left=a.leftForLtr(a.x(d),h.width),d+=h.width+r}else{let c=0,d=kr(i,this.top+e+r,this.bottom-this.columnSizes[c].height);for(const h of t)h.col!==c&&(c=h.col,d=kr(i,this.top+e+r,this.bottom-this.columnSizes[c].height)),h.top=d,h.left+=this.left+r,h.left=a.leftForLtr(a.x(h.left),h.width),d+=h.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;bw(e,this),this._draw(),Mw(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:r}=this,{align:s,labels:a}=e,c=Xn.color,d=Uf(e.rtl,this.left,this.width),h=Fi(a.font),{color:g,padding:y}=a,M=h.size,S=M/2;let k;this.drawTitle(),r.textAlign=d.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=h.string;const{boxWidth:A,boxHeight:L,itemHeight:B}=TQ(a,M),te=this.isHorizontal(),re=this._computeTitleHeight();k=te?{x:kr(s,this.left+y,this.right-i[0]),y:this.top+y+re,line:0}:{x:this.left+y,y:kr(s,this.top+re+y,this.bottom-t[0].height),line:0},vK(this.ctx,e.textDirection);const be=B+y;this.legendItems.forEach((Ee,rt)=>{r.strokeStyle=Ee.fontColor||g,r.fillStyle=Ee.fontColor||g;const dt=r.measureText(Ee.text).width,_n=d.textAlign(Ee.textAlign||(Ee.textAlign=a.textAlign)),En=A+S+dt;let Tn=k.x,p1=k.y;d.setWidth(this.width),te?rt>0&&Tn+En+y>this.right&&(p1=k.y+=be,k.line++,Tn=k.x=kr(s,this.left+y,this.right-i[k.line])):rt>0&&p1+be>this.bottom&&(Tn=k.x=Tn+t[k.line].width+y,k.line++,p1=k.y=kr(s,this.top+re+y,this.bottom-t[k.line].height)),function(Ee,rt,dt){if(isNaN(A)||A<=0||isNaN(L)||L<0)return;r.save();const _n=Hn(dt.lineWidth,1);if(r.fillStyle=Hn(dt.fillStyle,c),r.lineCap=Hn(dt.lineCap,"butt"),r.lineDashOffset=Hn(dt.lineDashOffset,0),r.lineJoin=Hn(dt.lineJoin,"miter"),r.lineWidth=_n,r.strokeStyle=Hn(dt.strokeStyle,c),r.setLineDash(Hn(dt.lineDash,[])),a.usePointStyle){const En={radius:L*Math.SQRT2/2,pointStyle:dt.pointStyle,rotation:dt.rotation,borderWidth:_n},Tn=d.xPlus(Ee,A/2);rK(r,En,Tn,rt+S,a.pointStyleWidth&&A)}else{const En=rt+Math.max((M-L)/2,0),Tn=d.leftForLtr(Ee,A),p1=nu(dt.borderRadius);r.beginPath(),Object.values(p1).some(pi=>0!==pi)?Ag(r,{x:Tn,y:En,w:A,h:L,radius:p1}):r.rect(Tn,En,A,L),r.fill(),0!==_n&&r.stroke()}r.restore()}(d.x(Tn),p1,Ee),Tn=((n,e,t,i)=>n===(i?"left":"right")?t:"center"===n?(e+t)/2:e)(_n,Tn+A+S,te?Tn+En:this.right,e.rtl),function(Ee,rt,dt){tu(r,dt.text,Ee,rt+B/2,h,{strikethrough:dt.hidden,textAlign:d.textAlign(dt.textAlign)})}(d.x(Tn),p1,Ee),te?k.x+=En+y:k.y+=be}),yK(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=Fi(t.font),r=zr(t.padding);if(!t.display)return;const s=Uf(e.rtl,this.left,this.width),a=this.ctx,c=t.position,h=r.top+i.size/2;let g,y=this.left,M=this.width;if(this.isHorizontal())M=Math.max(...this.lineWidths),g=this.top+h,y=kr(e.align,y,this.right-M);else{const k=this.columnSizes.reduce((A,L)=>Math.max(A,L.height),0);g=h+kr(e.align,this.top,this.bottom-k-e.labels.padding-this._computeTitleHeight())}const S=kr(c,y,y+M);a.textAlign=s.textAlign(XH(c)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=i.string,tu(a,t.text,S,g,i)}_computeTitleHeight(){const e=this.options.title,t=Fi(e.font),i=zr(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,r,s;if(X4(e,this.left,this.right)&&X4(t,this.top,this.bottom))for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],X4(e,r.left,r.left+r.width)&&X4(t,r.top,r.top+r.height))return this.legendItems[i];return null}handleEvent(e){const t=this.options;if(!function dWe(n,e){return!(("mousemove"!==n&&"mouseout"!==n||!e.onHover&&!e.onLeave)&&(!e.onClick||"click"!==n&&"mouseup"!==n))}(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const r=this._hoveredItem,s=((n,e)=>null!==n&&null!==e&&n.datasetIndex===e.datasetIndex&&n.index===e.index)(r,i);r&&!s&&o2(t.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&o2(t.onHover,[e,i,this],this)}else i&&o2(t.onClick,[e,i,this],this)}}var fWe={id:"legend",_element:DQ,start(n,e,t){const i=n.legend=new DQ({ctx:n.ctx,options:t,chart:n});Ar.configure(n,i,t),Ar.addBox(n,i)},stop(n){Ar.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const i=n.legend;Ar.configure(n,i,t),i.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const i=e.datasetIndex,r=t.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:r,color:s}}=n.legend.options;return n._getSortedDatasetMetas().map(a=>{const c=a.controller.getStyle(t?0:void 0),d=zr(c.borderWidth);return{text:e[a.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!a.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:r||c.textAlign,borderRadius:0,datasetIndex:a.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class AL extends Ua{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const r=s2(i.text)?i.text.length:1;this._padding=zr(i.padding);const s=r*Fi(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:i,bottom:r,right:s,options:a}=this,c=a.align;let h,g,y,d=0;return this.isHorizontal()?(g=kr(c,i,s),y=t+e,h=s-i):("left"===a.position?(g=i+e,y=kr(c,r,t),d=-.5*E2):(g=s-e,y=kr(c,t,r),d=.5*E2),h=r-t),{titleX:g,titleY:y,maxWidth:h,rotation:d}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const i=Fi(t.font),s=i.lineHeight/2+this._padding.top,{titleX:a,titleY:c,maxWidth:d,rotation:h}=this._drawArgs(s);tu(e,t.text,0,0,i,{color:t.color,maxWidth:d,rotation:h,textAlign:XH(t.align),textBaseline:"middle",translation:[a,c]})}}var pWe={id:"title",_element:AL,start(n,e,t){!function hWe(n,e){const t=new AL({ctx:n.ctx,options:e,chart:n});Ar.configure(n,t,e),Ar.addBox(n,t),n.titleBlock=t}(n,t)},stop(n){Ar.removeBox(n,n.titleBlock),delete n.titleBlock},beforeUpdate(n,e,t){const i=n.titleBlock;Ar.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Pw=new WeakMap;var mWe={id:"subtitle",start(n,e,t){const i=new AL({ctx:n.ctx,options:t,chart:n});Ar.configure(n,i,t),Ar.addBox(n,i),Pw.set(n,i)},stop(n){Ar.removeBox(n,Pw.get(n)),Pw.delete(n)},beforeUpdate(n,e,t){const i=Pw.get(n);Ar.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ug={average(n){if(!n.length)return!1;let e,t,i=0,r=0,s=0;for(e=0,t=n.length;e<t;++e){const a=n[e].element;if(a&&a.hasValue()){const c=a.tooltipPosition();i+=c.x,r+=c.y,++s}}return{x:i/s,y:r/s}},nearest(n,e){if(!n.length)return!1;let s,a,c,t=e.x,i=e.y,r=Number.POSITIVE_INFINITY;for(s=0,a=n.length;s<a;++s){const d=n[s].element;if(d&&d.hasValue()){const g=QH(e,d.getCenterPoint());g<r&&(r=g,c=d)}}if(c){const d=c.tooltipPosition();t=d.x,i=d.y}return{x:t,y:i}}};function dc(n,e){return e&&(s2(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function r6(n){return("string"==typeof n||n instanceof String)&&n.indexOf("\n")>-1?n.split("\n"):n}function gWe(n,e){const{element:t,datasetIndex:i,index:r}=e,s=n.getDatasetMeta(i).controller,{label:a,value:c}=s.getLabelAndValue(r);return{chart:n,label:a,parsed:s.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:c,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:t}}function kQ(n,e){const t=n.chart.ctx,{body:i,footer:r,title:s}=n,{boxWidth:a,boxHeight:c}=e,d=Fi(e.bodyFont),h=Fi(e.titleFont),g=Fi(e.footerFont),y=s.length,M=r.length,S=i.length,k=zr(e.padding);let A=k.height,L=0,B=i.reduce((te,re)=>te+re.before.length+re.lines.length+re.after.length,0);B+=n.beforeBody.length+n.afterBody.length,y&&(A+=y*h.lineHeight+(y-1)*e.titleSpacing+e.titleMarginBottom),B&&(A+=S*(e.displayColors?Math.max(c,d.lineHeight):d.lineHeight)+(B-S)*d.lineHeight+(B-1)*e.bodySpacing),M&&(A+=e.footerMarginTop+M*g.lineHeight+(M-1)*e.footerSpacing);let G=0;const X=function(te){L=Math.max(L,t.measureText(te).width+G)};return t.save(),t.font=h.string,H1(n.title,X),t.font=d.string,H1(n.beforeBody.concat(n.afterBody),X),G=e.displayColors?a+2+e.boxPadding:0,H1(i,te=>{H1(te.before,X),H1(te.lines,X),H1(te.after,X)}),G=0,t.font=g.string,H1(n.footer,X),t.restore(),L+=k.width,{width:L,height:A}}function yWe(n,e,t,i){const{x:r,width:s}=t,{width:a,chartArea:{left:c,right:d}}=n;let h="center";return"center"===i?h=r<=(c+d)/2?"left":"right":r<=s/2?h="left":r>=a-s/2&&(h="right"),function vWe(n,e,t,i){const{x:r,width:s}=i,a=t.caretSize+t.caretPadding;if("left"===n&&r+s+a>e.width||"right"===n&&r-s-a<0)return!0}(h,n,e,t)&&(h="center"),h}function zQ(n,e,t){const i=t.yAlign||e.yAlign||function _We(n,e){const{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}(n,t);return{xAlign:t.xAlign||e.xAlign||yWe(n,e,t,i),yAlign:i}}function AQ(n,e,t,i){const{caretSize:r,caretPadding:s,cornerRadius:a}=n,{xAlign:c,yAlign:d}=t,h=r+s,{topLeft:g,topRight:y,bottomLeft:M,bottomRight:S}=nu(a);let k=function CWe(n,e){let{x:t,width:i}=n;return"right"===e?t-=i:"center"===e&&(t-=i/2),t}(e,c);const A=function bWe(n,e,t){let{y:i,height:r}=n;return"top"===e?i+=t:i-="bottom"===e?r+t:r/2,i}(e,d,h);return"center"===d?"left"===c?k+=h:"right"===c&&(k-=h):"left"===c?k-=Math.max(g,M)+r:"right"===c&&(k+=Math.max(y,S)+r),{x:Ji(k,0,i.width-e.width),y:Ji(A,0,i.height-e.height)}}function Rw(n,e,t){const i=zr(t.padding);return"center"===e?n.x+n.width/2:"right"===e?n.x+n.width-i.right:n.x+i.left}function HQ(n){return dc([],r6(n))}function LQ(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}let EQ=(()=>{class n extends Ua{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart||t._chart,this._chart=this.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const i=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&i.options.animation&&r.animations,a=new DK(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=function MWe(n,e,t){return cl(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,i){const{callbacks:r}=i,s=r.beforeTitle.apply(this,[t]),a=r.title.apply(this,[t]),c=r.afterTitle.apply(this,[t]);let d=[];return d=dc(d,r6(s)),d=dc(d,r6(a)),d=dc(d,r6(c)),d}getBeforeBody(t,i){return HQ(i.callbacks.beforeBody.apply(this,[t]))}getBody(t,i){const{callbacks:r}=i,s=[];return H1(t,a=>{const c={before:[],lines:[],after:[]},d=LQ(r,a);dc(c.before,r6(d.beforeLabel.call(this,a))),dc(c.lines,d.label.call(this,a)),dc(c.after,r6(d.afterLabel.call(this,a))),s.push(c)}),s}getAfterBody(t,i){return HQ(i.callbacks.afterBody.apply(this,[t]))}getFooter(t,i){const{callbacks:r}=i,s=r.beforeFooter.apply(this,[t]),a=r.footer.apply(this,[t]),c=r.afterFooter.apply(this,[t]);let d=[];return d=dc(d,r6(s)),d=dc(d,r6(a)),d=dc(d,r6(c)),d}_createItems(t){const i=this._active,r=this.chart.data,s=[],a=[],c=[];let h,g,d=[];for(h=0,g=i.length;h<g;++h)d.push(gWe(this.chart,i[h]));return t.filter&&(d=d.filter((y,M,S)=>t.filter(y,M,S,r))),t.itemSort&&(d=d.sort((y,M)=>t.itemSort(y,M,r))),H1(d,y=>{const M=LQ(t.callbacks,y);s.push(M.labelColor.call(this,y)),a.push(M.labelPointStyle.call(this,y)),c.push(M.labelTextColor.call(this,y))}),this.labelColors=s,this.labelPointStyles=a,this.labelTextColors=c,this.dataPoints=d,d}update(t,i){const r=this.options.setContext(this.getContext()),s=this._active;let a,c=[];if(s.length){const d=Ug[r.position].call(this,s,this._eventPosition);c=this._createItems(r),this.title=this.getTitle(c,r),this.beforeBody=this.getBeforeBody(c,r),this.body=this.getBody(c,r),this.afterBody=this.getAfterBody(c,r),this.footer=this.getFooter(c,r);const h=this._size=kQ(this,r),g=Object.assign({},d,h),y=zQ(this.chart,r,g),M=AQ(r,g,y,this.chart);this.xAlign=y.xAlign,this.yAlign=y.yAlign,a={opacity:1,x:M.x,y:M.y,width:h.width,height:h.height,caretX:d.x,caretY:d.y}}else 0!==this.opacity&&(a={opacity:0});this._tooltipItems=c,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(t,i,r,s){const a=this.getCaretPosition(t,r,s);i.lineTo(a.x1,a.y1),i.lineTo(a.x2,a.y2),i.lineTo(a.x3,a.y3)}getCaretPosition(t,i,r){const{xAlign:s,yAlign:a}=this,{caretSize:c,cornerRadius:d}=r,{topLeft:h,topRight:g,bottomLeft:y,bottomRight:M}=nu(d),{x:S,y:k}=t,{width:A,height:L}=i;let B,G,X,te,re,be;return"center"===a?(re=k+L/2,"left"===s?(B=S,G=B-c,te=re+c,be=re-c):(B=S+A,G=B+c,te=re-c,be=re+c),X=B):(G="left"===s?S+Math.max(h,y)+c:"right"===s?S+A-Math.max(g,M)-c:this.caretX,"top"===a?(te=k,re=te-c,B=G-c,X=G+c):(te=k+L,re=te+c,B=G+c,X=G-c),be=te),{x1:B,x2:G,x3:X,y1:te,y2:re,y3:be}}drawTitle(t,i,r){const s=this.title,a=s.length;let c,d,h;if(a){const g=Uf(r.rtl,this.x,this.width);for(t.x=Rw(this,r.titleAlign,r),i.textAlign=g.textAlign(r.titleAlign),i.textBaseline="middle",c=Fi(r.titleFont),d=r.titleSpacing,i.fillStyle=r.titleColor,i.font=c.string,h=0;h<a;++h)i.fillText(s[h],g.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+d,h+1===a&&(t.y+=r.titleMarginBottom-d)}}_drawColorBox(t,i,r,s,a){const c=this.labelColors[r],d=this.labelPointStyles[r],{boxHeight:h,boxWidth:g,boxPadding:y}=a,M=Fi(a.bodyFont),S=Rw(this,"left",a),k=s.x(S),L=i.y+(h<M.lineHeight?(M.lineHeight-h)/2:0);if(a.usePointStyle){const B={radius:Math.min(g,h)/2,pointStyle:d.pointStyle,rotation:d.rotation,borderWidth:1},G=s.leftForLtr(k,g)+g/2,X=L+h/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,cL(t,B,G,X),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,cL(t,B,G,X)}else{t.lineWidth=Jn(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const B=s.leftForLtr(k,g-y),G=s.leftForLtr(s.xPlus(k,1),g-y-2),X=nu(c.borderRadius);Object.values(X).some(te=>0!==te)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,Ag(t,{x:B,y:L,w:g,h,radius:X}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),Ag(t,{x:G,y:L+1,w:g-2,h:h-2,radius:X}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(B,L,g,h),t.strokeRect(B,L,g,h),t.fillStyle=c.backgroundColor,t.fillRect(G,L+1,g-2,h-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,i,r){const{body:s}=this,{bodySpacing:a,bodyAlign:c,displayColors:d,boxHeight:h,boxWidth:g,boxPadding:y}=r,M=Fi(r.bodyFont);let S=M.lineHeight,k=0;const A=Uf(r.rtl,this.x,this.width),L=function(dt){i.fillText(dt,A.x(t.x+k),t.y+S/2),t.y+=S+a},B=A.textAlign(c);let G,X,te,re,be,Ee,rt;for(i.textAlign=c,i.textBaseline="middle",i.font=M.string,t.x=Rw(this,B,r),i.fillStyle=r.bodyColor,H1(this.beforeBody,L),k=d&&"right"!==B?"center"===c?g/2+y:g+2+y:0,re=0,Ee=s.length;re<Ee;++re){for(G=s[re],X=this.labelTextColors[re],i.fillStyle=X,H1(G.before,L),te=G.lines,d&&te.length&&(this._drawColorBox(i,t,re,A,r),S=Math.max(M.lineHeight,h)),be=0,rt=te.length;be<rt;++be)L(te[be]),S=M.lineHeight;H1(G.after,L)}k=0,S=M.lineHeight,H1(this.afterBody,L),t.y-=a}drawFooter(t,i,r){const s=this.footer,a=s.length;let c,d;if(a){const h=Uf(r.rtl,this.x,this.width);for(t.x=Rw(this,r.footerAlign,r),t.y+=r.footerMarginTop,i.textAlign=h.textAlign(r.footerAlign),i.textBaseline="middle",c=Fi(r.footerFont),i.fillStyle=r.footerColor,i.font=c.string,d=0;d<a;++d)i.fillText(s[d],h.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+r.footerSpacing}}drawBackground(t,i,r,s){const{xAlign:a,yAlign:c}=this,{x:d,y:h}=t,{width:g,height:y}=r,{topLeft:M,topRight:S,bottomLeft:k,bottomRight:A}=nu(s.cornerRadius);i.fillStyle=s.backgroundColor,i.strokeStyle=s.borderColor,i.lineWidth=s.borderWidth,i.beginPath(),i.moveTo(d+M,h),"top"===c&&this.drawCaret(t,i,r,s),i.lineTo(d+g-S,h),i.quadraticCurveTo(d+g,h,d+g,h+S),"center"===c&&"right"===a&&this.drawCaret(t,i,r,s),i.lineTo(d+g,h+y-A),i.quadraticCurveTo(d+g,h+y,d+g-A,h+y),"bottom"===c&&this.drawCaret(t,i,r,s),i.lineTo(d+k,h+y),i.quadraticCurveTo(d,h+y,d,h+y-k),"center"===c&&"left"===a&&this.drawCaret(t,i,r,s),i.lineTo(d,h+M),i.quadraticCurveTo(d,h,d+M,h),i.closePath(),i.fill(),s.borderWidth>0&&i.stroke()}_updateAnimationTarget(t){const i=this.chart,r=this.$animations,s=r&&r.x,a=r&&r.y;if(s||a){const c=Ug[t.position].call(this,this._active,this._eventPosition);if(!c)return;const d=this._size=kQ(this,t),h=Object.assign({},c,this._size),g=zQ(i,t,h),y=AQ(t,h,g,i);(s._to!==y.x||a._to!==y.y)&&(this.xAlign=g.xAlign,this.yAlign=g.yAlign,this.width=d.width,this.height=d.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,y))}}_willRender(){return!!this.opacity}draw(t){const i=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(i);const s={width:this.width,height:this.height},a={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const c=zr(i.padding);i.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(t.save(),t.globalAlpha=r,this.drawBackground(a,t,s,i),vK(t,i.textDirection),a.y+=c.top,this.drawTitle(a,t,i),this.drawBody(a,t,i),this.drawFooter(a,t,i),yK(t,i.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,i){const r=this._active,s=t.map(({datasetIndex:d,index:h})=>{const g=this.chart.getDatasetMeta(d);if(!g)throw new Error("Cannot find a dataset at index "+d);return{datasetIndex:d,element:g.data[h],index:h}}),a=!fw(r,s),c=this._positionChanged(s,i);(a||c)&&(this._active=s,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,i,r=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,a=this._active||[],c=this._getActiveElements(t,a,i,r),d=this._positionChanged(c,t),h=i||!fw(c,a)||d;return h&&(this._active=c,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,i))),h}_getActiveElements(t,i,r,s){const a=this.options;if("mouseout"===t.type)return[];if(!s)return i;const c=this.chart.getElementsAtEventForMode(t,a.mode,a,r);return a.reverse&&c.reverse(),c}_positionChanged(t,i){const{caretX:r,caretY:s,options:a}=this,c=Ug[a.position].call(this,t,i);return!1!==c&&(r!==c.x||s!==c.y)}}return n.positioners=Ug,n})();var wWe={id:"tooltip",_element:EQ,positioners:Ug,afterInit(n,e,t){t&&(n.tooltip=new EQ({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(!1===n.notifyPlugins("beforeTooltipDraw",t))return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){n.tooltip&&n.tooltip.handleEvent(e.event,e.replay,e.inChartArea)&&(e.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:J4,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:J4,beforeBody:J4,beforeLabel:J4,label(n){if(this&&this.options&&"dataset"===this.options.mode)return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return f1(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:J4,afterBody:J4,beforeFooter:J4,footer:J4,afterFooter:J4}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>"filter"!==n&&"itemSort"!==n&&"external"!==n,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},xWe=Object.freeze({__proto__:null,Decimation:jje,Filler:lWe,Legend:fWe,SubTitle:mWe,Title:pWe,Tooltip:wWe});class Ow extends ou{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const i=this.getLabels();for(const{index:r,label:s}of t)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(f1(e))return null;const i=this.getLabels();return t=isFinite(t)&&i[t]===e?t:function TWe(n,e,t,i){const r=n.indexOf(e);return-1===r?((n,e,t,i)=>("string"==typeof e?(t=n.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t))(n,e,t,i):r!==n.lastIndexOf(e)?t:r}(i,e,Hn(t,e),this._addedLabels),((n,e)=>null===n?null:Ji(Math.round(n),0,e))(t,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(i=0),t||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=0===e&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=e;a<=t;a++)r.push({value:a});return r}getLabelForValue(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function VQ(n,e,{horizontal:t,minRotation:i}){const r=Ba(i),s=(t?Math.sin(r):Math.cos(r))||.001;return Math.min(e/s,.75*e*(""+n).length)}Ow.id="category",Ow.defaults={ticks:{callback:Ow.prototype.getLabelForValue}};class Fw extends ou{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return f1(e)||("number"==typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const a=d=>r=t?r:d,c=d=>s=i?s:d;if(e){const d=cc(r),h=cc(s);d<0&&h<0?c(0):d>0&&h>0&&a(0)}if(r===s){let d=1;(s>=Number.MAX_SAFE_INTEGER||r<=Number.MIN_SAFE_INTEGER)&&(d=Math.abs(.05*s)),c(s+d),e||a(r-d)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let r,{maxTicksLimit:t,stepSize:i}=e;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),t=t||11),t&&(r=Math.min(t,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const a=function kWe(n,e){const t=[],{bounds:r,step:s,min:a,max:c,precision:d,count:h,maxTicks:g,maxDigits:y,includeBounds:M}=n,S=s||1,k=g-1,{min:A,max:L}=e,B=!f1(a),G=!f1(c),X=!f1(h),te=(L-A)/(y+1);let be,Ee,rt,dt,re=VZ((L-A)/k/S)*S;if(re<1e-14&&!B&&!G)return[{value:A},{value:L}];dt=Math.ceil(L/re)-Math.floor(A/re),dt>k&&(re=VZ(dt*re/k/S)*S),f1(d)||(be=Math.pow(10,d),re=Math.ceil(re*be)/be),"ticks"===r?(Ee=Math.floor(A/re)*re,rt=Math.ceil(L/re)*re):(Ee=A,rt=L),B&&G&&s&&function aFe(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}((c-a)/s,re/1e3)?(dt=Math.round(Math.min((c-a)/re,g)),re=(c-a)/dt,Ee=a,rt=c):X?(Ee=B?a:Ee,rt=G?c:rt,dt=h-1,re=(rt-Ee)/dt):(dt=(rt-Ee)/re,dt=wg(dt,Math.round(dt),re/1e3)?Math.round(dt):Math.ceil(dt));const _n=Math.max(NZ(re),NZ(Ee));be=Math.pow(10,f1(d)?_n:d),Ee=Math.round(Ee*be)/be,rt=Math.round(rt*be)/be;let En=0;for(B&&(M&&Ee!==a?(t.push({value:a}),Ee<a&&En++,wg(Math.round((Ee+En*re)*be)/be,a,VQ(a,te,n))&&En++):Ee<a&&En++);En<dt;++En)t.push({value:Math.round((Ee+En*re)*be)/be});return G&&M&&rt!==c?t.length&&wg(t[t.length-1].value,c,VQ(c,te,n))?t[t.length-1].value=c:t.push({value:c}):(!G||rt===c)&&t.push({value:rt}),t}({maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&IZ(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-t)/Math.max(e.length-1,1)/2;t-=r,i+=r}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return Lg(e,this.chart.options.locale,this.options.ticks.format)}}class HL extends Fw{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=hi(e)?e:0,this.max=hi(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=Ba(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}function IQ(n){return n/Math.pow(10,Math.floor(Po(n)))==1}HL.id="linear",HL.defaults={ticks:{callback:Tw.formatters.numeric}};class LL extends ou{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const i=Fw.prototype.parse.apply(this,[e,t]);if(0!==i)return hi(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=hi(e)?Math.max(0,e):null,this.max=hi(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let i=this.min,r=this.max;const s=d=>i=e?i:d,a=d=>r=t?r:d,c=(d,h)=>Math.pow(10,Math.floor(Po(d))+h);i===r&&(i<=0?(s(1),a(10)):(s(c(i,-1)),a(c(r,1)))),i<=0&&s(c(r,-1)),r<=0&&a(c(i,1)),this._zero&&this.min!==this._suggestedMin&&i===c(this.min,0)&&s(c(i,-1)),this.min=i,this.max=r}buildTicks(){const e=this.options,i=function zWe(n,e){const t=Math.floor(Po(e.max)),i=Math.ceil(e.max/Math.pow(10,t)),r=[];let s=Io(n.min,Math.pow(10,Math.floor(Po(e.min)))),a=Math.floor(Po(s)),c=Math.floor(s/Math.pow(10,a)),d=a<0?Math.pow(10,Math.abs(a)):1;do{r.push({value:s,major:IQ(s)}),++c,10===c&&(c=1,++a,d=a>=0?1:d),s=Math.round(c*Math.pow(10,a)*d)/d}while(a<t||a===t&&c<i);const h=Io(n.max,s);return r.push({value:h,major:IQ(s)}),r}({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&IZ(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return void 0===e?"0":Lg(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Po(e),this._valueRange=Po(this.max)-Po(e)}getPixelForValue(e){return(void 0===e||0===e)&&(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Po(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function EL(n){const e=n.ticks;if(e.display&&n.display){const t=zr(e.backdropPadding);return Hn(e.font&&e.font.size,Xn.font.size)+t.height}return 0}function AWe(n,e,t){return t=s2(t)?t:[t],{w:OFe(n,e.string,t),h:t.length*e.lineHeight}}function NQ(n,e,t,i,r){return n===i||n===r?{start:e-t/2,end:e+t/2}:n<i||n>r?{start:e-t,end:e}:{start:e,end:e+t}}function LWe(n,e,t,i,r){const s=Math.abs(Math.sin(t)),a=Math.abs(Math.cos(t));let c=0,d=0;i.start<e.l?(c=(e.l-i.start)/s,n.l=Math.min(n.l,e.l-c)):i.end>e.r&&(c=(i.end-e.r)/s,n.r=Math.max(n.r,e.r+c)),r.start<e.t?(d=(e.t-r.start)/a,n.t=Math.min(n.t,e.t-d)):r.end>e.b&&(d=(r.end-e.b)/a,n.b=Math.max(n.b,e.b+d))}function VWe(n){return 0===n||180===n?"center":n<180?"left":"right"}function IWe(n,e,t){return"right"===t?n-=e:"center"===t&&(n-=e/2),n}function NWe(n,e,t){return 90===t||270===t?n-=e/2:(t>270||t<90)&&(n-=e),n}function PQ(n,e,t,i){const{ctx:r}=n;if(t)r.arc(n.xCenter,n.yCenter,e,0,O1);else{let s=n.getPointPosition(0,e);r.moveTo(s.x,s.y);for(let a=1;a<i;a++)s=n.getPointPosition(a,e),r.lineTo(s.x,s.y)}}LL.id="logarithmic",LL.defaults={ticks:{callback:Tw.formatters.logarithmic,major:{enabled:!0}}};class jg extends Fw{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=zr(EL(this.options)/2),t=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(t,i)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=hi(e)&&!isNaN(e)?e:0,this.max=hi(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/EL(this.options))}generateTickLabels(e){Fw.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,i)=>{const r=o2(this.options.pointLabels.callback,[t,i],this);return r||0===r?r:""}).filter((t,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?function HWe(n){const e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),i=[],r=[],s=n._pointLabels.length,a=n.options.pointLabels,c=a.centerPointLabels?E2/s:0;for(let d=0;d<s;d++){const h=a.setContext(n.getPointLabelContext(d));r[d]=h.padding;const g=n.getPointPosition(d,n.drawingArea+r[d],c),y=Fi(h.font),M=AWe(n.ctx,y,n._pointLabels[d]);i[d]=M;const S=Gs(n.getIndexAngle(d)+c),k=Math.round(KH(S));LWe(t,e,S,NQ(k,g.x,M.w,0,180),NQ(k,g.y,M.h,90,270))}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=function EWe(n,e,t){const i=[],r=n._pointLabels.length,s=n.options,a=EL(s)/2,c=n.drawingArea,d=s.pointLabels.centerPointLabels?E2/r:0;for(let h=0;h<r;h++){const g=n.getPointPosition(h,c+a+t[h],d),y=Math.round(KH(Gs(g.angle+ii))),M=e[h],S=NWe(g.y,M.h,y),k=VWe(y),A=IWe(g.x,M.w,k);i.push({x:g.x,y:S,textAlign:k,left:A,top:S,right:A+M.w,bottom:S+M.h})}return i}(n,i,r)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,i,r){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,i,r))}getIndexAngle(e){return Gs(e*(O1/(this._pointLabels.length||1))+Ba(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(f1(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(f1(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const i=t[e];return function OWe(n,e,t){return cl(n,{label:t,index:e,type:"pointLabel"})}(this.getContext(),e,i)}}getPointPosition(e,t,i=0){const r=this.getIndexAngle(e)-ii+i;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:i,right:r,bottom:s}=this._pointLabelItems[e];return{left:t,top:i,right:r,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),PQ(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:i,grid:r}=t,s=this._pointLabels.length;let a,c,d;if(t.pointLabels.display&&function PWe(n,e){const{ctx:t,options:{pointLabels:i}}=n;for(let r=e-1;r>=0;r--){const s=i.setContext(n.getPointLabelContext(r)),a=Fi(s.font),{x:c,y:d,textAlign:h,left:g,top:y,right:M,bottom:S}=n._pointLabelItems[r],{backdropColor:k}=s;if(!f1(k)){const A=nu(s.borderRadius),L=zr(s.backdropPadding);t.fillStyle=k;const B=g-L.left,G=y-L.top,X=M-g+L.width,te=S-y+L.height;Object.values(A).some(re=>0!==re)?(t.beginPath(),Ag(t,{x:B,y:G,w:X,h:te,radius:A}),t.fill()):t.fillRect(B,G,X,te)}tu(t,n._pointLabels[r],c,d+a.lineHeight/2,a,{color:s.color,textAlign:h,textBaseline:"middle"})}}(this,s),r.display&&this.ticks.forEach((h,g)=>{0!==g&&(c=this.getDistanceFromCenterForValue(h.value),function RWe(n,e,t,i){const r=n.ctx,s=e.circular,{color:a,lineWidth:c}=e;!s&&!i||!a||!c||t<0||(r.save(),r.strokeStyle=a,r.lineWidth=c,r.setLineDash(e.borderDash),r.lineDashOffset=e.borderDashOffset,r.beginPath(),PQ(n,t,s,i),r.closePath(),r.stroke(),r.restore())}(this,r.setContext(this.getContext(g-1)),c,s))}),i.display){for(e.save(),a=s-1;a>=0;a--){const h=i.setContext(this.getPointLabelContext(a)),{color:g,lineWidth:y}=h;!y||!g||(e.lineWidth=y,e.strokeStyle=g,e.setLineDash(h.borderDash),e.lineDashOffset=h.borderDashOffset,c=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),d=this.getPointPosition(a,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(d.x,d.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,i=t.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let s,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((c,d)=>{if(0===d&&!t.reverse)return;const h=i.setContext(this.getContext(d)),g=Fi(h.font);if(s=this.getDistanceFromCenterForValue(this.ticks[d].value),h.showLabelBackdrop){e.font=g.string,a=e.measureText(c.label).width,e.fillStyle=h.backdropColor;const y=zr(h.backdropPadding);e.fillRect(-a/2-y.left,-s-g.size/2-y.top,a+y.width,g.size+y.height)}tu(e,c.label,0,-s,g,{color:h.color})}),e.restore()}drawTitle(){}}jg.id="radialLinear",jg.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Tw.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:n=>n,padding:5,centerPointLabels:!1}},jg.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},jg.descriptors={angleLines:{_fallback:"grid"}};const Bw={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},bs=Object.keys(Bw);function FWe(n,e){return n-e}function RQ(n,e){if(f1(e))return null;const t=n._adapter,{parser:i,round:r,isoWeekday:s}=n._parseOpts;let a=e;return"function"==typeof i&&(a=i(a)),hi(a)||(a="string"==typeof i?t.parse(a,i):t.parse(a)),null===a?null:(r&&(a="week"!==r||!Rf(s)&&!0!==s?t.startOf(a,r):t.startOf(a,"isoWeek",s)),+a)}function OQ(n,e,t,i){const r=bs.length;for(let s=bs.indexOf(n);s<r-1;++s){const a=Bw[bs[s]];if(a.common&&Math.ceil((t-e)/((a.steps?a.steps:Number.MAX_SAFE_INTEGER)*a.size))<=i)return bs[s]}return bs[r-1]}function FQ(n,e,t){if(t){if(t.length){const{lo:i,hi:r}=JH(t,e);n[t[i]>=e?t[i]:t[r]]=!0}}else n[e]=!0}function BQ(n,e,t){const i=[],r={},s=e.length;let a,c;for(a=0;a<s;++a)c=e[a],r[c]=a,i.push({value:c,major:!1});return 0!==s&&t?function jWe(n,e,t,i){const r=n._adapter,s=+r.startOf(e[0].value,i),a=e[e.length-1].value;let c,d;for(c=s;c<=a;c=+r.add(c,1,i))d=t[c],d>=0&&(e[d].major=!0);return e}(n,i,r,t):i}let VL=(()=>{class n extends ou{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,i){const r=t.time||(t.time={}),s=this._adapter=new kUe._date(t.adapters.date);s.init(i),bg(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=i.normalized}parse(t,i){return void 0===t?null:RQ(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,i=this._adapter,r=t.time.unit||"day";let{min:s,max:a,minDefined:c,maxDefined:d}=this.getUserBounds();function h(g){!c&&!isNaN(g.min)&&(s=Math.min(s,g.min)),!d&&!isNaN(g.max)&&(a=Math.max(a,g.max))}(!c||!d)&&(h(this._getLabelBounds()),("ticks"!==t.bounds||"labels"!==t.ticks.source)&&h(this.getMinMax(!1))),s=hi(s)&&!isNaN(s)?s:+i.startOf(Date.now(),r),a=hi(a)&&!isNaN(a)?a:+i.endOf(Date.now(),r)+1,this.min=Math.min(s,a-1),this.max=Math.max(s+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let i=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(i=t[0],r=t[t.length-1]),{min:i,max:r}}buildTicks(){const t=this.options,i=t.time,r=t.ticks,s="labels"===r.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const a=this.min,d=function dFe(n,e,t){let i=0,r=n.length;for(;i<r&&n[i]<e;)i++;for(;r>i&&n[r-1]>t;)r--;return i>0||r<n.length?n.slice(i,r):n}(s,a,this.max);return this._unit=i.unit||(r.autoSkip?OQ(i.minUnit,this.min,this.max,this._getLabelCapacity(a)):function BWe(n,e,t,i,r){for(let s=bs.length-1;s>=bs.indexOf(t);s--){const a=bs[s];if(Bw[a].common&&n._adapter.diff(r,i,a)>=e-1)return a}return bs[t?bs.indexOf(t):0]}(this,d.length,i.minUnit,this.min,this.max)),this._majorUnit=r.major.enabled&&"year"!==this._unit?function UWe(n){for(let e=bs.indexOf(n)+1,t=bs.length;e<t;++e)if(Bw[bs[e]].common)return bs[e]}(this._unit):void 0,this.initOffsets(s),t.reverse&&d.reverse(),BQ(this,d,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t){let s,a,i=0,r=0;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),i=1===t.length?1-s:(this.getDecimalForValue(t[1])-s)/2,a=this.getDecimalForValue(t[t.length-1]),r=1===t.length?a:(a-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;i=Ji(i,0,c),r=Ji(r,0,c),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){const t=this._adapter,i=this.min,r=this.max,s=this.options,a=s.time,c=a.unit||OQ(a.minUnit,i,r,this._getLabelCapacity(i)),d=Hn(a.stepSize,1),h="week"===c&&a.isoWeekday,g=Rf(h)||!0===h,y={};let S,k,M=i;if(g&&(M=+t.startOf(M,"isoWeek",h)),M=+t.startOf(M,g?"day":c),t.diff(r,i,c)>1e5*d)throw new Error(i+" and "+r+" are too far apart with stepSize of "+d+" "+c);const A="data"===s.ticks.source&&this.getDataTimestamps();for(S=M,k=0;S<r;S=+t.add(S,d,c),k++)FQ(y,S,A);return(S===r||"ticks"===s.bounds||1===k)&&FQ(y,S,A),Object.keys(y).sort((L,B)=>L-B).map(L=>+L)}getLabelForValue(t){const r=this.options.time;return this._adapter.format(t,r.tooltipFormat?r.tooltipFormat:r.displayFormats.datetime)}_tickFormatFunction(t,i,r,s){const a=this.options,c=a.time.displayFormats,d=this._unit,h=this._majorUnit,y=h&&c[h],M=r[i],k=this._adapter.format(t,s||(h&&y&&M&&M.major?y:d&&c[d])),A=a.ticks.callback;return A?o2(A,[k,i,r],this):k}generateTickLabels(t){let i,r,s;for(i=0,r=t.length;i<r;++i)s=t[i],s.label=this._tickFormatFunction(s.value,i,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const i=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((i.start+r)*i.factor)}getValueForPixel(t){const i=this._offsets,r=this.getDecimalForPixel(t)/i.factor-i.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const i=this.options.ticks,r=this.ctx.measureText(t).width,s=Ba(this.isHorizontal()?i.maxRotation:i.minRotation),a=Math.cos(s),c=Math.sin(s),d=this._resolveTickFontOptions(0).size;return{w:r*a+d*c,h:r*c+d*a}}_getLabelCapacity(t){const i=this.options.time,r=i.displayFormats,s=r[i.unit]||r.millisecond,a=this._tickFormatFunction(t,0,BQ(this,[t],this._majorUnit),s),c=this._getLabelSize(a),d=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return d>0?d:1}getDataTimestamps(){let i,r,t=this._cache.data||[];if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(i=0,r=s.length;i<r;++i)t=t.concat(s[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let i,r;if(t.length)return t;const s=this.getLabels();for(i=0,r=s.length;i<r;++i)t.push(RQ(this,s[i]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return FZ(t.sort(FWe))}}return n.id="time",n.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}},n})();function Uw(n,e,t){let s,a,c,d,i=0,r=n.length-1;t?(e>=n[i].pos&&e<=n[r].pos&&({lo:i,hi:r}=e6(n,"pos",e)),({pos:s,time:c}=n[i]),({pos:a,time:d}=n[r])):(e>=n[i].time&&e<=n[r].time&&({lo:i,hi:r}=e6(n,"time",e)),({time:s,pos:c}=n[i]),({time:a,pos:d}=n[r]));const h=a-s;return h?c+(d-c)*(e-s)/h:c}class IL extends VL{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Uw(t,this.min),this._tableRange=Uw(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,r=[],s=[];let a,c,d,h,g;for(a=0,c=e.length;a<c;++a)h=e[a],h>=t&&h<=i&&r.push(h);if(r.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(a=0,c=r.length;a<c;++a)g=r[a+1],d=r[a-1],h=r[a],Math.round((g+d)/2)!==h&&s.push({time:h,pos:a/(c-1)});return s}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return e=t.length&&i.length?this.normalize(t.concat(i)):t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Uw(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return Uw(this._table,i*this._tableRange+this._minPos,!0)}}IL.id="timeseries",IL.defaults=VL.defaults;const YWe=[DUe,Oje,xWe,Object.freeze({__proto__:null,CategoryScale:Ow,LinearScale:HL,LogarithmicScale:LL,RadialLinearScale:jg,TimeScale:VL,TimeSeriesScale:IL})],jw=function $We(n,e){return n===e||n!=n&&e!=e},Ww=function ZWe(n,e){for(var t=n.length;t--;)if(jw(n[t][0],e))return t;return-1};var QWe=Array.prototype.splice;function Wf(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}Wf.prototype.clear=function qWe(){this.__data__=[],this.size=0},Wf.prototype.delete=function JWe(n){var e=this.__data__,t=Ww(e,n);return!(t<0||(t==e.length-1?e.pop():QWe.call(e,t,1),--this.size,0))},Wf.prototype.get=function eYe(n){var e=this.__data__,t=Ww(e,n);return t<0?void 0:e[t][1]},Wf.prototype.has=function nYe(n){return Ww(this.__data__,n)>-1},Wf.prototype.set=function rYe(n,e){var t=this.__data__,i=Ww(t,n);return i<0?(++this.size,t.push([n,e])):t[i][1]=e,this};const Yw=Wf,UQ="object"==typeof global&&global&&global.Object===Object&&global;var mYe="object"==typeof self&&self&&self.Object===Object&&self;const Yf=UQ||mYe||Function("return this")();var _Ye=Yf.Symbol,jQ=Object.prototype,vYe=jQ.hasOwnProperty,yYe=jQ.toString,Wg=_Ye?_Ye.toStringTag:void 0;var wYe=Object.prototype.toString;var WQ=_Ye?_Ye.toStringTag:void 0;const Gw=function kYe(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":WQ&&WQ in Object(n)?function CYe(n){var e=vYe.call(n,Wg),t=n[Wg];try{n[Wg]=void 0;var i=!0}catch{}var r=yYe.call(n);return i&&(e?n[Wg]=t:delete n[Wg]),r}(n):function xYe(n){return wYe.call(n)}(n)},cu=function zYe(n){var e=typeof n;return null!=n&&("object"==e||"function"==e)};const NL=function VYe(n){if(!cu(n))return!1;var e=Gw(n);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},PL=Yf["__core-js_shared__"];var YQ=function(){var n=/[^.]+$/.exec(PL&&PL.keys&&PL.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();var OYe=Function.prototype.toString;var jYe=/^\[object .+?Constructor\]$/,$Ye=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const KYe=function ZYe(n){return!(!cu(n)||function NYe(n){return!!YQ&&YQ in n}(n))&&(NL(n)?$Ye:jYe).test(function FYe(n){if(null!=n){try{return OYe.call(n)}catch{}try{return n+""}catch{}}return""}(n))},RL=function XYe(n,e){var t=function QYe(n,e){return n?.[e]}(n,e);return KYe(t)?t:void 0},qQ=RL(Yf,"Map"),Yg=RL(Object,"create");var cqe=Object.prototype.hasOwnProperty;var fqe=Object.prototype.hasOwnProperty;function qf(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}qf.prototype.clear=function nqe(){this.__data__=Yg?Yg(null):{},this.size=0},qf.prototype.delete=function rqe(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e},qf.prototype.get=function lqe(n){var e=this.__data__;if(Yg){var t=e[n];return"__lodash_hash_undefined__"===t?void 0:t}return cqe.call(e,n)?e[n]:void 0},qf.prototype.has=function hqe(n){var e=this.__data__;return Yg?void 0!==e[n]:fqe.call(e,n)},qf.prototype.set=function gqe(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=Yg&&void 0===e?"__lodash_hash_undefined__":e,this};const GQ=qf,$w=function Mqe(n,e){var t=n.__data__;return function Cqe(n){var e=typeof n;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==n:null===n}(e)?t["string"==typeof e?"string":"hash"]:t.map};function Gf(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}Gf.prototype.clear=function vqe(){this.size=0,this.__data__={hash:new GQ,map:new(qQ||Yw),string:new GQ}},Gf.prototype.delete=function wqe(n){var e=$w(this,n).delete(n);return this.size-=e?1:0,e},Gf.prototype.get=function Sqe(n){return $w(this,n).get(n)},Gf.prototype.has=function Dqe(n){return $w(this,n).has(n)},Gf.prototype.set=function zqe(n,e){var t=$w(this,n),i=t.size;return t.set(n,e),this.size+=t.size==i?0:1,this};const Hqe=Gf;function $f(n){var e=this.__data__=new Yw(n);this.size=e.size}$f.prototype.clear=function oYe(){this.__data__=new Yw,this.size=0},$f.prototype.delete=function cYe(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t},$f.prototype.get=function uYe(n){return this.__data__.get(n)},$f.prototype.has=function fYe(n){return this.__data__.has(n)},$f.prototype.set=function Eqe(n,e){var t=this.__data__;if(t instanceof Yw){var i=t.__data__;if(!qQ||i.length<199)return i.push([n,e]),this.size=++t.size,this;t=this.__data__=new Hqe(i)}return t.set(n,e),this.size=t.size,this};const Iqe=$f;var Nqe=function(){try{var n=RL(Object,"defineProperty");return n({},"",{}),n}catch{}}();const Zw=Nqe,OL=function Pqe(n,e,t){"__proto__"==e&&Zw?Zw(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t},FL=function Rqe(n,e,t){(void 0!==t&&!jw(n[e],t)||void 0===t&&!(e in n))&&OL(n,e,t)};var Fqe=function Oqe(n){return function(e,t,i){for(var r=-1,s=Object(e),a=i(e),c=a.length;c--;){var d=a[n?c:++r];if(!1===t(s[d],d,s))break}return e}}();const Bqe=Fqe;var $Q="object"==typeof exports&&exports&&!exports.nodeType&&exports,ZQ=$Q&&"object"==typeof module&&module&&!module.nodeType&&module,KQ=ZQ&&ZQ.exports===$Q?Yf.Buffer:void 0,QQ=KQ?KQ.allocUnsafe:void 0;const JQ=Yf.Uint8Array,Zqe=function $qe(n,e){var t=e?function qqe(n){var e=new n.constructor(n.byteLength);return new JQ(e).set(new JQ(n)),e}(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)};var XQ=Object.create,Jqe=function(){function n(){}return function(e){if(!cu(e))return{};if(XQ)return XQ(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();const Xqe=Jqe;var tGe=function eGe(n,e){return function(t){return n(e(t))}}(Object.getPrototypeOf,Object);const eJ=tGe;var nGe=Object.prototype;const tJ=function iGe(n){var e=n&&n.constructor;return n===("function"==typeof e&&e.prototype||nGe)},qg=function oGe(n){return null!=n&&"object"==typeof n};const nJ=function cGe(n){return qg(n)&&"[object Arguments]"==Gw(n)};var iJ=Object.prototype,lGe=iJ.hasOwnProperty,uGe=iJ.propertyIsEnumerable,dGe=nJ(function(){return arguments}())?nJ:function(n){return qg(n)&&lGe.call(n,"callee")&&!uGe.call(n,"callee")};const BL=dGe,UL=Array.isArray;const rJ=function pGe(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=9007199254740991},jL=function mGe(n){return null!=n&&rJ(n.length)&&!NL(n)};var sJ="object"==typeof exports&&exports&&!exports.nodeType&&exports,oJ=sJ&&"object"==typeof module&&module&&!module.nodeType&&module,aJ=oJ&&oJ.exports===sJ?Yf.Buffer:void 0;const cJ=(aJ?aJ.isBuffer:void 0)||function vGe(){return!1};var lJ=Function.prototype.toString,TGe=Object.prototype.hasOwnProperty,DGe=lJ.call(Object);var x2={};x2["[object Float32Array]"]=x2["[object Float64Array]"]=x2["[object Int8Array]"]=x2["[object Int16Array]"]=x2["[object Int32Array]"]=x2["[object Uint8Array]"]=x2["[object Uint8ClampedArray]"]=x2["[object Uint16Array]"]=x2["[object Uint32Array]"]=!0,x2["[object Arguments]"]=x2["[object Array]"]=x2["[object ArrayBuffer]"]=x2["[object Boolean]"]=x2["[object DataView]"]=x2["[object Date]"]=x2["[object Error]"]=x2["[object Function]"]=x2["[object Map]"]=x2["[object Number]"]=x2["[object Object]"]=x2["[object RegExp]"]=x2["[object Set]"]=x2["[object String]"]=x2["[object WeakMap]"]=!1;var uJ="object"==typeof exports&&exports&&!exports.nodeType&&exports,Gg=uJ&&"object"==typeof module&&module&&!module.nodeType&&module,WL=Gg&&Gg.exports===uJ&&UQ.process,s$e=function(){try{return Gg&&Gg.require&&Gg.require("util").types||WL&&WL.binding&&WL.binding("util")}catch{}}(),fJ=s$e&&s$e.isTypedArray;const hJ=fJ?function n$e(n){return function(e){return n(e)}}(fJ):function e$e(n){return qg(n)&&rJ(n.length)&&!!x2[Gw(n)]},YL=function a$e(n,e){if(("constructor"!==e||"function"!=typeof n[e])&&"__proto__"!=e)return n[e]};var l$e=Object.prototype.hasOwnProperty;const d$e=function u$e(n,e,t){var i=n[e];(!l$e.call(n,e)||!jw(i,t)||void 0===t&&!(e in n))&&OL(n,e,t)};var _$e=/^(?:0|[1-9]\d*)$/;const pJ=function v$e(n,e){var t=typeof n;return!!(e=e??9007199254740991)&&("number"==t||"symbol"!=t&&_$e.test(n))&&n>-1&&n%1==0&&n<e};var C$e=Object.prototype.hasOwnProperty;const M$e=function b$e(n,e){var t=UL(n),i=!t&&BL(n),r=!t&&!i&&cJ(n),s=!t&&!i&&!r&&hJ(n),a=t||i||r||s,c=a?function p$e(n,e){for(var t=-1,i=Array(n);++t<n;)i[t]=e(t);return i}(n.length,String):[],d=c.length;for(var h in n)(e||C$e.call(n,h))&&(!a||!("length"==h||r&&("offset"==h||"parent"==h)||s&&("buffer"==h||"byteLength"==h||"byteOffset"==h)||pJ(h,d)))&&c.push(h);return c};var T$e=Object.prototype.hasOwnProperty;const k$e=function D$e(n){if(!cu(n))return function w$e(n){var e=[];if(null!=n)for(var t in Object(n))e.push(t);return e}(n);var e=tJ(n),t=[];for(var i in n)"constructor"==i&&(e||!T$e.call(n,i))||t.push(i);return t},mJ=function z$e(n){return jL(n)?M$e(n,!0):k$e(n)},H$e=function A$e(n){return function f$e(n,e,t,i){var r=!t;t||(t={});for(var s=-1,a=e.length;++s<a;){var c=e[s],d=i?i(t[c],n[c],c,t,n):void 0;void 0===d&&(d=n[c]),r?OL(t,c,d):d$e(t,c,d)}return t}(n,mJ(n))},E$e=function L$e(n,e,t,i,r,s,a){var c=YL(n,t),d=YL(e,t),h=a.get(d);if(h)FL(n,t,h);else{var g=s?s(c,d,t+"",n,e,a):void 0,y=void 0===g;if(y){var M=UL(d),S=!M&&cJ(d),k=!M&&!S&&hJ(d);g=d,M||S||k?UL(c)?g=c:function gGe(n){return qg(n)&&jL(n)}(c)?g=function Kqe(n,e){var t=-1,i=n.length;for(e||(e=Array(i));++t<i;)e[t]=n[t];return e}(c):S?(y=!1,g=function jqe(n,e){if(e)return n.slice();var t=n.length,i=QQ?QQ(t):new n.constructor(t);return n.copy(i),i}(d,!0)):k?(y=!1,g=Zqe(d,!0)):g=[]:function kGe(n){if(!qg(n)||"[object Object]"!=Gw(n))return!1;var e=eJ(n);if(null===e)return!0;var t=TGe.call(e,"constructor")&&e.constructor;return"function"==typeof t&&t instanceof t&&lJ.call(t)==DGe}(d)||BL(d)?(g=c,BL(c)?g=H$e(c):(!cu(c)||NL(c))&&(g=function rGe(n){return"function"!=typeof n.constructor||tJ(n)?{}:Xqe(eJ(n))}(d))):y=!1}y&&(a.set(d,g),r(g,d,i,s,a),a.delete(d)),FL(n,t,g)}},V$e=function gJ(n,e,t,i,r){n!==e&&Bqe(e,function(s,a){if(r||(r=new Iqe),cu(s))E$e(n,e,a,t,gJ,i,r);else{var c=i?i(YL(n,a),s,a+"",n,e,r):void 0;void 0===c&&(c=s),FL(n,a,c)}},mJ)},_J=function I$e(n){return n},P$e=function N$e(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)};var vJ=Math.max;const B$e=function F$e(n){return function(){return n}};var U$e=Zw?function(n,e){return Zw(n,"toString",{configurable:!0,enumerable:!1,value:B$e(e),writable:!0})}:_J,W$e=800,Y$e=16,q$e=Date.now,$$e=function G$e(n){var e=0,t=0;return function(){var i=q$e(),r=Y$e-(i-t);if(t=i,r>0){if(++e>=W$e)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}(U$e);const Z$e=$$e,Q$e=function K$e(n,e){return Z$e(function R$e(n,e,t){return e=vJ(void 0===e?n.length-1:e,0),function(){for(var i=arguments,r=-1,s=vJ(i.length-e,0),a=Array(s);++r<s;)a[r]=i[e+r];r=-1;for(var c=Array(e+1);++r<e;)c[r]=i[r];return c[e]=t(a),P$e(n,this,c)}}(n,e,_J),n+"")};var tZe=function eZe(n){return Q$e(function(e,t){var i=-1,r=t.length,s=r>1?t[r-1]:void 0,a=r>2?t[2]:void 0;for(s=n.length>3&&"function"==typeof s?(r--,s):void 0,a&&function J$e(n,e,t){if(!cu(t))return!1;var i=typeof e;return!!("number"==i?jL(t)&&pJ(e,t.length):"string"==i&&e in t)&&jw(t[e],n)}(t[0],t[1],a)&&(s=r<3?void 0:s,r=1),e=Object(e);++i<r;){var c=t[i];c&&n(e,c,i,s)}return e})}(function(n,e,t){V$e(n,e,t)});const yJ=tZe;let nZe=(()=>{class n{constructor(){this.colorschemesOptions=new t2(void 0)}setColorschemesOptions(t){this.pColorschemesOptions=t,this.colorschemesOptions.next(t)}getColorschemesOptions(){return this.pColorschemesOptions}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iZe=(()=>{class n{constructor(t,i,r){this.zone=i,this.themeService=r,this.type="bar",this.plugins=[],this.chartClick=new o.vpe,this.chartHover=new o.vpe,this.subs=[],this.themeOverrides={},this.ctx=t.nativeElement.getContext("2d"),this.subs.push(this.themeService.colorschemesOptions.pipe(E3()).subscribe(s=>this.themeChanged(s)))}ngOnChanges(t){const i=["type"],r=Object.getOwnPropertyNames(t);if(r.some(s=>i.includes(s))||r.every(s=>t[s].isFirstChange()))this.render();else{const s=this.getChartConfiguration();this.chart&&(Object.assign(this.chart.config.data,s.data),this.chart.config.plugins&&Object.assign(this.chart.config.plugins,s.plugins),this.chart.config.options&&Object.assign(this.chart.config.options,s.options)),this.update()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(t=>t.unsubscribe())}render(){return this.chart&&this.chart.destroy(),this.zone.runOutsideAngular(()=>this.chart=new Bg(this.ctx,this.getChartConfiguration()))}update(t){this.chart&&this.zone.runOutsideAngular(()=>this.chart?.update(t))}hideDataset(t,i){this.chart&&(this.chart.getDatasetMeta(t).hidden=i,this.update())}isDatasetHidden(t){return this.chart?.getDatasetMeta(t)?.hidden}toBase64Image(){return this.chart?.toBase64Image()}themeChanged(t){this.themeOverrides=t,this.chart&&(this.chart.config.options&&Object.assign(this.chart.config.options,this.getChartOptions()),this.update())}getChartOptions(){return yJ({onHover:(t,i)=>{!this.chartHover.observed&&!this.chartHover.observers?.length||this.zone.run(()=>this.chartHover.emit({event:t,active:i}))},onClick:(t,i)=>{!this.chartClick.observed&&!this.chartClick.observers?.length||this.zone.run(()=>this.chartClick.emit({event:t,active:i}))}},this.themeOverrides,this.options,{plugins:{legend:{display:this.legend}}})}getChartConfiguration(){return{type:this.type,data:this.getChartData(),options:this.getChartOptions(),plugins:this.plugins}}getChartData(){return this.data?this.data:{labels:this.labels||[],datasets:this.datasets||[]}}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(nZe))},n.\u0275dir=o.lG2({type:n,selectors:[["canvas","baseChart",""]],inputs:{type:"type",legend:"legend",data:"data",options:"options",plugins:"plugins",labels:"labels",datasets:"datasets"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],features:[o.TTD]}),n})();const rZe=[[255,99,132],[54,162,235],[255,206,86],[231,233,237],[75,192,192],[151,187,205],[220,220,220],[247,70,74],[70,191,189],[253,180,92],[148,159,177],[77,83,96]],sZe={plugins:{colors:{enabled:!1}},datasets:{line:{backgroundColor:n=>dl(fl(n.datasetIndex),.4),borderColor:n=>dl(fl(n.datasetIndex),1),pointBackgroundColor:n=>dl(fl(n.datasetIndex),1),pointBorderColor:"#fff"},bar:{backgroundColor:n=>dl(fl(n.datasetIndex),.6),borderColor:n=>dl(fl(n.datasetIndex),1)},get radar(){return this.line},doughnut:{backgroundColor:n=>dl(fl(n.dataIndex),.6),borderColor:"#fff"},get pie(){return this.doughnut},polarArea:{backgroundColor:n=>dl(fl(n.dataIndex),.6),borderColor:n=>dl(fl(n.dataIndex),1)},get bubble(){return this.doughnut},get scatter(){return this.doughnut},get area(){return this.polarArea}}};function dl(n,e){return"rgba("+n.concat(e).join(",")+")"}function qL(n,e){return Math.floor(Math.random()*(e-n+1))+n}function fl(n=0){return rZe[n]||function oZe(){return[qL(0,255),qL(0,255),qL(0,255)]}()}let CJ=(()=>{class n{constructor(){this.generateColors=!0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();Bg.register(...YWe);let aZe=(()=>{class n{constructor(t){t?.plugins&&Bg.register(...t?.plugins);const i=yJ(t?.generateColors?sZe:{},t?.defaults||{});Xn.set(i)}static forRoot(t){return{ngModule:n,providers:[{provide:CJ,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(CJ,8))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();var cZe=function(n){return{active:n}};function lZe(n,e){if(1&n&&(o.TgZ(0,"div",11),o._uU(1),o.qZA()),2&n){var t=e.$implicit,i=o.oxw();o.MGl("id","timeline-",t.toLowerCase(),""),o.Q6J("ngClass",o.VKq(4,cZe,i.isWorkoutCompletedOnDay(t))),o.uIk("data-day",t),o.xp6(1),o.hij(" ","Thursday"===t?"Th":t.charAt(0)," ")}}var uZe=function(){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dZe=function(){function n(e,t,i,r,s,a,c,d){this.router=e,this.title=t,this.fb=i,this.authService=r,this.toastr=s,this.currentUserService=a,this.workoutsService=c,this.profileService=d,this.barChartOptions={responsive:!0,scales:{y:{ticks:{callback:function(h){var g=Number(h),y=Math.floor(g/60),M=g%60;return"".concat(y.toString().padStart(2,"0"),":").concat(M.toString().padStart(2,"0"))}}}},plugins:{tooltip:{callbacks:{label:function(h){var g=h.dataset.label||"",y=h.parsed.y,M=Math.floor(y/60),S=y%60,k="".concat(M.toString().padStart(2,"0"),":").concat(S.toString().padStart(2,"0"));return"".concat(g,": ").concat(k)}}}}},this.barChartLabels=[],this.barChartType="bar",this.barChartLegend=!0,this.barChartData=[{data:[],label:"Completed Workout Time (minutes)",backgroundColor:"rgba(0, 150, 0, 1)",borderColor:"rgba(0, 150, 0, 1)",borderWidth:1}],this.allWorkoutData=[],this.selectedTimeRange="week"}return n.prototype.ngOnInit=function(){var e=this;console.log(this.currentUserService.user),this.title.setTitle("Dashboard | FitHub"),""==this.currentUserService.user.profile.profileHandle&&this.router.navigate(["/create-profile"]),this.profileService.getProfileByUid(this.currentUserService.user.account.uid).subscribe(function(t){console.log("Profile:",t),console.log("Completed Workouts:",t.completedWorkouts),e.allWorkoutData=t.completedWorkouts.map(function(d){return{date:new Date(1e3*d.dateCompleted.seconds),timeToComplete:e.calculateTimeSpent(d.timeToComplete,d.percentCompleted)}}),console.log("All Workout Data:",e.allWorkoutData);var s=e.getStartOfWeek(new Date),a=e.allWorkoutData.filter(function(d){return new Date(d.date)>=s});console.log("Filtered Data:",a);var c=e.groupDataByRange(a,e.selectedTimeRange);console.log("Grouped Data:",c),e.updateChartData(c),e.changeTimeRange("week")}),this.isWorkoutCompletedOnDay("day")},n.prototype.getStartOfWeek=function(e){var t=e.getDay();return new Date(e.getTime()-24*t*60*60*1e3)},n.prototype.calculateTimeSpent=function(e,t){var i=(0,en.CR)(e.split(":").map(Number),2);return(60*i[0]+i[1])*(t/100)},n.prototype.changeTimeRange=function(e){this.selectedTimeRange=e;var t,i=new Date;switch(e){case"week":t=new Date(i.getTime()-6048e5);break;case"month":t=new Date(i.getFullYear(),i.getMonth()-1,i.getDate());break;case"year":t=new Date(i.getFullYear()-1,i.getMonth(),i.getDate());break;default:return}var r=this.allWorkoutData.filter(function(a){return new Date(a.date)>=t});console.log("Filtered Data:",r);var s=this.groupDataByRange(r,e);console.log("Grouped Data:",s),this.updateChartData(s),this.isWorkoutCompletedOnDay("day")},n.prototype.groupDataByRange=function(e,t){var s,a,c,i={},r=new Date;switch(t){case"week":var d=r.getDay(),h=new Date(r.getTime()-24*d*60*60*1e3);s=h,a=new Date(h.getTime()+6048e5),c=function(M){return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit"}).format(M)};break;case"month":s=new Date(r.getFullYear(),r.getMonth(),1),a=new Date(r.getFullYear(),r.getMonth()+1,1),c=function(M){return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit"}).format(M)};break;case"year":s=new Date(r.getFullYear(),0,1),a=new Date(r.getFullYear()+1,0,1),c=function(M){return"".concat(M.getFullYear(),"-").concat((M.getMonth()+1).toString().padStart(2,"0"))};break;default:return}for(var g=new Date(s);g<a;){var y=c(g);switch(i[y]={timeSpent:0},t){case"week":case"month":g.setDate(g.getDate()+1);break;case"year":g.setMonth(g.getMonth()+1)}}return e.forEach(function(M){var S=new Date(M.date),k=c(S);k in i&&(i[k].timeSpent+=M.timeToComplete)}),Object.entries(i).map(function(M){var S=(0,en.CR)(M,2);return(0,en.pi)({date:S[0]},S[1])})},n.prototype.updateChartData=function(e){this.barChartLabels=e.map(function(t){return t.date}),this.barChartData=[{data:e.map(function(t){return t.timeSpent}),label:"Completed Workout Time (minutes)",backgroundColor:"rgba(0, 150, 0, 1)",borderColor:"rgba(0, 150, 0, 1)",borderWidth:1}],console.log("Updated Bar Chart Data:",this.barChartData)},n.prototype.isWorkoutCompletedOnDay=function(e){var t=this.getStartOfWeek(new Date),i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].indexOf(e),r=new Date(t.getTime()+24*i*60*60*1e3);return this.allWorkoutData.some(function(s){var a=new Date(s.date);return a.getFullYear()===r.getFullYear()&&a.getMonth()===r.getMonth()&&a.getDate()===r.getDate()})},n.\u0275fac=function(t){return new(t||n)(o.Y36(c1),o.Y36(un),o.Y36(Ws),o.Y36(Dr),o.Y36(Si),o.Y36(W2),o.Y36(qs),o.Y36(rc))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-workout-graph"]],decls:16,vars:12,consts:[[1,"card-title","custom-text-color","mb-1","mt-3"],[1,"timeline-container"],["class","timeline-day",3,"ngClass","id",4,"ngFor","ngForOf"],[1,"card-title","custom-text-color","mb-4"],[1,"d-flex","justify-content-center"],["role","group","aria-label","Time range buttons",1,"btn-group","mt-2","mb-4"],[1,"btn","btn-outline-success","mx-1","week-btn",3,"click"],[1,"btn","btn-outline-success","mx-1","month-btn",3,"click"],[1,"btn","btn-outline-success","mx-1","year-btn",3,"click"],[1,"chart-container",2,"position","relative","height","50vh"],["baseChart","",3,"datasets","labels","options","legend"],[1,"timeline-day",3,"ngClass","id"]],template:function(t,i){1&t&&(o.TgZ(0,"h5",0),o._uU(1,"Weekly Workout Tracker"),o.qZA(),o.TgZ(2,"div",1),o.YNc(3,lZe,2,6,"div",2),o.qZA(),o.TgZ(4,"h5",3),o._uU(5,"Workout History"),o.qZA(),o.TgZ(6,"div",4)(7,"div",5)(8,"button",6),o.NdJ("click",function(){return i.changeTimeRange("week")}),o._uU(9,"Week"),o.qZA(),o.TgZ(10,"button",7),o.NdJ("click",function(){return i.changeTimeRange("month")}),o._uU(11,"Month"),o.qZA(),o.TgZ(12,"button",8),o.NdJ("click",function(){return i.changeTimeRange("year")}),o._uU(13,"Year"),o.qZA()()(),o.TgZ(14,"div",9),o._UZ(15,"canvas",10),o.qZA()),2&t&&(o.xp6(3),o.Q6J("ngForOf",o.DdM(11,uZe)),o.xp6(5),o.ekj("active","week"===i.selectedTimeRange),o.xp6(2),o.ekj("active","month"===i.selectedTimeRange),o.xp6(2),o.ekj("active","year"===i.selectedTimeRange),o.xp6(3),o.Q6J("datasets",i.barChartData)("labels",i.barChartLabels)("options",i.barChartOptions)("legend",i.barChartLegend))},dependencies:[U1,S1,iZe],styles:[".custom-text-color[_ngcontent-%COMP%]{color:#0b8200}h5[_ngcontent-%COMP%]{font-weight:700}.timeline-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:4rem}.timeline-day[_ngcontent-%COMP%]{flex:1;text-align:center;padding:1rem;background-color:#f8f9fa;border:1px solid #dee2e6;cursor:pointer}.timeline-day.active[_ngcontent-%COMP%]{background-color:#008817;color:#fff}.timeline-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;padding:1rem;border-radius:1rem}.timeline-day[_ngcontent-%COMP%]{text-align:center;background-color:#fff;color:#6c757d;font-weight:700;box-shadow:0 .2rem .3rem #0000001a;cursor:pointer}.timeline-day[_ngcontent-%COMP%]:first-child{margin-left:0}.timeline-day[_ngcontent-%COMP%]:last-child{margin-right:0}"]}),n}();function fZe(n,e){if(1&n&&(o.TgZ(0,"li")(1,"i",45),o._UZ(2,"fa-icon",46),o.qZA(),o._uU(3),o.qZA()),2&n){var t=e.$implicit,i=o.oxw(2);o.xp6(2),o.Q6J("icon",i.faAward),o.xp6(1),o.hij(" ",t.description," ")}}function hZe(n,e){if(1&n&&(o.TgZ(0,"div",43)(1,"ul",44),o.YNc(2,fZe,4,2,"li",12),o.qZA()()),2&n){var t=o.oxw();o.xp6(2),o.Q6J("ngForOf",t.recentAchievements)}}var pZe=function(n){return{fade:n}};function mZe(n,e){if(1&n&&(o.ynx(0),o.TgZ(1,"li",47)(2,"div",48)(3,"i",49),o._UZ(4,"fa-icon",46),o.qZA(),o._uU(5),o.qZA()(),o.BQk()),2&n){var t=e.$implicit,i=e.index,r=o.oxw();o.xp6(2),o.Q6J("ngClass",o.VKq(3,pZe,i===r.currentTipIndex)),o.xp6(2),o.Q6J("icon",r.faLightbulb),o.xp6(1),o.hij(" ",t.description," ")}}var gZe=function(){function n(e,t,i,r,s,a,c,d,h,g){this.router=e,this.title=t,this.fb=i,this.authService=r,this.toastr=s,this.currentUserService=a,this.goalsService=c,this.workoutsService=d,this.firestore=h,this.profileService=g,this.progressSummary="Track your progress and reach your fitness goals!",this.currentTipIndex=0,this.faAward=s$,this.faLightbulb=zU,this.recentAchievements=[],this.personalizedTips=[{description:"Stay hydrated during workouts"},{description:"Try adding yoga to improve flexibility"},{description:"Incorporate strength training to build muscle and boost metabolism"},{description:"Include a mix of cardio and resistance training for optimal fitness"},{description:"Gradually increase workout intensity to avoid plateaus"},{description:"Monitor your heart rate to ensure you are in the target zone"},{description:"Set realistic fitness goals and track your progress"},{description:"Fuel your body with a well-balanced diet, rich in protein, healthy fats, and complex carbs"},{description:"Get sufficient sleep to support recovery and overall wellbeing"},{description:"Incorporate regular stretching to reduce the risk of injury"},{description:"Find a workout buddy to stay motivated and accountable"},{description:"Listen to your body and adjust your routine as needed"},{description:"Try different forms of exercise to keep things interesting and prevent boredom"},{description:"Practice proper form to maximize results and minimize the risk of injury"},{description:"Take rest days to allow your body time to recover and rebuild"},{description:"Consider seeking guidance from a personal trainer or fitness professional"},{description:"Track your food intake to ensure you are consuming enough nutrients"},{description:"Stay consistent with your workouts to see long-term results"},{description:"Celebrate your achievements and reward yourself for reaching milestones"},{description:"Stay patient, as progress may not always be linear"}],this.goals=[],this.circumference=2*Math.PI*120,this.curatedWorkout1={uid:"WvedR8vbPf4iJ68sWoXC"},this.curatedWorkout2={uid:"cHlnUlE5kzNgvx2CCMrq"},this.curatedWorkout3={uid:"xwTw3e7EN5cKqETDxVFR"},this.curatedWorkout4={uid:"9twmoZDkdYgg3OEcKDPA"},this.curatedWorkout5={uid:"4G8mF9PLMxeSIsZowp9x"}}return n.prototype.getWorkoutByDocId=function(e){return this.firestore.collection("workouts").doc(e).valueChanges()},n.prototype.ngOnInit=function(){var e=this;console.log(this.currentUserService.user),this.title.setTitle("Dashboard | FitHub"),""==this.currentUserService.user.profile.profileHandle&&this.router.navigate(["/create-profile"]);var t=this.workoutsService.getCompletedWorkouts().pipe(cs(1)).subscribe(function(h){e.calculateAverageTimeSpent(h),e.findMostUsedWorkout(h),t.unsubscribe()});(function OOe(n=0,e=n0.z){return n<0&&(n=0),kZ(n,n,e)})(8e3).subscribe(function(){e.currentTipIndex=(e.currentTipIndex+1)%e.personalizedTips.length});var i="WvedR8vbPf4iJ68sWoXC",r="cHlnUlE5kzNgvx2CCMrq",s="xwTw3e7EN5cKqETDxVFR",a="9twmoZDkdYgg3OEcKDPA",c="4G8mF9PLMxeSIsZowp9x";this.workoutsService.getCuratedWorkoutById(i).then(function(h){console.log(h.data()),e.curatedWorkout1=h.data(),e.curatedWorkout1.uid=i}),this.workoutsService.getCuratedWorkoutById(r).then(function(h){e.curatedWorkout2=h.data(),e.curatedWorkout2.uid=r}),this.workoutsService.getCuratedWorkoutById(s).then(function(h){e.curatedWorkout3=h.data(),e.curatedWorkout3.uid=s}),this.workoutsService.getCuratedWorkoutById(a).then(function(h){e.curatedWorkout4=h.data(),e.curatedWorkout4.uid=a}),this.workoutsService.getCuratedWorkoutById(c).then(function(h){e.curatedWorkout5=h.data(),e.curatedWorkout5.uid=c}),this.profileService.getProfile(this.currentUserService.user.profile.profileHandle).valueChanges().subscribe(function(h){e.recentAchievements=h.achievements||[]})},n.prototype.calculateAverageTimeSpent=function(e){var t=e.reduce(function(a,c){var d=c.timeToComplete.split(":");return a+(3===d.length?60*+d[0]+ +d[1]+ +d[2]/60:+d[0]+ +d[1]/60)},0),i=e.length?t/e.length:0,r=Math.floor(i),s=Math.round(60*(i-r));this.averageTimeSpent="".concat(r.toString().padStart(2,"0"),":").concat(s.toString().padStart(2,"0"))},n.prototype.findMostUsedWorkout=function(e){var t=e.reduce(function(i,r){return i[r.workoutName]=(i[r.workoutName]||0)+1,i},{});this.mostUsedWorkout=Object.keys(t).reduce(function(i,r){return t[i]>t[r]?i:r},"")},n.prototype.completeGoal=function(e,t){var i=this;this.goalsService.completeGoal(e,t).then(function(){i.goals[e].completed=t}),this.updateProgress()},n.prototype.updateProgress=function(){var e=this.goals.filter(function(t){return t.completed}).length;this.progressValue=e/this.goals.length*100,this.strokeDashoffset=this.calculateStrokeDashoffset(this.progressValue)},n.prototype.calculateStrokeDashoffset=function(e){return(1-e/100)*this.circumference},n.prototype.goToCuratedWorkout=function(e){this.router.navigate(["/workout","curated",e])},n.\u0275fac=function(t){return new(t||n)(o.Y36(c1),o.Y36(un),o.Y36(Ws),o.Y36(Dr),o.Y36(Si),o.Y36(W2),o.Y36(fZ),o.Y36(qs),o.Y36(Us),o.Y36(rc))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-dashboard"]],decls:98,vars:4,consts:[[1,"row","min-vh-100","main-bg"],[1,"container","mt-4"],[1,"row"],[1,"col-12","col-lg-2","d-flex","feed-section"],[1,"card","w-100","d-flex","flex-column","mb-4","feed-card"],[1,"card-body","text-center"],[1,"card-title","custom-text","mt-3","mb-4"],[1,"bg-light","p-3","rounded","mb-3","mb-3","pb-2"],[1,"custom-text","mb-3","pb-2","border-bottom","border-dark"],["class","bg-light p-3 rounded mb-3",4,"ngIf"],[1,"p-3","mb-3","text-center"],[1,"list-unstyled","tip-container"],[4,"ngFor","ngForOf"],[1,"col-12","col-lg-11","d-flex","flex-column","main-content"],[1,"row","d-flex"],[1,"col-12","col-lg-4","d-flex","flex-column"],[1,"card","mt-4","mb-4","w-100"],[1,"card-body","text-center","align-items-center"],[1,"card-title","custom-text","mt-1","mb-4"],[1,"col-6","col-lg-6"],[1,"card","mb-2"],[1,"card-body"],[1,"card-subtitle","mb-2","custom-text","mb-3","pb-2","border-bottom","border-dark"],[1,"card-text"],[1,"col-12","col-lg-8","d-flex"],[1,"card","mb-4","w-100","align-self-stretch","custom-height"],[1,"row","mt-auto","mb-4"],[1,"col-12"],[1,"card","w-100","align-self-center","custom-height"],[1,"container","mt-5"],[1,"col-12","text-center"],[1,"mb-5","custom-text"],[1,"col-lg-6","mb-4"],[1,"card","h-100",3,"click"],["src","assets/Images/Feature1.jpg","alt","Main Feature",1,"card-img-top"],[1,"card-title","mb-4","mt-2","custom-text"],[1,"col-lg-6"],[1,"col-md-6","mb-4"],["src","assets/Images/MainFeature.jpg","alt","Feature 1",1,"card-img-top"],[1,"card-title","custom-text"],["src","assets/Images/Feature2.jfif","alt","Feature 2",1,"card-img-top"],["src","assets/Images/Feature3.jpg","alt","Feature 3",1,"card-img-top"],["src","assets/Images/Feature4.jpg","alt","Feature 4",1,"card-img-top"],[1,"bg-light","p-3","rounded","mb-3"],[1,"list-unstyled"],[1,"faAward","text-warning"],[3,"icon"],[1,"text-dark"],[1,"tip",3,"ngClass"],[1,"faLightbulb","text-warning"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h5",6),o._uU(7,"Feed"),o.qZA(),o._UZ(8,"app-favorite-workouts"),o.TgZ(9,"div",7)(10,"h6",8),o._uU(11,"Recent Achievements"),o.qZA(),o.YNc(12,hZe,3,1,"div",9),o.qZA()(),o.TgZ(13,"div",10)(14,"h6",8),o._uU(15,"Personalized Tips"),o.qZA(),o.TgZ(16,"ul",11),o.YNc(17,mZe,6,5,"ng-container",12),o.qZA()()()(),o.TgZ(18,"div",13)(19,"div",14)(20,"div",15),o._UZ(21,"app-my-progress"),o.TgZ(22,"div",16)(23,"div",17)(24,"h5",18),o._uU(25,"Quick Stats"),o.qZA(),o.TgZ(26,"div",2)(27,"div",19)(28,"div",20)(29,"div",21)(30,"h6",22),o._uU(31,"Average Time per Workout"),o.qZA(),o.TgZ(32,"p",23),o._uU(33),o.qZA()()()(),o.TgZ(34,"div",19)(35,"div",20)(36,"div",21)(37,"h6",22),o._uU(38,"Most frequently used workout"),o.qZA(),o.TgZ(39,"p",23),o._uU(40),o.qZA()()()()()()()(),o.TgZ(41,"div",24)(42,"div",25)(43,"div",5),o._UZ(44,"app-workout-graph"),o.qZA()()()(),o.TgZ(45,"div",26)(46,"div",27)(47,"div",28)(48,"div",5)(49,"div",29)(50,"div",2)(51,"div",30)(52,"h1",31),o._uU(53,"Explore Our Features"),o.qZA()()(),o.TgZ(54,"div",2)(55,"div",32)(56,"button",33),o.NdJ("click",function(){return i.goToCuratedWorkout(i.curatedWorkout1.uid)}),o._UZ(57,"img",34),o.TgZ(58,"div",21)(59,"h4",35),o._uU(60,"Gluteus to the Maximus"),o.qZA(),o.TgZ(61,"p",23),o._uU(62,"Unleash the power of an invigorating gym leg workout specifically designed to sculpt and strengthen your lower body. Combining a variety of dynamic exercises that target your hamstrings, glutes, and calves, this routine helps you achieve toned, powerful legs."),o.qZA()()()(),o.TgZ(63,"div",36)(64,"div",2)(65,"div",37)(66,"button",33),o.NdJ("click",function(){return i.goToCuratedWorkout(i.curatedWorkout2.uid)}),o._UZ(67,"img",38),o.TgZ(68,"div",21)(69,"h5",39),o._uU(70,"Cardio Crusader"),o.qZA(),o.TgZ(71,"p",23),o._uU(72,"Start your stopwatch and enjoy a refreshing run!"),o.qZA()()()(),o.TgZ(73,"div",37)(74,"button",33),o.NdJ("click",function(){return i.goToCuratedWorkout(i.curatedWorkout3.uid)}),o._UZ(75,"img",40),o.TgZ(76,"div",21)(77,"h5",39),o._uU(78,"Daily Dose of Motion"),o.qZA(),o.TgZ(79,"p",23),o._uU(80,"Unlock your body's potential with our Functional Training! This workout approach focuses on strengthening the muscles you use every day by mimicking real-life movements and activities."),o.qZA()()()()(),o.TgZ(81,"div",2)(82,"div",37)(83,"button",33),o.NdJ("click",function(){return i.goToCuratedWorkout(i.curatedWorkout4.uid)}),o._UZ(84,"img",41),o.TgZ(85,"div",21)(86,"h5",39),o._uU(87,"Press for Success"),o.qZA(),o.TgZ(88,"p",23),o._uU(89,"Unlock the potential of your chest muscles with our tailored chest workout, designed to engage and strengthen your pectorals for a powerful, chiseled upper body!"),o.qZA()()()(),o.TgZ(90,"div",37)(91,"button",33),o.NdJ("click",function(){return i.goToCuratedWorkout(i.curatedWorkout5.uid)}),o._UZ(92,"img",42),o.TgZ(93,"div",21)(94,"h5",39),o._uU(95,"Household Guns"),o.qZA(),o.TgZ(96,"p",23),o._uU(97,"Discover the perfect home arm workout designed to tone and strengthen your biceps, triceps, using minimal equipment!"),o.qZA()()()()()()()()()()()()()()()()),2&t&&(o.xp6(12),o.Q6J("ngIf",i.recentAchievements.length>0),o.xp6(5),o.Q6J("ngForOf",i.personalizedTips),o.xp6(16),o.Oqu(i.averageTimeSpent),o.xp6(7),o.Oqu(i.mostUsedWorkout))},dependencies:[U1,S1,Zn,K4,BOe,KOe,dZe],styles:[".row.h-50[_ngcontent-%COMP%]{min-height:50vh}.card.custom-height[_ngcontent-%COMP%]{min-height:80vh}.custom-text[_ngcontent-%COMP%]{color:#0b8200;font-weight:700}h1[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], .card-title[_ngcontent-%COMP%]{font-weight:700}.card[_ngcontent-%COMP%]{transition:all .3s ease;background-color:#ffffffd9;padding:0;margin:0}.card[_ngcontent-%COMP%]:hover{transform:scale(1.01)}.card-img-top[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;padding:0;margin:0}.tip[_ngcontent-%COMP%]{opacity:0;transition:opacity 3s}.tip.fade[_ngcontent-%COMP%]{opacity:1}.tip-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;min-height:5rem}.tip-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:absolute;max-width:100%;padding:1rem}.feed-section[_ngcontent-%COMP%]{position:fixed;z-index:2;height:calc(90vh - .5rem);width:14%;padding-left:2rem}.feed-card[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:space-between}.main-content[_ngcontent-%COMP%]{padding-left:14.5%;width:99%}@media (max-width: 991.98px){.feed-section[_ngcontent-%COMP%]{position:inherit;height:auto;width:100%;padding:0}.feed-card[_ngcontent-%COMP%]{height:auto}.main-content[_ngcontent-%COMP%]{position:inherit;height:auto;width:100%;padding:0}}"]}),n}(),Oo=function(){function n(e,t,i,r){this.currentUserService=e,this.toastr=t,this.platformId=i,this.router=r}return n.prototype.canActivate=function(e,t){return!!this.currentUserService.isLoggedIn()||(Se(this.platformId),btoa(encodeURIComponent(t.url)),this.router.navigate(["/"]),!1)},n.\u0275fac=function(t){return new(t||n)(o.LFG(W2),o.LFG(Si),o.LFG(o.Lbi),o.LFG(c1))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n}();function _Ze(n,e){1&n&&(o.TgZ(0,"div",37),o._uU(1,"Username is available!"),o.qZA())}function vZe(n,e){1&n&&(o.TgZ(0,"div",38),o._uU(1,"Username is required"),o.qZA())}function yZe(n,e){1&n&&(o.TgZ(0,"div",38),o._uU(1,"Username is taken"),o.qZA())}function CZe(n,e){1&n&&(o.TgZ(0,"small",39),o._uU(1,"Name is required"),o.qZA())}function bZe(n,e){if(1&n){var t=o.EpF();o.TgZ(0,"div")(1,"div",10)(2,"div",11)(3,"form",12),o.NdJ("ngSubmit",function(){o.CHM(t);var s=o.oxw();return o.KtG(s.submitProfile())}),o.TgZ(4,"label",13),o._uU(5,"Username "),o.qZA(),o.TgZ(6,"div",14)(7,"span",15),o._uU(8,"@"),o.qZA(),o.TgZ(9,"input",16),o.NdJ("focusout",function(){o.CHM(t);var s=o.oxw();return o.KtG(s.checkDisplayName())}),o.qZA(),o.YNc(10,_Ze,2,0,"div",17),o.YNc(11,vZe,2,0,"div",18),o.YNc(12,yZe,2,0,"div",18),o.qZA(),o.TgZ(13,"div",19)(14,"div",1)(15,"label",13),o._uU(16,"Name "),o.qZA(),o._UZ(17,"input",20),o.YNc(18,CZe,2,0,"small",21),o.qZA()(),o.TgZ(19,"h5"),o._uU(20,"Fitness Profile"),o.qZA(),o.TgZ(21,"small"),o._uU(22,"These fields are not required but highly recommended so that we can help cater to your fitness success"),o.qZA(),o.TgZ(23,"div",22)(24,"div",1)(25,"label"),o._uU(26,"Age"),o.qZA(),o._UZ(27,"input",23),o.qZA(),o.TgZ(28,"div",1)(29,"label"),o._uU(30,"Weight"),o.qZA(),o.TgZ(31,"div",24),o._UZ(32,"input",25),o.TgZ(33,"div",26),o._uU(34,"lbs"),o.qZA()()()(),o.TgZ(35,"div",27)(36,"div",28)(37,"label"),o._uU(38,"Height"),o.qZA(),o.TgZ(39,"div",29)(40,"div",30),o._UZ(41,"input",31),o.TgZ(42,"div",26),o._uU(43,"Ft"),o.qZA()(),o.TgZ(44,"div",24),o._UZ(45,"input",32),o.TgZ(46,"div",26),o._uU(47,"In"),o.qZA()()()()(),o.TgZ(48,"div",27)(49,"div",33)(50,"label"),o._uU(51,"Sex"),o.qZA(),o.TgZ(52,"select",34)(53,"option",35),o._uU(54,"Select"),o.qZA(),o.TgZ(55,"option"),o._uU(56,"Male"),o.qZA(),o.TgZ(57,"option"),o._uU(58,"Female"),o.qZA(),o.TgZ(59,"option"),o._uU(60,"Other"),o.qZA(),o.TgZ(61,"option"),o._uU(62,"Prefer not to state"),o.qZA()()()(),o.TgZ(63,"div",5),o._UZ(64,"input",36),o.qZA()()()()()}if(2&n){var i=o.oxw();o.Q6J("@slideOutAnimation",void 0),o.xp6(3),o.Q6J("formGroup",i.profileForm),o.xp6(6),o.ekj("is-valid",i.usernameAvailable&&i.profileHandle.touched)("is-invalid",(i.profileHandle.invalid||!i.usernameAvailable)&&i.profileHandle.touched),o.xp6(1),o.Q6J("ngIf",i.profileHandle.valid&&i.usernameAvailable&&i.profileHandle.touched),o.xp6(1),o.Q6J("ngIf",i.profileHandle.invalid&&i.profileHandle.touched),o.xp6(1),o.Q6J("ngIf",i.profileHandle.valid&&i.profileHandle.touched&&!i.usernameAvailable),o.xp6(5),o.ekj("is-invalid",i.profileName.invalid&&i.profileName.touched),o.xp6(1),o.Q6J("ngIf",i.profileName.invalid&&i.profileName.touched)}}var MZe=function(){function n(e,t,i,r,s,a){this.router=e,this.title=t,this.fb=i,this.authService=r,this.toastr=s,this.currentUser=a,this.transitionDone=!1,this.usernameAvailable=!0,this.profileForm=this.fb.group({profileHandle:["",Ra.required],profileName:["",Ra.required],age:[""],heightFeet:[""],heightInches:[""],weight:[""],sex:[""]})}return n.prototype.ngOnInit=function(){var e=this;this.title.setTitle("Create Profile | FitHub"),setTimeout(function(){e.transitionDone=!0},1750)},n.prototype.checkDisplayName=function(){var e=this;this.currentUser.isUsernameAvailable(this.profileHandle.value).then(function(t){e.usernameAvailable=!!t}).catch(function(t){e.usernameAvailable=!1})},n.prototype.submitProfile=function(){var e=this;this.currentUser.newProfile(this.profileForm.getRawValue()).then(function(t){}).catch(function(t){e.toastr.error(t.message)})},Object.defineProperty(n.prototype,"profileHandle",{get:function(){return this.profileForm.get("profileHandle")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"profileName",{get:function(){return this.profileForm.get("profileName")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"age",{get:function(){return this.profileForm.get("age")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.profileForm.get("height")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"weight",{get:function(){return this.profileForm.get("weight")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"sex",{get:function(){return this.profileForm.get("sex")},enumerable:!1,configurable:!0}),n.\u0275fac=function(t){return new(t||n)(o.Y36(c1),o.Y36(un),o.Y36(Ws),o.Y36(Dr),o.Y36(Si),o.Y36(W2))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-create-profile"]],decls:13,vars:2,consts:[[1,"row","main-bg","min-vh-100"],[1,"col"],[1,"col-12","col-md-8","col-xl-6","col-xxl-5","text-center"],[1,"card","card-transition","card-home"],[1,"card-body"],[1,"row"],[1,"col-4","offset-4"],["src","../../../assets/Logo1/png/logo-no-background.png",1,"img-fluid"],[1,"display-6","mt-5"],[4,"ngIf"],[1,"row","mt-4","justify-content-center","text-start"],[1,"col","col-md-10"],[3,"formGroup","ngSubmit"],[1,"required"],[1,"input-group","mb-3"],["id","basic-addon1",1,"input-group-text"],["type","text","placeholder","Username","aria-label","Username","aria-describedby","basic-addon1","formControlName","profileHandle",1,"form-control",3,"focusout"],["class","valid-feedback",4,"ngIf"],["class","invalid-feedback",4,"ngIf"],[1,"row","mb-5"],["type","text","formControlName","profileName","placeholder","John Smith",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"row","mt-2","mb-4"],["type","number","min","12","max","120","formControlName","age",1,"form-control"],[1,"input-group"],["type","number","min","0","formControlName","weight",1,"form-control"],[1,"input-group-text"],[1,"row","mb-4","justify-content-center"],[1,"col-8"],[1,"d-flex"],[1,"input-group","me-1"],["type","number","min","0","formControlName","heightFeet",1,"form-control"],["type","number","min","0","formControlName","heightInches",1,"form-control"],[1,"col-6"],["formControlName","sex",1,"form-select"],["disabled","","value",""],["type","submit","value","Create Profile",1,"btn","btn-success","col-sm-10","offset-sm-1"],[1,"valid-feedback"],[1,"invalid-feedback"],[1,"text-danger"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0),o._UZ(1,"div",1),o.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),o._UZ(7,"img",7),o.qZA()(),o.TgZ(8,"div")(9,"h1",8),o._uU(10,"Awesome! We got your account details ready to go. Let's get started on your fitness profile."),o.qZA(),o.YNc(11,bZe,65,12,"div",9),o.qZA()()()(),o._UZ(12,"div",1),o.qZA()),2&t&&(o.xp6(8),o.Q6J("@slideOutAnimation",void 0),o.xp6(3),o.Q6J("ngIf",i.transitionDone))},dependencies:[Zn,W4,wM,xM,sc,CM,Km,oc,j4,SM,mA,J0,G5],data:{animation:[Oa("slideOutAnimation",[Y2(":enter",[on({height:0,opacity:0}),r2("0.4s ease-out",on({}))]),Y2(":leave",[on({}),r2("0.3s ease-in",on({height:0,opacity:0}))])])]}}),n}(),bJ=function(){function n(e,t,i,r){this.afs=e,this.toastr=t,this.profileService=i,this.currentUser=r,this.userProfile=!1,this.socialFeed=[],this.profileFeed=[],this.lastProfile=""}return n.prototype.postComment=function(e,t){var i=this,r=this.afs.collection("profiles").doc(e.profileHandle).collection("posts").doc(e.uid);return r.get().toPromise().then(function(s){var a=s.data().postComments||[];a.push(t),r.update({postComments:a})}).catch(function(s){i.toastr.error("Please try again.","Something went wrong"),console.log(s)})},n.prototype.deletePost=function(e){return this.afs.collection("profiles").doc(this.currentUser.user.profile.profileHandle).collection("posts").doc(e.uid).delete()},n.prototype.getSocialFeed=function(e){var t=this;void 0===e&&(e=!1);var i=(0,en.ev)([],(0,en.CR)(this.currentUser.user.profile.following),!1);return i.push(this.currentUser.user.profile.profileHandle),new Promise(function(s,a){!e&&t.socialFeed.length>0?s(!0):(console.log("forcing"),i.forEach(function(c,d){var h=t.afs.collection("profiles").doc(c).collection("posts",function(g){return g.orderBy("postTimeStamp","desc")}).valueChanges().subscribe(function(g){g.forEach(function(y){y.postDateString=y.postTimeStamp.toDate().toDateString(),y.profileHandle=c,y.commentOpen=!1,y.commentText="",y.postComments=(0,en.ev)([],(0,en.CR)(y.postComments),!1)||[],t.socialFeed.push(y),h.unsubscribe()}),d==i.length-1&&(t.socialFeed.sort(function(y,M){return M.postTimeStamp-y.postTimeStamp}),s(!0))})}))}).then(function(){return t.socialFeed})},n.prototype.getProfileFeed=function(e){var t=this;return e==this.lastProfile?(this.subscription.unsubscribe(),Promise.resolve(this.profileFeed)):(this.lastProfile=e,new Promise(function(r,s){t.subscription=t.afs.collection("profiles").doc(e).collection("posts",function(a){return a.orderBy("postTimeStamp","desc")}).valueChanges().subscribe(function(a){t.profileFeed=[],a.forEach(function(c,d){c.postDateString=c.postTimeStamp.toDate().toDateString(),c.profileHandle=e,c.commentOpen=!1,c.commentText="",c.postComments=(0,en.ev)([],(0,en.CR)(c.postComments),!1)||[],t.profileFeed.push(c)}),r(!0)})}).then(function(){return(0,en.ev)([],(0,en.CR)(t.profileFeed),!1)}))},n.prototype.fetchPost=function(e){return this.afs.collection("profiles").doc(e.profileHandle).collection("posts").doc(e.uid).get().toPromise()},n.prototype.toggleLikePost=function(e,t){var i=this;return t?this.afs.collection("profiles").doc(e.profileHandle).collection("posts").doc(e.uid).update({postLikeCount:Z1.Z.firestore.FieldValue.increment(-1),postLikeOwners:Z1.Z.firestore.FieldValue.arrayRemove(this.currentUser.user.profile.profileHandle)}).catch(function(r){i.toastr.error("Please try again.","Something went wrong"),console.log(r)}):this.afs.collection("profiles").doc(e.profileHandle).collection("posts").doc(e.uid).update({postLikeCount:Z1.Z.firestore.FieldValue.increment(1),postLikeOwners:Z1.Z.firestore.FieldValue.arrayUnion(this.currentUser.user.profile.profileHandle)}).catch(function(r){i.toastr.error("Please try again.","Something went wrong"),console.log(r)})},n.prototype.toggleLikeComment=function(e,t,i){var r=this;if(i){var a=this.afs.collection("profiles").doc(e.profileHandle).collection("posts").doc(e.uid);return a.get().toPromise().then(function(c){if(c.exists){var h=c.data().postComments.slice(),g=h[t],y=(0,en.pi)((0,en.pi)({},g),{commentLikeCount:g.commentLikeCount-1,commentLikeOwners:g.commentLikeOwners.filter(function(M){return M!=r.currentUser.user.profile.profileHandle})});return h[t]=y,a.update({postComments:h})}r.toastr.error("Document does not exist","Something went wrong"),console.log("No such document!")}).catch(function(c){r.toastr.error("Please try again.","Something went wrong"),console.log("Error getting document:",c)})}var s=this.afs.collection("profiles").doc(e.profileHandle).collection("posts").doc(e.uid);return s.get().toPromise().then(function(c){if(c.exists){var h=c.data().postComments.slice(),g=h[t],y=(0,en.pi)((0,en.pi)({},g),{commentLikeCount:g.commentLikeCount+1,commentLikeOwners:(0,en.ev)((0,en.ev)([],(0,en.CR)(g.commentLikeOwners),!1),[r.currentUser.user.profile.profileHandle],!1)});return h[t]=y,s.update({postComments:h})}r.toastr.error("Document does not exist","Something went wrong"),console.log("No such document!")}).catch(function(c){r.toastr.error("Please try again.","Something went wrong"),console.log("Error getting document:",c)})},n.\u0275fac=function(t){return new(t||n)(o.LFG(Us),o.LFG(Si),o.LFG(rc),o.LFG(W2))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n}(),$J={prefix:"far",iconName:"star",icon:[576,512,[11088,61446],"f005","M287.9 0c9.2 0 17.6 5.2 21.6 13.5l68.6 141.3 153.2 22.6c9 1.3 16.5 7.6 19.3 16.3s.5 18.1-5.9 24.5L433.6 328.4l26.2 155.6c1.5 9-2.2 18.1-9.6 23.5s-17.3 6-25.3 1.7l-137-73.2L151 509.1c-8.1 4.3-17.9 3.7-25.3-1.7s-11.2-14.5-9.7-23.5l26.2-155.6L31.1 218.2c-6.5-6.4-8.7-15.9-5.9-24.5s10.3-14.9 19.3-16.3l153.2-22.6L266.3 13.5C270.4 5.2 278.7 0 287.9 0zm0 79L235.4 187.2c-3.5 7.1-10.2 12.1-18.1 13.3L99 217.9 184.9 303c5.5 5.5 8.1 13.3 6.8 21L171.4 443.7l105.2-56.2c7.1-3.8 15.6-3.8 22.6 0l105.2 56.2L384.2 324.1c-1.3-7.7 1.2-15.5 6.8-21l85.9-85.1L358.6 200.5c-7.8-1.2-14.6-6.1-18.1-13.3L287.9 79z"]},hX={prefix:"far",iconName:"heart",icon:[512,512,[128153,128154,128155,128156,128420,129293,129294,129505,9829,10084,61578],"f004","M225.8 468.2l-2.5-2.3L48.1 303.2C17.4 274.7 0 234.7 0 192.8v-3.3c0-70.4 50-130.8 119.2-144C158.6 37.9 198.9 47 231 69.6c9 6.4 17.4 13.8 25 22.3c4.2-4.8 8.7-9.2 13.5-13.3c3.7-3.2 7.5-6.2 11.5-9c0 0 0 0 0 0C313.1 47 353.4 37.9 392.8 45.4C462 58.6 512 119.1 512 189.5v3.3c0 41.9-17.4 81.9-48.1 110.4L288.7 465.9l-2.5 2.3c-8.2 7.6-19 11.9-30.2 11.9s-22-4.2-30.2-11.9zM239.1 145c-.4-.3-.7-.7-1-1.1l-17.8-20c0 0-.1-.1-.1-.1c0 0 0 0 0 0c-23.1-25.9-58-37.7-92-31.2C81.6 101.5 48 142.1 48 189.5v3.3c0 28.5 11.9 55.8 32.8 75.2L256 430.7 431.2 268c20.9-19.4 32.8-46.7 32.8-75.2v-3.3c0-47.3-33.6-88-80.1-96.9c-34-6.5-69 5.4-92 31.2c0 0 0 0-.1 .1s0 0-.1 .1l-17.8 20c-.3 .4-.7 .7-1 1.1c-4.5 4.5-10.6 7-16.9 7s-12.4-2.5-16.9-7z"]},TX={prefix:"far",iconName:"comment",icon:[512,512,[128489,61669],"f075","M123.6 391.3c12.9-9.4 29.6-11.8 44.6-6.4c26.5 9.6 56.2 15.1 87.8 15.1c124.7 0 208-80.5 208-160s-83.3-160-208-160S48 160.5 48 240c0 32 12.4 62.8 35.7 89.2c8.6 9.7 12.8 22.5 11.8 35.5c-1.4 18.1-5.7 34.7-11.3 49.4c17-7.9 31.1-16.7 39.4-22.7zM21.2 431.9c1.8-2.7 3.5-5.4 5.1-8.1c10-16.6 19.5-38.4 21.4-62.9C17.7 326.8 0 285.1 0 240C0 125.1 114.6 32 256 32s256 93.1 256 208s-114.6 208-256 208c-37.1 0-72.3-6.4-104.1-17.9c-11.9 8.7-31.3 20.6-54.3 30.6c-15.1 6.6-32.3 12.6-50.1 16.1c-.8 .2-1.6 .3-2.4 .5c-4.4 .8-8.7 1.5-13.2 1.9c-.2 0-.5 .1-.7 .1c-5.1 .5-10.2 .8-15.3 .8c-6.5 0-12.3-3.9-14.8-9.9c-2.5-6-1.1-12.8 3.4-17.4c4.1-4.2 7.8-8.7 11.3-13.5c1.7-2.3 3.3-4.6 4.8-6.9c.1-.2 .2-.3 .3-.5z"]},GX={prefix:"far",iconName:"paper-plane",icon:[512,512,[61913],"f1d8","M16.1 260.2c-22.6 12.9-20.5 47.3 3.6 57.3L160 376V479.3c0 18.1 14.6 32.7 32.7 32.7c9.7 0 18.9-4.3 25.1-11.8l62-74.3 123.9 51.6c18.9 7.9 40.8-4.5 43.9-24.7l64-416c1.9-12.1-3.4-24.3-13.5-31.2s-23.3-7.5-34-1.4l-448 256zm52.1 25.5L409.7 90.6 190.1 336l1.2 1L68.2 285.7zM403.3 425.4L236.7 355.9 450.8 116.6 403.3 425.4z"]},ZX={prefix:"far",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c-9.4 9.4-9.4 24.6 0 33.9l47 47-47 47c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l47-47 47 47c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-47-47 47-47c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-47 47-47-47c-9.4-9.4-24.6-9.4-33.9 0z"]};class DJe{constructor(e,t){this.open=e,this.close=t||e}isManual(){return"manual"===this.open||"manual"===this.close}}const kJe={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};function XL(n,e=kJe){const t=(n||"").trim();if(0===t.length)return[];const i=t.split(/\s+/).map(s=>s.split(":")).map(s=>{const a=e[s[0]]||s;return new DJe(a[0],a[1])}),r=i.filter(s=>s.isManual());if(r.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===r.length&&i.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return i}const Bi=typeof window<"u"&&window||{};var Qw=(()=>(function(n){n.isBs4="bs4",n.isBs5="bs5"}(Qw||(Qw={})),Qw))();let s6;function JX(){const n=Bi.document.createElement("span");n.innerText="testing bs version",n.classList.add("d-none"),n.classList.add("pl-1"),Bi.document.head.appendChild(n);const e=Bi.getComputedStyle(n).paddingLeft;return e&&parseFloat(e)?(Bi.document.head.removeChild(n),"bs4"):(Bi.document.head.removeChild(n),"bs5")}function Zf(){return{isBs4:(s6||(s6=JX()),"bs4"===s6),isBs5:(s6||(s6=JX()),"bs5"===s6)}}function IJe(){const n="Change";return function(t,i){const r=` __${i}Value`;Object.defineProperty(t,i,{get(){return this[r]},set(s){const a=this[r];this[r]=s,a!==s&&this[i+n]&&this[i+n].emit(s)}})}}class NJe{static reflow(e){}static getStyles(e){let t=e.ownerDocument.defaultView;return(!t||!t.opener)&&(t=Bi),t.getComputedStyle(e)}static stackOverflowConfig(){const e=function VJe(){const n=Zf(),e=Object.keys(n).find(t=>n[t]);return Qw[e]}();return{crossorigin:"anonymous",integrity:"bs5"===e?"sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We":"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2",cdnLink:"bs5"===e?"https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css":"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"}}}const XX={},PJe=typeof console>"u"||!("warn"in console);function $s(n){!(0,o.X6Q)()||PJe||n in XX||(XX[n]=!0,console.warn(n))}var RJe=N(1144);const OJe=["addListener","removeListener"],FJe=["addEventListener","removeEventListener"],BJe=["on","off"];function Jw(n,e,t,i){if((0,$i.m)(t)&&(i=t,t=void 0),i)return Jw(n,e,t).pipe(P6(i));const[r,s]=function WJe(n){return(0,$i.m)(n.addEventListener)&&(0,$i.m)(n.removeEventListener)}(n)?FJe.map(a=>c=>n[a](e,c,t)):function UJe(n){return(0,$i.m)(n.addListener)&&(0,$i.m)(n.removeListener)}(n)?OJe.map(eee(n,e)):function jJe(n){return(0,$i.m)(n.on)&&(0,$i.m)(n.off)}(n)?BJe.map(eee(n,e)):[];if(!r&&(0,RJe.z)(n))return(0,Li.z)(a=>Jw(a,e,t))((0,mo.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Ci.y(a=>{const c=(...d)=>a.next(1<d.length?d:d[0]);return r(c),()=>s(c)})}function eee(n,e){return t=>i=>n[t](e,i)}var YJe=N(4408);const $g={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=$g;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(s=>{t=void 0,n(s)});return new vo.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=$g;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=$g;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var GJe=N(7565);const ZJe=new class $Je extends GJe.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class qJe extends YJe.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=$g.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&($g.cancelAnimationFrame(t),e._scheduled=void 0)}});var Xw=(()=>(function(n){n.top="top",n.bottom="bottom",n.left="left",n.right="right",n.auto="auto",n.end="right",n.start="left",n["top left"]="top left",n["top right"]="top right",n["right top"]="right top",n["right bottom"]="right bottom",n["bottom right"]="bottom right",n["bottom left"]="bottom left",n["left bottom"]="left bottom",n["left top"]="left top",n["top start"]="top left",n["top end"]="top right",n["end top"]="right top",n["end bottom"]="right bottom",n["bottom end"]="bottom right",n["bottom start"]="bottom left",n["start bottom"]="start bottom",n["start top"]="left top"}(Xw||(Xw={})),Xw))(),Kf=(()=>(function(n){n.top="top",n.bottom="bottom",n.left="start",n.right="end",n.auto="auto",n.end="end",n.start="start",n["top left"]="top start",n["top right"]="top end",n["right top"]="end top",n["right bottom"]="end bottom",n["bottom right"]="bottom end",n["bottom left"]="bottom start",n["left bottom"]="start bottom",n["left top"]="start top",n["top start"]="top start",n["top end"]="top end",n["end top"]="end top",n["end bottom"]="end bottom",n["bottom end"]="bottom end",n["bottom start"]="bottom start",n["start bottom"]="start bottom",n["start top"]="start top"}(Kf||(Kf={})),Kf))();function lu(n,e){if(1!==n.nodeType)return[];const i=n.ownerDocument.defaultView?.getComputedStyle(n,null);return e?i&&i[e]:i}function eE(n){if(!n)return document.documentElement;let i,t=n?.offsetParent;for(;null===t&&n.nextElementSibling&&i!==n.nextElementSibling;)i=n.nextElementSibling,t=i.offsetParent;const r=t&&t.nodeName;return r&&"BODY"!==r&&"HTML"!==r?t&&-1!==["TH","TD","TABLE"].indexOf(t.nodeName)&&"static"===lu(t,"position")?eE(t):t:i?i.ownerDocument.documentElement:document.documentElement}function tE(n){return null!==n.parentNode?tE(n.parentNode):n}function ex(n,e){if(!(n&&n.nodeType&&e&&e.nodeType))return document.documentElement;const t=n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,i=t?n:e,r=t?e:n,s=document.createRange();s.setStart(i,0),s.setEnd(r,0);const a=s.commonAncestorContainer;if(n!==a&&e!==a||i.contains(r))return function KJe(n){const{nodeName:e}=n;return"BODY"!==e&&("HTML"===e||eE(n.firstElementChild)===n)}(a)?a:eE(a);const c=tE(n);return c.host?ex(c.host,e):ex(n,tE(e).host)}function tee(n){if(!n||!n.parentElement)return document.documentElement;let e=n.parentElement;for(;e?.parentElement&&"none"===lu(e,"transform");)e=e.parentElement;return e||document.documentElement}function nee(n,e){const t="x"===e?"Left":"Top",i="Left"===t?"Right":"Bottom";return parseFloat(n[`border${t}Width`])+parseFloat(n[`border${i}Width`])}function iee(n,e,t,i){return Math.max(e[`offset${n}`],e[`scroll${n}`],t[`client${n}`],t[`offset${n}`],t[`scroll${n}`],0)}function ree(n){const e=n.body,t=n.documentElement;return{height:iee("Height",e,t),width:iee("Width",e,t)}}function Zg(n){return{...n,right:(n.left||0)+n.width,bottom:(n.top||0)+n.height}}function V2(n){return"number"==typeof n||"[object Number]"===Object.prototype.toString.call(n)}function see(n){const e=n.getBoundingClientRect();if(!(e&&V2(e.top)&&V2(e.left)&&V2(e.bottom)&&V2(e.right)))return e;const t={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},i="HTML"===n.nodeName?ree(n.ownerDocument):void 0,r=i?.width||n.clientWidth||V2(e.right)&&V2(t.left)&&e.right-t.left||0,s=i?.height||n.clientHeight||V2(e.bottom)&&V2(t.top)&&e.bottom-t.top||0;let a=n.offsetWidth-r,c=n.offsetHeight-s;if(a||c){const d=lu(n);a-=nee(d,"x"),c-=nee(d,"y"),t.width-=a,t.height-=c}return Zg(t)}function nE(n){return"HTML"===n.nodeName?n:n.parentNode||n.host}function iE(n){if(!n)return document.body;switch(n.nodeName){case"HTML":case"BODY":return n.ownerDocument.body;case"#document":return n.body}const{overflow:e,overflowX:t,overflowY:i}=lu(n);return/(auto|scroll|overlay)/.test(String(e)+String(i)+String(t))?n:iE(nE(n))}function rE(n,e,t=!1){const i="HTML"===e.nodeName,r=see(n),s=see(e),c=(iE(n),lu(e)),d=parseFloat(c.borderTopWidth),h=parseFloat(c.borderLeftWidth);t&&i&&(s.top=Math.max(s.top??0,0),s.left=Math.max(s.left??0,0));const g=Zg({top:(r.top??0)-(s.top??0)-d,left:(r.left??0)-(s.left??0)-h,width:r.width,height:r.height});if(g.marginTop=0,g.marginLeft=0,i){const y=parseFloat(c.marginTop),M=parseFloat(c.marginLeft);V2(g.top)&&(g.top-=d-y),V2(g.bottom)&&(g.bottom-=d-y),V2(g.left)&&(g.left-=h-M),V2(g.right)&&(g.right-=h-M),g.marginTop=y,g.marginLeft=M}return g}function oee(n,e="top"){const t="top"===e?"scrollTop":"scrollLeft",i=n.nodeName;return"BODY"===i||"HTML"===i?(n.ownerDocument.scrollingElement||n.ownerDocument.documentElement)[t]:n[t]}function aee(n){const e=n.nodeName;return"BODY"!==e&&"HTML"!==e&&("fixed"===lu(n,"position")||aee(nE(n)))}function sE(n,e,t=0,i,r=!1){let s={top:0,left:0};const a=r?tee(n):ex(n,e);if("viewport"===i)s=function JJe(n,e=!1){const t=n.ownerDocument.documentElement,i=rE(n,t),r=Math.max(t.clientWidth,window.innerWidth||0),s=Math.max(t.clientHeight,window.innerHeight||0),a=e?0:oee(t),c=e?0:oee(t,"left");return Zg({top:a-Number(i?.top)+Number(i?.marginTop),left:c-Number(i?.left)+Number(i?.marginLeft),width:r,height:s})}(a,r);else{let c;"scrollParent"===i?(c=iE(nE(e)),"BODY"===c.nodeName&&(c=n.ownerDocument.documentElement)):c="window"===i?n.ownerDocument.documentElement:i;const d=rE(c,a,r);if(d&&"HTML"===c.nodeName&&!aee(a)){const{height:h,width:g}=ree(n.ownerDocument);V2(s.top)&&V2(d.top)&&V2(d.marginTop)&&(s.top+=d.top-d.marginTop),V2(s.top)&&(s.bottom=Number(h)+Number(d.top)),V2(s.left)&&V2(d.left)&&V2(d.marginLeft)&&(s.left+=d.left-d.marginLeft),V2(s.top)&&(s.right=Number(g)+Number(d.left))}else d&&(s=d)}return V2(s.left)&&(s.left+=t),V2(s.top)&&(s.top+=t),V2(s.right)&&(s.right-=t),V2(s.bottom)&&(s.bottom-=t),s}function XJe({width:n,height:e}){return n*e}function cee(n,e,t,i,r=["top","bottom","right","left"],s="viewport",a=0){if(-1===n.indexOf("auto"))return n;const c=sE(t,i,a,s),d={top:{width:c?.width??0,height:(e?.top??0)-(c?.top??0)},right:{width:(c?.right??0)-(e?.right??0),height:c?.height??0},bottom:{width:c?.width??0,height:(c?.bottom??0)-(e?.bottom??0)},left:{width:(e.left??0)-(c?.left??0),height:c?.height??0}},h=Object.keys(d).map(S=>({position:S,...d[S],area:XJe(d[S])})).sort((S,k)=>k.area-S.area);let g=h.filter(({width:S,height:k})=>S>=t.clientWidth&&k>=t.clientHeight);g=g.filter(({position:S})=>r.some(k=>k===S));const y=g.length>0?g[0].position:h[0].position,M=n.split(" ")[1];return t.className=t.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${Zf().isBs5?Kf[y]:y}`),y+(M?`-${M}`:"")}const tx=(n,e=0)=>n?parseFloat(n):e;function lee(n){const t=n.ownerDocument.defaultView?.getComputedStyle(n),i=tx(t?.marginTop)+tx(t?.marginBottom),r=tx(t?.marginLeft)+tx(t?.marginRight);return{width:Number(n.offsetWidth)+r,height:Number(n.offsetHeight)+i}}function uee(n,e,t){return rE(e,t?tee(n):ex(n,e),t)}function oE(n,e,t){const i=t.split(" ")[0],r=lee(n),s={width:r.width,height:r.height},a=-1!==["right","left"].indexOf(i),c=a?"top":"left",d=a?"left":"top",h=a?"height":"width",g=a?"width":"height";return s[c]=(e[c]??0)+e[h]/2-r[h]/2,s[d]=i===d?(e[d]??0)-r[g]:e[function tXe(n){const e={left:"right",right:"left",bottom:"top",top:"bottom"};return n.replace(/left|right|bottom|top/g,t=>e[t])}(d)]??0,s}function dee(n,e){return!!n.modifiers[e]?.enabled}const iXe={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function nx(n,e){return!!Zf().isBs5&&iXe[e].includes(n)}function fee(n,e,t){!n||!e||Object.keys(e).forEach(i=>{let r="";-1!==["width","height","top","right","bottom","left"].indexOf(i)&&function QJe(n){return""!==n&&!isNaN(parseFloat(n))&&isFinite(Number(n))}(e[i])&&(r="px"),t?t.setStyle(n,i,`${String(e[i])}${r}`):n.style[i]=String(e[i])+r})}function oXe(n){let e=n.offsets.target;const t=n.instance.target.querySelector(".arrow");if(!t)return n;const i=-1!==["left","right"].indexOf(n.placement.split(" ")[0]),r=i?"height":"width",s=i?"Top":"Left",a=s.toLowerCase(),c=i?"left":"top",d=i?"bottom":"right",h=lee(t)[r],g=n.placement.split(" ")[1];(n.offsets.host[d]??0)-h<(e[a]??0)&&(e[a]-=(e[a]??0)-((n.offsets.host[d]??0)-h)),Number(n.offsets.host[a])+Number(h)>(e[d]??0)&&(e[a]+=Number(n.offsets.host[a])+Number(h)-Number(e[d])),e=Zg(e);const y=lu(n.instance.target),M=parseFloat(y[`margin${s}`])||0,S=parseFloat(y[`border${s}Width`])||0;let k;if(g){const L=parseFloat(y.borderRadius)||0,B=Number(M+S+L);k=a===g?Number(n.offsets.host[a])+B:Number(n.offsets.host[a])+Number(n.offsets.host[r]-B)}else k=Number(n.offsets.host[a])+Number(n.offsets.host[r]/2-h/2);let A=k-(e[a]??0)-M-S;return A=Math.max(Math.min(e[r]-(h+5),A),0),n.offsets.arrow={[a]:Math.round(A),[c]:""},n.instance.arrow=t,n}function aXe(n){if(n.offsets.target=Zg(n.offsets.target),!dee(n.options,"flip"))return n.offsets.target={...n.offsets.target,...oE(n.instance.target,n.offsets.host,n.placement)},n;const e=sE(n.instance.target,n.instance.host,0,"viewport",!1);let t=n.placement.split(" ")[0],i=n.placement.split(" ")[1]||"";const c=cee("auto",n.offsets.host,n.instance.target,n.instance.host,n.options.allowedPositions),d=[t,c];return d.forEach((h,g)=>{if(t!==h||d.length===g+1)return;t=n.placement.split(" ")[0];const y="left"===t&&Math.floor(n.offsets.target.right??0)>Math.floor(n.offsets.host.left??0)||"right"===t&&Math.floor(n.offsets.target.left??0)<Math.floor(n.offsets.host.right??0)||"top"===t&&Math.floor(n.offsets.target.bottom??0)>Math.floor(n.offsets.host.top??0)||"bottom"===t&&Math.floor(n.offsets.target.top??0)<Math.floor(n.offsets.host.bottom??0),M=Math.floor(n.offsets.target.left??0)<Math.floor(e.left??0),S=Math.floor(n.offsets.target.right??0)>Math.floor(e.right??0),k=Math.floor(n.offsets.target.top??0)<Math.floor(e.top??0),A=Math.floor(n.offsets.target.bottom??0)>Math.floor(e.bottom??0),L="left"===t&&M||"right"===t&&S||"top"===t&&k||"bottom"===t&&A,B=-1!==["top","bottom"].indexOf(t),G=B&&"left"===i&&M||B&&"right"===i&&S||!B&&"left"===i&&k||!B&&"right"===i&&A;(y||L||G)&&((y||L)&&(t=d[g+1]),G&&(i=function nXe(n){return"right"===n?"left":"left"===n?"right":n}(i)),n.placement=t+(i?` ${i}`:""),n.offsets.target={...n.offsets.target,...oE(n.instance.target,n.offsets.host,n.placement)})}),n}function lXe(n){if(!dee(n.options,"preventOverflow"))return n;const e="transform",t=n.instance.target.style,{top:i,left:r,[e]:s}=t;t.top="",t.left="",t[e]="";const a=sE(n.instance.target,n.instance.host,0,n.options.modifiers.preventOverflow?.boundariesElement||"scrollParent",!1);t.top=i,t.left=r,t[e]=s;const d={primary(h){let g=n.offsets.target[h];return(n.offsets.target[h]??0)<(a[h]??0)&&(g=Math.max(n.offsets.target[h]??0,a[h]??0)),{[h]:g}},secondary(h){const g="right"===h,y=g?"left":"top";let S=n.offsets.target[y];return(n.offsets.target[h]??0)>(a[h]??0)&&(S=Math.min(n.offsets.target[y]??0,(a[h]??0)-n.offsets.target[g?"width":"height"])),{[y]:S}}};return["left","right","top","bottom"].forEach(h=>{const g=-1!==["left","top","start"].indexOf(h)?d.primary:d.secondary;n.offsets.target={...n.offsets.target,...g(h)}}),n}function uXe(n){const e=n.placement,t=e.split(" ")[0],i=e.split(" ")[1];if(i){const{host:r,target:s}=n.offsets,a=-1!==["bottom","top"].indexOf(t),c=a?"left":"top",d=a?"width":"height",h={start:{[c]:r[c]},end:{[c]:(r[c]??0)+r[d]-s[d]}};n.offsets.target={...s,[c]:c===i?h.start[c]:h.end[c]}}return n}const fXe=new class dXe{position(e,t){return this.offset(e,t)}offset(e,t){return uee(t,e)}positionElements(e,t,i,r,s){const a=[aXe,uXe,lXe,oXe],d=function cXe(n,e,t,i){if(!n||!e)return;const r=uee(n,e);!t.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!t.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(t="auto");const s=!!t.match(/auto/g);let a=t.match(/auto\s(left|right|top|bottom|start|end)/)?t.split(" ")[1]||"auto":t;const c=a.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return c&&(a=c[1]+(c[2]?` ${c[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(a)&&(a="auto"),a=cee(a,r,n,e,i?i.allowedPositions:void 0),{options:i||{modifiers:{}},instance:{target:n,host:e,arrow:void 0},offsets:{target:oE(n,r,a),host:r,arrow:void 0},positionFixed:!1,placement:a,placementAuto:s}}(t,e,Xw[i],s);if(d)return a.reduce((h,g)=>g(h),d)}};function hXe(n,e,t,i,r,s){const a=fXe.positionElements(n,e,t,i,r);if(!a)return;const c=function eXe(n){return{width:n.offsets.target.width,height:n.offsets.target.height,left:Math.floor(n.offsets.target.left??0),top:Math.round(n.offsets.target.top??0),bottom:Math.round(n.offsets.target.bottom??0),right:Math.floor(n.offsets.target.right??0)}}(a);fee(e,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${c.left}px, ${c.top}px, 0px)`},s),a.instance.arrow&&fee(a.instance.arrow,a.offsets.arrow,s),function sXe(n,e){const t=n.instance.target;let i=t.className;const r=Zf().isBs5?Kf[n.placement]:n.placement;n.placementAuto&&(i=i.replace(/bs-popover-auto/g,`bs-popover-${r}`),i=i.replace(/ms-2|me-2|mb-2|mt-2/g,""),i=i.replace(/bs-tooltip-auto/g,`bs-tooltip-${r}`),i=i.replace(/\sauto/g,` ${r}`),-1!==i.indexOf("popover")&&(i=i+" "+function rXe(n){return Zf().isBs5?nx(n,"end")?"ms-2":nx(n,"start")?"me-2":nx(n,"top")?"mb-2":nx(n,"bottom")?"mt-2":"":""}(r)),-1!==i.indexOf("popover")&&-1===i.indexOf("popover-auto")&&(i+=" popover-auto"),-1!==i.indexOf("tooltip")&&-1===i.indexOf("tooltip-auto")&&(i+=" tooltip-auto")),i=i.replace(/left|right|top|bottom|end|start/g,`${r.split(" ")[0]}`),e?e.setAttribute(t,"class",i):t.className=i}(a,s)}let o6=(()=>{class n{constructor(t,i,r){this.update$$=new h2.x,this.positionElements=new Map,this.isDisabled=!1,Se(r)&&t.runOutsideAngular(()=>{this.triggerEvent$=(0,nM.T)(Jw(window,"scroll",{passive:!0}),Jw(window,"resize",{passive:!0}),It(0,ZJe),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(s=>{hXe(ix(s.target),ix(s.element),s.attachment,s.appendToBody,this.options,i.createRenderer(null,null))})})})}position(t){this.addPositionElement(t)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(t){this.positionElements.set(ix(t.element),t)}calcPosition(){this.update$$.next(null)}deletePositionElement(t){this.positionElements.delete(ix(t))}setOptions(t){this.options=t}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.R0b),o.LFG(o.FYo),o.LFG(o.Lbi))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ix(n){return"string"==typeof n?document.querySelector(n):n instanceof o.SBq?n.nativeElement:n??null}class Kg{constructor(e,t,i){this.nodes=e,this.viewRef=t,this.componentRef=i}}class pXe{constructor(e,t,i,r,s,a,c,d,h){this._viewContainerRef=e,this._renderer=t,this._elementRef=i,this._injector=r,this._componentFactoryResolver=s,this._ngZone=a,this._applicationRef=c,this._posService=d,this._document=h,this.onBeforeShow=new o.vpe,this.onShown=new o.vpe,this.onBeforeHide=new o.vpe,this.onHidden=new o.vpe,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(e){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(e),this}to(e){return this.container=e||this.container,this}position(e){return e?(this.attachment=e.attachment||this.attachment,this._elementRef=e.target||this._elementRef,this):this}provide(e){return this._providers.push(e),this}show(e={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(e.content,e.context,e.initialState);const t=o.zs3.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(t,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,e),this.container instanceof o.SBq&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&typeof this._document<"u"){const i=this._document.querySelector(this.container)||this._document.querySelector(this.containerDefaultSelector);if(!i)return;i.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(e.id?{id:e.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(e){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const t=this._componentRef.location.nativeElement;return t.parentNode?.removeChild(t),this._contentRef?.componentRef?.destroy(),this._viewContainerRef&&this._contentRef?.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef?.viewRef?.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(e?{id:e}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(e){this.triggers=e.triggers||this.triggers,this._listenOpts.outsideClick=e.outsideClick,this._listenOpts.outsideEsc=e.outsideEsc,e.target=e.target||this._elementRef?.nativeElement;const t=this._listenOpts.hide=()=>e.hide?e.hide():void this.hide(),i=this._listenOpts.show=s=>{e.show?e.show(s):this.show(s),s()};return this._renderer&&(this._unregisterListenersFn=function zJe(n,e){const t=XL(e.triggers),i=e.target;if(1===t.length&&t[0].isManual())return Function.prototype;const r=[],s=[],a=()=>{s.forEach(c=>r.push(c())),s.length=0};return t.forEach(c=>{const d=c.open===c.close,h=d?e.toggle:e.show;if(!d&&c.close&&e.hide){const g=n.listen(i,c.close,e.hide);s.push(()=>g)}h&&r.push(n.listen(i,c.open,()=>h(a)))}),()=>{r.forEach(c=>c())}}(this._renderer,{target:e.target,triggers:e.triggers,show:i,hide:t,toggle:s=>{this.isShown?t():i(s)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(e,t){return e&&t&&(this._inlineViewRef=e.createEmbeddedView(t)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const e=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=function AJe(n,e){return e.outsideClick?n.listen("document","click",t=>{e.target&&e.target.contains(t.target)||e.targets&&e.targets.some(i=>i.contains(t.target))||e.hide&&e.hide()}):Function.prototype}(this._renderer,{targets:[e,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=function HJe(n,e){return e.outsideEsc?n.listen("document","keyup.esc",t=>{e.target&&e.target.contains(t.target)||e.targets&&e.targets.some(i=>i.contains(t.target))||e.hide&&e.hide()}):Function.prototype}(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{this._posService.position({element:this._componentRef?.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{this._componentRef&&this._posService.calcPosition()}))}_unsubscribePositioning(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(e,t,i){if(!e)return new Kg([]);if(e instanceof o.Rgc){if(this._viewContainerRef){const a=this._viewContainerRef.createEmbeddedView(e,t);return a.markForCheck(),new Kg([a.rootNodes],a)}const s=e.createEmbeddedView({});return this._applicationRef.attachView(s),new Kg([s.rootNodes],s)}if("function"==typeof e){const s=this._componentFactoryResolver.resolveComponentFactory(e),a=o.zs3.create({providers:this._providers,parent:this._injector}),c=s.create(a);return Object.assign(c.instance,i),this._applicationRef.attachView(c.hostView),new Kg([[c.location.nativeElement]],c.hostView,c)}const r=this._renderer?[this._renderer.createText(`${e}`)]:[];return new Kg([r])}}let fc=(()=>{class n{constructor(t,i,r,s,a,c){this._componentFactoryResolver=t,this._ngZone=i,this._injector=r,this._posService=s,this._applicationRef=a,this._document=c}createLoader(t,i,r){return new pXe(i,r,t,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService,this._document)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o._Vd),o.LFG(o.R0b),o.LFG(o.zs3),o.LFG(o6),o.LFG(o.z2F),o.LFG(ae))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const mXe=function(n){return{dropdown:n}},gXe=["*"];let hee=(()=>{class n{constructor(){this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uu=(()=>{class n{constructor(){this.direction="down",this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1,this.isOpenChange=new o.vpe,this.isDisabledChange=new o.vpe,this.toggleClick=new o.vpe,this.counts=0,this.dropdownMenu=new Promise(t=>{this.resolveDropdownMenu=t})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const pee=[on({height:0,overflow:"hidden"}),r2("220ms cubic-bezier(0, 0, 0.2, 1)",on({height:"*",overflow:"hidden"}))];let vXe=(()=>{class n{constructor(t,i,r,s,a){this._state=t,this.cd=i,this._renderer=r,this._element=s,this.isOpen=!1,this._factoryDropDownAnimation=a.build(pee),this._subscription=t.isOpenChange.subscribe(c=>{this.isOpen=c;const d=this._element.nativeElement.querySelector(".dropdown-menu");this._renderer.addClass(this._element.nativeElement.querySelector("div"),"open"),d&&(this._renderer.addClass(d,"show"),(d.classList.contains("dropdown-menu-right")||d.classList.contains("dropdown-menu-end"))&&(this._renderer.setStyle(d,"left","auto"),this._renderer.setStyle(d,"right","0")),"up"===this.direction&&(this._renderer.setStyle(d,"top","auto"),this._renderer.setStyle(d,"transform","translateY(-101%)"))),d&&this._state.isAnimated&&this._factoryDropDownAnimation.create(d).play(),this.cd.markForCheck(),this.cd.detectChanges()})}get direction(){return this._state.direction}_contains(t){return this._element.nativeElement.contains(t)}ngOnDestroy(){this._subscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(uu),o.Y36(o.sBO),o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(Qm))},n.\u0275cmp=o.Xpm({type:n,selectors:[["bs-dropdown-container"]],hostAttrs:[2,"display","block","position","absolute","z-index","1040"],ngContentSelectors:gXe,decls:2,vars:9,consts:[[3,"ngClass"]],template:function(t,i){1&t&&(o.F$t(),o.TgZ(0,"div",0),o.Hsn(1),o.qZA()),2&t&&(o.ekj("dropup","up"===i.direction)("show",i.isOpen)("open",i.isOpen),o.Q6J("ngClass",o.VKq(7,mXe,"down"===i.direction)))},dependencies:[U1],encapsulation:2,changeDetection:0}),n})(),aE=(()=>{class n{constructor(t,i,r,s,a,c,d){this._elementRef=t,this._renderer=i,this._viewContainerRef=r,this._cis=s,this._state=a,this._config=c,this.dropup=!1,this._isInlineOpen=!1,this._isDisabled=!1,this._subscriptions=[],this._isInited=!1,this._state.autoClose=this._config.autoClose,this._state.insideClick=this._config.insideClick,this._state.isAnimated=this._config.isAnimated,this._state.stopOnClickPropagation=this._config.stopOnClickPropagation,this._factoryDropDownAnimation=d.build(pee),this._dropdown=this._cis.createLoader(this._elementRef,this._viewContainerRef,this._renderer).provide({provide:uu,useValue:this._state}),this.onShown=this._dropdown.onShown,this.onHidden=this._dropdown.onHidden,this.isOpenChange=this._state.isOpenChange}set autoClose(t){this._state.autoClose=t}get autoClose(){return this._state.autoClose}set isAnimated(t){this._state.isAnimated=t}get isAnimated(){return this._state.isAnimated}set insideClick(t){this._state.insideClick=t}get insideClick(){return this._state.insideClick}set isDisabled(t){this._isDisabled=t,this._state.isDisabledChange.emit(t),t&&this.hide()}get isDisabled(){return this._isDisabled}get isOpen(){return this._showInline?this._isInlineOpen:this._dropdown.isShown}set isOpen(t){t?this.show():this.hide()}get _showInline(){return!this.container}ngOnInit(){this._isInited||(this._isInited=!0,this._dropdown.listen({outsideClick:!1,triggers:this.triggers,show:()=>this.show()}),this._subscriptions.push(this._state.toggleClick.subscribe(t=>this.toggle(t))),this._subscriptions.push(this._state.isDisabledChange.pipe(o1(t=>t)).subscribe(()=>this.hide())))}show(){if(!this.isOpen&&!this.isDisabled){if(this._showInline)return this._inlinedMenu||this._state.dropdownMenu.then(t=>{this._dropdown.attachInline(t.viewContainer,t.templateRef),this._inlinedMenu=this._dropdown._inlineViewRef,this.addBs4Polyfills(),this._inlinedMenu&&this._renderer.addClass(this._inlinedMenu.rootNodes[0].parentNode,"open"),this.playAnimation()}).catch(),this.addBs4Polyfills(),this._isInlineOpen=!0,this.onShown.emit(!0),this._state.isOpenChange.emit(!0),void this.playAnimation();this._state.dropdownMenu.then(t=>{const i=this.dropup||typeof this.dropup<"u"&&this.dropup;this._state.direction=i?"up":"down";const r=this.placement||(i?"top start":"bottom start");this._dropdown.attach(vXe).to(this.container).position({attachment:r}).show({content:t.templateRef,placement:r}),this._state.isOpenChange.emit(!0)}).catch()}}hide(){this.isOpen&&(this._showInline?(this.removeShowClass(),this.removeDropupStyles(),this._isInlineOpen=!1,this.onHidden.emit(!0)):this._dropdown.hide(),this._state.isOpenChange.emit(!1))}toggle(t){return this.isOpen||!t?this.hide():this.show()}_contains(t){return this._elementRef.nativeElement.contains(t.target)||this._dropdown.instance&&this._dropdown.instance._contains(t.target)}navigationClick(t){const i=this._elementRef.nativeElement.querySelector(".dropdown-menu");if(!i)return;const r=this._elementRef.nativeElement.ownerDocument.activeElement,s=i.querySelectorAll(".dropdown-item");switch(t.keyCode){case 38:this._state.counts>0&&s[--this._state.counts].focus();break;case 40:this._state.counts+1<s.length&&(r.classList!==s[this._state.counts].classList?s[this._state.counts].focus():s[++this._state.counts].focus())}t.preventDefault()}ngOnDestroy(){for(const t of this._subscriptions)t.unsubscribe();this._dropdown.dispose()}addBs4Polyfills(){this.addShowClass(),this.checkRightAlignment(),this.addDropupStyles()}playAnimation(){this._state.isAnimated&&this._inlinedMenu&&setTimeout(()=>{this._inlinedMenu&&this._factoryDropDownAnimation.create(this._inlinedMenu.rootNodes[0]).play()})}addShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.addClass(this._inlinedMenu.rootNodes[0],"show")}removeShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.removeClass(this._inlinedMenu.rootNodes[0],"show")}checkRightAlignment(){if(this._inlinedMenu&&this._inlinedMenu.rootNodes[0]){const t=this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-right")||this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-end");this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"left",t?"auto":"0"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"right",t?"0":"auto")}}addDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"top",this.dropup?"auto":"100%"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"transform",this.dropup?"translateY(-101%)":"translateY(0)"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"bottom","auto"))}removeDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"top"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"transform"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"bottom"))}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(o.s_b),o.Y36(fc),o.Y36(uu),o.Y36(hee),o.Y36(Qm))},n.\u0275dir=o.lG2({type:n,selectors:[["","bsDropdown",""],["","dropdown",""]],hostVars:6,hostBindings:function(t,i){1&t&&o.NdJ("keydown.arrowDown",function(s){return i.navigationClick(s)})("keydown.arrowUp",function(s){return i.navigationClick(s)}),2&t&&o.ekj("dropup",i.dropup)("open",i.isOpen)("show",i.isOpen)},inputs:{placement:"placement",triggers:"triggers",container:"container",dropup:"dropup",autoClose:"autoClose",isAnimated:"isAnimated",insideClick:"insideClick",isDisabled:"isDisabled",isOpen:"isOpen"},outputs:{isOpenChange:"isOpenChange",onShown:"onShown",onHidden:"onHidden"},exportAs:["bs-dropdown"],features:[o._Bn([uu])]}),n})(),mee=(()=>{class n{constructor(t,i,r){t.resolveDropdownMenu({templateRef:r,viewContainer:i})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(uu),o.Y36(o.s_b),o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","bsDropdownMenu",""],["","dropdownMenu",""]],exportAs:["bs-dropdown-menu"]}),n})(),gee=(()=>{class n{constructor(t,i,r,s,a){this._changeDetectorRef=t,this._dropdown=i,this._element=r,this._renderer=s,this._state=a,this.isOpen=!1,this._subscriptions=[],this._subscriptions.push(this._state.isOpenChange.subscribe(c=>{this.isOpen=c,c?(this._documentClickListener=this._renderer.listen("document","click",d=>{this._state.autoClose&&2!==d.button&&!this._element.nativeElement.contains(d.target)&&(!this._state.insideClick||!this._dropdown._contains(d))&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())}),this._escKeyUpListener=this._renderer.listen(this._element.nativeElement,"keyup.esc",()=>{this._state.autoClose&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())})):(this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener())})),this._subscriptions.push(this._state.isDisabledChange.subscribe(c=>this.isDisabled=c||void 0))}onClick(t){this._state.stopOnClickPropagation&&t.stopPropagation(),!this.isDisabled&&this._state.toggleClick.emit(!0)}ngOnDestroy(){this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener();for(const t of this._subscriptions)t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.sBO),o.Y36(aE),o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(uu))},n.\u0275dir=o.lG2({type:n,selectors:[["","bsDropdownToggle",""],["","dropdownToggle",""]],hostVars:3,hostBindings:function(t,i){1&t&&o.NdJ("click",function(s){return i.onClick(s)}),2&t&&o.uIk("aria-haspopup",!0)("disabled",i.isDisabled)("aria-expanded",i.isOpen)},exportAs:["bs-dropdown-toggle"]}),n})(),yXe=(()=>{class n{static forRoot(){return{ngModule:n,providers:[fc,o6,uu]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[qi]}),n})();function Zs(n){return typeof n>"u"}function L1(n){return"string"==typeof n}function a6(n,e){const t=e.split("."),i=t.shift();return t.reduce((r,s)=>Zs(r)||function xXe(n){return null===n}(r)||Zs(r[s])?void 0:r[s],n[i||""])}let sx=(()=>{class n{transform(t,i){if(!Array.isArray(t))return t;const r=[...t];if(Array.isArray(i))return r.sort((s,a)=>{const c=i.length;for(let d=0;d<c;++d){const[h,g]=n.extractFromConfig(i[d]),y=n.orderCompare(h,g,s,a);if(0!==y)return y}return 0});if(L1(i)){const[s,a,c]=n.extractFromConfig(i);if(1===i.length)switch(c){case"+":return r.sort(n.simpleSort.bind(this));case"-":return r.sort(n.simpleSort.bind(this)).reverse()}return r.sort(n.orderCompare.bind(this,s,a))}return r.sort(n.simpleSort.bind(this))}static simpleSort(t,i){return L1(t)&&L1(i)?t.toLowerCase().localeCompare(i.toLowerCase()):t-i}static orderCompare(t,i,r,s){const a=a6(r,t),c=a6(s,t);if(a===c)return 0;if(Zs(a)||""===a)return 1;if(Zs(c)||""===c)return-1;if(L1(a)&&L1(c)){const d=a.toLowerCase().localeCompare(c.toLowerCase());return i?d:-d}return i?a-c:c-a}static extractFromConfig(t){const i=t.substr(0,1);return[t.replace(/^[-+]/,""),"-"!==i,i]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=o.Yjl({name:"orderBy",type:n,pure:!0}),n})(),RXe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),OXe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),FXe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),BXe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),JXe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),XXe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),eet=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[RXe,FXe,BXe,JXe,OXe,XXe]}),n})();function tet(n,e){1&n&&(o.TgZ(0,"div",2)(1,"div",3)(2,"h2",4),o._uU(3,"Social Feed"),o.qZA()(),o.TgZ(4,"div",5)(5,"h5",4),o._uU(6,"Follow other users to see their posts here!"),o.qZA(),o.TgZ(7,"div",6),o._UZ(8,"img",7),o.qZA()()())}function net(n,e){if(1&n){var t=o.EpF();o.TgZ(0,"li",35)(1,"button",36),o.NdJ("click",function(){o.CHM(t);var r=o.oxw(2).$implicit,s=o.oxw();return o.KtG(s.deletePost(r))}),o._uU(2,"Delete Post"),o.qZA()()}}function iet(n,e){if(1&n&&(o.TgZ(0,"ul",33),o.YNc(1,net,3,0,"li",34),o.qZA()),2&n){var t=o.oxw().$implicit,i=o.oxw();o.xp6(1),o.Q6J("ngIf",t.profileHandle==i.profileHandle)}}function ret(n,e){if(1&n&&(o.TgZ(0,"div",37),o._UZ(1,"img",38),o.qZA()),2&n){var t=o.oxw().$implicit;o.xp6(1),o.s9C("src",t.postImg,o.LSH)}}function set(n,e){1&n&&o._UZ(0,"hr",39)}function oet(n,e){1&n&&(o.TgZ(0,"div",40),o._uU(1,"Shared Workout"),o.qZA())}function aet(n,e){if(1&n&&(o.TgZ(0,"li",54),o._uU(1),o.ALo(2,"titlecase"),o.qZA()),2&n){var t=e.$implicit;o.xp6(1),o.Oqu(o.lcZ(2,1,t))}}function cet(n,e){if(1&n&&(o.TgZ(0,"div",53)(1,"h6",50),o._uU(2,"Equipment"),o.qZA(),o.TgZ(3,"ul",51),o.YNc(4,aet,3,3,"li",52),o.qZA()()),2&n){var t=o.oxw(2).$implicit;o.xp6(4),o.Q6J("ngForOf",t.workoutData.equipment)}}function uet(n,e){if(1&n&&(o.TgZ(0,"li",54),o._uU(1),o.ALo(2,"titlecase"),o.qZA()),2&n){var t=e.$implicit;o.xp6(1),o.Oqu(o.lcZ(2,1,t.groupType))}}function det(n,e){if(1&n){var t=o.EpF();o.TgZ(0,"div",41)(1,"div",42)(2,"div",43),o.NdJ("click",function(){o.CHM(t);var s=o.oxw().$implicit,a=o.oxw();return o.KtG(a.openWorkout(s))}),o.TgZ(3,"div",44)(4,"div",45)(5,"strong",46),o._uU(6),o.qZA(),o.TgZ(7,"p",47),o._uU(8),o.qZA()(),o.YNc(9,cet,5,1,"div",48),o.TgZ(10,"div",49)(11,"h6",50),o._uU(12,"Muscle Groups"),o.qZA(),o.TgZ(13,"ul",51),o.YNc(14,uet,3,3,"li",52),o.qZA()()()()()()}if(2&n){var i=o.oxw().$implicit;o.xp6(6),o.Oqu(i.workoutData.name),o.xp6(2),o.hij(" ",i.workoutData.description," "),o.xp6(1),o.Q6J("ngIf","*"!=i.workoutData.equipment[0]),o.xp6(5),o.Q6J("ngForOf",i.workoutData.groups)}}function fet(n,e){if(1&n&&(o.TgZ(0,"p")(1,"strong"),o._uU(2),o.qZA(),o._uU(3," Like"),o.qZA()),2&n){var t=o.oxw().$implicit;o.xp6(2),o.Oqu(t.postLikeCount)}}function het(n,e){if(1&n&&(o.TgZ(0,"p")(1,"strong"),o._uU(2),o.qZA(),o._uU(3," Likes"),o.qZA()),2&n){var t=o.oxw().$implicit;o.xp6(2),o.Oqu(t.postLikeCount)}}function pet(n,e){if(1&n&&o._UZ(0,"fa-icon",55),2&n){var t=o.oxw(2);o.Q6J("icon",t.faHeartOutline)}}function met(n,e){if(1&n&&o._UZ(0,"fa-icon",56),2&n){var t=o.oxw(2);o.Q6J("icon",t.faHeartSolid)}}var get=function(){return{standalone:!0}};function _et(n,e){if(1&n){var t=o.EpF();o.TgZ(0,"div",57)(1,"div",58),o.NdJ("click",function(){o.CHM(t);var a=o.oxw().$implicit;return o.KtG(a.commentOpen=!1)}),o._UZ(2,"fa-icon",59),o.qZA(),o.TgZ(3,"form",60),o.NdJ("ngSubmit",function(){o.CHM(t);var a=o.oxw().$implicit,c=o.oxw();return o.KtG(c.comment(a))}),o.TgZ(4,"div",61)(5,"input",62),o.NdJ("ngModelChange",function(a){o.CHM(t);var c=o.oxw().$implicit;return o.KtG(c.commentText=a)}),o.qZA(),o.TgZ(6,"button",63),o.NdJ("click",function(){o.CHM(t);var a=o.oxw().$implicit,c=o.oxw();return o.KtG(c.comment(a))}),o._UZ(7,"fa-icon",59),o.qZA()()()()}if(2&n){var i=o.oxw().$implicit,r=o.oxw();o.Q6J("@slideOutAnimation",void 0),o.xp6(2),o.Q6J("icon",r.faXmarkCircle),o.xp6(3),o.MGl("placeholder","Reply to @",i.profileHandle,"'s post..."),o.Q6J("ngModel",i.commentText)("ngModelOptions",o.DdM(6,get)),o.xp6(2),o.Q6J("icon",r.faPaperPlane)}}function vet(n,e){1&n&&(o.TgZ(0,"label"),o._uU(1,"Comments"),o.qZA())}function yet(n,e){if(1&n&&o._UZ(0,"fa-icon",73),2&n){var t=o.oxw(4);o.Q6J("icon",t.faHeartOutline)}}function Cet(n,e){if(1&n&&o._UZ(0,"fa-icon",74),2&n){var t=o.oxw(4);o.Q6J("icon",t.faHeartSolid)}}function bet(n,e){if(1&n&&(o.TgZ(0,"label")(1,"strong"),o._uU(2),o.qZA(),o._uU(3," Like"),o.qZA()),2&n){var t=o.oxw(2).$implicit;o.xp6(2),o.Oqu(t.commentLikeCount)}}function Met(n,e){if(1&n&&(o.TgZ(0,"label")(1,"strong"),o._uU(2),o.qZA(),o._uU(3," Likes"),o.qZA()),2&n){var t=o.oxw(2).$implicit;o.xp6(2),o.Oqu(t.commentLikeCount)}}function wet(n,e){if(1&n){var t=o.EpF();o.TgZ(0,"div",66)(1,"div",67)(2,"a",68),o._uU(3),o.qZA(),o.TgZ(4,"small"),o._uU(5),o.qZA()(),o._UZ(6,"hr"),o.TgZ(7,"p"),o._uU(8),o.qZA(),o.TgZ(9,"div",69),o.NdJ("click",function(){o.CHM(t);var c=o.oxw(),d=c.$implicit,h=c.index,g=o.oxw().$implicit,y=o.oxw();return o.KtG(y.toggleLikeComment(g,d,g.postComments.length-1-h))}),o.YNc(10,yet,1,1,"fa-icon",70),o.YNc(11,Cet,1,1,"fa-icon",71),o.TgZ(12,"span",72),o.YNc(13,bet,4,1,"label",22),o.YNc(14,Met,4,1,"label",22),o.qZA()()()}if(2&n){var i=o.oxw().$implicit,r=o.oxw().$implicit,s=o.oxw();o.xp6(2),o.MGl("routerLink","/profile/",i.commentOwner,""),o.xp6(1),o.hij("@",i.commentOwner,""),o.xp6(2),o.Oqu(i.commentTimeStamp.toDate().toDateString()),o.xp6(3),o.Oqu(i.commentText),o.xp6(2),o.Q6J("ngIf",!i.commentLikeOwners.includes(s.profileHandle)),o.xp6(1),o.Q6J("ngIf",i.commentLikeOwners.includes(s.profileHandle)),o.xp6(2),o.Q6J("ngIf",1==r.postLikeCount),o.xp6(1),o.Q6J("ngIf",r.postLikeCount>1||0==r.postLikeCount)}}function xet(n,e){if(1&n&&(o.TgZ(0,"ul",64),o.YNc(1,wet,15,8,"div",65),o.qZA()),2&n){var t=e.$implicit;o.xp6(1),o.Q6J("ngIf",t.commentOwner)}}function Tet(n,e){if(1&n){var t=o.EpF();o.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"a",11),o._uU(4),o.qZA(),o.TgZ(5,"small"),o._uU(6),o.qZA()(),o.TgZ(7,"div",12,13)(9,"button",14),o._uU(10," \u22ee "),o.qZA(),o.YNc(11,iet,2,1,"ul",15),o.qZA()(),o.TgZ(12,"div",5),o.YNc(13,ret,2,1,"div",16),o.YNc(14,set,1,0,"hr",17),o.TgZ(15,"div",18)(16,"p"),o._uU(17),o.qZA()(),o.YNc(18,oet,2,0,"div",19),o.YNc(19,det,15,4,"div",20),o.TgZ(20,"span",21),o.YNc(21,fet,4,1,"p",22),o.YNc(22,het,4,1,"p",22),o.qZA(),o.TgZ(23,"div",23)(24,"div",24),o.NdJ("click",function(){var c=o.CHM(t).$implicit,d=o.oxw();return o.KtG(d.toggleLikePost(c))}),o.YNc(25,pet,1,1,"fa-icon",25),o.YNc(26,met,1,1,"fa-icon",26),o.qZA(),o.TgZ(27,"div",27)(28,"fa-icon",28),o.NdJ("click",function(){var a=o.CHM(t);return o.KtG(a.$implicit.commentOpen=!0)}),o.qZA()()(),o.YNc(29,_et,8,7,"div",29),o.YNc(30,vet,2,0,"label",22),o.TgZ(31,"div",30)(32,"div",31),o.YNc(33,xet,2,1,"ul",32),o.ALo(34,"orderBy"),o.qZA()()()()}if(2&n){var i=e.$implicit,r=o.oxw();o.xp6(3),o.MGl("routerLink","/profile/",i.profileHandle,""),o.xp6(1),o.hij("@",i.profileHandle,""),o.xp6(2),o.hij(" - Posted on ",i.postDateString,""),o.xp6(1),o.Q6J("autoClose",!0),o.xp6(6),o.Q6J("ngIf",i.postImg),o.xp6(1),o.Q6J("ngIf",i.postImg),o.xp6(3),o.Oqu(i.postText),o.xp6(1),o.Q6J("ngIf",i.workoutData),o.xp6(1),o.Q6J("ngIf",i.workoutData),o.xp6(2),o.Q6J("ngIf",1==i.postLikeCount),o.xp6(1),o.Q6J("ngIf",i.postLikeCount>1||0==i.postLikeCount),o.xp6(3),o.Q6J("ngIf",!i.postLikeOwners.includes(r.profileHandle)),o.xp6(1),o.Q6J("ngIf",i.postLikeOwners.includes(r.profileHandle)),o.xp6(2),o.Q6J("icon",r.faComment),o.xp6(1),o.Q6J("ngIf",i.commentOpen),o.xp6(1),o.Q6J("ngIf",i.postComments.length>1),o.xp6(3),o.Q6J("ngForOf",o.xi3(34,17,i.postComments,"-commentTimeStamp"))}}var Dee=function(){function n(e,t,i,r,s,a,c,d){this.profileService=e,this.currentUser=t,this.workoutService=i,this.afs=r,this.toastr=s,this.postsService=a,this.title=c,this.router=d,this.profileFeed="",this.faHeartSolid=oY,this.faHeartOutline=hX,this.faComment=TX,this.faXmarkCircle=ZX,this.faPaperPlane=GX,this.profile=this.currentUser.user.profile,this.profileHandle=this.currentUser.user.profile.profileHandle,this.userProfile=!1,this.feed=[]}return n.prototype.ngOnInit=function(){var e=this;this.profileFeed?this.postsService.getProfileFeed(this.profileFeed).then(function(t){e.feed=t,e.loadWorkoutCards()}):this.postsService.getSocialFeed().then(function(t){e.feed=t,e.loadWorkoutCards()})},n.prototype.ngOnChanges=function(){var e=this;this.profileFeed&&0!=this.updateFeed&&this.postsService.getProfileFeed(this.profileFeed).then(function(t){e.feed=t,e.loadWorkoutCards()})},n.prototype.loadWorkoutCards=function(){var e,t,i=function(d){if(d.postWorkout&&"None"!=d.postWorkout)var h=r.workoutService.getWorkout(d.postWorkout,d.profileHandle).subscribe(function(g){d.workoutData=g,h.unsubscribe()})},r=this;try{for(var s=(0,en.XA)(this.feed),a=s.next();!a.done;a=s.next())i(a.value)}catch(d){e={error:d}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}},n.prototype.openWorkout=function(e){this.router.navigate(["/workout/",e.profileHandle,e.postWorkout])},n.prototype.deletePost=function(e){var t=this;confirm("Are you sure you want to delete this post?")&&this.postsService.deletePost(e).then(function(){t.feed.splice(t.feed.indexOf(e),1),t.toastr.success("Post deleted successfully")}).catch(function(i){t.toastr.error("Error deleting post"),console.log(i)})},n.prototype.comment=function(e){var t=this;if(0!=e.commentText.length){var i=new n1(Date.now()/1e3,0),r={commentText:e.commentText,commentOwner:this.currentUser.user.profile.profileHandle,commentTimeStamp:i,commentLikeCount:0,commentLikeOwners:[]},s=(0,en.ev)([r],(0,en.CR)(e.postComments),!1);new Promise(function(c,d){t.postsService.postComment(e,r).then(function(){e.commentOpen=!1,e.commentText="",e.postComments=[],c(!0)})}).then(function(){setTimeout(function(){e.postComments=s},200)})}},n.prototype.toggleLikePost=function(e){var t=e.postLikeOwners.includes(this.profileHandle);t?(e.postLikeOwners.splice(e.postLikeOwners.indexOf(this.profileHandle),1),e.postLikeCount--):(e.postLikeOwners.push(this.profileHandle),e.postLikeCount++),this.postsService.toggleLikePost(e,t)},n.prototype.toggleLikeComment=function(e,t,i){var r=t.commentLikeOwners.includes(this.profileHandle);r?(t.commentLikeOwners.splice(t.commentLikeOwners.indexOf(this.profileHandle),1),t.commentLikeCount--):(t.commentLikeOwners.push(this.profileHandle),t.commentLikeCount++),this.postsService.toggleLikeComment(e,i,r)},n.\u0275fac=function(t){return new(t||n)(o.Y36(rc),o.Y36(W2),o.Y36(qs),o.Y36(Us),o.Y36(Si),o.Y36(bJ),o.Y36(un),o.Y36(c1))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-feed"]],inputs:{profileFeed:"profileFeed",updateFeed:"updateFeed"},features:[o.TTD],decls:2,vars:2,consts:[["class","card border-dark mb-3 post-card","style","min-height: 30vh",4,"ngIf"],["class","card border-dark mb-3 post-card",4,"ngFor","ngForOf"],[1,"card","border-dark","mb-3","post-card",2,"min-height","30vh"],[1,"card-header","post-header","text-white"],[1,"text-center"],[1,"card-body"],[1,"d-flex","justify-content-center"],["src","../../../assets/Logo1/png/logo-no-background.png",1,"img-fluid","logo-glow","p-5",2,"width","50%"],[1,"card","border-dark","mb-3","post-card"],[1,"card-header","post-header","text-white","d-flex","justify-content-between"],[1,"pt-2"],[1,"link-light",2,"font-size","1.2rem",3,"routerLink"],["dropdown","",1,"btn-group",3,"autoClose"],["dropdown","bs-dropdown"],["id","button-basic","dropdownToggle","","type","button","aria-controls","dropdown-basic",1,"btn","btn-text","text-light","p-0",2,"font-size","1.5rem"],["id","dropdown-basic","class","dropdown-menu dropdown-menu-end dropdown-menu-dark","role","menu","aria-labelledby","button-basic",4,"dropdownMenu"],["class","post-img-wrapper",4,"ngIf"],["class","mt-0 mb-4",4,"ngIf"],[1,"post-text","mb-5"],["class","text-center text-decoration-underline","style","font-size: 1.3rem",4,"ngIf"],["class","row justify-content-center mb-3","style","height: 10%",4,"ngIf"],[1,"text-success",2,"font-size","1.1rem"],[4,"ngIf"],[1,"d-flex","mb-1"],[1,"btn-grow",3,"click"],["class","btn-like","title","Like Post",3,"icon",4,"ngIf"],["class","btn-like","title","Unlike Post",3,"icon",4,"ngIf"],[1,"btn-grow","ms-3"],[1,"btn-comment",3,"icon","click"],["class","position-relative",4,"ngIf"],[1,"row"],[1,"col"],["class","list-group",4,"ngFor","ngForOf"],["id","dropdown-basic","role","menu","aria-labelledby","button-basic",1,"dropdown-menu","dropdown-menu-end","dropdown-menu-dark"],["role","menuitem",4,"ngIf"],["role","menuitem"],[1,"dropdown-item",3,"click"],[1,"post-img-wrapper"],["onload","this.style.opacity=1","alt","Post Image","loading","lazy",1,"img-fluid","post-img","easeload",3,"src"],[1,"mt-0","mb-4"],[1,"text-center","text-decoration-underline",2,"font-size","1.3rem"],[1,"row","justify-content-center","mb-3",2,"height","10%"],[1,"card-new-workout"],[1,"card","border-success","card-social-feed-workout",3,"click"],[1,"card-body","row"],[1,"col","border-end"],[2,"font-size","1.1rem"],[1,"card-text"],["class","col-auto border-end",4,"ngIf"],[1,"col-auto"],[1,"m-0","p-0"],[1,"list-group","list-group-flush"],["class","list-group-item bg-transparent",4,"ngFor","ngForOf"],[1,"col-auto","border-end"],[1,"list-group-item","bg-transparent"],["title","Like Post",1,"btn-like",3,"icon"],["title","Unlike Post",1,"btn-like",3,"icon"],[1,"position-relative"],[1,"cancel-comment",2,"float","right",3,"click"],[3,"icon"],[1,"p-0","m-0",3,"ngSubmit"],[1,"input-group","mb-3"],["rows","3",1,"form-control",3,"placeholder","ngModel","ngModelOptions","ngModelChange"],["type","submit","title","Post Comment","value","Comment",1,"btn","btn-secondary",3,"click"],[1,"list-group"],["class","list-group-item",4,"ngIf"],[1,"list-group-item"],[1,"d-flex","w-100","justify-content-between"],[3,"routerLink"],[1,"btn-grow",2,"font-size","1rem",3,"click"],["class","btn-like","title","Like Comment",3,"icon",4,"ngIf"],["class","btn-like","title","Unlike Comment",3,"icon",4,"ngIf"],[1,"text-success","ms-2","p-0",2,"font-size","0.9rem"],["title","Like Comment",1,"btn-like",3,"icon"],["title","Unlike Comment",1,"btn-like",3,"icon"]],template:function(t,i){1&t&&(o.YNc(0,tet,9,0,"div",0),o.YNc(1,Tet,35,20,"div",1)),2&t&&(o.Q6J("ngIf",0==i.feed.length),o.xp6(1),o.Q6J("ngForOf",i.feed))},dependencies:[S1,Zn,Ma,W4,sc,oc,j4,K4,mee,gee,aE,Hf,Af,Wi,sx],data:{animation:[Oa("slideOutAnimation",[Y2(":enter",[on({height:0,opacity:0}),r2("0.2s ease-out",on({}))]),Y2(":leave",[on({}),r2("0.2s ease-in",on({height:0,opacity:0}))])])]}}),n}(),Det=function(){function n(e,t,i,r,s,a,c,d){this.profileService=e,this.currentUser=t,this.workoutService=i,this.afs=r,this.toastr=s,this.postsService=a,this.title=c,this.router=d}return n.prototype.ngOnInit=function(){this.title.setTitle("Social Feed | FitHub")},n.\u0275fac=function(t){return new(t||n)(o.Y36(rc),o.Y36(W2),o.Y36(qs),o.Y36(Us),o.Y36(Si),o.Y36(bJ),o.Y36(un),o.Y36(c1))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-social-feed"]],decls:5,vars:0,consts:[[1,"row","min-vh-100","main-bg"],[1,"container","mt-4"],[1,"row","justify-content-center"],[1,"col-md-10","col-lg-8","col-xxl-7","col-feed",2,"margin","0 auto"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),o._UZ(4,"app-feed"),o.qZA()()()())},dependencies:[Dee],encapsulation:2,data:{animation:[Oa("slideOutAnimation",[Y2(":enter",[on({height:0,opacity:0}),r2("0.2s ease-out",on({}))]),Y2(":leave",[on({}),r2("0.2s ease-in",on({height:0,opacity:0}))])])]}}),n}();function ket(n,e){1&n&&(o.TgZ(0,"div",16)(1,"span",17),o._uU(2,"Loading..."),o.qZA()())}function zet(n,e){if(1&n&&o._UZ(0,"fa-icon",29),2&n){var t=o.oxw(2);o.Q6J("icon",t.starOutline)}}function Aet(n,e){if(1&n&&o._UZ(0,"fa-icon",30),2&n){var t=o.oxw(2);o.Q6J("icon",t.starSolid)}}function Het(n,e){if(1&n&&(o.TgZ(0,"li",31),o._uU(1),o.ALo(2,"titlecase"),o.qZA()),2&n){var t=e.$implicit;o.xp6(1),o.Oqu(o.lcZ(2,1,t.groupType))}}function Let(n,e){if(1&n){var t=o.EpF();o.TgZ(0,"div",18)(1,"div",19),o.NdJ("click",function(){var a=o.CHM(t).$implicit,c=o.oxw();return o.KtG(c.openWorkout(a))}),o.TgZ(2,"div",6)(3,"span",20),o.NdJ("click",function(s){var c=o.CHM(t).$implicit,d=o.oxw();return o.KtG(d.onFavClicked(s,c))}),o.YNc(4,zet,1,1,"fa-icon",21),o.YNc(5,Aet,1,1,"fa-icon",22),o.qZA(),o.TgZ(6,"h5",23),o._uU(7),o.qZA(),o.TgZ(8,"p",24),o._uU(9),o.qZA()(),o.TgZ(10,"div",25)(11,"h6",26),o._uU(12,"Muscle Groups"),o.qZA()(),o.TgZ(13,"ul",27),o.YNc(14,Het,3,3,"li",28),o.qZA()()()}if(2&n){var i=e.$implicit;o.xp6(4),o.Q6J("ngIf",!i.favorite),o.xp6(1),o.Q6J("ngIf",i.favorite),o.xp6(2),o.Oqu(i.name),o.xp6(2),o.hij(" ",i.description," "),o.xp6(5),o.Q6J("ngForOf",i.groups)}}var Eet=function(){function n(e,t,i,r,s,a,c){this.router=e,this.title=t,this.fb=i,this.authService=r,this.toastr=s,this.currentUser=a,this.workoutService=c,this.faPlusCircle=ow,this.starOutline=$J,this.starSolid=_j,this.workouts=[],this.loading=!0}return n.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},n.prototype.ngOnInit=function(){this.title.setTitle("My Workouts | FitHub"),this.getWorkouts()},n.prototype.getWorkouts=function(){var e=this;this.subscription=this.workoutService.getWorkouts().subscribe(function(t){e.workouts=t,e.loading=!1,e.subscription.unsubscribe()})},n.prototype.newWorkout=function(){this.router.navigate(["my-workouts/create"])},n.prototype.openWorkout=function(e){this.router.navigate(["workout/"+e.uid])},n.prototype.onFavClicked=function(e,t){var i=this;e.stopPropagation(),t.favorite=!t.favorite,this.workoutService.updateFavorite(t.uid,t.favorite).catch(function(r){i.toastr.error("Something went wrong. Please try again later."),console.log(r)})},n.prototype.viewWorkout=function(e){var t=this;this.workoutService.getWorkoutByUid(e.uid).subscribe(function(i){var r=i.id.toString();t.router.navigate(["/workout",r])})},n.\u0275fac=function(t){return new(t||n)(o.Y36(c1),o.Y36(un),o.Y36(Ws),o.Y36(Dr),o.Y36(Si),o.Y36(W2),o.Y36(qs))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-my-workouts"]],decls:22,vars:6,consts:[[1,"row","min-vh-100","main-bg"],[1,"col"],[1,"col-12","col-xl-10","col-xxl-8","p-0"],[1,"card","no-border","min-vh-100"],[1,"text-center","page-header-1"],[1,"display-4"],[1,"card-body"],[1,"d-flex","justify-content-center"],["class","spinner-border text-success","role","status",4,"ngIf"],[1,"row","row-cols-1","row-cols-lg-2","row-cols-xxl-3","g-4","p-0","p-sm-1","p-md-2","p-lg-5"],["class","col card-new-workout",4,"ngFor","ngForOf"],[1,"col","card-new-workout",3,"click"],[1,"card","h-100"],[1,"d-flex","justify-content-center","align-items-center","h-100","w-100"],[1,"text-center"],[2,"font-size","3rem",3,"icon"],["role","status",1,"spinner-border","text-success"],[1,"sr-only"],[1,"col","card-new-workout"],[1,"card","h-100",3,"click"],[2,"word-wrap","break-word",3,"click"],["class","fav-star","title","Add Workout to Favorites",3,"icon",4,"ngIf"],["class","fav-star","title","Delete Workout from Favorites",3,"icon",4,"ngIf"],[1,"card-title"],[1,"card-text"],[1,"card-body","pb-2"],[1,"m-0","p-0"],[1,"list-group","list-group-flush"],["class","list-group-item",4,"ngFor","ngForOf"],["title","Add Workout to Favorites",1,"fav-star",3,"icon"],["title","Delete Workout from Favorites",1,"fav-star",3,"icon"],[1,"list-group-item"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0),o._UZ(1,"div",1),o.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),o._uU(6,"My Workouts"),o.qZA()(),o.TgZ(7,"div",6)(8,"span",7),o.YNc(9,ket,3,0,"div",8),o.qZA(),o.TgZ(10,"div",9),o.YNc(11,Let,15,5,"div",10),o.ALo(12,"orderBy"),o.TgZ(13,"div",11),o.NdJ("click",function(){return i.newWorkout()}),o.TgZ(14,"div",12)(15,"div",6)(16,"div",13)(17,"div",14),o._UZ(18,"fa-icon",15),o.TgZ(19,"div"),o._uU(20,"New Workout"),o.qZA()()()()()()()()()(),o._UZ(21,"div",1),o.qZA()),2&t&&(o.xp6(9),o.Q6J("ngIf",i.loading),o.xp6(2),o.Q6J("ngForOf",o.xi3(12,3,i.workouts,"-favorite")),o.xp6(7),o.Q6J("icon",i.faPlusCircle))},dependencies:[S1,Zn,K4,Wi,sx]}),n}();const kee="firebasestorage.googleapis.com",zee="storageBucket";class q2 extends O.ZR{constructor(e,t,i=0){super(cE(e),`Firebase Storage: ${t} (${cE(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,q2.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return cE(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var a2=(()=>(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(a2||(a2={})),a2))();function cE(n){return"storage/"+n}function lE(){return new q2(a2.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Aee(){return new q2(a2.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Hee(){return new q2(a2.CANCELED,"User canceled the upload/download.")}function Lee(){return new q2(a2.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Qf(n){return new q2(a2.INVALID_ARGUMENT,n)}function Eee(){return new q2(a2.APP_DELETED,"The Firebase app was deleted.")}function Vee(n){return new q2(a2.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Qg(n,e){return new q2(a2.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Jg(n){throw new q2(a2.INTERNAL_ERROR,"Internal error: "+n)}class Hr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Hr.makeFromUrl(e,t)}catch{return new Hr(e,"")}if(""===i.path)return i;throw function jet(n){return new q2(a2.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",c=new RegExp("^gs://"+r+"(/(.*))?$","i");function h(te){te.path_=decodeURIComponent(te.path)}const y=t.replace(/[.]/g,"\\."),X=[{regex:c,indices:{bucket:1,path:3},postModify:function s(te){"/"===te.path.charAt(te.path.length-1)&&(te.path_=te.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${y}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:h},{regex:new RegExp(`^https?://${t===kee?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:h}];for(let te=0;te<X.length;te++){const re=X[te],be=re.regex.exec(e);if(be){let rt=be[re.indices.path];rt||(rt=""),i=new Hr(be[re.indices.bucket],rt),re.postModify(i);break}}if(null==i)throw function Uet(n){return new q2(a2.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return i}}class $et{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function ox(n){return"string"==typeof n||n instanceof String}function Iee(n){return uE()&&n instanceof Blob}function uE(){return typeof Blob<"u"&&!(0,O.UG)()}function dE(n,e,t,i){if(i<e)throw Qf(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw Qf(`Invalid value for '${n}'. Expected ${t} or less.`)}function c6(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function Nee(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var hl=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(hl||(hl={})),hl))();function Pee(n,e){const t=n>=500&&n<600,r=-1!==[408,429].indexOf(n),s=-1!==e.indexOf(n);return t||r||s}class ett{constructor(e,t,i,r,s,a,c,d,h,g,y,M=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=c,this.errorCallback_=d,this.timeout_=h,this.progressCallback_=g,this.connectionFactory_=y,this.retry=M,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,k)=>{this.resolve_=S,this.reject_=k,this.start_()})}start_(){const t=(i,r)=>{const s=this.resolve_,a=this.reject_,c=r.connection;if(r.wasSuccessCode)try{const d=this.callback_(c,c.getResponse());!function Qet(n){return void 0!==n}(d)?s():s(d)}catch(d){a(d)}else if(null!==c){const d=lE();d.serverResponse=c.getErrorText(),a(this.errorCallback_?this.errorCallback_(c,d):d)}else a(r.canceled?this.appDelete_?Eee():Hee():Aee())};this.canceled_?t(0,new ax(!1,null,!0)):this.backoffId_=function Zet(n,e,t){let i=1,r=null,s=null,a=!1,c=0;function d(){return 2===c}let h=!1;function g(...L){h||(h=!0,e.apply(null,L))}function y(L){r=setTimeout(()=>{r=null,n(S,d())},L)}function M(){s&&clearTimeout(s)}function S(L,...B){if(h)return void M();if(L)return M(),void g.call(null,L,...B);if(d()||a)return M(),void g.call(null,L,...B);let X;i<64&&(i*=2),1===c?(c=2,X=0):X=1e3*(i+Math.random()),y(X)}let k=!1;function A(L){k||(k=!0,M(),!h&&(null!==r?(L||(c=2),clearTimeout(r),y(0)):L||(c=1)))}return y(0),s=setTimeout(()=>{a=!0,A(!0)},t),A}((i,r)=>{if(r)return void i(!1,new ax(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const a=c=>{null!==this.progressCallback_&&this.progressCallback_(c.loaded,c.lengthComputable?c.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const c=s.getErrorCode()===hl.NO_ERROR,d=s.getStatus();if(!c||Pee(d,this.additionalRetryCodes_)&&this.retry){const g=s.getErrorCode()===hl.ABORT;return void i(!1,new ax(!1,null,g))}const h=-1!==this.successCodes_.indexOf(d);i(!0,new ax(h,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function Ket(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class ax{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function att(...n){const e=function ott(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(uE())return new Blob(n);throw new q2(a2.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Ks={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class fE{constructor(e,t){this.data=e,this.contentType=t||null}}function hE(n,e){switch(n){case Ks.RAW:return new fE(Ree(e));case Ks.BASE64:case Ks.BASE64URL:return new fE(Oee(n,e));case Ks.DATA_URL:return new fE(function dtt(n){const e=new Fee(n);return e.base64?Oee(Ks.BASE64,e.rest):function utt(n){let e;try{e=decodeURIComponent(n)}catch{throw Qg(Ks.DATA_URL,"Malformed data URL.")}return Ree(e)}(e.rest)}(e),function ftt(n){return new Fee(n).contentType}(e))}throw lE()}function Ree(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function Oee(n,e){switch(n){case Ks.BASE64:{const r=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(r||s)throw Qg(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Ks.BASE64URL:{const r=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(r||s)throw Qg(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function ltt(n){if(typeof atob>"u")throw function Get(n){return new q2(a2.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(r){throw r.message.includes("polyfill")?r:Qg(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class Fee{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Qg(Ks.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function htt(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class hc{constructor(e,t){let i=0,r="";Iee(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(Iee(this.data_)){const r=function ctt(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new hc(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new hc(i,!0)}}static getBlob(...e){if(uE()){const t=e.map(i=>i instanceof hc?i.data_:i);return new hc(att.apply(null,t))}{const t=e.map(a=>ox(a)?hE(Ks.RAW,a).data:a.data_);let i=0;t.forEach(a=>{i+=a.byteLength});const r=new Uint8Array(i);let s=0;return t.forEach(a=>{for(let c=0;c<a.length;c++)r[s++]=a[c]}),new hc(r,!0)}}uploadData(){return this.data_}}function pE(n){let e;try{e=JSON.parse(n)}catch{return null}return function Xet(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function Bee(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function gtt(n,e){return e}class ns{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||gtt}}let cx=null;function Xg(){if(cx)return cx;const n=[];n.push(new ns("bucket")),n.push(new ns("generation")),n.push(new ns("metageneration")),n.push(new ns("name","fullPath",!0));const t=new ns("name");t.xform=function e(s,a){return function _tt(n){return!ox(n)||n.length<2?n:Bee(n)}(a)},n.push(t);const r=new ns("size");return r.xform=function i(s,a){return void 0!==a?Number(a):a},n.push(r),n.push(new ns("timeCreated")),n.push(new ns("updated")),n.push(new ns("md5Hash",null,!0)),n.push(new ns("cacheControl",null,!0)),n.push(new ns("contentDisposition",null,!0)),n.push(new ns("contentEncoding",null,!0)),n.push(new ns("contentLanguage",null,!0)),n.push(new ns("contentType",null,!0)),n.push(new ns("metadata","customMetadata",!0)),cx=n,cx}function Uee(n,e,t){const i=pE(e);return null===i?null:function ytt(n,e,t){const i={type:"file"},r=t.length;for(let s=0;s<r;s++){const a=t[s];i[a.local]=a.xform(i,e[a.server])}return function vtt(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new Hr(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(i,n),i}(n,i,t)}function mE(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const s=e[r];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}const jee="prefixes",Wee="items";class pc{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function mc(n){if(!n)throw lE()}function lx(n,e){return function t(i,r){const s=Uee(n,r,e);return mc(null!==s),s}}function Jf(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function Fet(){return new q2(a2.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Oet(){return new q2(a2.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function Ret(n){return new q2(a2.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function Bet(n){return new q2(a2.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}}function e_(n){const e=Jf(n);return function t(i,r){let s=e(i,r);return 404===i.getStatus()&&(s=function Pet(n){return new q2(a2.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function Yee(n,e,t){const r=c6(e.fullServerUrl(),n.host,n._protocol),a=n.maxOperationRetryTime,c=new pc(r,"GET",lx(n,t),a);return c.errorHandler=e_(e),c}function Stt(n,e,t,i,r){const s={};s.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(s.delimiter=t),i&&(s.pageToken=i),r&&(s.maxResults=r);const c=c6(e.bucketOnlyServerUrl(),n.host,n._protocol),h=n.maxOperationRetryTime,g=new pc(c,"GET",function wtt(n,e){return function t(i,r){const s=function Mtt(n,e,t){const i=pE(t);return null===i?null:function btt(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[jee])for(const r of t[jee]){const s=r.replace(/\/$/,""),a=n._makeStorageReference(new Hr(e,s));i.prefixes.push(a)}if(t[Wee])for(const r of t[Wee]){const s=n._makeStorageReference(new Hr(e,r.name));i.items.push(s)}return i}(n,e,i)}(n,e,r);return mc(null!==s),s}}(n,e.bucket),h);return g.urlParams=s,g.errorHandler=Jf(e),g}function Gee(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function ztt(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}class ux{constructor(e,t,i,r){this.current=e,this.total=t,this.finalized=!!i,this.metadata=r||null}}function gE(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{mc(!1)}return mc(!!t&&-1!==(e||["active"]).indexOf(t)),t}const Ett={STATE_CHANGED:"state_changed"},is={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function _E(n){switch(n){case"running":case"pausing":case"canceling":return is.RUNNING;case"paused":return is.PAUSED;case"success":return is.SUCCESS;case"canceled":return is.CANCELED;default:return is.ERROR}}class Vtt{constructor(e,t,i){if(function Jet(n){return"function"==typeof n}(e)||null!=t||null!=i)this.next=e,this.error=t??void 0,this.complete=i??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function Xf(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}let Kee=null;class Itt{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=hl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=hl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=hl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw Jg("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Jg("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Jg("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Jg("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Jg("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Ntt extends Itt{initXhr(){this.xhr_.responseType="text"}}function ja(){return Kee?Kee():new Ntt}class Qee{constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=Xg(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(a2.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(Pee(r.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=Aee()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(a2.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const i=function Att(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),a=Gee(e,i,r),c={name:a.fullPath},d=c6(s,n.host,n._protocol),g={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},y=mE(a,t),k=new pc(d,"POST",function S(A){let L;gE(A);try{L=A.getResponseHeader("X-Goog-Upload-URL")}catch{mc(!1)}return mc(ox(L)),L},n.maxUploadRetryTime);return k.urlParams=c,k.headers=g,k.body=y,k.errorHandler=Jf(e),k}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,ja,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const r=function Htt(n,e,t,i){const d=new pc(t,"POST",function s(h){const g=gE(h,["active","final"]);let y=null;try{y=h.getResponseHeader("X-Goog-Upload-Size-Received")}catch{mc(!1)}y||mc(!1);const M=Number(y);return mc(!isNaN(M)),new ux(M,i.size(),"final"===g)},n.maxUploadRetryTime);return d.headers={"X-Goog-Upload-Command":"query"},d.errorHandler=Jf(e),d}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(r,ja,t,i);this._request=s,s.getPromise().then(a=>{this._request=void 0,this._updateProgress(a.current),this._needToFetchStatus=!1,a.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new ux(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let a;try{a=function Ltt(n,e,t,i,r,s,a,c){const d=new ux(0,0);if(a?(d.current=a.current,d.total=a.total):(d.current=0,d.total=i.size()),i.size()!==d.total)throw function Yet(){return new q2(a2.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const h=d.total-d.current;let g=h;r>0&&(g=Math.min(g,r));const y=d.current;let S="";S=0===g?"finalize":h===g?"upload, finalize":"upload";const k={"X-Goog-Upload-Command":S,"X-Goog-Upload-Offset":`${d.current}`},A=i.slice(y,y+g);if(null===A)throw Lee();const X=new pc(t,"POST",function L(te,re){const be=gE(te,["active","final"]),Ee=d.current+g,rt=i.size();let dt;return dt="final"===be?lx(e,s)(te,re):null,new ux(Ee,rt,"final"===be,dt)},e.maxUploadRetryTime);return X.headers=k,X.body=A.uploadData(),X.progressCallback=c||null,X.errorHandler=Jf(n),X}(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(d){return this._error=d,void this._transition("error")}const c=this._ref.storage._makeRequest(a,ja,r,s,!1);this._request=c,c.getPromise().then(d=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(d.current),d.finalized?(this._metadata=d.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=Yee(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,ja,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=function $ee(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},d=function c(){let X="";for(let te=0;te<2;te++)X+=Math.random().toString().slice(2);return X}();a["Content-Type"]="multipart/related; boundary="+d;const h=Gee(e,i,r),g=mE(h,t),S=hc.getBlob("--"+d+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+g+"\r\n--"+d+"\r\nContent-Type: "+h.contentType+"\r\n\r\n",i,"\r\n--"+d+"--");if(null===S)throw Lee();const k={name:h.fullPath},A=c6(s,n.host,n._protocol),B=n.maxUploadRetryTime,G=new pc(A,"POST",lx(n,t),B);return G.urlParams=k,G.headers=a,G.body=S.uploadData(),G.errorHandler=Jf(e),G}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,ja,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=Hee(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=_E(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,r){const s=new Vtt(t||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(_E(this._state)){case is.SUCCESS:Xf(this._resolve.bind(null,this.snapshot))();break;case is.CANCELED:case is.ERROR:Xf(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(_E(this._state)){case is.RUNNING:case is.PAUSED:e.next&&Xf(e.next.bind(e,this.snapshot))();break;case is.SUCCESS:e.complete&&Xf(e.complete.bind(e))();break;default:e.error&&Xf(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class du{constructor(e,t){this._service=e,this._location=t instanceof Hr?t:Hr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new du(e,t)}get root(){const e=new Hr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Bee(this._location.path)}get storage(){return this._service}get parent(){const e=function ptt(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Hr(this._location.bucket,e);return new du(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw Vee(e)}}function Xee(n,e,t){return vE.apply(this,arguments)}function vE(){return vE=(0,De.Z)(function*(n,e,t){const r=yield ete(n,{pageToken:t});e.prefixes.push(...r.prefixes),e.items.push(...r.items),null!=r.nextPageToken&&(yield Xee(n,e,r.nextPageToken))}),vE.apply(this,arguments)}function ete(n,e){null!=e&&"number"==typeof e.maxResults&&dE("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=Stt(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,ja)}function $tt(n){n._throwIfRoot("getDownloadURL");const e=function Ttt(n,e,t){const r=c6(e.fullServerUrl(),n.host,n._protocol),a=n.maxOperationRetryTime,c=new pc(r,"GET",function xtt(n,e){return function t(i,r){const s=Uee(n,r,e);return mc(null!==s),function Ctt(n,e,t,i){const r=pE(e);if(null===r||!ox(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const a=encodeURIComponent;return s.split(",").map(h=>{const y=n.fullPath;return c6("/b/"+a(n.bucket)+"/o/"+a(y),t,i)+Nee({alt:"media",token:h})})[0]}(s,r,n.host,n._protocol)}}(n,t),a);return c.errorHandler=e_(e),c}(n.storage,n._location,Xg());return n.storage.makeRequestWithTokens(e,ja).then(t=>{if(null===t)throw function qet(){return new q2(a2.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function tte(n,e){const t=function mtt(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new Hr(n._location.bucket,t);return new du(n.storage,i)}function nte(n,e){if(n instanceof yE){const t=n;if(null==t._bucket)throw function Wet(){return new q2(a2.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+zee+"' property when initializing the app?")}();const i=new du(t,t._bucket);return null!=e?nte(i,e):i}return void 0!==e?tte(n,e):n}function Jtt(n,e){if(e&&function Ktt(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof yE)return function Qtt(n,e){return new du(n,e)}(n,e);throw Qf("To use ref(service, url), the first argument must be a Storage instance.")}return nte(n,e)}function ite(n,e){const t=e?.[zee];return null==t?null:Hr.makeFromBucketSpec(t,n)}class yE{constructor(e,t,i,r,s){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=kee,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Hr.makeFromBucketSpec(r,this._host):ite(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Hr.makeFromBucketSpec(this._url,e):ite(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){dE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){dE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,De.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,De.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new du(this,e)}_makeRequest(e,t,i,r,s=!0){if(this._deleted)return new $et(Eee());{const a=function stt(n,e,t,i,r,s,a=!0){const c=Nee(n.urlParams),d=n.url+c,h=Object.assign({},n.headers);return function itt(n,e){e&&(n["X-Firebase-GMPID"]=e)}(h,e),function ttt(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(h,t),function ntt(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(h,s),function rtt(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(h,i),new ett(d,n.method,h,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,a)}(e,this._appId,i,r,t,this._firebaseVersion,s);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}makeRequestWithTokens(e,t){var i=this;return(0,De.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,s).getPromise()})()}}const rte="@firebase/storage",ote="storage";function ate(n,e){return Jtt(n=(0,O.m9)(n),e)}function cnt(n=(0,R1.getApp)(),e){n=(0,O.m9)(n);const i=(0,R1._getProvider)(n,ote).getImmediate({identifier:e}),r=(0,O.P0)("storage");return r&&cte(i,...r),i}function cte(n,e,t,i={}){!function Xtt(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,O.Sg)(r,n.app.options.projectId))}(n,e,t,i)}function lnt(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new yE(t,i,r,e,R1.SDK_VERSION)}!function unt(){(0,R1._registerComponent)(new Wr.wA(ote,lnt,"PUBLIC").setMultipleInstances(!0)),(0,R1.registerVersion)(rte,"0.11.2",""),(0,R1.registerVersion)(rte,"0.11.2","esm2017")}();class dx{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class lte{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new dx(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new dx(i,this,this._ref))},t)}on(e,t,i,r){let s;return t&&(s="function"==typeof t?a=>t(new dx(a,this,this._ref)):{next:t.next?a=>t.next(new dx(a,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,i||void 0,r||void 0)}}class ute{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new l6(e,this._service))}get items(){return this._delegate.items.map(e=>new l6(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class l6{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function ant(n,e){return tte(n,e)}(this._delegate,e);return new l6(t,this.storage)}get root(){return new l6(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new l6(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new lte(function ent(n,e,t){return function jtt(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new Qee(n,new hc(e),t)}(n=(0,O.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Ks.RAW,i){this._throwIfRoot("putString");const r=hE(t,e),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new lte(new Qee(this._delegate,new hc(r.data,!0),s),this)}listAll(){return function rnt(n){return function Ytt(n){const e={prefixes:[],items:[]};return Xee(n,e).then(()=>e)}(n=(0,O.m9)(n))}(this._delegate).then(e=>new ute(e,this.storage))}list(e){return function int(n,e){return ete(n=(0,O.m9)(n),e)}(this._delegate,e||void 0).then(t=>new ute(t,this.storage))}getMetadata(){return function tnt(n){return function qtt(n){n._throwIfRoot("getMetadata");const e=Yee(n.storage,n._location,Xg());return n.storage.makeRequestWithTokens(e,ja)}(n=(0,O.m9)(n))}(this._delegate)}updateMetadata(e){return function nnt(n,e){return function Gtt(n,e){n._throwIfRoot("updateMetadata");const t=function Dtt(n,e,t,i){const s=c6(e.fullServerUrl(),n.host,n._protocol),c=mE(t,i),h=n.maxOperationRetryTime,g=new pc(s,"PATCH",lx(n,i),h);return g.headers={"Content-Type":"application/json; charset=utf-8"},g.body=c,g.errorHandler=e_(e),g}(n.storage,n._location,e,Xg());return n.storage.makeRequestWithTokens(t,ja)}(n=(0,O.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function snt(n){return $tt(n=(0,O.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function ont(n){return function Ztt(n){n._throwIfRoot("deleteObject");const e=function ktt(n,e){const i=c6(e.fullServerUrl(),n.host,n._protocol),c=new pc(i,"DELETE",function a(d,h){},n.maxOperationRetryTime);return c.successCodes=[200,204],c.errorHandler=e_(e),c}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,ja)}(n=(0,O.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw Vee(e)}}class dte{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(fte(e))throw Qf("ref() expected a child path but got a URL, use refFromURL instead.");return new l6(ate(this._delegate,e),this)}refFromURL(e){if(!fte(e))throw Qf("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Hr.makeFromUrl(e,this._delegate.host)}catch{throw Qf("refFromUrl() expected a valid full URL but got an invalid one.")}return new l6(ate(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){cte(this._delegate,e,t,i)}}function fte(n){return/^[A-Za-z]+:\/\//.test(n)}function pnt(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new dte(t,i)}function hte(n){const e=function gnt(n){return new Ci.y(e=>{const t=a=>e.next(a);t(n.snapshot);const s=n.on("state_changed",t);return n.then(a=>{t(a),e.complete()},a=>{t(n.snapshot),(a=>{e.error(a)})(a)}),function(){s()}}).pipe(hZ(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,kt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function fx(n){return{getDownloadURL:()=>It(void 0).pipe(Tt.fc,m2(()=>n.getDownloadURL()),Tt.iC),getMetadata:()=>It(void 0).pipe(Tt.fc,m2(()=>n.getMetadata()),Tt.iC),delete:()=>(0,_1.D)(n.delete()),child:e=>fx(n.child(e)),updateMetadata:e=>(0,_1.D)(n.updateMetadata(e)),put:(e,t)=>hte(n.put(e,t)),putString:(e,t,i)=>hte(n.putString(e,t,i)),list:e=>(0,_1.D)(n.list(e)),listAll:()=>(0,_1.D)(n.listAll())}}!function mnt(n){const e={TaskState:is,TaskEvent:Ett,StringFormat:Ks,Storage:dte,Reference:l6};n.INTERNAL.registerComponent(new Wr.wA("storage-compat",pnt,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(V9.Z);const _nt=new o.OlP("angularfire2.storageBucket"),vnt=new o.OlP("angularfire2.storage.maxUploadRetryTime"),ynt=new o.OlP("angularfire2.storage.maxOperationRetryTime"),Cnt=new o.OlP("angularfire2.storage.use-emulator");let pte=(()=>{class n{constructor(t,i,r,s,a,c,d,h,g,y){const M=(0,B2.on)(t,a,i);this.storage=(0,B2.cc)(`${M.name}.storage.${r}`,"AngularFireStorage",M.name,()=>{const S=a.runOutsideAngular(()=>M.storage(r||void 0)),k=g;return k&&S.useEmulator(...k),d&&S.setMaxUploadRetryTime(d),h&&S.setMaxOperationRetryTime(h),S},[d,h])}ref(t){return fx(this.storage.ref(t))}refFromURL(t){return fx(this.storage.refFromURL(t))}upload(t,i,r){return fx(this.storage.ref(t)).put(i,r)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(B2.Dh),o.LFG(B2.xv,8),o.LFG(_nt,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Tt.HU),o.LFG(vnt,8),o.LFG(ynt,8),o.LFG(Cnt,8),o.LFG(ic,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),bnt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),Mnt=(()=>{class n{constructor(){Z1.Z.registerVersion("angularfire",Tt.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[pte],imports:[bnt]}),n})();const wnt=["wrapper"],xnt=["sourceImage"];function Snt(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"img",4,5),o.NdJ("load",function(){o.CHM(t);const r=o.oxw();return o.KtG(r.imageLoadedInView())})("mousedown",function(r){o.CHM(t);const s=o.oxw();return o.KtG(s.startMove(r,s.moveTypes.Drag))})("touchstart",function(r){o.CHM(t);const s=o.oxw();return o.KtG(s.startMove(r,s.moveTypes.Drag))}),o.qZA()}if(2&n){const t=o.oxw();o.Udp("visibility",t.imageVisible?"visible":"hidden")("transform",t.safeTransformStyle),o.ekj("ngx-ic-draggable",!t.disabled&&t.allowMoveImage),o.Q6J("src",t.safeImgDataUrl,o.LSH),o.uIk("alt",t.imageAltText)}}function Tnt(n,e){if(1&n){const t=o.EpF();o.ynx(0),o.TgZ(1,"span",9),o.NdJ("mousedown",function(r){o.CHM(t);const s=o.oxw(2);return o.KtG(s.startMove(r,s.moveTypes.Resize,"topleft"))})("touchstart",function(r){o.CHM(t);const s=o.oxw(2);return o.KtG(s.startMove(r,s.moveTypes.Resize,"topleft"))}),o._UZ(2,"span",10),o.qZA(),o.TgZ(3,"span",11),o._UZ(4,"span",10),o.qZA(),o.TgZ(5,"span",12),o.NdJ("mousedown",function(r){o.CHM(t);const s=o.oxw(2);return o.KtG(s.startMove(r,s.moveTypes.Resize,"topright"))})("touchstart",function(r){o.CHM(t);const s=o.oxw(2);return o.KtG(s.startMove(r,s.moveTypes.Resize,"topright"))}),o._UZ(6,"span",10),o.qZA(),o.TgZ(7,"span",13),o._UZ(8,"span",10),o.qZA(),o.TgZ(9,"span",14),o.NdJ("mousedown",function(r){o.CHM(t);const s=o.oxw(2);return o.KtG(s.startMove(r,s.moveTypes.Resize,"bottomright"))})("touchstart",function(r){o.CHM(t);const s=o.oxw(2);return o.KtG(s.startMove(r,s.moveTypes.Resize,"bottomright"))}),o._UZ(10,"span",10),o.qZA(),o.TgZ(11,"span",15),o._UZ(12,"span",10),o.qZA(),o.TgZ(13,"span",16),o.NdJ("mousedown",function(r){o.CHM(t);const s=o.oxw(2);return o.KtG(s.startMove(r,s.moveTypes.Resize,"bottomleft"))})("touchstart",function(r){o.CHM(t);const s=o.oxw(2);return o.KtG(s.startMove(r,s.moveTypes.Resize,"bottomleft"))}),o._UZ(14,"span",10),o.qZA(),o.TgZ(15,"span",17),o._UZ(16,"span",10),o.qZA(),o.TgZ(17,"span",18),o.NdJ("mousedown",function(r){o.CHM(t);const s=o.oxw(2);return o.KtG(s.startMove(r,s.moveTypes.Resize,"top"))})("touchstart",function(r){o.CHM(t);const s=o.oxw(2);return o.KtG(s.startMove(r,s.moveTypes.Resize,"top"))}),o.qZA(),o.TgZ(18,"span",19),o.NdJ("mousedown",function(r){o.CHM(t);const s=o.oxw(2);return o.KtG(s.startMove(r,s.moveTypes.Resize,"right"))})("touchstart",function(r){o.CHM(t);const s=o.oxw(2);return o.KtG(s.startMove(r,s.moveTypes.Resize,"right"))}),o.qZA(),o.TgZ(19,"span",20),o.NdJ("mousedown",function(r){o.CHM(t);const s=o.oxw(2);return o.KtG(s.startMove(r,s.moveTypes.Resize,"bottom"))})("touchstart",function(r){o.CHM(t);const s=o.oxw(2);return o.KtG(s.startMove(r,s.moveTypes.Resize,"bottom"))}),o.qZA(),o.TgZ(20,"span",21),o.NdJ("mousedown",function(r){o.CHM(t);const s=o.oxw(2);return o.KtG(s.startMove(r,s.moveTypes.Resize,"left"))})("touchstart",function(r){o.CHM(t);const s=o.oxw(2);return o.KtG(s.startMove(r,s.moveTypes.Resize,"left"))}),o.qZA(),o.BQk()}}function Dnt(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",6),o.NdJ("keydown",function(r){o.CHM(t);const s=o.oxw();return o.KtG(s.keyboardAccess(r))}),o.TgZ(1,"div",7),o.NdJ("mousedown",function(r){o.CHM(t);const s=o.oxw();return o.KtG(s.startMove(r,s.moveTypes.Move))})("touchstart",function(r){o.CHM(t);const s=o.oxw();return o.KtG(s.startMove(r,s.moveTypes.Move))}),o.qZA(),o.YNc(2,Tnt,21,0,"ng-container",8),o.qZA()}if(2&n){const t=o.oxw();o.Udp("top",t.cropper.y1,"px")("left",t.cropper.x1,"px")("width",t.cropper.x2-t.cropper.x1,"px")("height",t.cropper.y2-t.cropper.y1,"px")("margin-left","center"===t.alignImage?t.marginLeft:null)("visibility",t.imageVisible?"visible":"hidden"),o.ekj("ngx-ic-round",t.roundCropper),o.xp6(2),o.Q6J("ngIf",!t.hideResizeSquares)}}class knt{constructor(){this.format="png",this.maintainAspectRatio=!0,this.transform={},this.aspectRatio=1,this.resetCropOnAspectRatioChange=!0,this.resizeToWidth=0,this.resizeToHeight=0,this.cropperMinWidth=0,this.cropperMinHeight=0,this.cropperMaxHeight=0,this.cropperMaxWidth=0,this.cropperStaticWidth=0,this.cropperStaticHeight=0,this.canvasRotation=0,this.initialStepSize=3,this.roundCropper=!1,this.onlyScaleDown=!1,this.imageQuality=92,this.autoCrop=!0,this.backgroundColor=null,this.containWithinAspectRatio=!1,this.hideResizeSquares=!1,this.alignImage="center",this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20,this.cropperScaledMaxWidth=20,this.cropperScaledMaxHeight=20,this.stepSize=this.initialStepSize}setOptions(e){Object.keys(e).filter(t=>t in this).forEach(t=>this[t]=e[t]),this.validateOptions()}setOptionsFromChanges(e){Object.keys(e).filter(t=>t in this).forEach(t=>this[t]=e[t].currentValue),this.validateOptions()}validateOptions(){if(this.maintainAspectRatio&&!this.aspectRatio)throw new Error("`aspectRatio` should > 0 when `maintainAspectRatio` is enabled")}}var Ms=(()=>(function(n){n.Drag="drag",n.Move="move",n.Resize="resize",n.Pinch="pinch"}(Ms||(Ms={})),Ms))();function mte(n,e){return n/100*e}let Ent=(()=>{class n{crop(t,i,r,s){const a=this.getImagePosition(t,i,r,s),c=a.x2-a.x1,d=a.y2-a.y1,h=document.createElement("canvas");h.width=c,h.height=d;const g=h.getContext("2d");if(!g)return null;null!=s.backgroundColor&&(g.fillStyle=s.backgroundColor,g.fillRect(0,0,c,d));const y=(s.transform.scale||1)*(s.transform.flipH?-1:1),M=(s.transform.scale||1)*(s.transform.flipV?-1:1),{translateH:S,translateV:k}=this.getCanvasTranslate(t,i,s),A=i.transformed;g.setTransform(y,0,0,M,A.size.width/2+S,A.size.height/2+k),g.translate(-a.x1/y,-a.y1/M),g.rotate((s.transform.rotate||0)*Math.PI/180),g.drawImage(A.image,-A.size.width/2,-A.size.height/2);const L={width:c,height:d,imagePosition:a,cropperPosition:{...r}};s.containWithinAspectRatio&&(L.offsetImagePosition=this.getOffsetImagePosition(t,i,r,s));const B=this.getResizeRatio(c,d,s);return 1!==B&&(L.width=Math.round(c*B),L.height=s.maintainAspectRatio?Math.round(L.width/s.aspectRatio):Math.round(d*B),function Lnt(n,e,t){const i=n.width,r=n.height,s=i/(e=Math.round(e)),a=r/(t=Math.round(t)),c=Math.ceil(s/2),d=Math.ceil(a/2),h=n.getContext("2d");if(h){const g=h.getImageData(0,0,i,r),y=h.createImageData(e,t),M=g.data,S=y.data;for(let k=0;k<t;k++)for(let A=0;A<e;A++){const L=4*(A+k*e),B=k*a;let G=0,X=0,te=0,re=0,be=0,Ee=0,rt=0;const dt=Math.floor(A*s),_n=Math.floor(k*a);let En=Math.ceil((A+1)*s),Tn=Math.ceil((k+1)*a);En=Math.min(En,i),Tn=Math.min(Tn,r);for(let p1=_n;p1<Tn;p1++){const pi=Math.abs(B-p1)/d,bn=A*s,ft=pi*pi;for(let Ct=dt;Ct<En;Ct++){const qt=Math.abs(bn-Ct)/c,kn=Math.sqrt(ft+qt*qt);if(kn>=1)continue;G=2*kn*kn*kn-3*kn*kn+1;const y1=4*(Ct+p1*i);rt+=G*M[y1+3],te+=G,M[y1+3]<255&&(G=G*M[y1+3]/250),re+=G*M[y1],be+=G*M[y1+1],Ee+=G*M[y1+2],X+=G}}S[L]=re/X,S[L+1]=be/X,S[L+2]=Ee/X,S[L+3]=rt/te}n.width=e,n.height=t,h.putImageData(y,0,0)}}(h,L.width,L.height)),L.base64=h.toDataURL("image/"+s.format,this.getQuality(s)),L}getCanvasTranslate(t,i,r){if("px"===r.transform.translateUnit){const s=this.getRatio(t,i);return{translateH:(r.transform.translateH||0)*s,translateV:(r.transform.translateV||0)*s}}return{translateH:r.transform.translateH?mte(r.transform.translateH,i.transformed.size.width):0,translateV:r.transform.translateV?mte(r.transform.translateV,i.transformed.size.height):0}}getRatio(t,i){return i.transformed.size.width/t.nativeElement.offsetWidth}getImagePosition(t,i,r,s){const a=this.getRatio(t,i),c={x1:Math.round(r.x1*a),y1:Math.round(r.y1*a),x2:Math.round(r.x2*a),y2:Math.round(r.y2*a)};return s.containWithinAspectRatio||(c.x1=Math.max(c.x1,0),c.y1=Math.max(c.y1,0),c.x2=Math.min(c.x2,i.transformed.size.width),c.y2=Math.min(c.y2,i.transformed.size.height)),c}getOffsetImagePosition(t,i,r,s){const d=i.transformed.size.width/t.nativeElement.offsetWidth;let h,g;(s.canvasRotation+i.exifTransform.rotate)%2?(h=(i.transformed.size.width-i.original.size.height)/2,g=(i.transformed.size.height-i.original.size.width)/2):(h=(i.transformed.size.width-i.original.size.width)/2,g=(i.transformed.size.height-i.original.size.height)/2);const y={x1:Math.round(r.x1*d)-h,y1:Math.round(r.y1*d)-g,x2:Math.round(r.x2*d)-h,y2:Math.round(r.y2*d)-g};return s.containWithinAspectRatio||(y.x1=Math.max(y.x1,0),y.y1=Math.max(y.y1,0),y.x2=Math.min(y.x2,i.transformed.size.width),y.y2=Math.min(y.y2,i.transformed.size.height)),y}getResizeRatio(t,i,r){const s=r.resizeToWidth/t,a=r.resizeToHeight/i,c=new Array;r.resizeToWidth>0&&c.push(s),r.resizeToHeight>0&&c.push(a);const d=0===c.length?1:Math.min(...c);return d>1&&!r.onlyScaleDown?d:Math.min(d,1)}getQuality(t){return Math.min(1,Math.max(0,t.imageQuality/100))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vnt=(()=>{class n{resetCropperPosition(t,i,r){if(!t?.nativeElement)return;const s=t.nativeElement;if(r.cropperStaticHeight&&r.cropperStaticWidth)i.x1=0,i.x2=s.offsetWidth>r.cropperStaticWidth?r.cropperStaticWidth:s.offsetWidth,i.y1=0,i.y2=s.offsetHeight>r.cropperStaticHeight?r.cropperStaticHeight:s.offsetHeight;else{const a=Math.min(r.cropperScaledMaxWidth,s.offsetWidth),c=Math.min(r.cropperScaledMaxHeight,s.offsetHeight);if(r.maintainAspectRatio)if(s.offsetWidth/r.aspectRatio<s.offsetHeight){i.x1=0,i.x2=a;const d=a/r.aspectRatio;i.y1=(s.offsetHeight-d)/2,i.y2=i.y1+d}else{i.y1=0,i.y2=c;const d=c*r.aspectRatio;i.x1=(s.offsetWidth-d)/2,i.x2=i.x1+d}else i.x1=0,i.x2=a,i.y1=0,i.y2=c}}move(t,i,r){const s=this.getClientX(t)-i.clientX,a=this.getClientY(t)-i.clientY;r.x1=i.x1+s,r.y1=i.y1+a,r.x2=i.x2+s,r.y2=i.y2+a}resize(t,i,r,s,a){const c=this.getClientX(t)-i.clientX,d=this.getClientY(t)-i.clientY;switch(i.position){case"left":r.x1=Math.min(Math.max(i.x1+c,r.x2-a.cropperScaledMaxWidth),r.x2-a.cropperScaledMinWidth);break;case"topleft":r.x1=Math.min(Math.max(i.x1+c,r.x2-a.cropperScaledMaxWidth),r.x2-a.cropperScaledMinWidth),r.y1=Math.min(Math.max(i.y1+d,r.y2-a.cropperScaledMaxHeight),r.y2-a.cropperScaledMinHeight);break;case"top":r.y1=Math.min(Math.max(i.y1+d,r.y2-a.cropperScaledMaxHeight),r.y2-a.cropperScaledMinHeight);break;case"topright":r.x2=Math.max(Math.min(i.x2+c,r.x1+a.cropperScaledMaxWidth),r.x1+a.cropperScaledMinWidth),r.y1=Math.min(Math.max(i.y1+d,r.y2-a.cropperScaledMaxHeight),r.y2-a.cropperScaledMinHeight);break;case"right":r.x2=Math.max(Math.min(i.x2+c,r.x1+a.cropperScaledMaxWidth),r.x1+a.cropperScaledMinWidth);break;case"bottomright":r.x2=Math.max(Math.min(i.x2+c,r.x1+a.cropperScaledMaxWidth),r.x1+a.cropperScaledMinWidth),r.y2=Math.max(Math.min(i.y2+d,r.y1+a.cropperScaledMaxHeight),r.y1+a.cropperScaledMinHeight);break;case"bottom":r.y2=Math.max(Math.min(i.y2+d,r.y1+a.cropperScaledMaxHeight),r.y1+a.cropperScaledMinHeight);break;case"bottomleft":r.x1=Math.min(Math.max(i.x1+c,r.x2-a.cropperScaledMaxWidth),r.x2-a.cropperScaledMinWidth),r.y2=Math.max(Math.min(i.y2+d,r.y1+a.cropperScaledMaxHeight),r.y1+a.cropperScaledMinHeight);break;case"center":const h=t.scale,g=Math.min(Math.max(a.cropperScaledMinWidth,Math.abs(i.x2-i.x1)*h),a.cropperScaledMaxWidth),y=Math.min(Math.max(a.cropperScaledMinHeight,Math.abs(i.y2-i.y1)*h),a.cropperScaledMaxHeight);r.x1=i.clientX-g/2,r.x2=i.clientX+g/2,r.y1=i.clientY-y/2,r.y2=i.clientY+y/2,r.x1<0?(r.x2-=r.x1,r.x1=0):r.x2>s.width&&(r.x1-=r.x2-s.width,r.x2=s.width),r.y1<0?(r.y2-=r.y1,r.y1=0):r.y2>s.height&&(r.y1-=r.y2-s.height,r.y2=s.height)}a.maintainAspectRatio&&this.checkAspectRatio(i.position,r,s,a)}checkAspectRatio(t,i,r,s){let a=0,c=0;switch(t){case"top":i.x2=i.x1+(i.y2-i.y1)*s.aspectRatio,a=Math.max(i.x2-r.width,0),c=Math.max(0-i.y1,0),(a>0||c>0)&&(i.x2-=c*s.aspectRatio>a?c*s.aspectRatio:a,i.y1+=c*s.aspectRatio>a?c:a/s.aspectRatio);break;case"bottom":i.x2=i.x1+(i.y2-i.y1)*s.aspectRatio,a=Math.max(i.x2-r.width,0),c=Math.max(i.y2-r.height,0),(a>0||c>0)&&(i.x2-=c*s.aspectRatio>a?c*s.aspectRatio:a,i.y2-=c*s.aspectRatio>a?c:a/s.aspectRatio);break;case"topleft":i.y1=i.y2-(i.x2-i.x1)/s.aspectRatio,a=Math.max(0-i.x1,0),c=Math.max(0-i.y1,0),(a>0||c>0)&&(i.x1+=c*s.aspectRatio>a?c*s.aspectRatio:a,i.y1+=c*s.aspectRatio>a?c:a/s.aspectRatio);break;case"topright":i.y1=i.y2-(i.x2-i.x1)/s.aspectRatio,a=Math.max(i.x2-r.width,0),c=Math.max(0-i.y1,0),(a>0||c>0)&&(i.x2-=c*s.aspectRatio>a?c*s.aspectRatio:a,i.y1+=c*s.aspectRatio>a?c:a/s.aspectRatio);break;case"right":case"bottomright":i.y2=i.y1+(i.x2-i.x1)/s.aspectRatio,a=Math.max(i.x2-r.width,0),c=Math.max(i.y2-r.height,0),(a>0||c>0)&&(i.x2-=c*s.aspectRatio>a?c*s.aspectRatio:a,i.y2-=c*s.aspectRatio>a?c:a/s.aspectRatio);break;case"left":case"bottomleft":i.y2=i.y1+(i.x2-i.x1)/s.aspectRatio,a=Math.max(0-i.x1,0),c=Math.max(i.y2-r.height,0),(a>0||c>0)&&(i.x1+=c*s.aspectRatio>a?c*s.aspectRatio:a,i.y2-=c*s.aspectRatio>a?c:a/s.aspectRatio);break;case"center":i.x2=i.x1+(i.y2-i.y1)*s.aspectRatio,i.y2=i.y1+(i.x2-i.x1)/s.aspectRatio;const d=Math.max(0-i.x1,0),h=Math.max(i.x2-r.width,0),g=Math.max(i.y2-r.height,0),y=Math.max(0-i.y1,0);(d>0||h>0||g>0||y>0)&&(i.x1+=g*s.aspectRatio>d?g*s.aspectRatio:d,i.x2-=y*s.aspectRatio>h?y*s.aspectRatio:h,i.y1+=y*s.aspectRatio>h?y:h/s.aspectRatio,i.y2-=g*s.aspectRatio>d?g:d/s.aspectRatio)}}getClientX(t){return t.touches?.[0].clientX||t.clientX||0}getClientY(t){return t.touches?.[0].clientY||t.clientY||0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();let Fnt=(()=>{class n{constructor(){this.autoRotateSupported=function Nnt(){return new Promise(n=>{const e=new Image;e.onload=()=>{n(1===e.width&&2===e.height)},e.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q=="})}()}loadImageFile(t,i){return new Promise((r,s)=>{const a=new FileReader;a.onload=c=>{this.loadImage(c.target.result,t.type,i).then(r).catch(s)},a.readAsDataURL(t)})}loadImage(t,i,r){return this.isValidImageType(i)?this.loadBase64Image(t,r):Promise.reject(new Error("Invalid image type"))}isValidImageType(t){return/image\/(png|jpg|jpeg|bmp|gif|tiff|webp|x-icon|vnd.microsoft.icon)/.test(t)}loadImageFromURL(t,i){return new Promise((r,s)=>{const a=new Image;a.onerror=()=>s,a.onload=()=>{const c=document.createElement("canvas"),d=c.getContext("2d");c.width=a.width,c.height=a.height,d?.drawImage(a,0,0),this.loadBase64Image(c.toDataURL(),i).then(r)},a.crossOrigin="anonymous",a.src=t})}loadBase64Image(t,i){return new Promise((r,s)=>{const a=new Image;a.onload=()=>r({originalImage:a,originalBase64:t}),a.onerror=s,a.src=t}).then(r=>this.transformImageBase64(r,i))}transformImageBase64(t,i){var r=this;return(0,De.Z)(function*(){const s=yield r.autoRotateSupported,a=yield function Pnt(n){switch("string"==typeof n&&(n=function Rnt(n){const e=new DataView(function Ont(n){n=n.replace(/^data\:([^\;]+)\;base64,/gim,"");const e=atob(n),t=e.length,i=new Uint8Array(t);for(let r=0;r<t;r++)i[r]=e.charCodeAt(r);return i.buffer}(n));if(65496!==e.getUint16(0,!1))return-2;const t=e.byteLength;let i=2;for(;i<t;){if(e.getUint16(i+2,!1)<=8)return-1;const r=e.getUint16(i,!1);if(i+=2,65505==r){if(1165519206!==e.getUint32(i+=2,!1))return-1;const s=18761==e.getUint16(i+=6,!1);i+=e.getUint32(i+4,s);const a=e.getUint16(i,s);i+=2;for(let c=0;c<a;c++)if(274==e.getUint16(i+12*c,s))return e.getUint16(i+12*c+8,s)}else{if(65280!=(65280&r))break;i+=e.getUint16(i,!1)}}return-1}(n)),n){case 2:return{rotate:0,flip:!0};case 3:return{rotate:2,flip:!1};case 4:return{rotate:2,flip:!0};case 5:return{rotate:1,flip:!0};case 6:return{rotate:1,flip:!1};case 7:return{rotate:3,flip:!0};case 8:return{rotate:3,flip:!1};default:return{rotate:0,flip:!1}}}(s?-1:t.originalBase64);return t.originalImage&&t.originalImage.complete?r.transformLoadedImage({original:{base64:t.originalBase64,image:t.originalImage,size:{width:t.originalImage.naturalWidth,height:t.originalImage.naturalHeight}},exifTransform:a},i):Promise.reject(new Error("No image loaded"))})()}transformLoadedImage(t,i){var r=this;return(0,De.Z)(function*(){const s=i.canvasRotation+t.exifTransform.rotate,a={width:t.original.image.naturalWidth,height:t.original.image.naturalHeight};if(0===s&&!t.exifTransform.flip&&!i.containWithinAspectRatio)return{original:{base64:t.original.base64,image:t.original.image,size:{...a}},transformed:{base64:t.original.base64,image:t.original.image,size:{...a}},exifTransform:t.exifTransform};const c=r.getTransformedSize(a,t.exifTransform,i),d=document.createElement("canvas");d.width=c.width,d.height=c.height;const h=d.getContext("2d");h?.setTransform(t.exifTransform.flip?-1:1,0,0,1,d.width/2,d.height/2),h?.rotate(Math.PI*(s/2)),h?.drawImage(t.original.image,-a.width/2,-a.height/2);const g=d.toDataURL(),y=yield r.loadImageFromBase64(g);return{original:{base64:t.original.base64,image:t.original.image,size:{...a}},transformed:{base64:g,image:y,size:{width:y.width,height:y.height}},exifTransform:t.exifTransform}})()}loadImageFromBase64(t){return new Promise((i,r)=>{const s=new Image;s.onload=()=>i(s),s.onerror=r,s.src=t})}getTransformedSize(t,i,r){const s=r.canvasRotation+i.rotate;if(r.containWithinAspectRatio){if(s%2){const c=t.height/r.aspectRatio;return{width:Math.max(t.height,t.width*r.aspectRatio),height:Math.max(t.width,c)}}{const c=t.width/r.aspectRatio;return{width:Math.max(t.width,t.height*r.aspectRatio),height:Math.max(t.height,c)}}}return s%2?{height:t.width,width:t.height}:{width:t.width,height:t.height}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Bnt=(()=>{class n{constructor(t,i,r,s,a){this.cropService=t,this.cropperPositionService=i,this.loadImageService=r,this.sanitizer=s,this.cd=a,this.Hammer=window?.Hammer||null,this.settings=new knt,this.setImageMaxSizeRetries=0,this.resizedWhileHidden=!1,this.marginLeft="0px",this.maxSize={width:0,height:0},this.moveTypes=Ms,this.imageVisible=!1,this.format=this.settings.format,this.transform={},this.maintainAspectRatio=this.settings.maintainAspectRatio,this.aspectRatio=this.settings.aspectRatio,this.resetCropOnAspectRatioChange=this.settings.resetCropOnAspectRatioChange,this.resizeToWidth=this.settings.resizeToWidth,this.resizeToHeight=this.settings.resizeToHeight,this.cropperMinWidth=this.settings.cropperMinWidth,this.cropperMinHeight=this.settings.cropperMinHeight,this.cropperMaxHeight=this.settings.cropperMaxHeight,this.cropperMaxWidth=this.settings.cropperMaxWidth,this.cropperStaticWidth=this.settings.cropperStaticWidth,this.cropperStaticHeight=this.settings.cropperStaticHeight,this.canvasRotation=this.settings.canvasRotation,this.initialStepSize=this.settings.initialStepSize,this.roundCropper=this.settings.roundCropper,this.onlyScaleDown=this.settings.onlyScaleDown,this.imageQuality=this.settings.imageQuality,this.autoCrop=this.settings.autoCrop,this.backgroundColor=this.settings.backgroundColor,this.containWithinAspectRatio=this.settings.containWithinAspectRatio,this.hideResizeSquares=this.settings.hideResizeSquares,this.allowMoveImage=!1,this.cropper={x1:-100,y1:-100,x2:1e4,y2:1e4},this.alignImage=this.settings.alignImage,this.disabled=!1,this.hidden=!1,this.imageCropped=new o.vpe,this.startCropImage=new o.vpe,this.imageLoaded=new o.vpe,this.cropperReady=new o.vpe,this.loadImageFailed=new o.vpe,this.transformChange=new o.vpe,this.reset()}ngOnChanges(t){this.onChangesUpdateSettings(t),this.onChangesInputImage(t),this.loadedImage?.original.image.complete&&(t.containWithinAspectRatio||t.canvasRotation)&&this.loadImageService.transformLoadedImage(this.loadedImage,this.settings).then(i=>this.setLoadedImage(i)).catch(i=>this.loadImageError(i)),(t.cropper||t.maintainAspectRatio||t.aspectRatio)&&(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),!this.maintainAspectRatio||!this.resetCropOnAspectRatioChange&&this.aspectRatioIsCorrect()||!t.maintainAspectRatio&&!t.aspectRatio?t.cropper&&(this.checkCropperPosition(!1),this.doAutoCrop()):this.resetCropperPosition(),this.cd.markForCheck()),t.transform&&(this.transform=this.transform||{},this.setCssTransform(),this.doAutoCrop(),this.cd.markForCheck()),t.hidden&&this.resizedWhileHidden&&!this.hidden&&setTimeout(()=>{this.onResize(),this.resizedWhileHidden=!1})}onChangesUpdateSettings(t){this.settings.setOptionsFromChanges(t),this.settings.cropperStaticHeight&&this.settings.cropperStaticWidth&&this.settings.setOptions({hideResizeSquares:!0,cropperMinWidth:this.settings.cropperStaticWidth,cropperMinHeight:this.settings.cropperStaticHeight,cropperMaxHeight:this.settings.cropperStaticHeight,cropperMaxWidth:this.settings.cropperStaticWidth,maintainAspectRatio:!1})}onChangesInputImage(t){(t.imageChangedEvent||t.imageURL||t.imageBase64||t.imageFile)&&this.reset(),t.imageChangedEvent&&this.isValidImageChangedEvent()&&this.loadImageFile(this.imageChangedEvent.target.files[0]),t.imageURL&&this.imageURL&&this.loadImageFromURL(this.imageURL),t.imageBase64&&this.imageBase64&&this.loadBase64Image(this.imageBase64),t.imageFile&&this.imageFile&&this.loadImageFile(this.imageFile)}isValidImageChangedEvent(){return this.imageChangedEvent?.target?.files?.length>0}setCssTransform(){const t=this.transform?.translateUnit||"%";this.safeTransformStyle=this.sanitizer.bypassSecurityTrustStyle(`translate(${this.transform.translateH||0}${t}, ${this.transform.translateV||0}${t}) scaleX(`+(this.transform.scale||1)*(this.transform.flipH?-1:1)+") scaleY("+(this.transform.scale||1)*(this.transform.flipV?-1:1)+") rotate("+(this.transform.rotate||0)+"deg)")}ngOnInit(){this.settings.stepSize=this.initialStepSize,this.activatePinchGesture()}reset(){this.imageVisible=!1,this.loadedImage=void 0,this.safeImgDataUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=",this.moveStart={active:!1,type:null,position:null,x1:0,y1:0,x2:0,y2:0,clientX:0,clientY:0},this.maxSize={width:0,height:0},this.cropper.x1=-100,this.cropper.y1=-100,this.cropper.x2=1e4,this.cropper.y2=1e4}loadImageFile(t){this.loadImageService.loadImageFile(t,this.settings).then(i=>this.setLoadedImage(i)).catch(i=>this.loadImageError(i))}loadBase64Image(t){this.loadImageService.loadBase64Image(t,this.settings).then(i=>this.setLoadedImage(i)).catch(i=>this.loadImageError(i))}loadImageFromURL(t){this.loadImageService.loadImageFromURL(t,this.settings).then(i=>this.setLoadedImage(i)).catch(i=>this.loadImageError(i))}setLoadedImage(t){this.loadedImage=t,this.safeImgDataUrl=this.sanitizer.bypassSecurityTrustResourceUrl(t.transformed.base64),this.cd.markForCheck()}loadImageError(t){console.error(t),this.loadImageFailed.emit()}imageLoadedInView(){null!=this.loadedImage&&(this.imageLoaded.emit(this.loadedImage),this.setImageMaxSizeRetries=0,setTimeout(()=>this.checkImageMaxSizeRecursively()))}checkImageMaxSizeRecursively(){this.setImageMaxSizeRetries>40?this.loadImageFailed.emit():this.sourceImageLoaded()?(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.resetCropperPosition(),this.cropperReady.emit({...this.maxSize}),this.cd.markForCheck()):(this.setImageMaxSizeRetries++,setTimeout(()=>this.checkImageMaxSizeRecursively(),50))}sourceImageLoaded(){return this.sourceImage?.nativeElement?.offsetWidth>0}onResize(){this.loadedImage&&(this.hidden?this.resizedWhileHidden=!0:(this.resizeCropperPosition(),this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize()))}activatePinchGesture(){if(this.Hammer){const t=new this.Hammer(this.wrapper.nativeElement);t.get("pinch").set({enable:!0}),t.on("pinchmove",this.onPinch.bind(this)),t.on("pinchend",this.pinchStop.bind(this)),t.on("pinchstart",this.startPinch.bind(this))}else(0,o.X6Q)()&&console.warn("[NgxImageCropper] Could not find HammerJS - Pinch Gesture won't work")}resizeCropperPosition(){const t=this.sourceImage.nativeElement;(this.maxSize.width!==t.offsetWidth||this.maxSize.height!==t.offsetHeight)&&(this.cropper.x1=this.cropper.x1*t.offsetWidth/this.maxSize.width,this.cropper.x2=this.cropper.x2*t.offsetWidth/this.maxSize.width,this.cropper.y1=this.cropper.y1*t.offsetHeight/this.maxSize.height,this.cropper.y2=this.cropper.y2*t.offsetHeight/this.maxSize.height)}resetCropperPosition(){this.cropperPositionService.resetCropperPosition(this.sourceImage,this.cropper,this.settings),this.doAutoCrop(),this.imageVisible=!0}keyboardAccess(t){this.changeKeyboardStepSize(t),this.keyboardMoveCropper(t)}changeKeyboardStepSize(t){const i=+t.key;i>=1&&i<=9&&(this.settings.stepSize=i)}keyboardMoveCropper(t){if(!["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(t.key))return;const r=t.shiftKey?Ms.Resize:Ms.Move,s=t.altKey?function Ant(n){switch(n){case"ArrowUp":return"bottom";case"ArrowRight":return"left";case"ArrowDown":return"top";default:return"right"}}(t.key):function znt(n){switch(n){case"ArrowUp":return"top";case"ArrowRight":return"right";case"ArrowDown":return"bottom";default:return"left"}}(t.key),a=function Hnt(n,e){switch(n){case"ArrowUp":return{clientX:0,clientY:-1*e};case"ArrowRight":return{clientX:e,clientY:0};case"ArrowDown":return{clientX:0,clientY:e};default:return{clientX:-1*e,clientY:0}}}(t.key,this.settings.stepSize);t.preventDefault(),t.stopPropagation(),this.startMove({clientX:0,clientY:0},r,s),this.moveImg(a),this.moveStop()}startMove(t,i,r=null){this.disabled||this.moveStart?.active&&this.moveStart?.type===Ms.Pinch||i===Ms.Drag&&!this.allowMoveImage||(t.preventDefault&&t.preventDefault(),this.moveStart={active:!0,type:i,position:r,transform:{...this.transform},clientX:this.cropperPositionService.getClientX(t),clientY:this.cropperPositionService.getClientY(t),...this.cropper})}startPinch(t){this.safeImgDataUrl&&(t.preventDefault&&t.preventDefault(),this.moveStart={active:!0,type:Ms.Pinch,position:"center",clientX:this.cropper.x1+(this.cropper.x2-this.cropper.x1)/2,clientY:this.cropper.y1+(this.cropper.y2-this.cropper.y1)/2,...this.cropper})}moveImg(t){if(this.moveStart.active){if(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),this.moveStart.type===Ms.Move)this.cropperPositionService.move(t,this.moveStart,this.cropper),this.checkCropperPosition(!0);else if(this.moveStart.type===Ms.Resize)!this.cropperStaticWidth&&!this.cropperStaticHeight&&this.cropperPositionService.resize(t,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1);else if(this.moveStart.type===Ms.Drag){const i=this.cropperPositionService.getClientX(t)-this.moveStart.clientX,r=this.cropperPositionService.getClientY(t)-this.moveStart.clientY;this.transform={...this.transform,translateH:(this.moveStart.transform?.translateH||0)+i,translateV:(this.moveStart.transform?.translateV||0)+r},this.setCssTransform()}this.cd.detectChanges()}}onPinch(t){this.moveStart.active&&(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),this.moveStart.type===Ms.Pinch&&(this.cropperPositionService.resize(t,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1)),this.cd.detectChanges())}setMaxSize(){if(this.sourceImage){const t=this.sourceImage.nativeElement;this.maxSize.width=t.offsetWidth,this.maxSize.height=t.offsetHeight,this.marginLeft=this.sanitizer.bypassSecurityTrustStyle("calc(50% - "+this.maxSize.width/2+"px)")}}setCropperScaledMinSize(){this.loadedImage?.transformed?.image?(this.setCropperScaledMinWidth(),this.setCropperScaledMinHeight()):(this.settings.cropperScaledMinWidth=20,this.settings.cropperScaledMinHeight=20)}setCropperScaledMinWidth(){this.settings.cropperScaledMinWidth=this.cropperMinWidth>0?Math.max(20,this.cropperMinWidth/this.loadedImage.transformed.image.width*this.maxSize.width):20}setCropperScaledMinHeight(){this.settings.cropperScaledMinHeight=this.maintainAspectRatio?Math.max(20,this.settings.cropperScaledMinWidth/this.aspectRatio):this.cropperMinHeight>0?Math.max(20,this.cropperMinHeight/this.loadedImage.transformed.image.height*this.maxSize.height):20}setCropperScaledMaxSize(){if(this.loadedImage?.transformed?.image){const t=this.loadedImage.transformed.size.width/this.maxSize.width;this.settings.cropperScaledMaxWidth=this.cropperMaxWidth>20?this.cropperMaxWidth/t:this.maxSize.width,this.settings.cropperScaledMaxHeight=this.cropperMaxHeight>20?this.cropperMaxHeight/t:this.maxSize.height,this.maintainAspectRatio&&(this.settings.cropperScaledMaxWidth>this.settings.cropperScaledMaxHeight*this.aspectRatio?this.settings.cropperScaledMaxWidth=this.settings.cropperScaledMaxHeight*this.aspectRatio:this.settings.cropperScaledMaxWidth<this.settings.cropperScaledMaxHeight*this.aspectRatio&&(this.settings.cropperScaledMaxHeight=this.settings.cropperScaledMaxWidth/this.aspectRatio))}else this.settings.cropperScaledMaxWidth=this.maxSize.width,this.settings.cropperScaledMaxHeight=this.maxSize.height}checkCropperPosition(t=!1){this.cropper.x1<0&&(this.cropper.x2-=t?this.cropper.x1:0,this.cropper.x1=0),this.cropper.y1<0&&(this.cropper.y2-=t?this.cropper.y1:0,this.cropper.y1=0),this.cropper.x2>this.maxSize.width&&(this.cropper.x1-=t?this.cropper.x2-this.maxSize.width:0,this.cropper.x2=this.maxSize.width),this.cropper.y2>this.maxSize.height&&(this.cropper.y1-=t?this.cropper.y2-this.maxSize.height:0,this.cropper.y2=this.maxSize.height)}moveStop(){this.moveStart.active&&(this.moveStart.active=!1,this.moveStart?.type===Ms.Drag?this.transformChange.emit(this.transform):this.doAutoCrop())}pinchStop(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}doAutoCrop(){this.autoCrop&&this.crop()}crop(){if(null!=this.loadedImage?.transformed?.image){this.startCropImage.emit();const t=this.cropService.crop(this.sourceImage,this.loadedImage,this.cropper,this.settings);return null!=t&&this.imageCropped.emit(t),t}return null}aspectRatioIsCorrect(){return(this.cropper.x2-this.cropper.x1)/(this.cropper.y2-this.cropper.y1)===this.aspectRatio}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Ent),o.Y36(Vnt),o.Y36(Fnt),o.Y36(Fc),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["image-cropper"]],viewQuery:function(t,i){if(1&t&&(o.Gf(wnt,7),o.Gf(xnt,5)),2&t){let r;o.iGM(r=o.CRH())&&(i.wrapper=r.first),o.iGM(r=o.CRH())&&(i.sourceImage=r.first)}},hostVars:6,hostBindings:function(t,i){1&t&&o.NdJ("resize",function(){return i.onResize()},!1,o.Jf7)("mousemove",function(s){return i.moveImg(s)},!1,o.evT)("touchmove",function(s){return i.moveImg(s)},!1,o.evT)("mouseup",function(){return i.moveStop()},!1,o.evT)("touchend",function(){return i.moveStop()},!1,o.evT),2&t&&(o.Udp("text-align",i.alignImage),o.ekj("disabled",i.disabled)("ngx-ix-hidden",i.hidden))},inputs:{imageChangedEvent:"imageChangedEvent",imageURL:"imageURL",imageBase64:"imageBase64",imageFile:"imageFile",imageAltText:"imageAltText",format:"format",transform:"transform",maintainAspectRatio:"maintainAspectRatio",aspectRatio:"aspectRatio",resetCropOnAspectRatioChange:"resetCropOnAspectRatioChange",resizeToWidth:"resizeToWidth",resizeToHeight:"resizeToHeight",cropperMinWidth:"cropperMinWidth",cropperMinHeight:"cropperMinHeight",cropperMaxHeight:"cropperMaxHeight",cropperMaxWidth:"cropperMaxWidth",cropperStaticWidth:"cropperStaticWidth",cropperStaticHeight:"cropperStaticHeight",canvasRotation:"canvasRotation",initialStepSize:"initialStepSize",roundCropper:"roundCropper",onlyScaleDown:"onlyScaleDown",imageQuality:"imageQuality",autoCrop:"autoCrop",backgroundColor:"backgroundColor",containWithinAspectRatio:"containWithinAspectRatio",hideResizeSquares:"hideResizeSquares",allowMoveImage:"allowMoveImage",cropper:"cropper",alignImage:"alignImage",disabled:"disabled",hidden:"hidden"},outputs:{imageCropped:"imageCropped",startCropImage:"startCropImage",imageLoaded:"imageLoaded",cropperReady:"cropperReady",loadImageFailed:"loadImageFailed",transformChange:"transformChange"},features:[o.TTD],decls:5,vars:10,consts:[["wrapper",""],["class","ngx-ic-source-image",3,"src","visibility","transform","ngx-ic-draggable","load","mousedown","touchstart",4,"ngIf"],[1,"ngx-ic-overlay"],["class","ngx-ic-cropper","tabindex","0",3,"ngx-ic-round","top","left","width","height","margin-left","visibility","keydown",4,"ngIf"],[1,"ngx-ic-source-image",3,"src","load","mousedown","touchstart"],["sourceImage",""],["tabindex","0",1,"ngx-ic-cropper",3,"keydown"],[1,"ngx-ic-move",3,"mousedown","touchstart"],[4,"ngIf"],[1,"ngx-ic-resize","ngx-ic-topleft",3,"mousedown","touchstart"],[1,"ngx-ic-square"],[1,"ngx-ic-resize","ngx-ic-top"],[1,"ngx-ic-resize","ngx-ic-topright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-right"],[1,"ngx-ic-resize","ngx-ic-bottomright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-bottom"],[1,"ngx-ic-resize","ngx-ic-bottomleft",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-left"],[1,"ngx-ic-resize-bar","ngx-ic-top",3,"mousedown","touchstart"],[1,"ngx-ic-resize-bar","ngx-ic-right",3,"mousedown","touchstart"],[1,"ngx-ic-resize-bar","ngx-ic-bottom",3,"mousedown","touchstart"],[1,"ngx-ic-resize-bar","ngx-ic-left",3,"mousedown","touchstart"]],template:function(t,i){1&t&&(o.TgZ(0,"div",null,0),o.YNc(2,Snt,2,8,"img",1),o._UZ(3,"div",2),o.YNc(4,Dnt,3,15,"div",3),o.qZA()),2&t&&(o.Udp("background",i.imageVisible&&i.backgroundColor),o.xp6(2),o.Q6J("ngIf",i.safeImgDataUrl),o.xp6(1),o.Udp("width",i.maxSize.width,"px")("height",i.maxSize.height,"px")("margin-left","center"===i.alignImage?i.marginLeft:null),o.xp6(1),o.Q6J("ngIf",i.imageVisible))},dependencies:[Zn],styles:['[_nghost-%COMP%]{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{width:100%;position:relative}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;transform-origin:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image.ngx-ic-draggable[_ngcontent-%COMP%]{user-drag:none;-webkit-user-drag:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;cursor:grab}[_nghost-%COMP%]   .ngx-ic-overlay[_ngcontent-%COMP%]{position:absolute;pointer-events:none;touch-action:none;outline:var(--cropper-overlay-color, white) solid 100vw;top:0;left:0}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{position:absolute;display:flex;color:#53535c;background:transparent;outline:rgba(255,255,255,.3) solid 100vw;outline:var(--cropper-outline-color, rgba(255, 255, 255, .3)) solid 100vw;touch-action:none}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{outline-width:100vh}}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:after{position:absolute;content:"";inset:0;pointer-events:none;border:dashed 1px;opacity:.75;color:inherit;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{width:100%;cursor:move;border:1px solid rgba(255,255,255,.5)}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:focus   .ngx-ic-move[_ngcontent-%COMP%]{border-color:#1e90ff;border-width:2px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]   .ngx-ic-square[_ngcontent-%COMP%]{display:inline-block;background:#53535C;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topleft[_ngcontent-%COMP%]{top:-12px;left:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-top[_ngcontent-%COMP%]{top:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topright[_ngcontent-%COMP%]{top:-12px;right:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-right[_ngcontent-%COMP%]{top:calc(50% - 12px);right:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomright[_ngcontent-%COMP%]{bottom:-12px;right:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomleft[_ngcontent-%COMP%]{bottom:-12px;left:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-left[_ngcontent-%COMP%]{top:calc(50% - 12px);left:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%]{position:absolute;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-top[_ngcontent-%COMP%]{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-right[_ngcontent-%COMP%]{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-left[_ngcontent-%COMP%]{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]{outline-color:transparent}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{border-radius:100%;box-shadow:0 0 0 100vw #ffffff4d;box-shadow:0 0 0 100vw var(--cropper-outline-color, rgba(255, 255, 255, .3))}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{box-shadow:0 0 0 100vh #ffffff4d;box-shadow:0 0 0 100vh var(--cropper-outline-color, rgba(255, 255, 255, .3))}}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{border-radius:100%}.disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{display:none}.ngx-ix-hidden[_nghost-%COMP%]{display:none}'],changeDetection:0}),n})(),Unt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[qi]]}),n})();var jnt=["followersModal"],Wnt=["followingModal"],Ynt=["postsModal"],qnt=["workoutsModal"],Gnt=["editProfileModal"],$nt=["allPostsModal"],Znt=["editPostModal"],Knt=["WorkoutsContainer"];function Qnt(n,e){1&n&&(o.TgZ(0,"div",77)(1,"span",78),o._uU(2,"Loading..."),o.qZA()())}function Jnt(n,e){if(1&n){var t=o.EpF();o.TgZ(0,"button",79),o.NdJ("click",function(){o.CHM(t);var s=o.oxw();return o.KtG(s.onUploadButtonClick())}),o._UZ(1,"fa-icon",80),o.qZA()}if(2&n){var i=o.oxw();o.xp6(1),o.Q6J("icon",i.faEdit)}}function Xnt(n,e){if(1&n){var t=o.EpF();o.TgZ(0,"div",81)(1,"image-cropper",82),o.NdJ("imageCropped",function(s){o.CHM(t);var a=o.oxw();return o.KtG(a.imageCropped(s))}),o.qZA(),o.TgZ(2,"div",83)(3,"button",84),o.NdJ("click",function(){o.CHM(t);var s=o.oxw();return o.KtG(s.showCropper=!1)}),o._uU(4,"Cancel"),o.qZA(),o.TgZ(5,"button",85),o.NdJ("click",function(){o.CHM(t);var s=o.oxw();return o.KtG(s.uploadImage())}),o._uU(6,"Crop"),o.qZA()()()}if(2&n){var i=o.oxw();o.xp6(1),o.Q6J("imageChangedEvent",i.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",1)("resizeToWidth",256)}}function e1t(n,e){1&n&&(o.TgZ(0,"p",87),o._uU(1,"Private"),o.qZA())}function t1t(n,e){1&n&&(o.TgZ(0,"p",87),o._uU(1,"Public"),o.qZA())}function n1t(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,e1t,2,0,"p",86),o.YNc(2,t1t,2,0,"p",86),o.qZA()),2&n){var t=o.oxw();o.xp6(1),o.Q6J("ngIf",t.profile.isPrivate),o.xp6(1),o.Q6J("ngIf",!t.profile.isPrivate)}}function i1t(n,e){if(1&n){var t=o.EpF();o.TgZ(0,"div")(1,"button",88),o.NdJ("click",function(){o.CHM(t);var r=o.oxw();return o.KtG(r.showEditProfileModal())}),o._uU(2," Edit Profile "),o.qZA()()}}function r1t(n,e){if(1&n){var t=o.EpF();o.TgZ(0,"button",90),o.NdJ("click",function(){o.CHM(t);var r=o.oxw(2);return o.KtG(r.addToFollowing())}),o.TgZ(1,"h5"),o._uU(2,"Follow+"),o.qZA()()}}function s1t(n,e){if(1&n){var t=o.EpF();o.TgZ(0,"button",90),o.NdJ("click",function(){o.CHM(t);var r=o.oxw(2);return o.KtG(r.removeFromFollowing())}),o.TgZ(1,"h5"),o._uU(2,"Unfollow-"),o.qZA()()}}function o1t(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,r1t,3,0,"button",89),o.YNc(2,s1t,3,0,"button",89),o.qZA()),2&n){var t=o.oxw();o.xp6(1),o.Q6J("ngIf",!t.checkFollowers()),o.xp6(1),o.Q6J("ngIf",t.checkFollowers())}}function a1t(n,e){if(1&n){var t=o.EpF();o.TgZ(0,"button",91),o.NdJ("click",function(){o.CHM(t);var r=o.oxw();return o.KtG(r.showPostsModal())}),o._uU(1," Create Post+ "),o.qZA()}}function c1t(n,e){1&n&&(o.TgZ(0,"div")(1,"button",92),o._uU(2," Create Workout+ "),o.qZA(),o.TgZ(3,"button",93),o._uU(4," View All Workouts "),o.qZA()())}function l1t(n,e){if(1&n&&(o.TgZ(0,"li")(1,"button",94),o._uU(2),o.qZA()()),2&n){var t=e.$implicit;o.xp6(1),o.MGl("routerLink","/profile/",t,""),o.xp6(1),o.hij("@",t,"")}}function u1t(n,e){if(1&n&&(o.TgZ(0,"li")(1,"button",94),o._uU(2),o.qZA()()),2&n){var t=e.$implicit;o.xp6(1),o.MGl("routerLink","/profile/",t,""),o.xp6(1),o.hij("@",t,"")}}function d1t(n,e){if(1&n&&(o.TgZ(0,"option",95),o._uU(1),o.qZA()),2&n){var t=e.$implicit;o.s9C("value",t.uid),o.xp6(1),o.Oqu(t.name)}}var f1t=function(){function n(e,t,i,r,s,a,c,d,h,g,y){this.route=e,this.title=t,this.authService=i,this.profileService=r,this.currentUser=s,this.workoutService=a,this.afs=c,this.location=d,this.storage=h,this.toastr=g,this.router=y,this.faEdit=qM,this.profile=this.profileService.initProfile,this.userProfile=!1,this.isPrivate=!1,this.showModal=!1,this.loadingImage=!0,this.profilePictureUrl="",this.workouts=[],this.showUploadButton=!1,this.showCropper=!1,this.updateFeed=0,this.imageChangedEvent="",this.croppedImage="",this.isSmallScreen=window.innerWidth<=768}return n.prototype.ngOnInit=function(){var e=this;this.route.paramMap.subscribe(function(t){e.urlProfileHandle=t.get("name"),e.title.setTitle("@".concat(e.urlProfileHandle," | FitHub")),e.loadProfileData().then(function(){e.displayRecentWorkouts(),e.checkFollowers()})}),this.workoutsSubscription=this.workoutService.getWorkouts().subscribe(function(t){e.workouts=t})},n.prototype.reloadCurrentRoute=function(){var e=this,t=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0,onSameUrlNavigation:"reload"}).then(function(){e.router.navigate([t])})},n.prototype.loadProfileData=function(){var e=this;return new Promise(function(t){if(e.urlProfileHandle==e.currentUser.user.profile.profileHandle){e.profile=e.currentUser.user.profile,e.userProfile=!0,t(!0);var i="profile-pictures/".concat(e.profile.profileHandle);e.storage.ref(i).getDownloadURL().subscribe(function(s){e.profilePictureUrl=s,e.loadingImage=!1},function(){e.profilePictureUrl="https://wilcity.com/wp-content/uploads/2020/06/115-1150152_default-profile-picture-avatar-png-green.jpg",e.loadingImage=!1})}else e.userProfile=!1,e.profileService.getProfile(e.urlProfileHandle).ref.get().then(function(s){var a=s.data();e.profile.uid=a.uid,e.profile.profileHandle=a.profileHandle,e.profile.profileName=a.profileName,e.profile.age=a.age,e.profile.weight=a.weight,e.profile.heightFeet=a.heightFeet,e.profile.heightInches=a.heightInches,e.profile.sex=a.sex,e.profile.about=a.about,e.profile.followers=a.followers,e.profile.following=a.following,e.profile.isPrivate=a.isPrivate,e.profile.profilePicture=a.profilePicture,e.profile.completedWorkouts=a.completedWorkouts,t(!0);var c="profile-pictures/".concat(e.profile.profileHandle);e.storage.ref(c).getDownloadURL().subscribe(function(h){e.profilePictureUrl=h,e.loadingImage=!1},function(){e.profilePictureUrl="https://wilcity.com/wp-content/uploads/2020/06/115-1150152_default-profile-picture-avatar-png-green.jpg",e.loadingImage=!1})})})},n.prototype.loadProfilePostsData=function(e){void 0===e&&(e=this.profile.profileHandle)},n.prototype.onUploadButtonClick=function(){var e=this,t=document.createElement("input");t.type="file",t.accept="image/*",t.onchange=function(i){e.fileChangeEvent(i),e.showCropper=!0},t.click()},n.prototype.fileChangeEvent=function(e){this.imageChangedEvent=e},n.prototype.imageCropped=function(e){this.croppedImage=e.base64},n.prototype.uploadImage=function(){var e=this;this.showCropper=!1;for(var t=this.croppedImage.split(","),i=t[0].replace("data:","").replace(";base64",""),r=atob(t[1]),s=new ArrayBuffer(r.length),a=new Uint8Array(s),c=0;c<r.length;c+=1)a[c]=r.charCodeAt(c);var d=new Blob([s],{type:i}),h="profile-pictures/".concat(this.profile.profileHandle),g=this.storage.ref(h);this.storage.upload(h,d).snapshotChanges().pipe(jc(function(){g.getDownloadURL().subscribe(function(M){e.profilePictureUrl=M,e.showCropper=!1})})).subscribe()},n.prototype.addToFollowing=function(){var e=this,t=Z1.Z.firestore(),i=t.collection("profiles").doc(this.currentUser.user.profile.profileHandle),r=t.collection("profiles").doc(this.profile.profileHandle);i.update({following:Z1.Z.firestore.FieldValue.arrayUnion(this.urlProfileHandle)}),r.update({followers:Z1.Z.firestore.FieldValue.arrayUnion(this.currentUser.user.profile.profileHandle)}).then(function(){e.profile.followers.push(e.currentUser.user.profile.profileHandle)})},n.prototype.removeFromFollowing=function(){var e=this,t=Z1.Z.firestore(),i=t.collection("profiles").doc(this.currentUser.user.profile.profileHandle),r=t.collection("profiles").doc(this.urlProfileHandle);i.update({following:Z1.Z.firestore.FieldValue.arrayRemove(this.profile.profileHandle)}),r.update({followers:Z1.Z.firestore.FieldValue.arrayRemove(this.currentUser.user.profile.profileHandle)}).then(function(){e.profile.followers.splice(e.profile.followers.indexOf(e.currentUser.user.profile.profileHandle))})},n.prototype.checkFollowers=function(){if(0===this.profile.followers.length)return!1;for(var e=0;e<this.profile.followers.length;e++)if(this.profile.followers[e]===this.currentUser.user.profile.profileHandle)return!0;return!1},n.prototype.getWorkouts=function(e){return this.workoutService.getWorkouts(this.profile.profileHandle)},n.prototype.displayPosts=function(){this.updateFeed++,console.log(this.updateFeed)},n.prototype.commentPost=function(e,t){var i=this,r=document.getElementById("commentTextArea"+t).value;if(""!==r){var s=this.afs.collection("profiles").doc(this.profile.profileHandle).collection("posts").doc(e.uid),a=new n1(Date.now()/1e3,0);s.get().toPromise().then(function(c){var d=c.data().postComments||[];d.push({commentText:r,commentOwner:i.currentUser.user.profile.profileHandle,commentTimeStamp:a,commentLikeCount:0,commentLikeOwners:[]}),s.update({postComments:d}).then(function(){document.getElementById("commentTextArea"+t).value=""}).then(function(){return i.loadProfilePostsData()}).then(function(){return i.displayPosts()}).then(function(){return i.toastr.success("Comment posted successfully!","Success")})})}},n.prototype.savePost=function(e){var t=this,i=document.getElementById("editPostTextArea"+e.uid).value;if(""!==i){var r=this.afs.collection("profiles").doc(this.profile.profileHandle).collection("posts").doc(e.uid),s=new n1(Date.now()/1e3,0);r.update({postText:i,postTimeStamp:s}).then(function(){document.getElementById("postTextArea"+e.uid).value=""}).then(function(){return t.loadProfilePostsData()}).then(function(){return t.displayPosts()}).then(function(){return t.toastr.success("Post edited successfully!","Success")})}},n.prototype.likePost=function(e){for(var t=this,i=!1,r=0;r<e.postLikeOwners.length;r++)e.postLikeOwners[r]===this.currentUser.user.profile.profileHandle&&(i=!0);if(!i)return this.afs.collection("profiles").doc(this.profile.profileHandle).collection("posts").doc(e.uid).update({postLikeCount:Z1.Z.firestore.FieldValue.increment(1),postLikeOwners:Z1.Z.firestore.FieldValue.arrayUnion(this.currentUser.user.profile.profileHandle)}).then(function(){return t.loadProfilePostsData()}).then(function(){return t.displayPosts()})},n.prototype.unlikePost=function(e){for(var t=this,i=!1,r=0;r<e.postLikeOwners.length;r++)e.postLikeOwners[r]===this.currentUser.user.profile.profileHandle&&(i=!0);if(i)return this.afs.collection("profiles").doc(this.profile.profileHandle).collection("posts").doc(e.uid).update({postLikeCount:Z1.Z.firestore.FieldValue.increment(-1),postLikeOwners:Z1.Z.firestore.FieldValue.arrayRemove(this.currentUser.user.profile.profileHandle)}).then(function(){return t.loadProfilePostsData()}).then(function(){return t.displayPosts()})},n.prototype.likeComment=function(e,t,i,r){for(var s=this,a=!1,c=0;c<i.commentLikeOwners.length;c++)if(this.posts[t].postComments[r].commentLikeOwners[c]===this.currentUser.user.profile.profileHandle){a=!0;break}if(!a){var d=this.afs.collection("profiles").doc(this.profile.profileHandle).collection("posts").doc(e.uid);return d.get().toPromise().then(function(h){if(h.exists){var y=h.data().postComments.slice(),M=y[r],S=(0,en.pi)((0,en.pi)({},M),{commentLikeCount:M.commentLikeCount+1,commentLikeOwners:(0,en.ev)((0,en.ev)([],(0,en.CR)(M.commentLikeOwners),!1),[s.currentUser.user.profile.profileHandle],!1)});return y[r]=S,d.update({postComments:y}).then(function(){return s.loadProfilePostsData()}).then(function(){return s.displayPosts()})}console.log("No such document!")}).catch(function(h){console.log("Error getting document:",h)})}},n.prototype.unlikeComment=function(e,t,i,r){for(var s=this,a=!1,c=null,d=null,h=0;h<i.commentLikeOwners.length;h++)if(this.posts[t].postComments[r].commentLikeOwners[h]===this.currentUser.user.profile.profileHandle){a=!0,d=(0,en.pi)((0,en.pi)({},c=this.posts[t].postComments[r]),{commentLikeCount:c.commentLikeCount-1,commentLikeOwners:c.commentLikeOwners.filter(function(y){return y!==s.currentUser.user.profile.profileHandle})});break}if(a){var g=this.afs.collection("profiles").doc(this.profile.profileHandle).collection("posts").doc(e.uid);return g.get().toPromise().then(function(y){if(y.exists){var S=y.data().postComments.slice();return S[r]=d,g.update({postComments:S}).then(function(){return s.loadProfilePostsData()}).then(function(){return s.displayPosts()})}console.log("No such document!")}).catch(function(y){console.log("Error getting document:",y)})}},n.prototype.deletePost=function(e){var t=this;return this.afs.collection("profiles").doc(this.currentUser.user.profile.profileHandle).collection("posts").doc(e.uid).delete().then(function(){return t.loadProfilePostsData()}).then(function(){return t.displayPosts()}).then(function(){return t.toastr.success("Post deleted successfully!","Success")})},n.prototype.deleteComment=function(e,t){var i=this;return this.afs.collection("profiles").doc(this.currentUser.user.profile.profileHandle).collection("posts").doc(e.uid).update({postComments:Z1.Z.firestore.FieldValue.arrayRemove(t)}).then(function(){return i.loadProfilePostsData()}).then(function(){return i.displayPosts()}).then(function(){return i.toastr.success("Comment deleted successfully!","Success")})},n.prototype.checkWorkouts=function(){return 1!==this.profile.workouts.length},n.prototype.createPost=function(){var e=this,t=document.getElementById("ImageToPost").files[0],i=document.getElementById("PostText").value,r="",s=document.getElementById("PostWorkout").value,a=this.workoutService.getWorkout(s),c="";if(a.subscribe(function(M){c=M.name}),console.log("Workout name: "+c),t){this.toastr.info("Uploading image...","Please wait");var d=Math.random().toString(36).substring(0,16)+Math.random().toString(36).substring(0,16),g=Z1.Z.storage().ref("postImages/".concat(d)).put(t);g.on("state_changed",function(M){e.toastr.info("Uploading image...","Please wait")},function(M){console.log(M)},function(){g.snapshot.ref.getDownloadURL().then(function(M){r=M}).then(function(){var M={uid:e.afs.createId(),postText:i,postTimeStamp:new n1(Date.now()/1e3,0),postLikeCount:0,postLikeOwners:[],postImg:r,postWorkout:s,postComments:[{commentText:"",commentTimeStamp:new n1(Date.now()/1e3,0),commentLikeCount:0,commentLikeOwners:[]}]};e.afs.collection("profiles").doc(e.currentUser.user.profile.profileHandle).collection("posts").doc(M.uid).set(M).then(function(){return e.loadProfilePostsData()}).then(function(){return e.displayPosts()}).then(function(){return e.toastr.success("Post created successfully with an image!","Success")})})})}else{var y={uid:this.afs.createId(),postText:i,postTimeStamp:new n1(Date.now()/1e3,0),postLikeCount:0,postLikeOwners:[],postImg:r,postWorkout:s,postComments:[{commentText:"",commentTimeStamp:new n1(Date.now()/1e3,0),commentLikeCount:0,commentLikeOwners:[]}]};this.afs.collection("profiles").doc(this.currentUser.user.profile.profileHandle).collection("posts").doc(y.uid).set(y).then(function(){return e.loadProfilePostsData()}).then(function(){return e.displayPosts()}).then(function(){return e.toastr.success("Post created successfully without an image!","Success")})}document.getElementById("PostText").value="",document.getElementById("ImageToPost").value="",this.closePostsModal()},n.prototype.cancelPost=function(){""!=document.getElementById("PostText").value?confirm("Would you like to discard this post?")&&this.closePostsModal():confirm("Go back to your profile?")&&this.closePostsModal()},n.prototype.updateProfile=function(){this.updateProfileName(),this.updateAge(),this.updateWeight(),this.updateAbout(),this.updateVisibility(),this.toastr.success("Profile updated successfully!","Success")},n.prototype.updateProfileName=function(){var e=this.afs.collection("profiles").doc(this.profile.profileHandle),t=document.getElementById("editProfileName");if(""!==document.getElementById("editProfileName").value){var i={profileName:document.getElementById("editProfileName").value};e.update(i),t.placeholder=document.getElementById("editProfileName").value}document.getElementById("editProfileName").value=""},n.prototype.updateAge=function(){var e=this.afs.collection("profiles").doc(this.profile.profileHandle),t=document.getElementById("editAge");if(""!==document.getElementById("editAge").value){var i={age:document.getElementById("editAge").value};e.update(i),t.placeholder=document.getElementById("editAge").value}document.getElementById("editAge").value=""},n.prototype.updateWeight=function(){var e=this.afs.collection("profiles").doc(this.profile.profileHandle),t=document.getElementById("editWeight");if(""!==document.getElementById("editWeight").value){var i={weight:document.getElementById("editWeight").value};e.update(i),t.placeholder=document.getElementById("editWeight").value}document.getElementById("editWeight").value=""},n.prototype.updateAbout=function(){var e=this.afs.collection("profiles").doc(this.profile.profileHandle),t=document.getElementById("editAbout");if(""!==document.getElementById("editAbout").value){var i={about:document.getElementById("editAbout").value};e.update(i),t.placeholder=document.getElementById("editAbout").value}document.getElementById("editAbout").value=""},n.prototype.updateVisibility=function(){for(var r,e=this.afs.collection("profiles").doc(this.profile.profileHandle),i=document.querySelector("form").elements.editVisibility,s=0;s<i.length;s++)i[s].checked&&(r=i[s].value);"NoChange"!==r&&e.update("Private"===r?{isPrivate:!0}:{isPrivate:!1}),i[0].checked=!0},n.prototype.displayRecentWorkouts=function(){var e=this,t=document.getElementById("WorkoutsCard");t.innerHTML="";var i=document.createElement("div");i.className="card text-center",i.style.backgroundColor="rgba(32, 61, 28, 0.7)",i.style.width="auto";var r=document.createElement("h5");if(r.style.background="none",r.innerHTML="Recent Workouts",null==this.profile.completedWorkouts||null==this.profile.completedWorkouts||0==this.profile.completedWorkouts.length){var s=document.createElement("div");s.className="card-body";var a=document.createElement("p");a.className="card-text",a.style.fontSize="1.1rem",a.innerHTML="You have no completed workouts yet!",s.appendChild(a),i.appendChild(r),i.appendChild(s),t.appendChild(i)}else for(var c=this.profile.completedWorkouts.length,d=function(M){if(!(M<5))return"break";var S=document.createElement("div");S.className="card text-center mb-3",S.style.backgroundColor="rgba(32, 61, 28, 0.1)",S.style.width="auto",S.style.marginLeft="3px",S.style.marginRight="3px";var k=document.createElement("div");k.className="card-body";var A=document.createElement("p");A.className="card-text",A.style.fontSize="20px",A.innerHTML=h.profile.completedWorkouts[c-M].workoutName,A.innerHTML+="<br>Percent Complete: "+h.profile.completedWorkouts[c-M].percentCompleted+"%",A.innerHTML+="<br>Time: "+h.profile.completedWorkouts[c-M].timeToComplete+" minutes";var L=document.createElement("button");L.className="btn btn-outline-success",L.innerHTML="View Workout",L.onclick=function(){return e.openWorkout(e.profile.profileHandle,e.profile.completedWorkouts[c-M].workoutUid)},k.appendChild(A),k.appendChild(L),S.appendChild(k),t.appendChild(S),i.appendChild(r)},h=this,g=1;g<c&&"break"!==d(g);g++);},n.prototype.openWorkout=function(e,t){this.router.navigate(["workout/",e,t])},n.prototype.openWorkoutUid=function(e){this.router.navigate(["workout/",e])},n.prototype.showFollowersModal=function(){this.profile.followers.sort(function(e,t){return e.localeCompare(t)}),this.followersModal.nativeElement.style.display="block"},n.prototype.closeFollowersModal=function(){this.followersModal.nativeElement.style.display="none"},n.prototype.showFollowingModal=function(){this.profile.following.sort(function(e,t){return e.localeCompare(t)}),this.followingModal.nativeElement.style.display="block"},n.prototype.closeFollowingModal=function(){this.followingModal.nativeElement.style.display="none"},n.prototype.showPostsModal=function(){this.postsModal.nativeElement.style.display="block"},n.prototype.closePostsModal=function(){this.postsModal.nativeElement.style.display="none"},n.prototype.showEditPostModal=function(){this.editPostModal.nativeElement.style.display="block"},n.prototype.showEditProfileModal=function(){this.editProfileModal.nativeElement.style.display="block"},n.prototype.closeEditProfileModal=function(){this.editProfileModal.nativeElement.style.display="none"},n.prototype.showAllPostsModal=function(){this.allPostsModal.nativeElement.style.display="block"},n.prototype.closeAllPostsModal=function(){this.allPostsModal.nativeElement.style.display="none"},n.prototype.toTitleCase=function(e){return e.toLowerCase().replace(/\b(\w)/g,function(t){return t.toUpperCase()})},n.\u0275fac=function(t){return new(t||n)(o.Y36(Ur),o.Y36(un),o.Y36(Dr),o.Y36(rc),o.Y36(W2),o.Y36(qs),o.Y36(Us),o.Y36(Oe),o.Y36(pte),o.Y36(Si),o.Y36(c1))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-profile"]],viewQuery:function(t,i){if(1&t&&(o.Gf(jnt,5),o.Gf(Wnt,5),o.Gf(Ynt,5),o.Gf(qnt,5),o.Gf(Gnt,5),o.Gf($nt,5),o.Gf(Znt,5),o.Gf(Knt,5)),2&t){var r=void 0;o.iGM(r=o.CRH())&&(i.followersModal=r.first),o.iGM(r=o.CRH())&&(i.followingModal=r.first),o.iGM(r=o.CRH())&&(i.postsModal=r.first),o.iGM(r=o.CRH())&&(i.workoutsModal=r.first),o.iGM(r=o.CRH())&&(i.editProfileModal=r.first),o.iGM(r=o.CRH())&&(i.allPostsModal=r.first),o.iGM(r=o.CRH())&&(i.editPostModal=r.first),o.iGM(r=o.CRH())&&(i.workoutsContainer=r.first)}},decls:148,vars:31,consts:[[1,"row","min-vh-100","main-bg"],[1,"container","mt-xl-5"],[1,"row"],[1,"col-12","col-xl-10","col-xxl-7","min-vh-100","col-profile","d-flex",2,"margin","0 auto"],[1,"card","w-100","min-vh-100","flex-column","mb-5",2,"border","none","transform","none","background-color","rgba(255, 255, 255, 0.85)"],[1,"card-header","text-white",2,"background-color","rgba(9, 106, 46, 1)"],[1,"col-md-auto","d-flex","align-items-center","justify-content-start"],[2,"position","relative",3,"mouseenter","mouseleave"],["class","spinner-border text-center text-light","role","status",4,"ngIf"],[1,"img-fluid",2,"max-width","256px",3,"src"],["class","btn btn-light btn-image-upload",3,"click",4,"ngIf"],["class","crop-container",4,"ngIf"],[1,"col-md-auto","col-xl-3","ps-md-0","mt-5","no-wrap",2,"padding-right","auto","background","none","border","none"],[1,"no-wrap","text-truncate"],[1,"no-wrap",2,"font-size","1rem"],[4,"ngIf"],[1,"card","no-wrap","col-md","text-center","mt-1",2,"background-color","rgba(255, 255, 255, 0.1)","border","none"],["display","flex-row",1,"card-header","display-6","no-wrap",2,"padding","5%","background","none"],[1,"pt-2",2,"font-size","1.1rem"],[1,"card","col-md-auto",2,"padding-left","1%","background","none","border","none"],["display","flex-row","data-mdb-ripple-color","dark",1,"btn","zoom-btn","btn-outline-success","w-100",2,"margin","5px","z-index","1","background-color","#b0dfba",3,"click"],[2,"text-align","center"],[1,"mb-1","no-wrap"],[1,"row","mt-5"],[1,"card","col-12","col-lg-8","p-3","ms-lg-5",2,"text-align","left","margin","0 auto","background-color","rgba(32, 61, 28, 0.1)","border","none"],[1,"card-header","display-6",2,"background","none"],[1,"card-body",2,"background","none"],[1,"row","ms-4","me-4","ps-5","pe-5"],["type","button","id","createPost","class","btn btn-outline-success","data-mdb-ripple-color","dark","style","background-color: #b0dfba; margin: 0 auto; margin-top: 20px;",3,"click",4,"ngIf"],[1,"p-5","pt-0"],[3,"profileFeed","updateFeed"],["id","noPosts"],[1,"col","me-3"],[1,"card","p-3"],[1,"card-header","mb-2",2,"background","none","font-size","1.5rem"],["id","WorkoutsCard"],[1,"card-footer","w-100",2,"background","none"],[1,"row",2,"bottom","0"],[1,"modal",2,"width","30%","min-width","450px","min-height","300px"],["followersModal",""],[1,"modal-header"],[1,"modal-body"],[4,"ngFor","ngForOf"],[1,"modal-footer",2,"width","90%"],[1,"close","btn","btn-primary",3,"click"],["followingModal",""],[1,"modal",2,"width","30%","min-width","450px","min-height","300px","min-height","50%"],["postsModal",""],[1,"modal-header","w-100"],[1,"modal-body",2,"min-height","70%"],[1,"mt-4"],["type","file","id","ImageToPost","accept","image/*","aria-label","Choose an Image",1,"mb-2"],[1,"form-group"],["id","PostText","rows","3","placeholder","What's on your mind?",1,"form-control","mb-2"],["id","PostWorkout","aria-label","Select a workout",1,"form-select","mb-2"],["selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer","w-100"],["data-mdb-ripple-color","dark",1,"btn","zoom-btn","btn-outline-success",2,"margin","3px","z-index","1","background-color","#b0dfba",3,"click"],[1,"btn","zoom-btn","btn-outline-secondary",2,"background-color","rgba(255, 255, 255, 0.8)",3,"click"],[1,"modal",2,"width","30%","height","40%","min-width","450px","min-height","300px"],["editProfileModal",""],["for","editProfileHandle"],["type","text","id","editProfileName",1,"form-control",3,"placeholder"],["for","editAge"],["type","number","id","editAge",1,"form-control",3,"value","placeholder"],["for","editWeight"],["type","number","id","editWeight","step","5",1,"form-control",3,"value","placeholder"],["for","editAbout"],["id","editAbout","rows","3",1,"form-control",3,"placeholder"],["for","editVisibility"],["id","editVisibility","data-toggle","buttons",1,"btn-group","btn-group-toggle"],[1,"btn","btn-secondary"],["type","radio","name","editVisibility","id","NoChangeRadio","autocomplete","off","value","NoChange","checked",""],["type","radio","name","editVisibility","id","PrivateRadio","autocomplete","off","value","Private"],["type","radio","name","editVisibility","id","PublicRadio","autocomplete","off","value","Public"],[1,"modal-footer"],["role","status",1,"spinner-border","text-center","text-light"],[1,"sr-only"],[1,"btn","btn-light","btn-image-upload",3,"click"],[3,"icon"],[1,"crop-container"],[3,"imageChangedEvent","maintainAspectRatio","aspectRatio","resizeToWidth","imageCropped"],[1,"d-flex","justify-content-end","bg-dark"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-success",3,"click"],["style","font-size: 1rem;",4,"ngIf"],[2,"font-size","1rem"],["display","flex-row","data-mdb-ripple-color","dark","id","editProfile",1,"btn","zoom-btn","btn-outline-success","w-100",2,"margin","5px","margin-bottom","10px","background-color","#b0dfba",3,"click"],["class","btn zoom-btn btn-outline-success w-100","display","flex-row","style","margin: 5px; margin-bottom: 10px; background-color: #b0dfba;","data-mdb-ripple-color","dark",3,"click",4,"ngIf"],["display","flex-row","data-mdb-ripple-color","dark",1,"btn","zoom-btn","btn-outline-success","w-100",2,"margin","5px","margin-bottom","10px","background-color","#b0dfba",3,"click"],["type","button","id","createPost","data-mdb-ripple-color","dark",1,"btn","btn-outline-success",2,"background-color","#b0dfba","margin","0 auto","margin-top","20px",3,"click"],["type","button","id","createWorkout","routerLink","/my-workouts/create","data-mdb-ripple-color","dark",1,"btn","btn-outline-success","mb-1",2,"background-color","#b0dfba","margin","0 auto","margin-top","20px","width","100%"],["type","button","id","viewAllWorkouts","routerLink","/my-workouts","data-mdb-ripple-color","dark",1,"btn","btn-outline-success",2,"background-color","#b0dfba","margin","0 auto","width","100%"],["data-mdb-ripple-color","dark","href","#",1,"btn","zoom-btn","btn-outline-success",2,"margin","3px","z-index","1","background-color","#b0dfba",3,"routerLink"],[3,"value"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div")(7,"div",2)(8,"div",6)(9,"div",7),o.NdJ("mouseenter",function(){return i.showUploadButton=!0})("mouseleave",function(){return i.showUploadButton=!1}),o.YNc(10,Qnt,3,0,"div",8),o._UZ(11,"img",9),o.YNc(12,Jnt,2,1,"button",10),o.qZA()(),o.YNc(13,Xnt,7,4,"div",11),o.TgZ(14,"div",12)(15,"h5",13),o._uU(16),o.qZA(),o.TgZ(17,"p",14),o._uU(18),o.qZA(),o.TgZ(19,"p",14),o._uU(20),o.qZA(),o.TgZ(21,"p",14),o._uU(22),o.qZA(),o.YNc(23,n1t,3,2,"div",15),o.qZA(),o.TgZ(24,"div",16)(25,"div",17),o._uU(26," About "),o.qZA(),o.TgZ(27,"p",18),o._uU(28),o.qZA()(),o.TgZ(29,"div",19)(30,"button",20),o.NdJ("click",function(){return i.showFollowersModal()}),o.TgZ(31,"h5",21),o._uU(32),o.qZA(),o.TgZ(33,"p",22),o._uU(34,"Followers"),o.qZA()(),o.TgZ(35,"button",20),o.NdJ("click",function(){return i.showFollowingModal()}),o.TgZ(36,"h5"),o._uU(37),o.qZA(),o.TgZ(38,"p",22),o._uU(39,"Following"),o.qZA()(),o._UZ(40,"hr"),o.YNc(41,i1t,3,0,"div",15),o.YNc(42,o1t,3,2,"div",15),o.qZA()()()(),o.TgZ(43,"div",23)(44,"div",24)(45,"div",25),o._uU(46," Posts "),o.qZA(),o.TgZ(47,"div",26)(48,"div",27),o.YNc(49,a1t,2,0,"button",28),o.qZA()(),o.TgZ(50,"div",29),o._UZ(51,"app-feed",30),o.qZA(),o._UZ(52,"div",31),o.qZA(),o.TgZ(53,"div",32)(54,"div",33)(55,"div",34)(56,"b"),o._uU(57,"Recent Workouts"),o.qZA()(),o._UZ(58,"div",35),o.TgZ(59,"div",36)(60,"div",37),o.YNc(61,c1t,5,0,"div",15),o.qZA()()()()()()()()()(),o.TgZ(62,"div",38,39)(64,"h5",40),o._uU(65),o.qZA(),o.TgZ(66,"div",41),o.YNc(67,l1t,3,2,"li",42),o.qZA(),o.TgZ(68,"div",43)(69,"button",44),o.NdJ("click",function(){return i.closeFollowersModal()}),o._uU(70,"Close"),o.qZA()()(),o.TgZ(71,"div",38,45)(73,"h5",40),o._uU(74),o.qZA(),o.TgZ(75,"div",41),o.YNc(76,u1t,3,2,"li",42),o.qZA(),o.TgZ(77,"div",43)(78,"button",44),o.NdJ("click",function(){return i.closeFollowingModal()}),o._uU(79,"Close"),o.qZA()()(),o.TgZ(80,"div",46,47)(82,"div",48)(83,"h3"),o._uU(84," Create Post+ "),o.qZA()(),o.TgZ(85,"div",49)(86,"div")(87,"h5",50),o._uU(88,"Upload an image:"),o.qZA(),o._UZ(89,"input",51),o.qZA(),o.TgZ(90,"div",52)(91,"h5"),o._uU(92,"Enter text:"),o.qZA(),o._UZ(93,"textarea",53),o.qZA(),o.TgZ(94,"div",52)(95,"h5"),o._uU(96,"Link a workout:"),o.qZA(),o.TgZ(97,"select",54)(98,"option",55),o._uU(99,"None"),o.qZA(),o.YNc(100,d1t,2,2,"option",56),o.qZA()()(),o.TgZ(101,"div",57)(102,"button",58),o.NdJ("click",function(){return i.createPost()}),o._uU(103,"Post+"),o.qZA(),o.TgZ(104,"button",59),o.NdJ("click",function(){return i.closePostsModal()}),o._uU(105,"Cancel"),o.qZA()()(),o.TgZ(106,"div",60,61)(108,"div",40)(109,"h3"),o._uU(110," Edit Profile "),o.qZA()(),o.TgZ(111,"div",41)(112,"div",52)(113,"label",62),o._uU(114,"Profile Handle"),o.qZA(),o._UZ(115,"input",63),o.qZA(),o.TgZ(116,"div",52)(117,"label",64),o._uU(118,"Age"),o.qZA(),o._UZ(119,"input",65),o.qZA(),o.TgZ(120,"div",52)(121,"label",66),o._uU(122,"Weight"),o.qZA(),o._UZ(123,"input",67),o.qZA(),o.TgZ(124,"div",52)(125,"label",68),o._uU(126,"About"),o.qZA(),o._UZ(127,"textarea",69),o.qZA(),o.TgZ(128,"form",52)(129,"label",70),o._uU(130,"Profile Visibility"),o.qZA(),o.TgZ(131,"div",2)(132,"div",71)(133,"div")(134,"label",72),o._UZ(135,"input",73),o._uU(136," No change "),o.qZA(),o.TgZ(137,"label",72),o._UZ(138,"input",74),o._uU(139," Private "),o.qZA(),o.TgZ(140,"label",72),o._UZ(141,"input",75),o._uU(142," Public "),o.qZA()()()()()(),o.TgZ(143,"div",76)(144,"button",58),o.NdJ("click",function(){return i.updateProfile(),i.closeEditProfileModal()}),o._uU(145,"Save"),o.qZA(),o.TgZ(146,"button",59),o.NdJ("click",function(){return i.closeEditProfileModal()}),o._uU(147,"Close"),o.qZA()()()),2&t&&(o.xp6(10),o.Q6J("ngIf",i.loadingImage),o.xp6(1),o.Q6J("src",i.profilePictureUrl,o.LSH),o.xp6(1),o.Q6J("ngIf",i.showUploadButton&&i.userProfile),o.xp6(1),o.Q6J("ngIf",i.showCropper),o.xp6(3),o.hij("@",i.profile.profileHandle,""),o.xp6(2),o.Oqu(i.profile.age),o.xp6(2),o.AsE("",i.profile.heightFeet,"' ",i.profile.heightInches,'"'),o.xp6(2),o.hij("",i.profile.weight," lbs."),o.xp6(1),o.Q6J("ngIf",i.userProfile),o.xp6(5),o.Oqu(i.profile.about),o.xp6(4),o.Oqu(i.profile.followers.length),o.xp6(5),o.Oqu(i.profile.following.length),o.xp6(4),o.Q6J("ngIf",i.userProfile),o.xp6(1),o.Q6J("ngIf",!i.userProfile),o.xp6(7),o.Q6J("ngIf",i.userProfile),o.xp6(2),o.Q6J("profileFeed",i.urlProfileHandle)("updateFeed",i.updateFeed),o.xp6(10),o.Q6J("ngIf",i.userProfile),o.xp6(4),o.hij(" @",i.urlProfileHandle,"'s Followers "),o.xp6(2),o.Q6J("ngForOf",i.profile.followers),o.xp6(7),o.hij(" Profiles @",i.urlProfileHandle," follows "),o.xp6(2),o.Q6J("ngForOf",i.profile.following),o.xp6(24),o.Q6J("ngForOf",i.workouts),o.xp6(15),o.s9C("placeholder",i.profile.profileName),o.xp6(4),o.s9C("value",i.profile.age),o.s9C("value",i.profile.age),o.s9C("placeholder",i.profile.age),o.xp6(4),o.s9C("value",i.profile.weight),o.s9C("placeholder",i.profile.weight),o.xp6(4),o.s9C("placeholder",i.profile.about))},dependencies:[S1,Zn,Ma,W4,wM,xM,j4,K4,Af,Bnt,Dee],styles:[".modal[_ngcontent-%COMP%]{display:none;position:fixed;background-color:#cacacae6;left:50%;top:50%;width:20%;height:30%;overflow-y:auto;transform:translate(-50%,-50%);overflow:auto;border-color:#00000080;border-radius:2%}.modal-header[_ngcontent-%COMP%]{position:fixed;top:0;height:20%;width:90%;text-align:center}.modal-body[_ngcontent-%COMP%]{margin-top:80px;width:90%;height:50%;overflow-y:auto}.modal-footer[_ngcontent-%COMP%]{height:10%;width:90%}.close[_ngcontent-%COMP%]{background-color:#323232cc;color:#ffffffe6;border:none;border-radius:5px;font-size:16px;cursor:pointer}.row.h-50[_ngcontent-%COMP%], .card.custom-height[_ngcontent-%COMP%]{min-height:50vh}.custom-text-color[_ngcontent-%COMP%]{color:#0b8200}h1[_ngcontent-%COMP%]{font-weight:700}.card[_ngcontent-%COMP%]{position:relative;transition:all .3s ease}.card[_ngcontent-%COMP%]:hover{transform:scale(1.01)}.card-title[_ngcontent-%COMP%]{font-weight:700}.progress-wrapper[_ngcontent-%COMP%]{position:relative;display:inline-block}.progress-ring[_ngcontent-%COMP%]{transform:rotate(-90deg)}.btn-image-upload[_ngcontent-%COMP%]{position:absolute;bottom:5%;right:5%;z-index:5;border-radius:100%;width:40px;height:40px}.crop-container[_ngcontent-%COMP%]{position:absolute;inset:0;max-height:60vh;width:auto;z-index:10;background-color:#212529}.progress-ring__circle[_ngcontent-%COMP%]{stroke-linecap:round}.progress-ring__circle--value[_ngcontent-%COMP%]{transition:stroke-dashoffset .35s}.progress-value[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.button-wrapper-1[_ngcontent-%COMP%], .button-wrapper-2[_ngcontent-%COMP%], .button-wrapper-1[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .button-wrapper-2[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:inline-block}"]}),n}();let CE,h1t=(()=>{class n{constructor(){this._focusTrapStack=[]}register(t){this._focusTrapStack=this._focusTrapStack.filter(r=>r!==t);let i=this._focusTrapStack;i.length&&i[i.length-1]._disable(),i.push(t),t._enable()}deregister(t){t._disable();const i=this._focusTrapStack,r=i.indexOf(t);-1!==r&&(i.splice(r,1),i.length&&i[i.length-1]._enable())}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();try{CE=typeof Intl<"u"&&Intl.v8BreakIterator}catch{CE=!1}let gte=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Se(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!CE)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.Lbi))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_te=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function m1t(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function p1t(n){try{return n.frameElement}catch{return null}}(function w1t(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===yte(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),s=yte(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function b1t(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function M1t(n){return!function _1t(n){return function y1t(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function g1t(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function v1t(n){return function C1t(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||vte(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(gte))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vte(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function yte(n){if(!vte(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function Cte(n){return null!=n&&"false"!=`${n}`}class x1t{constructor(e,t,i,r,s=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),t&&(t.removeEventListener("focus",this.endAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement()))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);for(let i=0;i<t.length;i++)t[i].hasAttribute(`cdk-focus-${e}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[i]):t[i].hasAttribute(`cdk-focus-region-${e}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[i]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){const t=this._getFirstTabbableElement(e);return t?.focus(),!!t}return e.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const e=this._getRegionBoundary("start");return e&&e.focus(),!!e}focusLastTabbableElement(){const e=this._getRegionBoundary("end");return e&&e.focus(),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let i=0;i<t.length;i++){let r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let i=t.length-1;i>=0;i--){let r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(cs(1)).subscribe(e)}}let S1t=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new x1t(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(_te),o.LFG(o.R0b),o.LFG(ae))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),T1t=(()=>{class n{constructor(t,i,r){this._elementRef=t,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this._autoCapture=!1,this._document=r,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(t){this.focusTrap.enabled=Cte(t)}get autoCapture(){return this._autoCapture}set autoCapture(t){this._autoCapture=Cte(t)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(t){const i=t.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(S1t),o.Y36(ae))},n.\u0275dir=o.lG2({type:n,selectors:[["","focusTrap",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["focusTrap"],features:[o.TTD]}),n})(),bte=(()=>{class n{static forRoot(){return{ngModule:n,providers:[h1t,gte,_te]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[qi]}),n})();const D1t=["*"];let t_=(()=>{class n{constructor(){this.hide=()=>{},this.setClass=()=>{}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Mte=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const hx={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{},closeInterceptor:void 0},k1t=new o.OlP("override-default-config");let z1t=(()=>{class n{constructor(t,i,r){this._element=i,this._renderer=r,this.isShown=!1,this.isAnimated=!1,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},t)}ngOnInit(){this.isAnimated&&this._renderer.addClass(this._element.nativeElement,"fade"),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,"show")},this.isAnimated?150:0),document&&document.body&&(this.bsModalService&&1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y","hidden")),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(t){this.clickStartedInContent=t.target!==this._element.nativeElement}onClickStop(t){this.config.ignoreBackdropClick||"static"===this.config.backdrop||t.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(this.bsModalService?.setDismissReason("backdrop-click"),this.hide())}onPopState(){this.bsModalService?.setDismissReason("browser-back-navigation-clicked"),this.hide()}onEsc(t){this.isShown&&((27===t.keyCode||"Escape"===t.key)&&t.preventDefault(),this.config.keyboard&&this.level===this.bsModalService?.getModalsCount()&&(this.bsModalService?.setDismissReason("esc"),this.hide()))}ngOnDestroy(){this.isShown&&this._hide()}hide(){if(!this.isModalHiding){if(this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,"show"),setTimeout(()=>{this.isShown=!1,document&&document.body&&1===this.bsModalService?.getModalsCount()&&(this._renderer.removeClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y","")),this.bsModalService?.hide(this.config.id),this.isModalHiding=!1},this.isAnimated?300:0)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Mte),o.Y36(o.SBq),o.Y36(o.Qsj))},n.\u0275cmp=o.Xpm({type:n,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(t,i){1&t&&o.NdJ("mousedown",function(s){return i.onClickStarted(s)})("click",function(s){return i.onClickStop(s)})("popstate",function(){return i.onPopState()},!1,o.Jf7)("keydown.esc",function(s){return i.onEsc(s)},!1,o.Jf7),2&t&&o.uIk("aria-modal",!0)("aria-labelledby",i.config.ariaLabelledBy)("aria-describedby",i.config.ariaDescribedby)},ngContentSelectors:D1t,decls:3,vars:2,consts:[["role","document","focusTrap",""],[1,"modal-content"]],template:function(t,i){1&t&&(o.F$t(),o.TgZ(0,"div",0)(1,"div",1),o.Hsn(2),o.qZA()()),2&t&&o.Tol("modal-dialog"+(i.config.class?" "+i.config.class:""))},dependencies:[T1t],encapsulation:2}),n})(),A1t=(()=>{class n{constructor(t,i){this._isAnimated=!1,this._isShown=!1,this.element=t,this.renderer=i}get isAnimated(){return this._isAnimated}set isAnimated(t){this._isAnimated=t}get isShown(){return this._isShown}set isShown(t){this._isShown=t,t?this.renderer.addClass(this.element.nativeElement,"show"):this.renderer.removeClass(this.element.nativeElement,"show")}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"fade"),NJe.reflow(this.element.nativeElement)),this.isShown=!0}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.Qsj))},n.\u0275cmp=o.Xpm({type:n,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})(),H1t=1,eh=(()=>{class n{constructor(t,i,r){this.clf=i,this.modalDefaultOption=r,this.onShow=new o.vpe,this.onShown=new o.vpe,this.onHide=new o.vpe,this.onHidden=new o.vpe,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.loaders=[],this._backdropLoader=this.clf.createLoader(),this._renderer=t.createRenderer(null,null),this.config=r?Object.assign({},hx,r):hx}show(t,i){this.modalsCount++,this._createLoaders();const r=i?.id||H1t++;return this.config=this.modalDefaultOption?Object.assign({},hx,this.modalDefaultOption,i):Object.assign({},hx,i),this.config.id=r,this._showBackdrop(),this.lastDismissReason=void 0,this._showModal(t)}hide(t){(1===this.modalsCount||null==t)&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=t?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(t),this.removeLoaders(t)},this.config.animated?150:0)}_showBackdrop(){const t=!0===this.config.backdrop||"static"===this.config.backdrop,i=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),t&&i&&(this._backdropLoader.attach(A1t).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(()=>this.removeBackdrop(),this.config.animated?150:0))}_showModal(t){const i=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(const a of this.config.providers)i.provide(a);const r=new t_,s=i.provide({provide:Mte,useValue:this.config}).provide({provide:t_,useValue:r}).attach(z1t).to("body");return r.hide=()=>this.hide(r.id),r.setClass=a=>{s.instance&&(s.instance.config.class=a)},r.onHidden=new o.vpe,r.onHide=new o.vpe,this.copyEvent(i.onBeforeHide,r.onHide),this.copyEvent(i.onHidden,r.onHidden),s.show({content:t,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),s.instance&&(s.instance.level=this.getModalsCount(),r.content=i.getInnerComponent(),r.id=s.instance.config?.id),r}_hideModal(t){if(null!=t){const i=this.loaders.findIndex(s=>s.instance?.config.id===t),r=this.loaders[i];r&&r.hide(t)}else this.loaders.forEach(i=>{i.instance&&i.hide(i.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(t){this.lastDismissReason=t}removeBackdrop(){this._renderer.removeClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y",""),this._backdropLoader.hide(),this.backdropRef=void 0}checkScrollbar(){this.isBodyOverflowing=document.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){document&&(this.originalBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(document.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){document.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const t=this._renderer.createElement("div");this._renderer.addClass(t,"modal-scrollbar-measure"),this._renderer.appendChild(document.body,t);const i=t.offsetWidth-t.clientWidth;return this._renderer.removeChild(document.body,t),i}_createLoaders(){const t=this.clf.createLoader();this.copyEvent(t.onBeforeShow,this.onShow),this.copyEvent(t.onShown,this.onShown),this.copyEvent(t.onBeforeHide,this.onHide),this.copyEvent(t.onHidden,this.onHidden),this.loaders.push(t)}removeLoaders(t){if(null!=t){const i=this.loaders.findIndex(r=>r.instance?.config.id===t);i>=0&&(this.loaders.splice(i,1),this.loaders.forEach((r,s)=>{r.instance&&(r.instance.level=s+1)}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(t,i){t.subscribe(r=>{i.emit(this.lastDismissReason||r)})}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.FYo),o.LFG(fc),o.LFG(k1t,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();bte.forRoot();let L1t=(()=>{class n{static forRoot(){return{ngModule:n,providers:[eh,fc,o6]}}static forChild(){return{ngModule:n,providers:[eh,fc,o6]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[bte]}),n})();function E1t(n,e){if(1&n&&(o.TgZ(0,"span"),o._uU(1),o.ALo(2,"titlecase"),o.qZA()),2&n){var t=e.$implicit;o.xp6(1),o.hij("",o.lcZ(2,1,t)," ")}}function V1t(n,e){1&n&&(o.TgZ(0,"span"),o._uU(1,", "),o.qZA())}function I1t(n,e){if(1&n&&(o.TgZ(0,"span"),o._uU(1),o.ALo(2,"titlecase"),o.YNc(3,V1t,2,0,"span",13),o.qZA()),2&n){var t=e.$implicit,i=e.last;o.xp6(1),o.hij(" ",o.lcZ(2,2,t),""),o.xp6(2),o.Q6J("ngIf",!i)}}function N1t(n,e){if(1&n){var t=o.EpF();o.TgZ(0,"div",10)(1,"p")(2,"strong"),o._uU(3,"Instructions: "),o.qZA(),o.YNc(4,E1t,3,3,"span",11),o.qZA(),o.TgZ(5,"p")(6,"strong"),o._uU(7,"Equipment: "),o.qZA(),o._uU(8),o.ALo(9,"titlecase"),o.qZA(),o.TgZ(10,"p")(11,"strong"),o._uU(12,"Primary Muscles: "),o.qZA(),o._uU(13),o.ALo(14,"titlecase"),o.qZA(),o.TgZ(15,"p")(16,"strong"),o._uU(17,"Secondary Muscles: "),o.qZA(),o.YNc(18,I1t,4,4,"span",11),o.qZA(),o.TgZ(19,"button",12),o.NdJ("click",function(){o.CHM(t);var s=o.oxw().$implicit,a=o.oxw();return o.KtG(a.addExercise(s))}),o._uU(20,"Add +"),o.qZA()()}if(2&n){var i=o.oxw().$implicit;o.Q6J("@slideOutAnimation",void 0),o.xp6(4),o.Q6J("ngForOf",i.instructions),o.xp6(4),o.hij(" ",o.lcZ(9,5,i.equipment),""),o.xp6(5),o.hij(" ",o.lcZ(14,7,i.primaryMuscles[0]),""),o.xp6(5),o.Q6J("ngForOf",i.secondaryMuscles)}}function P1t(n,e){if(1&n){var t=o.EpF();o.TgZ(0,"li",8),o.NdJ("click",function(){var d=o.CHM(t).index,h=o.oxw();return o.KtG(h.openExerciseIndex=d)}),o.TgZ(1,"h4"),o._uU(2),o.qZA(),o.YNc(3,N1t,21,9,"div",9),o.qZA()}if(2&n){var i=e.$implicit,r=e.index,s=o.oxw();o.ekj("active",s.openExerciseIndex==r),o.xp6(2),o.Oqu(i.name),o.xp6(1),o.Q6J("ngIf",s.openExerciseIndex==r)}}var R1t=function(){function n(e,t){this.bsModalRef=e,this.workoutService=t,this.group="",this.openExerciseIndex=-1,this.exercises=[],this.filters=[]}return n.prototype.ngOnInit=function(){this.equipment.includes(",")&&(this.equipment=this.equipment.split(",")),this.equipment instanceof Array?this.filters=this.equipment:this.filters.push(this.equipment),this.getExercises()},n.prototype.getExercises=function(){var e=this;this.workoutService.getExercises(this.group,this.filters).get().subscribe(function(t){return t.forEach(function(i){e.exercises.push(i.data())})})},n.prototype.addExercise=function(e){null!=this.bsModalRef.content.callback&&(this.bsModalRef.content.callback(e),this.bsModalRef.hide())},n.prototype.cancel=function(){null!=this.bsModalRef.content.callback&&(this.bsModalRef.content.callback(!1),this.bsModalRef.hide())},n.\u0275fac=function(t){return new(t||n)(o.Y36(t_),o.Y36(qs))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-add-exercise-modal"]],decls:13,vars:4,consts:[[1,"modal-header-1","text-center"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body"],[1,"list-group"],["class","list-group-item list-group-item-action",3,"active","click",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"list-group-item","list-group-item-action",3,"click"],["class","card card-body text-black",4,"ngIf"],[1,"card","card-body","text-black"],[4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"click"],[4,"ngIf"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0)(1,"button",1),o.NdJ("click",function(){return i.cancel()}),o.TgZ(2,"span",2),o._uU(3,"\xd7"),o.qZA()(),o.TgZ(4,"h4"),o._uU(5),o.ALo(6,"titlecase"),o.qZA()(),o.TgZ(7,"div",3)(8,"ul",4),o.YNc(9,P1t,4,4,"li",5),o.qZA()(),o.TgZ(10,"div",6)(11,"button",7),o.NdJ("click",function(){return i.cancel()}),o._uU(12," Cancel "),o.qZA()()),2&t&&(o.xp6(5),o.hij("Add ",o.lcZ(6,2,i.group)," Exercise"),o.xp6(4),o.Q6J("ngForOf",i.exercises))},dependencies:[S1,Zn,Wi],styles:[".list-group-item.active[_ngcontent-%COMP%]{background-color:#007715!important;border-color:#aed248!important}.btn-primary[_ngcontent-%COMP%]{color:#fff;background-color:#007715;border-color:#007715}"],data:{animation:[Oa("slideOutAnimation",[Y2(":enter",[on({height:0,opacity:0}),r2("0.4s ease-out",on({}))]),Y2(":leave",[on({}),r2("0.4s ease-in",on({height:0,opacity:0}))])])]}}),n}();function O1t(n,e){1&n&&(o.TgZ(0,"h4"),o._uU(1,"New Equipment Group"),o.qZA())}function F1t(n,e){1&n&&(o.TgZ(0,"h4"),o._uU(1,"Editing Equipment Group"),o.qZA())}function B1t(n,e){1&n&&(o.TgZ(0,"small",16),o._uU(1,"Name is required"),o.qZA())}function U1t(n,e){if(1&n&&(o.TgZ(0,"div",17),o._UZ(1,"input",18),o.TgZ(2,"label",19),o._uU(3),o.ALo(4,"titlecase"),o.qZA()()),2&n){var t=e.$implicit;o.xp6(1),o.Q6J("id",t.name)("formControlName",t.control),o.xp6(1),o.Q6J("for",t.name),o.xp6(1),o.Oqu(o.lcZ(4,4,t.name))}}function j1t(n,e){if(1&n){var t=o.EpF();o.TgZ(0,"button",20),o.NdJ("click",function(){o.CHM(t);var r=o.oxw();return o.KtG(r.delete())}),o._uU(1," Delete "),o.qZA()}}var wte=function(){function n(e,t,i,r){this.bsModalRef=e,this.workoutService=t,this.fb=i,this.toastr=r,this.equipmentNames=[{name:"barbell",control:"barbell"},{name:"bench",control:"bench"},{name:"cable",control:"cable"},{name:"dumbbell",control:"dumbbell"},{name:"kettlebells",control:"kettlebells"},{name:"machine",control:"machine"},{name:"medicine ball",control:"medicineball"},{name:"pullup bar",control:"pullupbar"},{name:"other",control:"other"}],this.equipmentChecklist=this.fb.group({name:["",Ra.required],barbell:[!1],bench:[!1],cable:[!1],dumbbell:[!1],kettlebells:[!1],machine:[!1],medicineball:[!1],pullupbar:[!1],other:[!1]}),this.editing=!1}return n.prototype.ngOnInit=function(){var e,t;if(this.equipment){this.equipmentChecklist.get("name").setValue(this.equipment.name),this.editing=!0;try{for(var i=(0,en.XA)(this.equipment.equipment),r=i.next();!r.done;r=i.next())this.equipmentChecklist.get(r.value.replace(/\s/g,"")).setValue(!0)}catch(a){e={error:a}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}}},n.prototype.submit=function(){var e,t,i=this;if(this.equipmentChecklist.markAllAsTouched(),!this.equipmentChecklist.invalid){this.editing&&this.update();var r=[];try{for(var s=(0,en.XA)(this.equipmentNames),a=s.next();!a.done;a=s.next()){var c=a.value;this.equipmentChecklist.get(c.control).value&&r.push(c.name)}}catch(d){e={error:d}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}this.workoutService.addEquipmentGroup({name:this.equipmentChecklist.get("name").value,equipment:r}).then(function(){i.toastr.success("Equipment group added successfully"),i.bsModalRef.content.callback({name:i.equipmentChecklist.get("name").value,equipment:r}),i.bsModalRef.hide()}).catch(function(d){console.log(d),i.toastr.error("Error adding equipment group")})}},n.prototype.cancel=function(){null!=this.bsModalRef.content.callback&&(this.bsModalRef.content.callback(!1),this.bsModalRef.hide())},n.prototype.update=function(){var e=this;this.workoutService.deleteEquipmentGroup(this.equipment).then(function(){e.toastr.success("Equipment group deleted successfully")}).catch(function(t){console.log(t),e.toastr.error("Error deleting equipment group")})},n.prototype.delete=function(){var e,t,i=this,r=[];try{for(var s=(0,en.XA)(this.equipmentNames),a=s.next();!a.done;a=s.next()){var c=a.value;this.equipmentChecklist.get(c.control).value&&r.push(c.name),this.workoutService.deleteEquipmentGroup({name:this.equipmentChecklist.get("name").value,equipment:r}).then(function(){i.toastr.success("Equipment group deleted successfully"),i.bsModalRef.content.callback(!1),i.bsModalRef.hide()}).catch(function(d){console.log(d),i.toastr.error("Error deleting equipment group")})}}catch(d){e={error:d}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}},Object.defineProperty(n.prototype,"name",{get:function(){return this.equipmentChecklist.get("name")},enumerable:!1,configurable:!0}),n.\u0275fac=function(t){return new(t||n)(o.Y36(t_),o.Y36(qs),o.Y36(Ws),o.Y36(Si))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-equipment-modal"]],decls:23,vars:8,consts:[[1,"modal-header-1","text-center"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[4,"ngIf"],[1,"modal-body"],[3,"formGroup"],[1,"row"],[1,"col"],[1,"required"],["type","text","placeholder","Name","formControlName","name",1,"form-control"],["class","text-danger",4,"ngIf"],["class","form-check",4,"ngFor","ngForOf"],[1,"modal-footer","justify-content-between"],["type","button","class","btn btn-danger",3,"click",4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-success",3,"click"],[1,"text-danger"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"id","formControlName"],[1,"form-check-label",3,"for"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0)(1,"button",1),o.NdJ("click",function(){return i.cancel()}),o.TgZ(2,"span",2),o._uU(3,"\xd7"),o.qZA()(),o.YNc(4,O1t,2,0,"h4",3),o.YNc(5,F1t,2,0,"h4",3),o.qZA(),o.TgZ(6,"div",4)(7,"form",5)(8,"div",6)(9,"div",7)(10,"label",8),o._uU(11,"Equipment Group Name "),o.qZA(),o._UZ(12,"input",9),o.YNc(13,B1t,2,0,"small",10),o.qZA()(),o.YNc(14,U1t,5,6,"div",11),o.qZA()(),o.TgZ(15,"div",12)(16,"div"),o.YNc(17,j1t,2,0,"button",13),o.qZA(),o.TgZ(18,"div")(19,"button",14),o.NdJ("click",function(){return i.cancel()}),o._uU(20," Cancel "),o.qZA(),o.TgZ(21,"button",15),o.NdJ("click",function(){return i.submit()}),o._uU(22," Submit "),o.qZA()()()),2&t&&(o.xp6(4),o.Q6J("ngIf",!i.editing),o.xp6(1),o.Q6J("ngIf",i.editing),o.xp6(2),o.Q6J("formGroup",i.equipmentChecklist),o.xp6(5),o.ekj("is-invalid",i.name.invalid&&i.name.touched),o.xp6(1),o.Q6J("ngIf",i.name.invalid&&i.name.touched),o.xp6(1),o.Q6J("ngForOf",i.equipmentNames),o.xp6(3),o.Q6J("ngIf",i.editing))},dependencies:[S1,Zn,W4,sc,Um,oc,j4,J0,G5,Wi],data:{animation:[Oa("slideOutAnimation",[Y2(":enter",[on({height:0,opacity:0}),r2("0.4s ease-out",on({}))]),Y2(":leave",[on({}),r2("0.4s ease-in",on({height:0,opacity:0}))])])]}}),n}(),W1t=function(){function n(e){this.bsModalRef=e,this.object="item"}return n.prototype.ngOnInit=function(){},n.prototype.confirmDelete=function(){null!=this.bsModalRef.content.callback&&(this.bsModalRef.content.callback(!0),this.bsModalRef.hide())},n.prototype.cancelDelete=function(){null!=this.bsModalRef.content.callback&&(this.bsModalRef.content.callback(!1),this.bsModalRef.hide())},n.\u0275fac=function(t){return new(t||n)(o.Y36(t_))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-confirm-delete-modal"]],decls:10,vars:1,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-hidden","true",1,"close",3,"click"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0)(1,"h4",1),o._uU(2),o.qZA(),o.TgZ(3,"button",2),o.NdJ("click",function(){return i.cancelDelete()}),o._uU(4," \xd7 "),o.qZA()(),o.TgZ(5,"div",3)(6,"button",4),o.NdJ("click",function(){return i.cancelDelete()}),o._uU(7," Cancel "),o.qZA(),o.TgZ(8,"button",5),o.NdJ("click",function(){return i.confirmDelete()}),o._uU(9," Delete "),o.qZA()()),2&t&&(o.xp6(2),o.hij("Are you sure you want to delete this ",i.object,"?"))},encapsulation:2}),n}();const xte="400ms cubic-bezier(0.4,0.0,0.2,1)",Y1t=[on({height:0,visibility:"hidden"}),r2(xte,on({height:"*",visibility:"visible"}))],q1t=[on({height:"*",visibility:"visible"}),r2(xte,on({height:0,visibility:"hidden"}))];let G1t=(()=>{class n{constructor(t,i,r){this._el=t,this._renderer=i,this.collapsed=new o.vpe,this.collapses=new o.vpe,this.expanded=new o.vpe,this.expands=new o.vpe,this.isExpanded=!0,this.collapseNewValue=!0,this.isCollapsed=!1,this.isCollapse=!0,this.isCollapsing=!1,this.isAnimated=!1,this._display="block",this._stylesLoaded=!1,this._COLLAPSE_ACTION_NAME="collapse",this._EXPAND_ACTION_NAME="expand",this._factoryCollapseAnimation=r.build(q1t),this._factoryExpandAnimation=r.build(Y1t)}set display(t){this._display=t,"none"!==t?this.isAnimated?this.toggle():this.show():this.hide()}set collapse(t){this.collapseNewValue=t,(!this._player||this._isAnimationDone)&&(this.isExpanded=t,this.toggle())}get collapse(){return this.isExpanded}ngAfterViewChecked(){this._stylesLoaded=!0,this._player&&this._isAnimationDone&&(this._player.reset(),this._renderer.setStyle(this._el.nativeElement,"height","*"))}toggle(){this.isExpanded?this.hide():this.show()}hide(){this.isCollapsing=!0,this.isExpanded=!1,this.isCollapsed=!0,this.isCollapsing=!1,this.collapses.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._COLLAPSE_ACTION_NAME)(()=>{this._isAnimationDone=!0,this.collapseNewValue!==this.isCollapsed&&this.isAnimated?this.show():(this.collapsed.emit(this),this._renderer.setStyle(this._el.nativeElement,"display","none"))})}show(){this._renderer.setStyle(this._el.nativeElement,"display",this._display),this.isCollapsing=!0,this.isExpanded=!0,this.isCollapsed=!1,this.isCollapsing=!1,this.expands.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._EXPAND_ACTION_NAME)(()=>{this._isAnimationDone=!0,this.collapseNewValue!==this.isCollapsed&&this.isAnimated?this.hide():(this.expanded.emit(this),this._renderer.removeStyle(this._el.nativeElement,"overflow"))})}animationRun(t,i){if(!t||!this._stylesLoaded)return s=>s();this._renderer.setStyle(this._el.nativeElement,"overflow","hidden"),this._renderer.addClass(this._el.nativeElement,"collapse");const r=i===this._EXPAND_ACTION_NAME?this._factoryExpandAnimation:this._factoryCollapseAnimation;return this._player&&this._player.reset(),this._player=r.create(this._el.nativeElement),this._player.play(),s=>this._player?.onDone(s)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(Qm))},n.\u0275dir=o.lG2({type:n,selectors:[["","collapse",""]],hostVars:9,hostBindings:function(t,i){2&t&&(o.uIk("aria-hidden",i.isCollapsed),o.ekj("collapse",i.isCollapse)("in",i.isExpanded)("show",i.isExpanded)("collapsing",i.isCollapsing))},inputs:{display:"display",isAnimated:"isAnimated",collapse:"collapse"},outputs:{collapsed:"collapsed",collapses:"collapses",expanded:"expanded",expands:"expands"},exportAs:["bs-collapse"]}),n})(),Ste=(()=>{class n{static forRoot(){return{ngModule:n,providers:[]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const $1t=["*"],Z1t=function(n){return{"text-muted":n}};function K1t(n,e){if(1&n&&(o.TgZ(0,"button",7),o._uU(1),o.qZA()),2&n){const t=o.oxw();o.Q6J("ngClass",o.VKq(2,Z1t,t.isDisabled)),o.xp6(1),o.hij(" ",t.heading," ")}}const Q1t=[[["","accordion-heading",""]],"*"],J1t=["[accordion-heading]","*"];let X1t=(()=>{class n{constructor(){this.closeOthers=!1,this.isAnimated=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Tte=(()=>{class n{constructor(t){this.isAnimated=!1,this.closeOthers=!1,this.groups=[],Object.assign(this,t)}closeOtherPanels(t){this.closeOthers&&this.groups.forEach(i=>{i!==t&&(i.isOpen=!1)})}addGroup(t){t.isAnimated=this.isAnimated,this.groups.push(t)}removeGroup(t){const i=this.groups.indexOf(t);-1!==i&&this.groups.splice(i,1)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(X1t))},n.\u0275cmp=o.Xpm({type:n,selectors:[["accordion"]],hostAttrs:["role","tablist",1,"panel-group",2,"display","block"],hostVars:1,hostBindings:function(t,i){2&t&&o.uIk("aria-multiselectable",i.closeOthers)},inputs:{isAnimated:"isAnimated",closeOthers:"closeOthers"},ngContentSelectors:$1t,decls:1,vars:0,template:function(t,i){1&t&&(o.F$t(),o.Hsn(0))},encapsulation:2}),n})(),e2t=(()=>{class n{constructor(t){this.isAnimated=!1,this.panelClass="panel-default",this.isDisabled=!1,this.isOpenChange=new o.vpe,this._isOpen=!1,this.accordion=t}get isOpen(){return this._isOpen}set isOpen(t){t!==this.isOpen&&(t&&this.accordion.closeOtherPanels(this),this._isOpen=t,Promise.resolve(null).then(()=>{this.isOpenChange.emit(t)}))}ngOnInit(){this.accordion.addGroup(this)}ngOnDestroy(){this.accordion.removeGroup(this)}toggleOpen(){this.isDisabled||(this.isOpen=!this.isOpen)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Tte))},n.\u0275cmp=o.Xpm({type:n,selectors:[["accordion-group"],["accordion-panel"]],hostAttrs:[1,"panel",2,"display","block"],hostVars:2,hostBindings:function(t,i){2&t&&o.ekj("panel-open",i.isOpen)},inputs:{heading:"heading",panelClass:"panelClass",isDisabled:"isDisabled",isOpen:"isOpen"},outputs:{isOpenChange:"isOpenChange"},ngContentSelectors:J1t,decls:9,vars:6,consts:[[1,"panel","card",3,"ngClass"],["role","tab",1,"panel-heading","card-header",3,"ngClass","click"],[1,"panel-title"],["role","button",1,"accordion-toggle"],["class","btn btn-link","type","button",3,"ngClass",4,"ngIf"],["role","tabpanel",1,"panel-collapse","collapse",3,"collapse","isAnimated"],[1,"panel-body","card-block","card-body"],["type","button",1,"btn","btn-link",3,"ngClass"]],template:function(t,i){1&t&&(o.F$t(Q1t),o.TgZ(0,"div",0)(1,"div",1),o.NdJ("click",function(){return i.toggleOpen()}),o.TgZ(2,"div",2)(3,"div",3),o.YNc(4,K1t,2,4,"button",4),o.Hsn(5),o.qZA()()(),o.TgZ(6,"div",5)(7,"div",6),o.Hsn(8,1),o.qZA()()()),2&t&&(o.Q6J("ngClass",i.panelClass),o.xp6(1),o.Q6J("ngClass",i.isDisabled?"panel-disabled":"panel-enabled"),o.xp6(2),o.uIk("aria-expanded",i.isOpen),o.xp6(1),o.Q6J("ngIf",i.heading),o.xp6(2),o.Q6J("collapse",!i.isOpen)("isAnimated",i.isAnimated))},dependencies:[U1,Zn,G1t],styles:["[_nghost-%COMP%]   .card-header.panel-enabled[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .card-header.panel-disabled[_ngcontent-%COMP%]   .btn.btn-link[_ngcontent-%COMP%]{cursor:default;text-decoration:none}"]}),n})(),t2t=(()=>{class n{static forRoot(){return{ngModule:n,providers:[]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[qi,Ste]}),n})();function n2t(n,e){1&n&&(o.TgZ(0,"div",49)(1,"label"),o._uU(2,"New exercises that are added will be filtered by what equipment you have selected in your equipment group"),o.qZA()())}function i2t(n,e){if(1&n&&(o.TgZ(0,"option",50),o._uU(1),o.qZA()),2&n){var t=e.$implicit;o.Q6J("value",t.equipment),o.xp6(1),o.Oqu(t.name)}}function r2t(n,e){if(1&n&&(o.TgZ(0,"li",51),o._uU(1),o.ALo(2,"titlecase"),o.qZA()),2&n){var t=e.$implicit;o.xp6(1),o.Oqu(o.lcZ(2,1,t))}}function s2t(n,e){if(1&n){var t=o.EpF();o.TgZ(0,"button",52),o.NdJ("click",function(){o.CHM(t);var r=o.oxw();return o.KtG(r.deleteWorkout())}),o._uU(1,"Delete"),o.qZA()}}function o2t(n,e){if(1&n&&(o.TgZ(0,"div",53),o._UZ(1,"input",54),o.TgZ(2,"button",55),o._uU(3,"Done"),o.qZA()()),2&n){var t=o.oxw();o.xp6(1),o.ekj("is-invalid",t.name.invalid&&t.name.touched)}}function a2t(n,e){1&n&&(o.TgZ(0,"small",56),o._uU(1,"Name is required"),o.qZA())}function c2t(n,e){if(1&n){var t=o.EpF();o.TgZ(0,"h1",57),o._uU(1),o.TgZ(2,"fa-icon",58),o.NdJ("click",function(){o.CHM(t);var s=o.oxw();return o.KtG(s.editingName=!0)}),o.qZA()()}if(2&n){var i=o.oxw();o.xp6(1),o.hij("",i.name.value," "),o.xp6(1),o.Q6J("icon",i.faEdit)}}function l2t(n,e){1&n&&(o.TgZ(0,"div",59)(1,"span",60),o._uU(2,"Loading..."),o.qZA()())}function u2t(n,e){1&n&&(o.TgZ(0,"span"),o._uU(1,"\u25b2"),o.qZA())}function d2t(n,e){1&n&&(o.TgZ(0,"span"),o._uU(1,"\u25bc"),o.qZA())}function f2t(n,e){1&n&&(o.TgZ(0,"div",62)(1,"label"),o._uU(2,"New exercises that are added will be filtered by what equipment you have selected in your equipment group"),o.qZA()())}function h2t(n,e){if(1&n&&(o.TgZ(0,"option",50),o._uU(1),o.qZA()),2&n){var t=e.$implicit;o.Q6J("value",t.equipment),o.xp6(1),o.Oqu(t.name)}}function p2t(n,e){if(1&n&&(o.TgZ(0,"li",51),o._uU(1),o.ALo(2,"titlecase"),o.qZA()),2&n){var t=e.$implicit;o.xp6(1),o.Oqu(o.lcZ(2,1,t))}}function m2t(n,e){if(1&n){var t=o.EpF();o.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"h5"),o._uU(4,"Equipment Group "),o.TgZ(5,"fa-icon",7),o.NdJ("click",function(){o.CHM(t);var s=o.oxw();return o.KtG(s.showInfo=!s.showInfo)}),o.qZA()(),o.YNc(6,f2t,3,0,"div",61),o.TgZ(7,"div",9)(8,"select",10),o.NdJ("click",function(){o.CHM(t);var s=o.oxw();return o.KtG(s.showInfo=!1)})("change",function(){o.CHM(t);var s=o.oxw();return o.KtG(s.updateEquipmentList())}),o.TgZ(9,"option",11),o._uU(10,"Select Equipment Group"),o.qZA(),o.TgZ(11,"option",12),o._uU(12,"All"),o.qZA(),o.YNc(13,h2t,2,2,"option",13),o.qZA(),o.TgZ(14,"fa-icon",14),o.NdJ("click",function(){o.CHM(t);var s=o.oxw();return o.KtG(s.addEquipmentGroup())}),o.qZA()(),o._UZ(15,"hr"),o.TgZ(16,"div",15)(17,"fa-icon",16),o.NdJ("click",function(){o.CHM(t);var s=o.oxw();return o.KtG(s.editEquipmentGroup())}),o.qZA()(),o.TgZ(18,"ul",17),o.YNc(19,p2t,3,3,"li",18),o.qZA()()()()}if(2&n){var i=o.oxw();o.Q6J("@slideOutAnimation",void 0),o.xp6(2),o.Q6J("formGroup",i.workoutForm),o.xp6(3),o.Q6J("icon",i.faInfoCircle),o.xp6(1),o.Q6J("ngIf",i.showInfo),o.xp6(7),o.Q6J("ngForOf",i.equipmentGroups),o.xp6(1),o.Q6J("icon",i.faPlusCircle),o.xp6(3),o.Q6J("icon",i.faEdit),o.xp6(2),o.Q6J("ngForOf",i.equipment)}}function g2t(n,e){1&n&&(o.TgZ(0,"h4"),o._uU(1,"Exercises:"),o.qZA())}function _2t(n,e){if(1&n&&(o.TgZ(0,"li"),o._uU(1),o.qZA()),2&n){var t=o.oxw().$implicit;o.xp6(1),o.Oqu(t)}}function v2t(n,e){if(1&n&&(o.ynx(0),o.YNc(1,_2t,2,1,"li",37),o.BQk()),2&n){var t=e.last;o.xp6(1),o.Q6J("ngIf",!t)}}function y2t(n,e){if(1&n&&(o.TgZ(0,"p")(1,"strong"),o._uU(2,"Secondary Muscles: "),o.qZA(),o._uU(3),o.ALo(4,"titlecase"),o.qZA()),2&n){var t=o.oxw().$implicit;o.xp6(3),o.hij(" ",o.lcZ(4,1,t.value.secondaryMuscles)," ")}}function C2t(n,e){if(1&n){var t=o.EpF();o.TgZ(0,"li",85)(1,"span",86),o._uU(2),o.qZA(),o.TgZ(3,"span",87)(4,"fa-icon",88),o.NdJ("click",function(){var d=o.CHM(t).index,h=o.oxw().index,g=o.oxw();return o.KtG(g.removeExerciseAt(h,d))}),o.qZA()(),o._UZ(5,"hr"),o.TgZ(6,"strong"),o._uU(7,"Instructions: "),o.qZA(),o.TgZ(8,"ul",89),o.YNc(9,v2t,2,1,"ng-container",90),o.qZA(),o.YNc(10,y2t,5,3,"p",37),o._UZ(11,"hr"),o.TgZ(12,"div",91)(13,"div",92)(14,"div",5)(15,"div",93)(16,"label",94),o._uU(17,"Sets"),o.qZA(),o._UZ(18,"input",95),o.qZA(),o.TgZ(19,"div",96),o._uU(20," X "),o.qZA(),o.TgZ(21,"div",97)(22,"label",94),o._uU(23,"Reps"),o.qZA(),o._UZ(24,"input",98),o.qZA()()(),o.TgZ(25,"div",99)(26,"div",100),o._UZ(27,"textarea",101),o.qZA()()()()}if(2&n){var i=e.$implicit,r=e.index,s=o.oxw(2);o.Q6J("formGroupName",r),o.xp6(2),o.Oqu(i.value.name),o.xp6(2),o.Q6J("icon",s.faX),o.xp6(5),o.Q6J("ngForOf",i.value.instructions.split(".")),o.xp6(1),o.Q6J("ngIf",i.value.secondaryMuscles)}}function b2t(n,e){if(1&n){var t=o.EpF();o.TgZ(0,"button",102),o.NdJ("click",function(){o.CHM(t);var r=o.oxw().index,s=o.oxw();return o.KtG(s.addMuscleExerciseAt(r))}),o._uU(1,"Add Exercise"),o.qZA()}}function M2t(n,e){if(1&n){var t=o.EpF();o.TgZ(0,"accordion-group",63),o.ALo(1,"titlecase"),o.TgZ(2,"div",64)(3,"div",42)(4,"label"),o._uU(5,"Exercise Group Type"),o.qZA(),o.TgZ(6,"select",65),o.NdJ("change",function(){var c=o.CHM(t).index,d=o.oxw();return o.KtG(d.getExercises(c))}),o.TgZ(7,"option",66),o._uU(8,"Select Exercise Group Type"),o.qZA(),o.TgZ(9,"option",67),o._uU(10,"Cardio"),o.qZA(),o._UZ(11,"hr"),o.TgZ(12,"option",68),o._uU(13,"Abdominals"),o.qZA(),o.TgZ(14,"option",69),o._uU(15,"Back"),o.qZA(),o.TgZ(16,"option",70),o._uU(17,"Biceps"),o.qZA(),o.TgZ(18,"option",71),o._uU(19,"Calves"),o.qZA(),o.TgZ(20,"option",72),o._uU(21,"Chest"),o.qZA(),o.TgZ(22,"option",73),o._uU(23,"Glutes"),o.qZA(),o.TgZ(24,"option",74),o._uU(25,"Hamstrings"),o.qZA(),o.TgZ(26,"option",75),o._uU(27,"Quads"),o.qZA(),o.TgZ(28,"option",76),o._uU(29,"Shoulders"),o.qZA(),o.TgZ(30,"option",77),o._uU(31,"Triceps"),o.qZA()()()(),o.TgZ(32,"div",5)(33,"div",42),o.YNc(34,g2t,2,0,"h4",37),o.qZA()(),o.TgZ(35,"div",78)(36,"div",42)(37,"ol",79),o.YNc(38,C2t,28,5,"li",80),o.qZA()()(),o.TgZ(39,"div",81),o.YNc(40,b2t,2,0,"button",82),o.qZA(),o.TgZ(41,"div",83)(42,"button",84),o.NdJ("click",function(){var c=o.CHM(t).index,d=o.oxw();return o.KtG(d.removeGroupAt(c))}),o._uU(43,"Remove Group"),o.qZA()()()}if(2&n){var i=e.index,r=o.oxw();o.Q6J("heading",o.lcZ(1,6,r.getGroupAt(i).get("groupType").value))("isOpen","New Group"==r.getGroupAt(i).get("groupType").value)("formGroupName",i),o.xp6(34),o.Q6J("ngIf","New Group"!=r.getGroupAt(i).get("groupType").value),o.xp6(4),o.Q6J("ngForOf",r.getExercisesAt(i).controls),o.xp6(2),o.Q6J("ngIf","New Group"!=r.getGroupAt(i).get("groupType").value)}}var Dte=function(){function n(e,t,i,r,s,a,c,d,h){this.router=e,this.title=t,this.route=i,this.fb=r,this.authService=s,this.modalService=a,this.toastr=c,this.currentUser=d,this.workoutService=h,this.faEdit=qM,this.faX=jH,this.faInfoCircle=gH,this.faPlusCircle=ow,this.loading=!0,this.showInfo=!1,this.editingName=!0,this.editingWorkout=!1,this.hideEquipment=!1,this.exercises=[],this.equipmentGroups=[],this.equipment=[],this.workoutForm=this.fb.group({name:["",Ra.required],equipment_group_name:[""],equipment:["*"],description:[""],groups:this.fb.array([])})}return Object.defineProperty(n.prototype,"newGroup",{get:function(){return this.fb.group({groupType:["New Group"],exercises:this.fb.array([])})},enumerable:!1,configurable:!0}),n.prototype.newMuscleExercise=function(e,t,i){return void 0===e&&(e=""),void 0===t&&(t=""),void 0===i&&(i=""),this.fb.group({exerciseId:[""],name:e,instructions:[t],secondaryMuscles:[i],sets:[""],reps:[""],notes:[""]})},Object.defineProperty(n.prototype,"newCardioExercise",{get:function(){return this.fb.group({name:[""],distance:[""],duration:[""],incline:[""],calories_burned:[""]})},enumerable:!1,configurable:!0}),n.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe()},n.prototype.arrayEquals=function(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===t.length&&e.every(function(i,r){return i===t[r]})},n.prototype.ngOnInit=function(){var e=this;window.scroll({top:0,left:0,behavior:"smooth"}),this.workoutService.getEquipmentGroups().subscribe(function(t){e.equipmentGroups=t.equipmentGroups}),this.uid=this.route.snapshot.paramMap.get("uid"),this.uid?(this.workoutForm.reset(),this.title.setTitle("Edit Workout | FitHub"),this.subscription=this.workoutService.getWorkout(this.route.snapshot.paramMap.get("uid")).subscribe(function(t){var i,r,s,a;try{for(var c=(0,en.XA)(t.groups),d=c.next();!d.done;d=c.next()){var h=d.value;e.groups.push(e.newGroup);try{for(var g=(s=void 0,(0,en.XA)(h.exercises)),y=g.next();!y.done;y=g.next()){var M=y.value;e.getExercisesAt(e.groups.length-1).push(e.newMuscleExercise(M.name,M.instructions,M.secondaryMuscles))}}catch(S){s={error:S}}finally{try{y&&!y.done&&(a=g.return)&&a.call(g)}finally{if(s)throw s.error}}}}catch(S){i={error:S}}finally{try{d&&!d.done&&(r=c.return)&&r.call(c)}finally{if(i)throw i.error}}e.workoutForm.patchValue(t),e.editingWorkout=!0,e.loading=!1,e.editingName=!1,e.equipment=t.equipment,"*"==e.equipment[0]&&(e.equipment[0]="All Equipment Selected"),e.subscription.unsubscribe()})):(this.title.setTitle("Create Workout | FitHub"),this.loading=!1,this.addGroup(),this.updateEquipmentList())},n.prototype.addEquipmentGroup=function(){var e=this;this.modalRef=this.modalService.show(wte,{initialState:{callback:function(i){i&&(e.equipmentGroups.push(i),e.workoutForm.get("equipment").setValue(i.equipment.join(",")),e.updateEquipmentList())}},title:"modal",backdrop:"static",class:"modal-lg"})},n.prototype.editEquipmentGroup=function(){var e=this,t={initialState:{equipment:this.equipmentGroups.find(function(i){return e.arrayEquals(i.equipment,e.equipment)}),callback:function(i){i&&(e.equipmentGroups.push(i),e.workoutForm.get("equipment").setValue(i.equipment.join(",")),e.updateEquipmentList())}},title:"modal",backdrop:"static",class:"modal-lg"};this.modalRef=this.modalService.show(wte,t)},n.prototype.updateEquipmentList=function(){this.equipment="*"!=this.workoutForm.get("equipment").value?this.workoutForm.get("equipment").value.includes(",")?this.workoutForm.get("equipment").value.split(","):[this.workoutForm.get("equipment").value]:["All Equipment Selected"]},n.prototype.getExercises=function(e){var t=this;this.exercises=[],this.workoutService.getExercises(this.getGroupAt(e).get("groupType").value).get().subscribe(function(i){return i.forEach(function(r){t.exercises.push(r.data())})}),this.addMuscleExerciseAt(e)},n.prototype.addGroup=function(){this.groups.push(this.newGroup)},n.prototype.addMuscleExerciseAt=function(e){var t=this,i={initialState:{group:this.getGroupAt(e).get("groupType").value,equipment:this.workoutForm.get("equipment").value,callback:function(r){r&&(t.toastr.success("Added exercise to workout!"),t.getExercisesAt(e).push(t.newMuscleExercise(r.name,r.instructions.join(" "),r.secondaryMuscles.join(", ")))),t.equipment.includes("Body Only")&&t.equipment.splice(t.equipment.indexOf("Body Only"),1)}},title:"modal",backdrop:"static",class:"modal-lg"};this.modalRef=this.modalService.show(R1t,i)},n.prototype.addCardioExerciseAt=function(e){this.getExercisesAt(e).push(this.newCardioExercise)},n.prototype.removeExerciseAt=function(e,t){this.getExercisesAt(e).removeAt(t),this.toastr.error("Removed exercise from workout")},n.prototype.removeGroupAt=function(e){this.groups.removeAt(e),this.toastr.error("Removed group from workout")},n.prototype.saveWorkout=function(){var e=this;this.workoutForm.markAllAsTouched(),this.workoutForm.invalid?this.toastr.error("Please enter a name for your workout and add at least one exercise."):this.editingWorkout?this.workoutService.updateWorkout({uid:this.uid,workout:this.workoutForm.getRawValue()}).then(function(){e.toastr.success("Workout updated!"),e.router.navigate(["/my-workouts"])}):this.workoutService.newWorkout(this.workoutForm.getRawValue()).then(function(){e.toastr.success("Workout saved!"),e.router.navigate(["/my-workouts"])})},n.prototype.deleteWorkout=function(){var e=this;this.modalRef=this.modalService.show(W1t,{initialState:{object:"workout",callback:function(i){i&&e.workoutService.deleteWorkout(e.uid).then(function(){e.toastr.success("Workout deleted!"),e.router.navigate(["/my-workouts"])})}},title:"modal",backdrop:"static",class:"modal-lg"})},Object.defineProperty(n.prototype,"name",{get:function(){return this.workoutForm.get("name")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"groups",{get:function(){return this.workoutForm.get("groups")},enumerable:!1,configurable:!0}),n.prototype.getGroupAt=function(e){return this.groups.at(e)},n.prototype.getExercisesAt=function(e){return this.groups.at(e).get("exercises")},n.\u0275fac=function(t){return new(t||n)(o.Y36(c1),o.Y36(un),o.Y36(Ur),o.Y36(Ws),o.Y36(Dr),o.Y36(eh),o.Y36(Si),o.Y36(W2),o.Y36(qs))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-create-workout"]],decls:68,vars:20,consts:[[1,"row","main-bg"],[1,"col","d-none","d-xl-block","p-0","p-xl-1"],[1,"card"],[1,"card-header","text-center"],[1,"card-body"],[1,"row"],[1,"col",3,"formGroup"],["title","New exercises that are added will be filtered by what equipment you have selected in your equipment group",1,"text-primary",2,"cursor","pointer",3,"icon","click"],["class","card card-body bg-primary bg-gradient text-light rounded-5",4,"ngIf"],[1,"d-flex","align-bottom"],["formControlName","equipment",1,"form-select","mb-2",3,"click","change"],["value","","disabled",""],["selected","","value","*"],[3,"value",4,"ngFor","ngForOf"],["title","Add Equipment Group",1,"text-success","ps-1","m-auto",2,"cursor","pointer","font-size","1.2rem",3,"icon","click"],[1,"d-flex","justify-content-end"],["title","Edit Equipment Group",2,"cursor","pointer","font-size","1.2rem",3,"icon","click"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"col-12","col-xl-8","col-xxl-6","p-0"],[1,"card","min-vh-100"],[1,"row","justify-content-between"],[1,"col-auto"],["class","btn btn-danger",3,"click",4,"ngIf"],[1,"btn","btn-success",3,"click"],[3,"formGroup","ngSubmit"],[1,"row","justify-content-center","text-center"],[1,"col-8"],["class","input-group",4,"ngIf"],["class","mt-2","class","text-danger",4,"ngIf"],["class","display-4",4,"ngIf"],[1,"mb-5"],[1,"d-flex","justify-content-center","mb-3"],["class","spinner-border text-success","role","status",4,"ngIf"],[1,"col","d-block","d-xl-none","d-xl-block","p-0","p-xl-1","mb-3"],[1,"card-header","text-center",2,"cursor","pointer",3,"click"],[2,"float","right"],[4,"ngIf"],["class","card-body",4,"ngIf"],[3,"formGroup"],[1,"row","mb-4","justify-content-center"],["rows","2","cols","100","placeholder","Enter description here...","formControlName","description",1,"form-control"],[1,"col"],["formArrayName","groups",3,"isAnimated"],[3,"heading","isOpen","formGroupName",4,"ngFor","ngForOf"],[1,"row","mt-2","justify-content-center"],[1,"col-6","text-center"],["type","button",1,"btn","btn-lg","btn-primary",3,"click"],[1,"col","d-none","d-xxl-block"],[1,"card","card-body","bg-primary","bg-gradient","text-light","rounded-5"],[3,"value"],[1,"list-group-item"],[1,"btn","btn-danger",3,"click"],[1,"input-group"],["type","text","formControlName","name","placeholder","Enter Workout Name",1,"form-control","form-control-lg","text-center"],["type","submit",1,"btn","btn-outline-secondary"],[1,"text-danger"],[1,"display-4"],[2,"cursor","pointer","font-size","2rem",3,"icon","click"],["role","status",1,"spinner-border","text-success"],[1,"sr-only"],["class","card card-body bg-primary bg-gradient text-light rounded-5 mb-2",4,"ngIf"],[1,"card","card-body","bg-primary","bg-gradient","text-light","rounded-5","mb-2"],[3,"heading","isOpen","formGroupName"],[1,"row","mb-4"],["formControlName","groupType",1,"form-select","form-select-lg",3,"change"],["disabled","","value",""],["value","cardio"],["value","abdominals"],["value","back"],["value","biceps"],["value","calves"],["value","chest"],["value","glutes"],["value","hamstrings"],["value","quads"],["value","shoulders"],["value","triceps"],[1,"row","mb-2"],["formArrayName","exercises",1,"list-group","list-group-numbered"],["class","list-group-item",3,"formGroupName",4,"ngFor","ngForOf"],[1,"row","justify-content-center"],["class","col-auto btn btn-primary",3,"click",4,"ngIf"],[1,"row","justify-content-end","pe-2"],[1,"col-auto","btn","btn-sm","btn-danger",3,"click"],[1,"list-group-item",3,"formGroupName"],[1,"display-6"],[1,"float-end"],[2,"cursor","pointer","font-size","1.3rem",3,"icon","click"],[1,"mb-3"],[4,"ngFor","ngForOf"],[1,"row","justify-content-center","mt-3","mb-3"],[1,"col-12","col-lg-6"],[1,"col-4","mb-2","offset-2","col-xl-3"],[1,"fw-bold"],["type","number","min","1","formControlName","sets","placeholder","3",1,"form-control"],[1,"fw-bold","col-1","d-flex","flex-column","justify-content-center","text-center"],[1,"col-4","col-xl-3"],["type","number","min","1","formControlName","reps","placeholder","10",1,"form-control"],[1,"col-12","col-xl-6"],[1,""],["rows","3","formControlName","notes","placeholder","Notes",1,"form-control"],[1,"col-auto","btn","btn-primary",3,"click"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3"),o._uU(5,"Equipment"),o.qZA()(),o.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"h5"),o._uU(10,"Equipment Group "),o.TgZ(11,"fa-icon",7),o.NdJ("click",function(){return i.showInfo=!i.showInfo}),o.qZA()(),o.YNc(12,n2t,3,0,"div",8),o.TgZ(13,"div",9)(14,"select",10),o.NdJ("click",function(){return i.showInfo=!1})("change",function(){return i.updateEquipmentList()}),o.TgZ(15,"option",11),o._uU(16,"Select Equipment Group"),o.qZA(),o.TgZ(17,"option",12),o._uU(18,"All"),o.qZA(),o.YNc(19,i2t,2,2,"option",13),o.qZA(),o.TgZ(20,"fa-icon",14),o.NdJ("click",function(){return i.addEquipmentGroup()}),o.qZA()(),o._UZ(21,"hr"),o.TgZ(22,"div",15)(23,"fa-icon",16),o.NdJ("click",function(){return i.editEquipmentGroup()}),o.qZA()(),o.TgZ(24,"ul",17),o.YNc(25,r2t,3,3,"li",18),o.qZA()()()()()(),o.TgZ(26,"div",19)(27,"div",20)(28,"div",4)(29,"div",21)(30,"div",22),o.YNc(31,s2t,2,0,"button",23),o.qZA(),o.TgZ(32,"div",22)(33,"button",24),o.NdJ("click",function(){return i.saveWorkout()}),o._uU(34,"Save"),o.qZA()()(),o.TgZ(35,"form",25),o.NdJ("ngSubmit",function(){return i.editingName=!i.name.valid}),o.TgZ(36,"div",26)(37,"div",27),o.YNc(38,o2t,4,2,"div",28),o.YNc(39,a2t,2,0,"small",29),o.YNc(40,c2t,3,2,"h1",30),o.qZA()()(),o._UZ(41,"hr",31),o.TgZ(42,"span",32),o.YNc(43,l2t,3,0,"div",33),o.qZA(),o.TgZ(44,"div",34)(45,"div",2)(46,"div",35),o.NdJ("click",function(){return i.hideEquipment=!i.hideEquipment}),o.TgZ(47,"h3"),o._uU(48,"Equipment "),o.TgZ(49,"span",36),o.YNc(50,u2t,2,0,"span",37),o.YNc(51,d2t,2,0,"span",37),o.qZA()()(),o.YNc(52,m2t,20,8,"div",38),o.qZA()(),o.TgZ(53,"form",39)(54,"div",40)(55,"div",22)(56,"label"),o._uU(57,"Workout Description"),o.qZA(),o._UZ(58,"textarea",41),o.qZA()(),o.TgZ(59,"div",5)(60,"div",42)(61,"accordion",43),o.YNc(62,M2t,44,8,"accordion-group",44),o.qZA(),o.TgZ(63,"div",45)(64,"div",46)(65,"button",47),o.NdJ("click",function(){return i.addGroup()}),o._uU(66,"Add Workout Group +"),o.qZA()()()()()()()()(),o._UZ(67,"div",48),o.qZA()),2&t&&(o.xp6(8),o.Q6J("formGroup",i.workoutForm),o.xp6(3),o.Q6J("icon",i.faInfoCircle),o.xp6(1),o.Q6J("ngIf",i.showInfo),o.xp6(7),o.Q6J("ngForOf",i.equipmentGroups),o.xp6(1),o.Q6J("icon",i.faPlusCircle),o.xp6(3),o.Q6J("icon",i.faEdit),o.xp6(2),o.Q6J("ngForOf",i.equipment),o.xp6(6),o.Q6J("ngIf",i.editingWorkout),o.xp6(4),o.Q6J("formGroup",i.workoutForm),o.xp6(3),o.Q6J("ngIf",i.editingName),o.xp6(1),o.Q6J("ngIf",i.name.invalid&&i.name.touched),o.xp6(1),o.Q6J("ngIf",!i.editingName),o.xp6(3),o.Q6J("ngIf",i.loading),o.xp6(7),o.Q6J("ngIf",!i.hideEquipment),o.xp6(1),o.Q6J("ngIf",i.hideEquipment),o.xp6(1),o.Q6J("ngIf",!i.hideEquipment),o.xp6(1),o.Q6J("formGroup",i.workoutForm)("@slideOutAnimation",void 0),o.xp6(8),o.Q6J("isAnimated",!0),o.xp6(1),o.Q6J("ngForOf",i.groups.controls))},dependencies:[S1,Zn,W4,wM,xM,sc,CM,Km,oc,j4,SM,J0,G5,bM,MM,K4,Tte,e2t,Wi],styles:[".accordion-transition[_ngcontent-%COMP%]{transition:.3s ease-in-out}.btn-primary[_ngcontent-%COMP%]{color:#fff;background-color:#007715;border-color:#007715}.list-group-item[_ngcontent-%COMP%]{border-color:#007715;background-color:#f1fdf3}html[_ngcontent-%COMP%]{background-image:url(https://st3.depositphotos.com/1777306/16407/v/600/depositphotos_164077706-stock-illustration-seamless-pattern-fitness-and-sport.jpg);background-repeat:repeat;background-size:auto}.card[_ngcontent-%COMP%]{outline:none}"],data:{animation:[Oa("slideOutAnimation",[Y2(":enter",[on({height:0,opacity:0}),r2("0.4s ease-out",on({}))]),Y2(":leave",[on({}),r2("0.4s ease-in",on({height:0,opacity:0}))])])]}}),n}();function w2t(n,e){if(1&n&&(o.TgZ(0,"div",15)(1,"div",16)(2,"p",17),o._uU(3),o.qZA()()()),2&n){var t=e.$implicit;o.xp6(3),o.Oqu(t)}}function x2t(n,e){1&n&&(o.TgZ(0,"p"),o._uU(1,"You haven't made any posts yet."),o.qZA())}var S2t=function(){function n(e,t,i,r,s,a){this.location=e,this.route=t,this.title=i,this.authService=r,this.profileService=s,this.currentUser=a,this.profile=this.profileService.initProfile,this.userProfile=!1,this.isPrivate=!1,this.postText=""}return n.prototype.ngOnInit=function(){var e=this;this.title.setTitle("Create Post+ | FitHub"),this.route.paramMap.subscribe(function(t){e.urlProfileHandle=t.get("name"),e.loadProfileData(),e.title.setTitle("Create Post+ | FitHub")})},n.prototype.loadProfileData=function(){var e=this;this.urlProfileHandle==this.currentUser.user.profile.profileHandle?(this.profile=this.currentUser.user.profile,this.userProfile=!0):(this.userProfile=!1,this.profileService.getProfile(this.urlProfileHandle).ref.get().then(function(t){var i=t.data();e.profile.uid=i.uid,e.profile.profileHandle=i.profileHandle,e.profile.profileName=i.profileName,e.profile.age=i.age,e.profile.weight=i.weight,e.profile.heightFeet=i.heightFeet,e.profile.heightInches=i.heightInches,e.profile.sex=i.sex,e.profile.about=i.about,e.profile.followers=i.followers,e.profile.following=i.following,e.profile.posts=i.posts,e.profile.isPrivate=i.isPrivate,e.profile.profilePicture=i.profilePicture}))},n.prototype.getPost=function(){""!=document.getElementById("PostText").value?Z1.Z.firestore().collection("profiles").doc(this.profile.profileHandle).update({posts:Z1.Z.firestore.FieldValue.arrayUnion(document.getElementById("PostText").value)}):alert("You didn't enter any text. Don't worry, no post was created!"),document.getElementById("PostText").value=""},n.prototype.cancelPost=function(){""!=document.getElementById("PostText").value?confirm("Would you like to discard this post?")&&(document.getElementById("PostText").value="",confirm("Go back to your profile?")&&this.location.back()):confirm("Go back to your profile?")&&this.location.back()},n.\u0275fac=function(t){return new(t||n)(o.Y36(Oe),o.Y36(Ur),o.Y36(un),o.Y36(Dr),o.Y36(rc),o.Y36(W2))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-create-post"]],decls:22,vars:2,consts:[[1,"row","min-vh-100","main-bg"],[1,"container","py-5","h-100"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col","col-lg-9","col-xl-7"],[1,"card"],[1,"rounded-top","text-white","d-flex","flex-row",2,"background-color","#096A2E","height","50px"],[1,"input-group","input-group-sm"],["id","PostText","placeholder","What's on your mind?","aria-label","Post",1,"form-control"],[1,"card-body","p-4","text-black"],["type","button","id","editProfile","data-mdb-ripple-color","dark",1,"btn","btn-secondary","btn-active",2,"z-index","1",3,"click"],["type","button","id","editProfile","data-mdb-ripple-color","dark",1,"btn","btn-outline-success",2,"z-index","1",3,"click"],[1,"mb-3",2,"margin-top","50px"],[1,"lead","fw-normal","mb-0"],["class","card","style","width: 25rem; margin-bottom: 5px;",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"card",2,"width","25rem","margin-bottom","5px"],[1,"card-body"],[1,"card-text"]],template:function(t,i){1&t&&(o._UZ(0,"head"),o.TgZ(1,"body")(2,"div",0)(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"h5"),o._uU(9,"Create post+"),o.qZA()(),o.TgZ(10,"div",6),o._UZ(11,"textarea",7),o.qZA(),o.TgZ(12,"div",8)(13,"button",9),o.NdJ("click",function(){return i.getPost()}),o._uU(14," Post "),o.qZA(),o.TgZ(15,"button",10),o.NdJ("click",function(){return i.cancelPost()}),o._uU(16," Cancel "),o.qZA(),o.TgZ(17,"div",11)(18,"h1",12),o._uU(19,"Your current posts"),o.qZA(),o.YNc(20,w2t,4,1,"div",13),o.YNc(21,x2t,2,0,"p",14),o.qZA()()()()()()()()),2&t&&(o.xp6(20),o.Q6J("ngForOf",i.profile.posts),o.xp6(1),o.Q6J("ngIf",!i.profile.posts))},dependencies:[S1,Zn],styles:["h5[_ngcontent-%COMP%] {\n      text-align: center;\n      margin-top: 12px;\n    }"]}),n}(),kte=N(5032);const zte="@firebase/database";let ME="";function Hte(n){ME=n}class k2t{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,O.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,O.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class z2t{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,O.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const Lte=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new k2t(e)}}catch{}return new z2t},fu=Lte("localStorage"),wE=Lte("sessionStorage"),th=new ms.Yd("@firebase/database"),Ete=function(){let n=1;return function(){return n++}}(),Vte=function(n){const e=(0,O.dS)(n),t=new O.gQ;t.update(e);const i=t.digest();return O.US.encodeByteArray(i)},n_=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=n_.apply(null,i):e+="object"==typeof i?(0,O.Wl)(i):i,e+=" "}return e};let hu=null,Ite=!0;const Nte=function(n,e){(0,O.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(th.logLevel=ms.in.VERBOSE,hu=th.log.bind(th),e&&wE.set("logging_enabled",!0)):"function"==typeof n?hu=n:(hu=null,wE.remove("logging_enabled"))},er=function(...n){if(!0===Ite&&(Ite=!1,null===hu&&!0===wE.get("logging_enabled")&&Nte(!0)),hu){const e=n_.apply(null,n);hu(e)}},i_=function(n){return function(...e){er(n,...e)}},xE=function(...n){const e="FIREBASE INTERNAL ERROR: "+n_(...n);th.error(e)},_c=function(...n){const e=`FIREBASE FATAL ERROR: ${n_(...n)}`;throw th.error(e),new Error(e)},Lr=function(...n){const e="FIREBASE WARNING: "+n_(...n);th.warn(e)},mx=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},pl="[MIN_NAME]",u6="[MAX_NAME]",pu=function(n,e){if(n===e)return 0;if(n===pl||e===u6)return-1;if(e===pl||n===u6)return 1;{const t=Ote(n),i=Ote(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},L2t=function(n,e){return n===e?0:n<e?-1:1},r_=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,O.Wl)(e))},SE=function(n){if("object"!=typeof n||null===n)return(0,O.Wl)(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=(0,O.Wl)(e[i]),t+=":",t+=SE(n[e[i]]);return t+="}",t},Pte=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function tr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const Rte=function(n){(0,O.hu)(!mx(n),"Invalid JSON number");const i=1023;let r,s,a,c,d;0===n?(s=0,a=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(c=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=c+i,a=Math.round(n*Math.pow(2,52-c)-Math.pow(2,52))):(s=0,a=Math.round(n/Math.pow(2,-1074))));const h=[];for(d=52;d;d-=1)h.push(a%2?1:0),a=Math.floor(a/2);for(d=11;d;d-=1)h.push(s%2?1:0),s=Math.floor(s/2);h.push(r?1:0),h.reverse();const g=h.join("");let y="";for(d=0;d<64;d+=8){let M=parseInt(g.substr(d,8),2).toString(16);1===M.length&&(M="0"+M),y+=M}return y.toLowerCase()},N2t=new RegExp("^-?(0*)\\d{1,10}$"),Ote=function(n){if(N2t.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},nh=function(n){try{n()}catch(e){setTimeout(()=>{throw Lr("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},O2t=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},s_=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class F2t{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Lr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class B2t{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(er("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Lr(e)}}let o_=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const Wte=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Gte="websocket",$te="long_polling";class DE{constructor(e,t,i,r,s=!1,a="",c=!1,d=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=d,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=fu.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&fu.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Zte(n,e,t){let i;if((0,O.hu)("string"==typeof e,"typeof type must == string"),(0,O.hu)("object"==typeof t,"typeof params must == object"),e===Gte)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==$te)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function U2t(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return tr(t,(s,a)=>{r.push(s+"="+a)}),i+r.join("&")}class j2t{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,O.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,O.p$)(this.counters_)}}const kE={},zE={};function AE(n){const e=n.toString();return kE[e]||(kE[e]=new j2t),kE[e]}class Y2t{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&nh(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class ml{constructor(e,t,i,r,s,a,c){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=a,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=i_(e),this.stats_=AE(t),this.urlFn=d=>(this.appCheckToken&&(d.ac=this.appCheckToken),Zte(t,$te,d))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Y2t(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,O.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new HE((...s)=>{const[a,c,d,h,g]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===a)this.id=c,this.password=d;else{if("close"!==a)throw new Error("Unrecognized command received: "+a);c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[a,c]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(a,c)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Wte.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ml.forceAllow_=!0}static forceDisallow(){ml.forceDisallow_=!0}static isAvailable(){return!((0,O.Yr)()||!ml.forceAllow_&&(ml.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,O.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=(0,O.h$)(t),r=Pte(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,O.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,O.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class HE{constructor(e,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,O.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=Ete(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=HE.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(c){er("frame writing exception"),c.stack&&er(c.stack),er(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||er("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const a=this.pendingSegs.shift();i=i+"&seg"+r+"="+a.seg+"&ts"+r+"="+a.ts+"&d"+r+"="+a.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){(0,O.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{er("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let _x=null;typeof MozWebSocket<"u"?_x=MozWebSocket:typeof WebSocket<"u"&&(_x=WebSocket);let ih=(()=>{class n{constructor(t,i,r,s,a,c,d){this.connId=t,this.applicationId=r,this.appCheckToken=s,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=i_(this.connId),this.stats_=AE(i),this.connURL=n.connectionURL_(i,c,d,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,s,a){const c={v:"5"};return!(0,O.Yr)()&&typeof location<"u"&&location.hostname&&Wte.test(location.hostname)&&(c.r="f"),i&&(c.s=i),r&&(c.ls=r),s&&(c.ac=s),a&&(c.p=a),Zte(t,Gte,c)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,fu.set("previous_websocket_failure",!0);try{let r;if((0,O.Yr)()){r={headers:{"User-Agent":`Firebase/5/${ME}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const a=process.env,c=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;c&&(r.proxy={origin:c})}this.mySock=new _x(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==_x&&!n.forceDisallow_}static previouslyFailed(){return fu.isInMemoryStorage||!0===fu.get("previous_websocket_failure")}markConnectionHealthy(){fu.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,O.cI)(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,O.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=(0,O.Wl)(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=Pte(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),nne=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[ml,ih]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=ih&&ih.isAvailable();let r=i&&!ih.previouslyFailed();if(t.webSocketOnly&&(i||Lr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ih];else{const s=this.transports_=[];for(const a of n.ALL_TRANSPORTS)a&&a.isAvailable()&&s.push(a);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class lne{constructor(e,t,i,r,s,a,c,d,h,g){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=a,this.onReady_=c,this.onDisconnect_=d,this.onKill_=h,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=i_("c:"+this.id+":"),this.transportManager_=new nne(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=s_(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=r_("t",e),i=r_("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=r_("t",e),i=r_("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=r_("t",e);if("d"in e){const i=e.d;if("h"===t){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?xE("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):xE("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&Lr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),s_(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):s_(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(fu.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class une{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class dne{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,O.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===t&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(e){(0,O.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class vx extends dne{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,O.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new vx}getInitialEvent(e){return(0,O.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const fne=32,hne=768;class k1{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function v1(){return new k1("")}function In(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function gl(n){return n.pieces_.length-n.pieceNum_}function K1(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new k1(n.pieces_,e)}function EE(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function a_(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function pne(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new k1(e,0)}function I2(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof k1)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new k1(t,0)}function Nn(n){return n.pieceNum_>=n.pieces_.length}function rs(n,e){const t=In(n),i=In(e);if(null===t)return e;if(t===i)return rs(K1(n),K1(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function hit(n,e){const t=a_(n,0),i=a_(e,0);for(let r=0;r<t.length&&r<i.length;r++){const s=pu(t[r],i[r]);if(0!==s)return s}return t.length===i.length?0:t.length<i.length?-1:1}function VE(n,e){if(gl(n)!==gl(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function Fo(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(gl(n)>gl(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class pit{constructor(e,t){this.errorPrefix_=t,this.parts_=a_(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,O.ug)(this.parts_[i]);mne(this)}}function mne(n){if(n.byteLength_>hne)throw new Error(n.errorPrefix_+"has a key path longer than "+hne+" bytes ("+n.byteLength_+").");if(n.parts_.length>fne)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+fne+") or object contains a cycle "+mu(n))}function mu(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class IE extends dne{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new IE}getInitialEvent(e){return(0,O.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const c_=1e3;let Cx,gu=(()=>{class n extends une{constructor(t,i,r,s,a,c,d,h){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=a,this.authTokenProvider_=c,this.appCheckTokenProvider_=d,this.authOverride_=h,this.id=n.nextPersistentConnectionId_++,this.log_=i_("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=c_,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,h&&!(0,O.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");IE.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&vx.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const s=++this.requestNumber_,a={r:s,a:t,b:i};this.log_((0,O.Wl)(a)),(0,O.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),r&&(this.requestCBHash_[s]=r)}get(t){this.initConnection_();const i=new O.BH,s={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:c=>{const d=c.d;"ok"===c.s?i.resolve(d):i.reject(d)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(t,i,r,s){this.initConnection_();const a=t._queryIdentifier,c=t._path.toString();this.log_("Listen called for "+c+" "+a),this.listens.has(c)||this.listens.set(c,new Map),(0,O.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,O.hu)(!this.listens.get(c).has(a),"listen() called twice for same path/queryId.");const d={onComplete:s,hashFn:i,query:t,tag:r};this.listens.get(c).set(a,d),this.connected_&&this.sendListen_(d)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const a={p:r};t.tag&&(a.q=i._queryObject,a.t=t.tag),a.h=t.hashFn(),this.sendRequest("q",a,d=>{const h=d.d,g=d.s;n.warnOnListenWarnings_(h,i),(this.listens.get(r)&&this.listens.get(r).get(s))===t&&(this.log_("listen response",d),"ok"!==g&&this.removeListen_(r,s),t.onComplete&&t.onComplete(g,h))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&(0,O.r3)(t,"w")){const r=(0,O.DV)(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',a=i._path.toString();Lr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,O.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=(0,O.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const a=s.s,c=s.d||"error";this.authToken_===t&&("ok"===a?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,O.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,t._queryObject,i)}sendUnlisten_(t,i,r,s){this.log_("Unlisten on "+t+" for "+i);const a={p:t};s&&(a.q=r,a.t=s),this.sendRequest("n",a)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,s){const a={p:i,d:r};this.log_("onDisconnect "+t,a),this.sendRequest(t,a,c=>{s&&setTimeout(()=>{s(c.s,c.d)},Math.floor(0))})}put(t,i,r,s){this.putInternal("p",t,i,r,s)}merge(t,i,r,s){this.putInternal("m",t,i,r,s)}putInternal(t,i,r,s,a){this.initConnection_();const c={p:i,d:r};void 0!==a&&(c.h=a),this.outstandingPuts_.push({action:t,request:c,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,a=>{this.log_(i+" response",a),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(a.s,a.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,O.Wl)(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):xE("Unrecognized action received from server: "+(0,O.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,O.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=c_,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=c_,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=c_),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,De.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),a=t.id+":"+n.nextConnectionId_++,c=t.lastSessionId;let d=!1,h=null;const g=function(){h?h.close():(d=!0,s())};t.realtime_={close:g,sendRequest:function(S){(0,O.hu)(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(S)}};const M=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[S,k]=yield Promise.all([t.authTokenProvider_.getToken(M),t.appCheckTokenProvider_.getToken(M)]);d?er("getToken() completed but was canceled"):(er("getToken() completed. Creating connection."),t.authToken_=S&&S.accessToken,t.appCheckToken_=k&&k.token,h=new lne(a,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,s,A=>{Lr(A+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},c))}catch(S){t.log_("Failed to get token: "+S),d||(t.repoInfo_.nodeAdmin&&Lr(S),g())}}})()}interrupt(t){er("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){er("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,O.xb)(this.interruptReasons_)&&(this.reconnectDelay_=c_,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(a=>SE(a)).join("$"):"default";const s=this.removeListen_(t,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,i){const r=new k1(t).toString();let s;if(this.listens.has(r)){const a=this.listens.get(r);s=a.get(i),a.delete(i),0===a.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(t,i){er("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){er("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";(0,O.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+i+"."+ME.replace(/\./g,"-")]=1,(0,O.uI)()?t["framework.cordova"]=1:(0,O.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=vx.getInstance().currentlyOnline();return(0,O.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Bn{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Bn(e,t)}}class yx{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new Bn(pl,e),r=new Bn(pl,t);return 0!==this.compare(i,r)}minPost(){return Bn.MIN}}class vne extends yx{static get __EMPTY_NODE(){return Cx}static set __EMPTY_NODE(e){Cx=e}compare(e,t){return pu(e.name,t.name)}isDefinedOn(e){throw(0,O.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Bn.MIN}maxPost(){return new Bn(u6,Cx)}makePost(e,t){return(0,O.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Bn(e,Cx)}toString(){return".key"}}const vc=new vne;class bx{constructor(e,t,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,r&&(a*=-1),a<0)e=this.isReverse_?e.left:e.right;else{if(0===a){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let PE,Wa=(()=>{class n{constructor(t,i,r,s,a){this.key=t,this.value=i,this.color=r??n.RED,this.left=s??ws.EMPTY_NODE,this.right=a??ws.EMPTY_NODE}copy(t,i,r,s,a){return new n(t??this.key,i??this.value,r??this.color,s??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let s=this;const a=r(t,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(t,i,r),null):0===a?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(t,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return ws.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,s;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return ws.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class ws{constructor(e,t=ws.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new ws(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Wa.BLACK,null,null))}remove(e){return new ws(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Wa.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new bx(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new bx(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new bx(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new bx(this.root_,null,this.comparator_,!0,e)}}function Mit(n,e){return pu(n.name,e.name)}function NE(n,e){return pu(n,e)}ws.EMPTY_NODE=new class bit{copy(e,t,i,r,s){return this}insert(e,t,i){return new Wa(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const yne=function(n){return"number"==typeof n?"number:"+Rte(n):"string:"+n},Cne=function(n){if(n.isLeafNode()){const e=n.val();(0,O.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,O.r3)(e,".sv"),"Priority must be a string or number.")}else(0,O.hu)(n===PE||n.isEmpty(),"priority of unexpected type.");(0,O.hu)(n===PE||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let bne,Mne,wne,rh=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,(0,O.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Cne(this.priorityNode_)}static set __childrenNodeConstructor(t){bne=t}static get __childrenNodeConstructor(){return bne}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Nn(t)?this:".priority"===In(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=In(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,O.hu)(".priority"!==r||1===gl(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(K1(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+yne(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?Rte(this.value_):this.value_,this.lazyHash_=Vte(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,O.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),a=n.VALUE_TYPE_ORDER.indexOf(r);return(0,O.hu)(s>=0,"Unknown leaf type: "+i),(0,O.hu)(a>=0,"Unknown leaf type: "+r),s===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-s}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const c2=new class Tit extends yx{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),s=i.compareTo(r);return 0===s?pu(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Bn.MIN}maxPost(){return new Bn(u6,new rh("[PRIORITY-POST]",wne))}makePost(e,t){const i=Mne(e);return new Bn(t,new rh("[PRIORITY-POST]",i))}toString(){return".priority"}},Dit=Math.log(2);class kit{constructor(e){this.count=parseInt(Math.log(e+1)/Dit,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Mx=function(n,e,t,i){n.sort(e);const r=function(d,h){const g=h-d;let y,M;if(0===g)return null;if(1===g)return y=n[d],M=t?t(y):y,new Wa(M,y.node,Wa.BLACK,null,null);{const S=parseInt(g/2,10)+d,k=r(d,S),A=r(S+1,h);return y=n[S],M=t?t(y):y,new Wa(M,y.node,Wa.BLACK,k,A)}},c=function(d){let h=null,g=null,y=n.length;const M=function(k,A){const L=y-k,B=y;y-=k;const G=r(L+1,B),X=n[L],te=t?t(X):X;S(new Wa(te,X.node,A,null,G))},S=function(k){h?(h.left=k,h=k):(g=k,h=k)};for(let k=0;k<d.count;++k){const A=d.nextBitIsOne(),L=Math.pow(2,d.count-(k+1));A?M(L,Wa.BLACK):(M(L,Wa.BLACK),M(L,Wa.RED))}return g}(new kit(n.length));return new ws(i||e,c)};let RE;const sh={};class d6{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,O.hu)(sh&&c2,"ChildrenNode.ts has not been loaded"),RE=RE||new d6({".priority":sh},{".priority":c2}),RE}get(e){const t=(0,O.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof ws?t:null}hasIndex(e){return(0,O.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,O.hu)(e!==vc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=t.getIterator(Bn.Wrap);let c,a=s.getNext();for(;a;)r=r||e.isDefinedOn(a.node),i.push(a),a=s.getNext();c=r?Mx(i,e.getCompare()):sh;const d=e.toString(),h=Object.assign({},this.indexSet_);h[d]=e;const g=Object.assign({},this.indexes_);return g[d]=c,new d6(g,h)}addToIndexes(e,t){const i=(0,O.UI)(this.indexes_,(r,s)=>{const a=(0,O.DV)(this.indexSet_,s);if((0,O.hu)(a,"Missing index implementation for "+s),r===sh){if(a.isDefinedOn(e.node)){const c=[],d=t.getIterator(Bn.Wrap);let h=d.getNext();for(;h;)h.name!==e.name&&c.push(h),h=d.getNext();return c.push(e),Mx(c,a.getCompare())}return sh}{const c=t.get(e.name);let d=r;return c&&(d=d.remove(new Bn(e.name,c))),d.insert(e,e.node)}});return new d6(i,this.indexSet_)}removeFromIndexes(e,t){const i=(0,O.UI)(this.indexes_,r=>{if(r===sh)return r;{const s=t.get(e.name);return s?r.remove(new Bn(e.name,s)):r}});return new d6(i,this.indexSet_)}}let l_,zn=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Cne(this.priorityNode_),this.children_.isEmpty()&&(0,O.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return l_||(l_=new n(new ws(NE),null,d6.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||l_}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?l_:i}}getChild(t){const i=In(t);return null===i?this:this.getImmediateChild(i).getChild(K1(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if((0,O.hu)(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new Bn(t,i);let s,a;i.isEmpty()?(s=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(t,i),a=this.indexMap_.addToIndexes(r,this.children_));const c=s.isEmpty()?l_:this.priorityNode_;return new n(s,c,a)}}updateChild(t,i){const r=In(t);if(null===r)return i;{(0,O.hu)(".priority"!==In(t)||1===gl(t),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(K1(t),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,s=0,a=!0;if(this.forEachChild(c2,(c,d)=>{i[c]=d.val(t),r++,a&&n.INTEGER_REGEXP_.test(c)?s=Math.max(s,Number(c)):a=!1}),!t&&a&&s<2*r){const c=[];for(const d in i)c[d]=i[d];return c}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+yne(this.getPriority().val())+":"),this.forEachChild(c2,(i,r)=>{const s=r.hash();""!==s&&(t+=":"+i+":"+s)}),this.lazyHash_=""===t?"":Vte(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const s=this.resolveIndex_(r);if(s){const a=s.getPredecessorKey(new Bn(t,i));return a?a.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new Bn(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new Bn(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,Bn.Wrap);let a=s.peek();for(;null!=a&&i.compare(a,t)<0;)s.getNext(),a=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,Bn.Wrap);let a=s.peek();for(;null!=a&&i.compare(a,t)>0;)s.getNext(),a=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===u_?-1:0}withIndex(t){if(t===vc||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===vc||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(c2),s=i.getIterator(c2);let a=r.getNext(),c=s.getNext();for(;a&&c;){if(a.name!==c.name||!a.node.equals(c.node))return!1;a=r.getNext(),c=s.getNext()}return null===a&&null===c}return!1}return!1}}resolveIndex_(t){return t===vc?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const u_=new class zit extends zn{constructor(){super(new ws(NE),zn.EMPTY_NODE,d6.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return zn.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Bn,{MIN:{value:new Bn(pl,zn.EMPTY_NODE)},MAX:{value:new Bn(u6,u_)}}),vne.__EMPTY_NODE=zn.EMPTY_NODE,rh.__childrenNodeConstructor=zn,function wit(n){PE=n}(u_),function Sit(n){wne=n}(u_);const Ait=!0;function G2(n,e=null){if(null===n)return zn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,O.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new rh(n,G2(e));if(n instanceof Array||!Ait){let t=zn.EMPTY_NODE;return tr(n,(i,r)=>{if((0,O.r3)(n,i)&&"."!==i.substring(0,1)){const s=G2(r);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(i,s))}}),t.updatePriority(G2(e))}{const t=[];let i=!1;if(tr(n,(a,c)=>{if("."!==a.substring(0,1)){const d=G2(c);d.isEmpty()||(i=i||!d.getPriority().isEmpty(),t.push(new Bn(a,d)))}}),0===t.length)return zn.EMPTY_NODE;const s=Mx(t,Mit,a=>a.name,NE);if(i){const a=Mx(t,c2.getCompare());return new zn(s,G2(e),new d6({".priority":a},{".priority":c2}))}return new zn(s,G2(e),d6.Default)}}!function xit(n){Mne=n}(G2);class OE extends yx{constructor(e){super(),this.indexPath_=e,(0,O.hu)(!Nn(e)&&".priority"!==In(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),s=i.compareTo(r);return 0===s?pu(e.name,t.name):s}makePost(e,t){const i=G2(e),r=zn.EMPTY_NODE.updateChild(this.indexPath_,i);return new Bn(t,r)}maxPost(){const e=zn.EMPTY_NODE.updateChild(this.indexPath_,u_);return new Bn(u6,e)}toString(){return a_(this.indexPath_,0).join("/")}}const FE=new class Hit extends yx{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?pu(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Bn.MIN}maxPost(){return Bn.MAX}makePost(e,t){const i=G2(e);return new Bn(t,i)}toString(){return".value"}};function xne(n){return{type:"value",snapshotNode:n}}function oh(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function d_(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function f_(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class BE{constructor(e){this.index_=e}updateChild(e,t,i,r,s,a){(0,O.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=e.getImmediateChild(t);return c.getChild(r).equals(i.getChild(r))&&c.isEmpty()===i.isEmpty()||(null!=a&&(i.isEmpty()?e.hasChild(t)?a.trackChildChange(d_(t,c)):(0,O.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?a.trackChildChange(oh(t,i)):a.trackChildChange(f_(t,i,c))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return null!=i&&(e.isLeafNode()||e.forEachChild(c2,(r,s)=>{t.hasChild(r)||i.trackChildChange(d_(r,s))}),t.isLeafNode()||t.forEachChild(c2,(r,s)=>{if(e.hasChild(r)){const a=e.getImmediateChild(r);a.equals(s)||i.trackChildChange(f_(r,s,a))}else i.trackChildChange(oh(r,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?zn.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class h_{constructor(e){this.indexedFilter_=new BE(e.getIndex()),this.index_=e.getIndex(),this.startPost_=h_.getStartPost_(e),this.endPost_=h_.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&i}updateChild(e,t,i,r,s,a){return this.matches(new Bn(t,i))||(i=zn.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,s,a)}updateFullNode(e,t,i){t.isLeafNode()&&(t=zn.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(zn.EMPTY_NODE);const s=this;return t.forEachChild(c2,(a,c)=>{s.matches(new Bn(a,c))||(r=r.updateImmediateChild(a,zn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class Eit{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{const i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new h_(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,r,s,a){return this.rangedFilter_.matches(new Bn(t,i))||(i=zn.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,s,a):this.fullLimitUpdateChild_(e,t,i,s,a)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=zn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let s;r=zn.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;s.hasNext()&&a<this.limit_;){const c=s.getNext();if(this.withinDirectionalStart(c)){if(!this.withinDirectionalEnd(c))break;r=r.updateImmediateChild(c.name,c.node),a++}}}else{let s;r=t.withIndex(this.index_),r=r.updatePriority(zn.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let a=0;for(;s.hasNext();){const c=s.getNext();a<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?a++:r=r.updateImmediateChild(c.name,zn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,s){let a;if(this.reverse_){const y=this.index_.getCompare();a=(M,S)=>y(S,M)}else a=this.index_.getCompare();const c=e;(0,O.hu)(c.numChildren()===this.limit_,"");const d=new Bn(t,i),h=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),g=this.rangedFilter_.matches(d);if(c.hasChild(t)){const y=c.getImmediateChild(t);let M=r.getChildAfterChild(this.index_,h,this.reverse_);for(;null!=M&&(M.name===t||c.hasChild(M.name));)M=r.getChildAfterChild(this.index_,M,this.reverse_);const S=null==M?1:a(M,d);if(g&&!i.isEmpty()&&S>=0)return s?.trackChildChange(f_(t,i,y)),c.updateImmediateChild(t,i);{s?.trackChildChange(d_(t,y));const A=c.updateImmediateChild(t,zn.EMPTY_NODE);return null!=M&&this.rangedFilter_.matches(M)?(s?.trackChildChange(oh(M.name,M.node)),A.updateImmediateChild(M.name,M.node)):A}}return i.isEmpty()?e:g&&a(h,d)>=0?(null!=s&&(s.trackChildChange(d_(h.name,h.node)),s.trackChildChange(oh(t,i))),c.updateImmediateChild(t,i).updateImmediateChild(h.name,zn.EMPTY_NODE)):e}}class wx{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=c2}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,O.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,O.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:pl}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,O.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,O.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:u6}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,O.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===c2}copy(){const e=new wx;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function UE(n,e,t){const i=n.copy();return i.startSet_=!0,void 0===e&&(e=null),i.indexStartValue_=e,null!=t?(i.startNameSet_=!0,i.indexStartName_=t):(i.startNameSet_=!1,i.indexStartName_=""),i}function jE(n,e,t){const i=n.copy();return i.endSet_=!0,void 0===e&&(e=null),i.indexEndValue_=e,void 0!==t?(i.endNameSet_=!0,i.indexEndName_=t):(i.endNameSet_=!1,i.indexEndName_=""),i}function xx(n,e){const t=n.copy();return t.index_=e,t}function Sne(n){const e={};if(n.isDefault())return e;let t;if(n.index_===c2?t="$priority":n.index_===FE?t="$value":n.index_===vc?t="$key":((0,O.hu)(n.index_ instanceof OE,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,O.Wl)(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=(0,O.Wl)(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+(0,O.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=(0,O.Wl)(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+(0,O.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function Tne(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==c2&&(e.i=n.index_.toString()),e}class Sx extends une{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=i_("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,O.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const a=Sx.getListenId_(e,i),c={};this.listens_[a]=c;const d=Sne(e._queryParams);this.restRequest_(s+".json",d,(h,g)=>{let y=g;if(404===h&&(y=null,h=null),null===h&&this.onDataUpdate_(s,y,!1,i),(0,O.DV)(this.listens_,a)===c){let M;M=h?401===h?"permission_denied":"rest_error:"+h:"ok",r(M,null)}})}unlisten(e,t){const i=Sx.getListenId_(e,t);delete this.listens_[i]}get(e){const t=Sne(e._queryParams),i=e._path.toString(),r=new O.BH;return this.restRequest_(i+".json",t,(s,a)=>{let c=a;404===s&&(c=null,s=null),null===s?(this.onDataUpdate_(i,c,!1,null),r.resolve(c)):r.reject(new Error(c))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(t.auth=r.accessToken),s&&s.token&&(t.ac=s.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,O.xO)(t);this.log_("Sending REST request for "+a);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(i&&4===c.readyState){this.log_("REST Response for "+a+" received. status:",c.status,"response:",c.responseText);let d=null;if(c.status>=200&&c.status<300){try{d=(0,O.cI)(c.responseText)}catch{Lr("Failed to parse JSON response for "+a+": "+c.responseText)}i(null,d)}else 401!==c.status&&404!==c.status&&Lr("Got unsuccessful REST response for "+a+" Status: "+c.status),i(c.status);i=null}},c.open("GET",a,!0),c.send()})}}class Oit{constructor(){this.rootNode_=zn.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Tx(){return{value:null,children:new Map}}function ah(n,e,t){if(Nn(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=In(e);n.children.has(i)||n.children.set(i,Tx()),ah(n.children.get(i),e=K1(e),t)}}function WE(n,e){if(Nn(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(c2,(i,r)=>{ah(n,new k1(i),r)}),WE(n,e)}}if(n.children.size>0){const t=In(e);return e=K1(e),n.children.has(t)&&WE(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function YE(n,e,t){null!==n.value?t(e,n.value):function Fit(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{YE(r,new k1(e.toString()+"/"+i),t)})}class Bit{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&tr(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class Wit{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Bit(e);const i=1e4+2e4*Math.random();s_(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;tr(e,(r,s)=>{s>0&&(0,O.r3)(this.statsToReport_,r)&&(t[r]=s,i=!0)}),i&&this.server_.reportStats(t),s_(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Bo=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Bo||(Bo={})),Bo))();function $E(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Dx{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=Bo.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Nn(this.path)){if(null!=this.affectedTree.value)return(0,O.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new k1(e));return new Dx(v1(),t,this.revert)}}return(0,O.hu)(In(this.path)===e,"operationForChild called for unrelated child."),new Dx(K1(this.path),this.affectedTree,this.revert)}}class p_{constructor(e,t){this.source=e,this.path=t,this.type=Bo.LISTEN_COMPLETE}operationForChild(e){return Nn(this.path)?new p_(this.source,v1()):new p_(this.source,K1(this.path))}}class _u{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=Bo.OVERWRITE}operationForChild(e){return Nn(this.path)?new _u(this.source,v1(),this.snap.getImmediateChild(e)):new _u(this.source,K1(this.path),this.snap)}}class ch{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=Bo.MERGE}operationForChild(e){if(Nn(this.path)){const t=this.children.subtree(new k1(e));return t.isEmpty()?null:t.value?new _u(this.source,v1(),t.value):new ch(this.source,v1(),t)}return(0,O.hu)(In(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ch(this.source,K1(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class _l{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Nn(e))return this.isFullyInitialized()&&!this.filtered_;const t=In(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Yit{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function m_(n,e,t,i,r,s){const a=i.filter(c=>c.type===t);a.sort((c,d)=>function $it(n,e,t){if(null==e.childName||null==t.childName)throw(0,O.g5)("Should only compare child_ events.");const i=new Bn(e.childName,e.snapshotNode),r=new Bn(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,c,d)),a.forEach(c=>{const d=function Git(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,c,s);r.forEach(h=>{h.respondsTo(c.type)&&e.push(h.createEvent(d,n.query_))})})}function kx(n,e){return{eventCache:n,serverCache:e}}function g_(n,e,t,i){return kx(new _l(e,t,i),n.serverCache)}function kne(n,e,t,i){return kx(n.eventCache,new _l(e,t,i))}function zx(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function vu(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let ZE;class l2{constructor(e,t=(()=>(ZE||(ZE=new ws(L2t)),ZE))()){this.value=e,this.children=t}static fromObject(e){let t=new l2(null);return tr(e,(i,r)=>{t=t.set(new k1(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:v1(),value:this.value};if(Nn(e))return null;{const i=In(e),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(K1(e),t);return null!=s?{path:I2(new k1(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Nn(e))return this;{const t=In(e),i=this.children.get(t);return null!==i?i.subtree(K1(e)):new l2(null)}}set(e,t){if(Nn(e))return new l2(t,this.children);{const i=In(e),s=(this.children.get(i)||new l2(null)).set(K1(e),t),a=this.children.insert(i,s);return new l2(this.value,a)}}remove(e){if(Nn(e))return this.children.isEmpty()?new l2(null):new l2(null,this.children);{const t=In(e),i=this.children.get(t);if(i){const r=i.remove(K1(e));let s;return s=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&s.isEmpty()?new l2(null):new l2(this.value,s)}return this}}get(e){if(Nn(e))return this.value;{const t=In(e),i=this.children.get(t);return i?i.get(K1(e)):null}}setTree(e,t){if(Nn(e))return t;{const i=In(e),s=(this.children.get(i)||new l2(null)).setTree(K1(e),t);let a;return a=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new l2(this.value,a)}}fold(e){return this.fold_(v1(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(I2(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,v1(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(Nn(e))return null;{const s=In(e),a=this.children.get(s);return a?a.findOnPath_(K1(e),I2(t,s),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,v1(),t)}foreachOnPath_(e,t,i){if(Nn(e))return this;{this.value&&i(t,this.value);const r=In(e),s=this.children.get(r);return s?s.foreachOnPath_(K1(e),I2(t,r),i):new l2(null)}}foreach(e){this.foreach_(v1(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(I2(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class Ya{constructor(e){this.writeTree_=e}static empty(){return new Ya(new l2(null))}}function __(n,e,t){if(Nn(e))return new Ya(new l2(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let s=i.value;const a=rs(r,e);return s=s.updateChild(a,t),new Ya(n.writeTree_.set(r,s))}{const r=new l2(t),s=n.writeTree_.setTree(e,r);return new Ya(s)}}}function KE(n,e,t){let i=n;return tr(t,(r,s)=>{i=__(i,I2(e,r),s)}),i}function zne(n,e){if(Nn(e))return Ya.empty();{const t=n.writeTree_.setTree(e,new l2(null));return new Ya(t)}}function QE(n,e){return null!=yu(n,e)}function yu(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(rs(t.path,e)):null}function Ane(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(c2,(i,r)=>{e.push(new Bn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new Bn(i,r.value))}),e}function vl(n,e){if(Nn(e))return n;{const t=yu(n,e);return new Ya(null!=t?new l2(t):n.writeTree_.subtree(e))}}function JE(n){return n.writeTree_.isEmpty()}function lh(n,e){return Hne(v1(),n.writeTree_,e)}function Hne(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{".priority"===r?((0,O.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):t=Hne(I2(n,r),s,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild(I2(n,".priority"),i)),t}}function Ax(n,e){return Nne(e,n)}function ert(n,e){if(n.snap)return Fo(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Fo(I2(n.path,t),e))return!0;return!1}function nrt(n){return n.visible}function Lne(n,e,t){let i=Ya.empty();for(let r=0;r<n.length;++r){const s=n[r];if(e(s)){const a=s.path;let c;if(s.snap)Fo(t,a)?(c=rs(t,a),i=__(i,c,s.snap)):Fo(a,t)&&(c=rs(a,t),i=__(i,v1(),s.snap.getChild(c)));else{if(!s.children)throw(0,O.g5)("WriteRecord should have .snap or .children");if(Fo(t,a))c=rs(t,a),i=KE(i,c,s.children);else if(Fo(a,t))if(c=rs(a,t),Nn(c))i=KE(i,v1(),s.children);else{const d=(0,O.DV)(s.children,In(c));if(d){const h=d.getChild(K1(c));i=__(i,v1(),h)}}}}}return i}function Ene(n,e,t,i,r){if(i||r){const s=vl(n.visibleWrites,e);return!r&&JE(s)?t:r||null!=t||QE(s,v1())?lh(Lne(n.allWrites,function(h){return(h.visible||r)&&(!i||!~i.indexOf(h.writeId))&&(Fo(h.path,e)||Fo(e,h.path))},e),t||zn.EMPTY_NODE):null}{const s=yu(n.visibleWrites,e);if(null!=s)return s;{const a=vl(n.visibleWrites,e);return JE(a)?t:null!=t||QE(a,v1())?lh(a,t||zn.EMPTY_NODE):null}}}function Hx(n,e,t,i){return Ene(n.writeTree,n.treePath,e,t,i)}function XE(n,e){return function irt(n,e,t){let i=zn.EMPTY_NODE;const r=yu(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(c2,(s,a)=>{i=i.updateImmediateChild(s,a)}),i;if(t){const s=vl(n.visibleWrites,e);return t.forEachChild(c2,(a,c)=>{const d=lh(vl(s,new k1(a)),c);i=i.updateImmediateChild(a,d)}),Ane(s).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}return Ane(vl(n.visibleWrites,e)).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}(n.writeTree,n.treePath,e)}function Vne(n,e,t,i){return function rrt(n,e,t,i,r){(0,O.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=I2(e,t);if(QE(n.visibleWrites,s))return null;{const a=vl(n.visibleWrites,s);return JE(a)?r.getChild(t):lh(a,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function Lx(n,e){return function ort(n,e){return yu(n.visibleWrites,e)}(n.writeTree,I2(n.treePath,e))}function eV(n,e,t){return function srt(n,e,t,i){const r=I2(e,t),s=yu(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(t)?lh(vl(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function Ine(n,e){return Nne(I2(n.treePath,e),n.writeTree)}function Nne(n,e){return{treePath:n,writeTree:e}}class urt{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;(0,O.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,O.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(i,f_(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(i,d_(i,r.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(i,oh(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw(0,O.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,f_(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const Pne=new class drt{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class tV{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new _l(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return eV(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:vu(this.viewCache_),s=function lrt(n,e,t,i,r,s){return function art(n,e,t,i,r,s,a){let c;const d=vl(n.visibleWrites,e),h=yu(d,v1());if(null!=h)c=h;else{if(null==t)return[];c=lh(d,t)}if(c=c.withIndex(a),c.isEmpty()||c.isLeafNode())return[];{const g=[],y=a.getCompare(),M=s?c.getReverseIteratorFrom(i,a):c.getIteratorFrom(i,a);let S=M.getNext();for(;S&&g.length<r;)0!==y(S,i)&&g.push(S),S=M.getNext();return g}}(n.writeTree,n.treePath,e,t,i,r,s)}(this.writes_,r,t,1,i,e);return 0===s.length?null:s[0]}}function Rne(n,e,t,i,r,s){const a=e.eventCache;if(null!=Lx(i,t))return e;{let c,d;if(Nn(t))if((0,O.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const h=vu(e),y=XE(i,h instanceof zn?h:zn.EMPTY_NODE);c=n.filter.updateFullNode(e.eventCache.getNode(),y,s)}else{const h=Hx(i,vu(e));c=n.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const h=In(t);if(".priority"===h){(0,O.hu)(1===gl(t),"Can't have a priority with additional path components");const g=a.getNode();d=e.serverCache.getNode();const y=Vne(i,t,g,d);c=null!=y?n.filter.updatePriority(g,y):a.getNode()}else{const g=K1(t);let y;if(a.isCompleteForChild(h)){d=e.serverCache.getNode();const M=Vne(i,t,a.getNode(),d);y=null!=M?a.getNode().getImmediateChild(h).updateChild(g,M):a.getNode().getImmediateChild(h)}else y=eV(i,h,e.serverCache);c=null!=y?n.filter.updateChild(a.getNode(),h,y,g,r,s):a.getNode()}}return g_(e,c,a.isFullyInitialized()||Nn(t),n.filter.filtersNodes())}}function Ex(n,e,t,i,r,s,a,c){const d=e.serverCache;let h;const g=a?n.filter:n.filter.getIndexedFilter();if(Nn(t))h=g.updateFullNode(d.getNode(),i,null);else if(g.filtersNodes()&&!d.isFiltered()){const S=d.getNode().updateChild(t,i);h=g.updateFullNode(d.getNode(),S,null)}else{const S=In(t);if(!d.isCompleteForPath(t)&&gl(t)>1)return e;const k=K1(t),L=d.getNode().getImmediateChild(S).updateChild(k,i);h=".priority"===S?g.updatePriority(d.getNode(),L):g.updateChild(d.getNode(),S,L,k,Pne,null)}const y=kne(e,h,d.isFullyInitialized()||Nn(t),g.filtersNodes());return Rne(n,y,t,r,new tV(r,y,s),c)}function nV(n,e,t,i,r,s,a){const c=e.eventCache;let d,h;const g=new tV(r,e,s);if(Nn(t))h=n.filter.updateFullNode(e.eventCache.getNode(),i,a),d=g_(e,h,!0,n.filter.filtersNodes());else{const y=In(t);if(".priority"===y)h=n.filter.updatePriority(e.eventCache.getNode(),i),d=g_(e,h,c.isFullyInitialized(),c.isFiltered());else{const M=K1(t),S=c.getNode().getImmediateChild(y);let k;if(Nn(M))k=i;else{const A=g.getCompleteChild(y);k=null!=A?".priority"===EE(M)&&A.getChild(pne(M)).isEmpty()?A:A.updateChild(M,i):zn.EMPTY_NODE}d=S.equals(k)?e:g_(e,n.filter.updateChild(c.getNode(),y,k,M,g,a),c.isFullyInitialized(),n.filter.filtersNodes())}}return d}function One(n,e){return n.eventCache.isCompleteForChild(e)}function Fne(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function iV(n,e,t,i,r,s,a,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let h,d=e;h=Nn(t)?i:new l2(null).setTree(t,i);const g=e.serverCache.getNode();return h.children.inorderTraversal((y,M)=>{if(g.hasChild(y)){const k=Fne(0,e.serverCache.getNode().getImmediateChild(y),M);d=Ex(n,d,new k1(y),k,r,s,a,c)}}),h.children.inorderTraversal((y,M)=>{const S=!e.serverCache.isCompleteForChild(y)&&null===M.value;if(!g.hasChild(y)&&!S){const A=Fne(0,e.serverCache.getNode().getImmediateChild(y),M);d=Ex(n,d,new k1(y),A,r,s,a,c)}}),d}class Crt{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new BE(i.getIndex()),s=function Vit(n){return n.loadsAllData()?new BE(n.getIndex()):n.hasLimit()?new Eit(n):new h_(n)}(i);this.processor_=function frt(n){return{filter:n}}(s);const a=t.serverCache,c=t.eventCache,d=r.updateFullNode(zn.EMPTY_NODE,a.getNode(),null),h=s.updateFullNode(zn.EMPTY_NODE,c.getNode(),null),g=new _l(d,a.isFullyInitialized(),r.filtersNodes()),y=new _l(h,c.isFullyInitialized(),s.filtersNodes());this.viewCache_=kx(y,g),this.eventGenerator_=new Yit(this.query_)}get query(){return this.query_}}function wrt(n,e){const t=vu(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Nn(e)&&!t.getImmediateChild(In(e)).isEmpty())?t.getChild(e):null}function Bne(n){return 0===n.eventRegistrations_.length}function Une(n,e,t){const i=[];if(t){(0,O.hu)(null==e,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const a=s.createCancelEvent(t,r);a&&i.push(a)})}if(e){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const a=n.eventRegistrations_[s];if(a.matches(e)){if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(a)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function jne(n,e,t,i){e.type===Bo.MERGE&&null!==e.source.queryId&&((0,O.hu)(vu(n.viewCache_),"We should always have a full cache before handling merges"),(0,O.hu)(zx(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function prt(n,e,t,i,r){const s=new urt;let a,c;if(t.type===Bo.OVERWRITE){const h=t;h.source.fromUser?a=nV(n,e,h.path,h.snap,i,r,s):((0,O.hu)(h.source.fromServer,"Unknown source."),c=h.source.tagged||e.serverCache.isFiltered()&&!Nn(h.path),a=Ex(n,e,h.path,h.snap,i,r,c,s))}else if(t.type===Bo.MERGE){const h=t;h.source.fromUser?a=function grt(n,e,t,i,r,s,a){let c=e;return i.foreach((d,h)=>{const g=I2(t,d);One(e,In(g))&&(c=nV(n,c,g,h,r,s,a))}),i.foreach((d,h)=>{const g=I2(t,d);One(e,In(g))||(c=nV(n,c,g,h,r,s,a))}),c}(n,e,h.path,h.children,i,r,s):((0,O.hu)(h.source.fromServer,"Unknown source."),c=h.source.tagged||e.serverCache.isFiltered(),a=iV(n,e,h.path,h.children,i,r,c,s))}else if(t.type===Bo.ACK_USER_WRITE){const h=t;a=h.revert?function yrt(n,e,t,i,r,s){let a;if(null!=Lx(i,t))return e;{const c=new tV(i,e,r),d=e.eventCache.getNode();let h;if(Nn(t)||".priority"===In(t)){let g;if(e.serverCache.isFullyInitialized())g=Hx(i,vu(e));else{const y=e.serverCache.getNode();(0,O.hu)(y instanceof zn,"serverChildren would be complete if leaf node"),g=XE(i,y)}h=n.filter.updateFullNode(d,g,s)}else{const g=In(t);let y=eV(i,g,e.serverCache);null==y&&e.serverCache.isCompleteForChild(g)&&(y=d.getImmediateChild(g)),h=null!=y?n.filter.updateChild(d,g,y,K1(t),c,s):e.eventCache.getNode().hasChild(g)?n.filter.updateChild(d,g,zn.EMPTY_NODE,K1(t),c,s):d,h.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=Hx(i,vu(e)),a.isLeafNode()&&(h=n.filter.updateFullNode(h,a,s)))}return a=e.serverCache.isFullyInitialized()||null!=Lx(i,v1()),g_(e,h,a,n.filter.filtersNodes())}}(n,e,h.path,i,r,s):function _rt(n,e,t,i,r,s,a){if(null!=Lx(r,t))return e;const c=e.serverCache.isFiltered(),d=e.serverCache;if(null!=i.value){if(Nn(t)&&d.isFullyInitialized()||d.isCompleteForPath(t))return Ex(n,e,t,d.getNode().getChild(t),r,s,c,a);if(Nn(t)){let h=new l2(null);return d.getNode().forEachChild(vc,(g,y)=>{h=h.set(new k1(g),y)}),iV(n,e,t,h,r,s,c,a)}return e}{let h=new l2(null);return i.foreach((g,y)=>{const M=I2(t,g);d.isCompleteForPath(M)&&(h=h.set(g,d.getNode().getChild(M)))}),iV(n,e,t,h,r,s,c,a)}}(n,e,h.path,h.affectedTree,i,r,s)}else{if(t.type!==Bo.LISTEN_COMPLETE)throw(0,O.g5)("Unknown operation type: "+t.type);a=function vrt(n,e,t,i,r){const s=e.serverCache;return Rne(n,kne(e,s.getNode(),s.isFullyInitialized()||Nn(t),s.isFiltered()),t,i,Pne,r)}(n,e,t.path,i,s)}const d=s.getChanges();return function mrt(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=zx(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&t.push(xne(zx(e)))}}(e,a,d),{viewCache:a,changes:d}}(n.processor_,r,e,t,i);return function hrt(n,e){(0,O.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,O.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,O.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,Wne(n,s.changes,s.viewCache.eventCache.getNode(),null)}function Wne(n,e,t,i){return function qit(n,e,t,i){const r=[],s=[];return e.forEach(a=>{"child_changed"===a.type&&n.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(function Lit(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(a.childName,a.snapshotNode))}),m_(n,r,"child_removed",e,i,t),m_(n,r,"child_added",e,i,t),m_(n,r,"child_moved",s,i,t),m_(n,r,"child_changed",e,i,t),m_(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}let Vx,Nx;class Yne{constructor(){this.views=new Map}}function rV(n,e,t,i){const r=e.source.queryId;if(null!==r){const s=n.views.get(r);return(0,O.hu)(null!=s,"SyncTree gave us an op for an invalid query."),jne(s,e,t,i)}{let s=[];for(const a of n.views.values())s=s.concat(jne(a,e,t,i));return s}}function qne(n,e,t,i,r){const a=n.views.get(e._queryIdentifier);if(!a){let c=Hx(t,r?i:null),d=!1;c?d=!0:i instanceof zn?(c=XE(t,i),d=!1):(c=zn.EMPTY_NODE,d=!1);const h=kx(new _l(c,d,!1),new _l(i,r,!1));return new Crt(e,h)}return a}function Gne(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function yl(n,e){let t=null;for(const i of n.views.values())t=t||wrt(i,e);return t}function $ne(n,e){return e._queryParams.loadsAllData()?Ix(n):n.views.get(e._queryIdentifier)}function Zne(n,e){return null!=$ne(n,e)}function Cl(n){return null!=Ix(n)}function Ix(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let Ert=1;class Kne{constructor(e){this.listenProvider_=e,this.syncPointTree_=new l2(null),this.pendingWriteTree_=function crt(){return{visibleWrites:Ya.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function sV(n,e,t,i,r){return function Kit(n,e,t,i,r){(0,O.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=__(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?uh(n,new _u({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function bl(n,e,t=!1){const i=function Jit(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function Xit(n,e){const t=n.allWrites.findIndex(c=>c.writeId===e);(0,O.hu)(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,s=!1,a=n.allWrites.length-1;for(;r&&a>=0;){const c=n.allWrites[a];c.visible&&(a>=t&&ert(c,i.path)?r=!1:Fo(i.path,c.path)&&(s=!0)),a--}return!!r&&(s?(function trt(n){n.visibleWrites=Lne(n.allWrites,nrt,v1()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=zne(n.visibleWrites,i.path):tr(i.children,d=>{n.visibleWrites=zne(n.visibleWrites,I2(i.path,d))}),!0))}(n.pendingWriteTree_,e)){let s=new l2(null);return null!=i.snap?s=s.set(v1(),!0):tr(i.children,a=>{s=s.set(new k1(a),!0)}),uh(n,new Dx(i.path,s,t))}return[]}function v_(n,e,t){return uh(n,new _u({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function Px(n,e,t,i,r=!1){const s=e._path,a=n.syncPointTree_.get(s);let c=[];if(a&&("default"===e._queryIdentifier||Zne(a,e))){const d=function Art(n,e,t,i){const r=e._queryIdentifier,s=[];let a=[];const c=Cl(n);if("default"===r)for(const[d,h]of n.views.entries())a=a.concat(Une(h,t,i)),Bne(h)&&(n.views.delete(d),h.query._queryParams.loadsAllData()||s.push(h.query));else{const d=n.views.get(r);d&&(a=a.concat(Une(d,t,i)),Bne(d)&&(n.views.delete(r),d.query._queryParams.loadsAllData()||s.push(d.query)))}return c&&!Cl(n)&&s.push(new(function Drt(){return(0,O.hu)(Vx,"Reference.ts has not been loaded"),Vx}())(e._repo,e._path)),{removed:s,events:a}}(a,e,t,i);(function krt(n){return 0===n.views.size})(a)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const h=d.removed;if(c=d.events,!r){const g=-1!==h.findIndex(M=>M._queryParams.loadsAllData()),y=n.syncPointTree_.findOnPath(s,(M,S)=>Cl(S));if(g&&!y){const M=n.syncPointTree_.subtree(s);if(!M.isEmpty()){const S=function Frt(n){return n.fold((e,t,i)=>{if(t&&Cl(t))return[Ix(t)];{let r=[];return t&&(r=Gne(t)),tr(i,(s,a)=>{r=r.concat(a)}),r}})}(M);for(let k=0;k<S.length;++k){const A=S[k],L=A.query,B=e1e(n,A);n.listenProvider_.startListening(C_(L),y_(n,L),B.hashFn,B.onComplete)}}}!y&&h.length>0&&!i&&(g?n.listenProvider_.stopListening(C_(e),null):h.forEach(M=>{const S=n.queryToTagMap.get(Ox(M));n.listenProvider_.stopListening(C_(M),S)}))}!function Brt(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const r=Ox(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,h)}return c}function Qne(n,e,t,i){const r=aV(n,i);if(null!=r){const s=cV(r),a=s.path,c=s.queryId,d=rs(a,e);return lV(n,a,new _u($E(c),d,t))}return[]}function oV(n,e,t,i=!1){const r=e._path;let s=null,a=!1;n.syncPointTree_.foreachOnPath(r,(M,S)=>{const k=rs(M,r);s=s||yl(S,k),a=a||Cl(S)});let d,c=n.syncPointTree_.get(r);c?(a=a||Cl(c),s=s||yl(c,v1())):(c=new Yne,n.syncPointTree_=n.syncPointTree_.set(r,c)),null!=s?d=!0:(d=!1,s=zn.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((S,k)=>{const A=yl(k,v1());A&&(s=s.updateImmediateChild(S,A))}));const h=Zne(c,e);if(!h&&!e._queryParams.loadsAllData()){const M=Ox(e);(0,O.hu)(!n.queryToTagMap.has(M),"View does not exist, but we have a tag");const S=function Urt(){return Ert++}();n.queryToTagMap.set(M,S),n.tagToQueryMap.set(S,M)}let y=function zrt(n,e,t,i,r,s){const a=qne(n,e,i,r,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,a),function xrt(n,e){n.eventRegistrations_.push(e)}(a,t),function Srt(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(c2,(s,a)=>{i.push(oh(s,a))}),t.isFullyInitialized()&&i.push(xne(t.getNode())),Wne(n,i,t.getNode(),e)}(a,t)}(c,e,t,Ax(n.pendingWriteTree_,r),s,d);if(!h&&!a&&!i){const M=$ne(c,e);y=y.concat(function jrt(n,e,t){const i=e._path,r=y_(n,e),s=e1e(n,t),a=n.listenProvider_.startListening(C_(e),r,s.hashFn,s.onComplete),c=n.syncPointTree_.subtree(i);if(r)(0,O.hu)(!Cl(c.value),"If we're adding a query, it shouldn't be shadowed");else{const d=c.fold((h,g,y)=>{if(!Nn(h)&&g&&Cl(g))return[Ix(g).query];{let M=[];return g&&(M=M.concat(Gne(g).map(S=>S.query))),tr(y,(S,k)=>{M=M.concat(k)}),M}});for(let h=0;h<d.length;++h){const g=d[h];n.listenProvider_.stopListening(C_(g),y_(n,g))}}return a}(n,e,M))}return y}function Rx(n,e,t){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(a,c)=>{const h=yl(c,rs(a,e));if(h)return h});return Ene(r,e,s,t,!0)}function uh(n,e){return Jne(e,n.syncPointTree_,null,Ax(n.pendingWriteTree_,v1()))}function Jne(n,e,t,i){if(Nn(n.path))return Xne(n,e,t,i);{const r=e.get(v1());null==t&&null!=r&&(t=yl(r,v1()));let s=[];const a=In(n.path),c=n.operationForChild(a),d=e.children.get(a);if(d&&c){const h=t?t.getImmediateChild(a):null,g=Ine(i,a);s=s.concat(Jne(c,d,h,g))}return r&&(s=s.concat(rV(r,n,i,t))),s}}function Xne(n,e,t,i){const r=e.get(v1());null==t&&null!=r&&(t=yl(r,v1()));let s=[];return e.children.inorderTraversal((a,c)=>{const d=t?t.getImmediateChild(a):null,h=Ine(i,a),g=n.operationForChild(a);g&&(s=s.concat(Xne(g,c,d,h)))}),r&&(s=s.concat(rV(r,n,i,t))),s}function e1e(n,e){const t=e.query,i=y_(n,t);return{hashFn:()=>(function brt(n){return n.viewCache_.serverCache.getNode()}(e)||zn.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function Prt(n,e,t){const i=aV(n,t);if(i){const r=cV(i),s=r.path,a=r.queryId,c=rs(s,e);return lV(n,s,new p_($E(a),c))}return[]}(n,t._path,i):function Nrt(n,e){return uh(n,new p_({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const s=function I2t(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}(r,t);return Px(n,t,null,s)}}}}function y_(n,e){const t=Ox(e);return n.queryToTagMap.get(t)}function Ox(n){return n._path.toString()+"$"+n._queryIdentifier}function aV(n,e){return n.tagToQueryMap.get(e)}function cV(n){const e=n.indexOf("$");return(0,O.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new k1(n.substr(0,e))}}function lV(n,e,t){const i=n.syncPointTree_.get(e);return(0,O.hu)(i,"Missing sync point for query tag that we're tracking"),rV(i,t,Ax(n.pendingWriteTree_,e),null)}function C_(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function Lrt(){return(0,O.hu)(Nx,"Reference.ts has not been loaded"),Nx}())(n._repo,n._path):n}class uV{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new uV(t)}node(){return this.node_}}class dV{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=I2(this.path_,e);return new dV(this.syncTree_,t)}node(){return Rx(this.syncTree_,this.path_)}}const Wrt=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},t1e=function(n,e,t){return n&&"object"==typeof n?((0,O.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Yrt(n[".sv"],e,t):"object"==typeof n[".sv"]?qrt(n[".sv"],e):void(0,O.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Yrt=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,O.hu)(!1,"Unexpected server value: "+n)},qrt=function(n,e,t){n.hasOwnProperty("increment")||(0,O.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,O.hu)(!1,"Unexpected increment value: "+i);const r=e.node();if((0,O.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const a=r.getValue();return"number"!=typeof a?i:a+i},n1e=function(n,e,t,i){return hV(e,new dV(t,n),i)},fV=function(n,e,t){return hV(n,new uV(e),t)};function hV(n,e,t){const i=n.getPriority().val(),r=t1e(i,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const a=n,c=t1e(a.getValue(),e,t);return c!==a.getValue()||r!==a.getPriority().val()?new rh(c,G2(r)):n}{const a=n;return s=a,r!==a.getPriority().val()&&(s=s.updatePriority(new rh(r))),a.forEachChild(c2,(c,d)=>{const h=hV(d,e.getImmediateChild(c),t);h!==d&&(s=s.updateImmediateChild(c,h))}),s}}class pV{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function Fx(n,e){let t=e instanceof k1?e:new k1(e),i=n,r=In(t);for(;null!==r;){const s=(0,O.DV)(i.node.children,r)||{children:{},childCount:0};i=new pV(r,i,s),t=K1(t),r=In(t)}return i}function Cu(n){return n.node.value}function mV(n,e){n.node.value=e,gV(n)}function i1e(n){return n.node.childCount>0}function Bx(n,e){tr(n.node.children,(t,i)=>{e(new pV(t,n,i))})}function r1e(n,e,t,i){t&&!i&&e(n),Bx(n,r=>{r1e(r,e,!0,i)}),t&&i&&e(n)}function b_(n){return new k1(null===n.parent?n.name:b_(n.parent)+"/"+n.name)}function gV(n){null!==n.parent&&function Zrt(n,e,t){const i=function Grt(n){return void 0===Cu(n)&&!i1e(n)}(t),r=(0,O.r3)(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,gV(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,gV(n))}(n.parent,n.name,n)}const Krt=/[\[\].#$\/\u0000-\u001F\u007F]/,Qrt=/[\[\].#$\u0000-\u001F\u007F]/,_V=10485760,Ux=function(n){return"string"==typeof n&&0!==n.length&&!Krt.test(n)},s1e=function(n){return"string"==typeof n&&0!==n.length&&!Qrt.test(n)},M_=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!mx(n)||n&&"object"==typeof n&&(0,O.r3)(n,".sv")},yc=function(n,e,t,i){i&&void 0===e||w_((0,O.gK)(n,"value"),e,t)},w_=function(n,e,t){const i=t instanceof k1?new pit(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+mu(i));if("function"==typeof e)throw new Error(n+"contains a function "+mu(i)+" with contents = "+e.toString());if(mx(e))throw new Error(n+"contains "+e.toString()+" "+mu(i));if("string"==typeof e&&e.length>_V/3&&(0,O.ug)(e)>_V)throw new Error(n+"contains a string greater than "+_V+" utf8 bytes "+mu(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,s=!1;if(tr(e,(a,c)=>{if(".value"===a)r=!0;else if(".priority"!==a&&".sv"!==a&&(s=!0,!Ux(a)))throw new Error(n+" contains an invalid key ("+a+") "+mu(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function mit(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,O.ug)(e),mne(n)})(i,a),w_(n,c,i),function git(n){const e=n.parts_.pop();n.byteLength_-=(0,O.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+mu(i)+" in addition to actual children.")}},o1e=function(n,e,t,i){if(i&&void 0===e)return;const r=(0,O.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const s=[];tr(e,(a,c)=>{const d=new k1(a);if(w_(r,c,I2(t,d)),".priority"===EE(d)&&!M_(c))throw new Error(r+"contains an invalid value for '"+d.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(d)}),function(n,e){let t,i;for(t=0;t<e.length;t++){i=e[t];const s=a_(i);for(let a=0;a<s.length;a++)if((".priority"!==s[a]||a!==s.length-1)&&!Ux(s[a]))throw new Error(n+"contains an invalid key ("+s[a]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(hit);let r=null;for(t=0;t<e.length;t++){if(i=e[t],null!==r&&Fo(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},vV=function(n,e,t){if(!t||void 0!==e){if(mx(e))throw new Error((0,O.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!M_(e))throw new Error((0,O.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},x_=function(n,e,t,i){if(!(i&&void 0===t||Ux(t)))throw new Error((0,O.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},S_=function(n,e,t,i){if(!(i&&void 0===t||s1e(t)))throw new Error((0,O.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},est=function(n,e,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),S_(n,e,t,i)},Uo=function(n,e){if(".info"===In(e))throw new Error(n+" failed = Can't modify data under /.info/")},a1e=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Ux(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),s1e(n)}(t))throw new Error((0,O.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class tst{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function jx(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();null!==t&&!VE(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(r)}t&&n.eventLists_.push(t)}function c1e(n,e,t){jx(n,t),l1e(n,i=>VE(i,e))}function Qs(n,e,t){jx(n,t),l1e(n,i=>Fo(i,e)||Fo(e,i))}function l1e(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(nst(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function nst(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();hu&&er("event: "+t.toString()),nh(i)}}}const u1e="repo_interrupt",ist=25;class rst{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new tst,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Tx(),this.transactionQueueTree_=new pV,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function d1e(n){const t=n.infoData_.getNode(new k1(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function T_(n){return Wrt({timestamp:d1e(n)})}function f1e(n,e,t,i,r){n.dataUpdateCount++;const s=new k1(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let a=[];if(r)if(i){const d=(0,O.UI)(t,h=>G2(h));a=function Rrt(n,e,t,i){const r=aV(n,i);if(r){const s=cV(r),a=s.path,c=s.queryId,d=rs(a,e),h=l2.fromObject(t);return lV(n,a,new ch($E(c),d,h))}return[]}(n.serverSyncTree_,s,d,r)}else{const d=G2(t);a=Qne(n.serverSyncTree_,s,d,r)}else if(i){const d=(0,O.UI)(t,h=>G2(h));a=function Irt(n,e,t){const i=l2.fromObject(t);return uh(n,new ch({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,s,d)}else{const d=G2(t);a=v_(n.serverSyncTree_,s,d)}let c=s;a.length>0&&(c=fh(n,s)),Qs(n.eventQueue_,c,a)}function h1e(n,e){yV(n,"connected",e),!1===e&&function lst(n){dh(n,"onDisconnectEvents");const e=T_(n),t=Tx();YE(n.onDisconnect_,v1(),(r,s)=>{const a=n1e(r,s,n.serverSyncTree_,e);ah(t,r,a)});let i=[];YE(t,v1(),(r,s)=>{i=i.concat(v_(n.serverSyncTree_,r,s));const a=wV(n,r);fh(n,a)}),n.onDisconnect_=Tx(),Qs(n.eventQueue_,v1(),i)}(n)}function yV(n,e,t){const i=new k1("/.info/"+e),r=G2(t);n.infoData_.updateSnapshot(i,r);const s=v_(n.infoSyncTree_,i,r);Qs(n.eventQueue_,i,s)}function Wx(n){return n.nextWriteId_++}function CV(n,e,t,i,r){dh(n,"set",{path:e.toString(),value:t,priority:i});const s=T_(n),a=G2(t,i),c=Rx(n.serverSyncTree_,e),d=fV(a,c,s),h=Wx(n),g=sV(n.serverSyncTree_,e,d,h,!0);jx(n.eventQueue_,g),n.server_.put(e.toString(),a.val(!0),(M,S)=>{const k="ok"===M;k||Lr("set at "+e+" failed: "+M);const A=bl(n.serverSyncTree_,h,!k);Qs(n.eventQueue_,e,A),Ml(0,r,M,S)});const y=wV(n,e);fh(n,y),Qs(n.eventQueue_,y,[])}function ust(n,e,t){n.server_.onDisconnectCancel(e.toString(),(i,r)=>{"ok"===i&&WE(n.onDisconnect_,e),Ml(0,t,i,r)})}function p1e(n,e,t,i){const r=G2(t);n.server_.onDisconnectPut(e.toString(),r.val(!0),(s,a)=>{"ok"===s&&ah(n.onDisconnect_,e,r),Ml(0,i,s,a)})}function bV(n,e,t){let i;i=".info"===In(e._path)?Px(n.infoSyncTree_,e,t):Px(n.serverSyncTree_,e,t),c1e(n.eventQueue_,e._path,i)}function m1e(n){n.persistentConnection_&&n.persistentConnection_.interrupt(u1e)}function dh(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),er(t,...e)}function Ml(n,e,t,i){e&&nh(()=>{if("ok"===t)e(null);else{const r=(t||"error").toUpperCase();let s=r;i&&(s+=": "+i);const a=new Error(s);a.code=r,e(a)}})}function MV(n,e,t){return Rx(n.serverSyncTree_,e,t)||zn.EMPTY_NODE}function Yx(n,e=n.transactionQueueTree_){if(e||qx(n,e),Cu(e)){const t=_1e(n,e);(0,O.hu)(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function gst(n,e,t){const i=t.map(h=>h.currentWriteId),r=MV(n,e,i);let s=r;const a=r.hash();for(let h=0;h<t.length;h++){const g=t[h];(0,O.hu)(0===g.status,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const y=rs(e,g.path);s=s.updateChild(y,g.currentOutputSnapshotRaw)}const c=s.val(!0),d=e;n.server_.put(d.toString(),c,h=>{dh(n,"transaction put response",{path:d.toString(),status:h});let g=[];if("ok"===h){const y=[];for(let M=0;M<t.length;M++)t[M].status=2,g=g.concat(bl(n.serverSyncTree_,t[M].currentWriteId)),t[M].onComplete&&y.push(()=>t[M].onComplete(null,!0,t[M].currentOutputSnapshotResolved)),t[M].unwatcher();qx(n,Fx(n.transactionQueueTree_,e)),Yx(n,n.transactionQueueTree_),Qs(n.eventQueue_,e,g);for(let M=0;M<y.length;M++)nh(y[M])}else{if("datastale"===h)for(let y=0;y<t.length;y++)t[y].status=3===t[y].status?4:0;else{Lr("transaction at "+d.toString()+" failed: "+h);for(let y=0;y<t.length;y++)t[y].status=4,t[y].abortReason=h}fh(n,e)}},a)}(n,b_(e),t)}else i1e(e)&&Bx(e,t=>{Yx(n,t)})}function fh(n,e){const t=g1e(n,e),i=b_(t);return function _st(n,e,t){if(0===e.length)return;const i=[];let r=[];const a=e.filter(c=>0===c.status).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const d=e[c],h=rs(t,d.path);let y,g=!1;if((0,O.hu)(null!==h,"rerunTransactionsUnderNode_: relativePath should not be null."),4===d.status)g=!0,y=d.abortReason,r=r.concat(bl(n.serverSyncTree_,d.currentWriteId,!0));else if(0===d.status)if(d.retryCount>=ist)g=!0,y="maxretry",r=r.concat(bl(n.serverSyncTree_,d.currentWriteId,!0));else{const M=MV(n,d.path,a);d.currentInputSnapshot=M;const S=e[c].update(M.val());if(void 0!==S){w_("transaction failed: Data returned ",S,d.path);let k=G2(S);"object"==typeof S&&null!=S&&(0,O.r3)(S,".priority")||(k=k.updatePriority(M.getPriority()));const L=d.currentWriteId,B=T_(n),G=fV(k,M,B);d.currentOutputSnapshotRaw=k,d.currentOutputSnapshotResolved=G,d.currentWriteId=Wx(n),a.splice(a.indexOf(L),1),r=r.concat(sV(n.serverSyncTree_,d.path,G,d.currentWriteId,d.applyLocally)),r=r.concat(bl(n.serverSyncTree_,L,!0))}else g=!0,y="nodata",r=r.concat(bl(n.serverSyncTree_,d.currentWriteId,!0))}Qs(n.eventQueue_,t,r),r=[],g&&(e[c].status=2,setTimeout(e[c].unwatcher,Math.floor(0)),e[c].onComplete&&i.push("nodata"===y?()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot):()=>e[c].onComplete(new Error(y),!1,null)))}qx(n,n.transactionQueueTree_);for(let c=0;c<i.length;c++)nh(i[c]);Yx(n,n.transactionQueueTree_)}(n,_1e(n,t),i),i}function g1e(n,e){let t,i=n.transactionQueueTree_;for(t=In(e);null!==t&&void 0===Cu(i);)i=Fx(i,t),t=In(e=K1(e));return i}function _1e(n,e){const t=[];return v1e(n,e,t),t.sort((i,r)=>i.order-r.order),t}function v1e(n,e,t){const i=Cu(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);Bx(e,r=>{v1e(n,r,t)})}function qx(n,e){const t=Cu(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,mV(e,t.length>0?t:void 0)}Bx(e,i=>{qx(n,i)})}function wV(n,e){const t=b_(g1e(n,e)),i=Fx(n.transactionQueueTree_,e);return function $rt(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{xV(n,r)}),xV(n,i),r1e(i,r=>{xV(n,r)}),t}function xV(n,e){const t=Cu(e);if(t){const i=[];let r=[],s=-1;for(let a=0;a<t.length;a++)3===t[a].status||(1===t[a].status?((0,O.hu)(s===a-1,"All SENT items should be at beginning of queue."),s=a,t[a].status=3,t[a].abortReason="set"):((0,O.hu)(0===t[a].status,"Unexpected transaction status in abort"),t[a].unwatcher(),r=r.concat(bl(n.serverSyncTree_,t[a].currentWriteId,!0)),t[a].onComplete&&i.push(t[a].onComplete.bind(null,new Error("set"),!1,null))));-1===s?mV(e,void 0):t.length=s+1,Qs(n.eventQueue_,b_(e),r);for(let a=0;a<i.length;a++)nh(i[a])}}const SV=function(n,e){const t=Cst(n),i=t.namespace;return"firebase.com"===t.domain&&_c(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&_c("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Lr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new DE(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new k1(t.pathString)}},Cst=function(n){let e="",t="",i="",r="",s="",a=!0,c="https",d=443;if("string"==typeof n){let h=n.indexOf("//");h>=0&&(c=n.substring(0,h-1),n=n.substring(h+2));let g=n.indexOf("/");-1===g&&(g=n.length);let y=n.indexOf("?");-1===y&&(y=n.length),e=n.substring(0,Math.min(g,y)),g<y&&(r=function vst(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}(n.substring(g,y)));const M=function yst(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Lr(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,y)));h=e.indexOf(":"),h>=0?(a="https"===c||"wss"===c,d=parseInt(e.substring(h+1),10)):h=e.length;const S=e.slice(0,h);if("localhost"===S.toLowerCase())t="localhost";else if(S.split(".").length<=2)t=S;else{const k=e.indexOf(".");i=e.substring(0,k).toLowerCase(),t=e.substring(k+1),s=i}"ns"in M&&(s=M.ns)}return{host:e,port:d,domain:t,subdomain:i,secure:a,scheme:c,pathString:r,namespace:s}},y1e="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",bst=function(){let n=0;const e=[];return function(t){const i=t===n;let r;n=t;const s=new Array(8);for(r=7;r>=0;r--)s[r]=y1e.charAt(t%64),t=Math.floor(t/64);(0,O.hu)(0===t,"Cannot push at time == 0");let a=s.join("");if(i){for(r=11;r>=0&&63===e[r];r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)a+=y1e.charAt(e[r]);return(0,O.hu)(20===a.length,"nextPushId: Length should be 20."),a}}();class C1e{constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,O.Wl)(this.snapshot.exportVal())}}class b1e{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class TV{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,O.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class M1e{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new O.BH;return ust(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Uo("OnDisconnect.remove",this._path);const e=new O.BH;return p1e(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Uo("OnDisconnect.set",this._path),yc("OnDisconnect.set",e,this._path,!1);const t=new O.BH;return p1e(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){Uo("OnDisconnect.setWithPriority",this._path),yc("OnDisconnect.setWithPriority",e,this._path,!1),vV("OnDisconnect.setWithPriority",t,!1);const i=new O.BH;return function dst(n,e,t,i,r){const s=G2(t,i);n.server_.onDisconnectPut(e.toString(),s.val(!0),(a,c)=>{"ok"===a&&ah(n.onDisconnect_,e,s),Ml(0,r,a,c)})}(this._repo,this._path,e,t,i.wrapCallback(()=>{})),i.promise}update(e){Uo("OnDisconnect.update",this._path),o1e("OnDisconnect.update",e,this._path,!1);const t=new O.BH;return function fst(n,e,t,i){if((0,O.xb)(t))return er("onDisconnect().update() called with empty data.  Don't do anything."),void Ml(0,i,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(r,s)=>{"ok"===r&&tr(t,(a,c)=>{const d=G2(c);ah(n.onDisconnect_,I2(e,a),d)}),Ml(0,i,r,s)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class xs{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return Nn(this._path)?null:EE(this._path)}get ref(){return new jo(this._repo,this._path)}get _queryIdentifier(){const e=Tne(this._queryParams),t=SE(e);return"{}"===t?"default":t}get _queryObject(){return Tne(this._queryParams)}isEqual(e){if(!((e=(0,O.m9)(e))instanceof xs))return!1;const t=this._repo===e._repo,i=VE(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function fit(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function Gx(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function wl(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===vc){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==pl)throw new Error(i);if("string"!=typeof e)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==u6)throw new Error(i);if("string"!=typeof t)throw new Error(r)}}else if(n.getIndex()===c2){if(null!=e&&!M_(e)||null!=t&&!M_(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,O.hu)(n.getIndex()instanceof OE||n.getIndex()===FE,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function $x(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class jo extends xs{constructor(e,t){super(e,t,new wx,!1)}get parent(){const e=pne(this._path);return null===e?null:new jo(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class bu{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new k1(e),i=Mu(this.ref,e);return new bu(this._node.getChild(t),i,c2)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>e(new bu(r,Mu(this.ref,i),c2)))}hasChild(e){const t=new k1(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function w1e(n,e){return(n=(0,O.m9)(n))._checkNotDeleted("ref"),void 0!==e?Mu(n._root,e):n._root}function x1e(n,e){(n=(0,O.m9)(n))._checkNotDeleted("refFromURL");const t=SV(e,n._repo.repoInfo_.nodeAdmin);a1e("refFromURL",t);const i=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&_c("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),w1e(n,t.path.toString())}function Mu(n,e){return null===In((n=(0,O.m9)(n))._path)?est("child","path",e,!1):S_("child","path",e,!1),new jo(n._repo,I2(n._path,e))}function DV(n,e){n=(0,O.m9)(n),Uo("set",n._path),yc("set",e,n._path,!1);const t=new O.BH;return CV(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function Tst(n,e){o1e("update",e,n._path,!1);const t=new O.BH;return function cst(n,e,t,i){dh(n,"update",{path:e.toString(),value:t});let r=!0;const s=T_(n),a={};if(tr(t,(c,d)=>{r=!1,a[c]=n1e(I2(e,c),G2(d),n.serverSyncTree_,s)}),r)er("update() called with empty data.  Don't do anything."),Ml(0,i,"ok",void 0);else{const c=Wx(n),d=function Vrt(n,e,t,i){!function Qit(n,e,t,i){(0,O.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:i,visible:!0}),n.visibleWrites=KE(n.visibleWrites,e,t),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i);const r=l2.fromObject(t);return uh(n,new ch({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,e,a,c);jx(n.eventQueue_,d),n.server_.merge(e.toString(),t,(h,g)=>{const y="ok"===h;y||Lr("update at "+e+" failed: "+h);const M=bl(n.serverSyncTree_,c,!y),S=M.length>0?fh(n,e):e;Qs(n.eventQueue_,S,M),Ml(0,i,h,g)}),tr(t,h=>{const g=wV(n,I2(e,h));fh(n,g)}),Qs(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function Dst(n){n=(0,O.m9)(n);const e=new TV(()=>{}),t=new D_(e);return function ast(n,e,t){const i=function Ort(n,e){const t=e._path;let i=null;n.syncPointTree_.foreachOnPath(t,(h,g)=>{const y=rs(h,t);i=i||yl(g,y)});let r=n.syncPointTree_.get(t);r?i=i||yl(r,v1()):(r=new Yne,n.syncPointTree_=n.syncPointTree_.set(t,r));const s=null!=i,a=s?new _l(i,!0,!1):null;return function Mrt(n){return zx(n.viewCache_)}(qne(r,e,Ax(n.pendingWriteTree_,e._path),s?a.getNode():zn.EMPTY_NODE,s))}(n.serverSyncTree_,e);return null!=i?Promise.resolve(i):n.server_.get(e).then(r=>{const s=G2(r).withIndex(e._queryParams.getIndex());let a;if(oV(n.serverSyncTree_,e,t,!0),e._queryParams.loadsAllData())a=v_(n.serverSyncTree_,e._path,s);else{const c=y_(n.serverSyncTree_,e);a=Qne(n.serverSyncTree_,e._path,s,c)}return Qs(n.eventQueue_,e._path,a),Px(n.serverSyncTree_,e,t,null,!0),s},r=>(dh(n,"get for query "+(0,O.Wl)(e)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,t).then(i=>new bu(i,new jo(n._repo,n._path),n._queryParams.getIndex()))}class D_{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const i=t._queryParams.getIndex();return new C1e("value",this,new bu(e.snapshotNode,new jo(t._repo,t._path),i))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new b1e(this,e,t):null}matches(e){return e instanceof D_&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Zx{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new b1e(this,e,t):null}createEvent(e,t){(0,O.hu)(null!=e.childName,"Child events should have a childName.");const i=Mu(new jo(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new C1e(e.type,this,new bu(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Zx&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function k_(n,e,t,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const d=t,h=(g,y)=>{bV(n._repo,n,c),d(g,y)};h.userCallback=t.userCallback,h.context=t.context,t=h}const a=new TV(t,s||void 0),c="value"===e?new D_(a):new Zx(e,a);return function hst(n,e,t){let i;i=".info"===In(e._path)?oV(n.infoSyncTree_,e,t):oV(n.serverSyncTree_,e,t),c1e(n.eventQueue_,e._path,i)}(n._repo,n,c),()=>bV(n._repo,n,c)}function kV(n,e,t,i){return k_(n,"value",e,t,i)}function S1e(n,e,t,i){return k_(n,"child_added",e,t,i)}function T1e(n,e,t,i){return k_(n,"child_changed",e,t,i)}function D1e(n,e,t,i){return k_(n,"child_moved",e,t,i)}function k1e(n,e,t,i){return k_(n,"child_removed",e,t,i)}function z1e(n,e,t){let i=null;const r=t?new TV(t):null;"value"===e?i=new D_(r):e&&(i=new Zx(e,r)),bV(n._repo,n,i)}class qa{}class A1e extends qa{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){yc("endAt",this._value,e._path,!0);const t=jE(e._queryParams,this._value,this._key);if($x(t),wl(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new xs(e._repo,e._path,t,e._orderByCalled)}}class zst extends qa{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){yc("endBefore",this._value,e._path,!1);const t=function Rit(n,e,t){let i;return i=jE(n,e,n.index_===vc||t?t:pl),i.endBeforeSet_=!0,i}(e._queryParams,this._value,this._key);if($x(t),wl(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new xs(e._repo,e._path,t,e._orderByCalled)}}class H1e extends qa{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){yc("startAt",this._value,e._path,!0);const t=UE(e._queryParams,this._value,this._key);if($x(t),wl(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new xs(e._repo,e._path,t,e._orderByCalled)}}class Lst extends qa{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){yc("startAfter",this._value,e._path,!1);const t=function Pit(n,e,t){let i;return i=UE(n,e,n.index_===vc||t?t:u6),i.startAfterSet_=!0,i}(e._queryParams,this._value,this._key);if($x(t),wl(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new xs(e._repo,e._path,t,e._orderByCalled)}}class Vst extends qa{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new xs(e._repo,e._path,function Iit(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class Nst extends qa{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new xs(e._repo,e._path,function Nit(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class Rst extends qa{constructor(e){super(),this._path=e}_apply(e){Gx(e,"orderByChild");const t=new k1(this._path);if(Nn(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new OE(t),r=xx(e._queryParams,i);return wl(r),new xs(e._repo,e._path,r,!0)}}class Fst extends qa{_apply(e){Gx(e,"orderByKey");const t=xx(e._queryParams,vc);return wl(t),new xs(e._repo,e._path,t,!0)}}class Ust extends qa{_apply(e){Gx(e,"orderByPriority");const t=xx(e._queryParams,c2);return wl(t),new xs(e._repo,e._path,t,!0)}}class Wst extends qa{_apply(e){Gx(e,"orderByValue");const t=xx(e._queryParams,FE);return wl(t),new xs(e._repo,e._path,t,!0)}}class qst extends qa{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(yc("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new A1e(this._value,this._key)._apply(new H1e(this._value,this._key)._apply(e))}}function Ga(n,...e){let t=(0,O.m9)(n);for(const i of e)t=i._apply(t);return t}(function Trt(n){(0,O.hu)(!Vx,"__referenceConstructor has already been defined"),Vx=n})(jo),function Hrt(n){(0,O.hu)(!Nx,"__referenceConstructor has already been defined"),Nx=n}(jo);const $st="FIREBASE_DATABASE_EMULATOR_HOST",zV={};let L1e=!1;function E1e(n,e,t,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||_c("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),er("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let d,h,a=SV(s,r),c=a.repoInfo;typeof process<"u"&&process.env&&(h=process.env[$st]),h?(d=!0,s=`http://${h}?ns=${c.namespace}`,a=SV(s,r),c=a.repoInfo):d=!a.repoInfo.secure;const g=r&&d?new o_(o_.OWNER):new B2t(n.name,n.options,e);a1e("Invalid Firebase Database URL",a),Nn(a.path)||_c("Database URL must point to the root of a Firebase Database (not including a child path).");const y=function Qst(n,e,t,i){let r=zV[e.name];r||(r={},zV[e.name]=r);let s=r[n.toURLString()];return s&&_c("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new rst(n,L1e,t,i),r[n.toURLString()]=s,s}(c,n,g,new F2t(n.name,t));return new Xst(y,n)}class Xst{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function sst(n,e,t){if(n.stats_=AE(n.repoInfo_),n.forceRestClient_||O2t())n.server_=new Sx(n.repoInfo_,(i,r,s,a)=>{f1e(n,i,r,s,a)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>h1e(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,O.Wl)(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new gu(n.repoInfo_,e,(i,r,s,a)=>{f1e(n,i,r,s,a)},i=>{h1e(n,i)},i=>{!function ost(n,e){tr(e,(t,i)=>{yV(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function W2t(n,e){const t=n.toString();return zE[t]||(zE[t]=e()),zE[t]}(n.repoInfo_,()=>new Wit(n.stats_,n.server_)),n.infoData_=new Oit,n.infoSyncTree_=new Kne({startListening:(i,r,s,a)=>{let c=[];const d=n.infoData_.getNode(i._path);return d.isEmpty()||(c=v_(n.infoSyncTree_,i._path,d),setTimeout(()=>{a("ok")},0)),c},stopListening:()=>{}}),yV(n,"connected",!1),n.serverSyncTree_=new Kne({startListening:(i,r,s,a)=>(n.server_.listen(i,s,r,(c,d)=>{const h=a(c,d);Qs(n.eventQueue_,i._path,h)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new jo(this._repo,v1())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Kst(n,e){const t=zV[e];(!t||t[n.key]!==n)&&_c(`Database ${e}(${n.repoInfo_}) has already been deleted.`),m1e(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&_c("Cannot call "+e+" on a deleted database.")}}function V1e(){nne.IS_TRANSPORT_INITIALIZED&&Lr("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function eot(){V1e(),ml.forceDisallow()}function tot(){V1e(),ih.forceDisallow(),ml.forceAllow()}function not(n=(0,R1.getApp)(),e){const t=(0,R1._getProvider)(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const i=(0,O.P0)("database");i&&I1e(t,...i)}return t}function I1e(n,e,t,i={}){(n=(0,O.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&_c("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&_c('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new o_(o_.OWNER);else if(i.mockUserToken){const a="string"==typeof i.mockUserToken?i.mockUserToken:(0,O.Sg)(i.mockUserToken,n.app.options.projectId);s=new o_(a)}!function Zst(n,e,t,i){n.repoInfo_=new DE(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,e,t,s)}function sot(n,e){Nte(n,e)}const aot={".sv":"timestamp"};class uot{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}gu.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},gu.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function oot(n){Hte(R1.SDK_VERSION),(0,R1._registerComponent)(new Wr.wA("database",(e,{instanceIdentifier:t})=>E1e(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,R1.registerVersion)(zte,"0.14.4",n),(0,R1.registerVersion)(zte,"0.14.4","esm2017")}();const pot=new ms.Yd("@firebase/database-compat"),N1e=function(n){pot.warn("FIREBASE WARNING: "+n)};class _ot{constructor(e){this._delegate=e}cancel(e){(0,O.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,O.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),i=>e(i)),t}remove(e){(0,O.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,O.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),i=>e(i)),t}set(e,t){(0,O.Dv)("OnDisconnect.set",1,2,arguments.length),(0,O.Wj)("OnDisconnect.set","onComplete",t,!0);const i=this._delegate.set(e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,O.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,O.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(e,t);return i&&r.then(()=>i(null),s=>i(s)),r}update(e,t){if((0,O.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,N1e("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,O.Wj)("OnDisconnect.update","onComplete",t,!0);const i=this._delegate.update(e);return t&&i.then(()=>t(null),r=>t(r)),i}}class vot{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,O.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class xl{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,O.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,O.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,O.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,O.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,O.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),S_("DataSnapshot.child","path",e,!1),new xl(this._database,this._delegate.child(e))}hasChild(e){return(0,O.Dv)("DataSnapshot.hasChild",1,1,arguments.length),S_("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,O.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,O.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,O.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new xl(this._database,t)))}hasChildren(){return(0,O.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,O.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,O.Dv)("DataSnapshot.ref",0,0,arguments.length),new Js(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class gr{constructor(e,t){this.database=e,this._delegate=t}on(e,t,i,r){var s;(0,O.Dv)("Query.on",2,4,arguments.length),(0,O.Wj)("Query.on","callback",t,!1);const a=gr.getCancelAndContextArgs_("Query.on",i,r),c=(h,g)=>{t.call(a.context,new xl(this.database,h),g)};c.userCallback=t,c.context=a.context;const d=null===(s=a.cancel)||void 0===s?void 0:s.bind(a.context);switch(e){case"value":return kV(this._delegate,c,d),t;case"child_added":return S1e(this._delegate,c,d),t;case"child_removed":return k1e(this._delegate,c,d),t;case"child_changed":return T1e(this._delegate,c,d),t;case"child_moved":return D1e(this._delegate,c,d),t;default:throw new Error((0,O.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,i){if((0,O.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,O.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,O.Wj)("Query.off","callback",t,!0),(0,O.lb)("Query.off","context",i,!0),t){const r=()=>{};r.userCallback=t,r.context=i,z1e(this._delegate,e,r)}else z1e(this._delegate,e)}get(){return Dst(this._delegate).then(e=>new xl(this.database,e))}once(e,t,i,r){(0,O.Dv)("Query.once",1,4,arguments.length),(0,O.Wj)("Query.once","callback",t,!0);const s=gr.getCancelAndContextArgs_("Query.once",i,r),a=new O.BH,c=(h,g)=>{const y=new xl(this.database,h);t&&t.call(s.context,y,g),a.resolve(y)};c.userCallback=t,c.context=s.context;const d=h=>{s.cancel&&s.cancel.call(s.context,h),a.reject(h)};switch(e){case"value":kV(this._delegate,c,d,{onlyOnce:!0});break;case"child_added":S1e(this._delegate,c,d,{onlyOnce:!0});break;case"child_removed":k1e(this._delegate,c,d,{onlyOnce:!0});break;case"child_changed":T1e(this._delegate,c,d,{onlyOnce:!0});break;case"child_moved":D1e(this._delegate,c,d,{onlyOnce:!0});break;default:throw new Error((0,O.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return a.promise}limitToFirst(e){return(0,O.Dv)("Query.limitToFirst",1,1,arguments.length),new gr(this.database,Ga(this._delegate,function Ist(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Vst(n)}(e)))}limitToLast(e){return(0,O.Dv)("Query.limitToLast",1,1,arguments.length),new gr(this.database,Ga(this._delegate,function Pst(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Nst(n)}(e)))}orderByChild(e){return(0,O.Dv)("Query.orderByChild",1,1,arguments.length),new gr(this.database,Ga(this._delegate,function Ost(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return S_("orderByChild","path",n,!1),new Rst(n)}(e)))}orderByKey(){return(0,O.Dv)("Query.orderByKey",0,0,arguments.length),new gr(this.database,Ga(this._delegate,function Bst(){return new Fst}()))}orderByPriority(){return(0,O.Dv)("Query.orderByPriority",0,0,arguments.length),new gr(this.database,Ga(this._delegate,function jst(){return new Ust}()))}orderByValue(){return(0,O.Dv)("Query.orderByValue",0,0,arguments.length),new gr(this.database,Ga(this._delegate,function Yst(){return new Wst}()))}startAt(e=null,t){return(0,O.Dv)("Query.startAt",0,2,arguments.length),new gr(this.database,Ga(this._delegate,function Hst(n=null,e){return x_("startAt","key",e,!0),new H1e(n,e)}(e,t)))}startAfter(e=null,t){return(0,O.Dv)("Query.startAfter",0,2,arguments.length),new gr(this.database,Ga(this._delegate,function Est(n,e){return x_("startAfter","key",e,!0),new Lst(n,e)}(e,t)))}endAt(e=null,t){return(0,O.Dv)("Query.endAt",0,2,arguments.length),new gr(this.database,Ga(this._delegate,function kst(n,e){return x_("endAt","key",e,!0),new A1e(n,e)}(e,t)))}endBefore(e=null,t){return(0,O.Dv)("Query.endBefore",0,2,arguments.length),new gr(this.database,Ga(this._delegate,function Ast(n,e){return x_("endBefore","key",e,!0),new zst(n,e)}(e,t)))}equalTo(e,t){return(0,O.Dv)("Query.equalTo",1,2,arguments.length),new gr(this.database,Ga(this._delegate,function Gst(n,e){return x_("equalTo","key",e,!0),new qst(n,e)}(e,t)))}toString(){return(0,O.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,O.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,O.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof gr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,i){const r={cancel:void 0,context:void 0};if(t&&i)r.cancel=t,(0,O.Wj)(e,"cancel",r.cancel,!0),r.context=i,(0,O.lb)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error((0,O.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new Js(this.database,new jo(this._delegate._repo,this._delegate._path))}}class Js extends gr{constructor(e,t){super(e,new xs(t._repo,t._path,new wx,!1)),this.database=e,this._delegate=t}getKey(){return(0,O.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,O.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new Js(this.database,Mu(this._delegate,e))}getParent(){(0,O.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new Js(this.database,e):null}getRoot(){return(0,O.Dv)("Reference.root",0,0,arguments.length),new Js(this.database,this._delegate.root)}set(e,t){(0,O.Dv)("Reference.set",1,2,arguments.length),(0,O.Wj)("Reference.set","onComplete",t,!0);const i=DV(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}update(e,t){if((0,O.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,N1e("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Uo("Reference.update",this._delegate._path),(0,O.Wj)("Reference.update","onComplete",t,!0);const i=Tst(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,O.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,O.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function Sst(n,e,t){if(Uo("setWithPriority",n._path),yc("setWithPriority",e,n._path,!1),vV("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new O.BH;return CV(n._repo,n._path,e,t,i.wrapCallback(()=>{})),i.promise}(this._delegate,e,t);return i&&r.then(()=>i(null),s=>i(s)),r}remove(e){(0,O.Dv)("Reference.remove",0,1,arguments.length),(0,O.Wj)("Reference.remove","onComplete",e,!0);const t=function wst(n){return Uo("remove",n._path),DV(n,null)}(this._delegate);return e&&t.then(()=>e(null),i=>e(i)),t}transaction(e,t,i){(0,O.Dv)("Reference.transaction",1,3,arguments.length),(0,O.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,O.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,i){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,O.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function dot(n,e,t){var i;if(n=(0,O.m9)(n),Uo("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=t?.applyLocally)||void 0===i||i,s=new O.BH,c=kV(n,()=>{});return function mst(n,e,t,i,r,s){dh(n,"transaction on "+e);const a={path:e,update:t,onComplete:i,status:null,order:Ete(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=MV(n,e,void 0);a.currentInputSnapshot=c;const d=a.update(c.val());if(void 0===d)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{w_("transaction failed: Data returned ",d,a.path),a.status=0;const h=Fx(n.transactionQueueTree_,e),g=Cu(h)||[];let y;g.push(a),mV(h,g),"object"==typeof d&&null!==d&&(0,O.r3)(d,".priority")?(y=(0,O.DV)(d,".priority"),(0,O.hu)(M_(y),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):y=(Rx(n.serverSyncTree_,e)||zn.EMPTY_NODE).getPriority().val();const M=T_(n),S=G2(d,y),k=fV(S,c,M);a.currentOutputSnapshotRaw=S,a.currentOutputSnapshotResolved=k,a.currentWriteId=Wx(n);const A=sV(n.serverSyncTree_,e,k,a.currentWriteId,a.applyLocally);Qs(n.eventQueue_,e,A),Yx(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(d,h,g)=>{let y=null;d?s.reject(d):(y=new bu(g,new jo(n._repo,n._path),c2),s.resolve(new uot(h,y)))},c,r),s.promise}(this._delegate,e,{applyLocally:i}).then(s=>new vot(s.committed,new xl(this.database,s.snapshot)));return t&&r.then(s=>t(null,s.committed,s.snapshot),s=>t(s,!1,null)),r}setPriority(e,t){(0,O.Dv)("Reference.setPriority",1,2,arguments.length),(0,O.Wj)("Reference.setPriority","onComplete",t,!0);const i=function xst(n,e){n=(0,O.m9)(n),Uo("setPriority",n._path),vV("setPriority",e,!1);const t=new O.BH;return CV(n._repo,I2(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}push(e,t){(0,O.Dv)("Reference.push",0,2,arguments.length),(0,O.Wj)("Reference.push","onComplete",t,!0);const i=function Mst(n,e){n=(0,O.m9)(n),Uo("push",n._path),yc("push",e,n._path,!0);const t=d1e(n._repo),i=bst(t),r=Mu(n,i),s=Mu(n,i);let a;return a=null!=e?DV(s,e).then(()=>s):Promise.resolve(s),r.then=a.then.bind(a),r.catch=a.then.bind(a,void 0),r}(this._delegate,e),r=i.then(a=>new Js(this.database,a));t&&r.then(()=>t(null),a=>t(a));const s=new Js(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return Uo("Reference.onDisconnect",this._delegate._path),new _ot(new M1e(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class z_{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:eot,forceLongPolling:tot}}useEmulator(e,t,i={}){I1e(this._delegate,e,t,i)}ref(e){if((0,O.Dv)("database.ref",0,1,arguments.length),e instanceof Js){const t=x1e(this._delegate,e.toString());return new Js(this,t)}{const t=w1e(this._delegate,e);return new Js(this,t)}}refFromURL(e){(0,O.Dv)("database.refFromURL",1,1,arguments.length);const i=x1e(this._delegate,e);return new Js(this,i)}goOffline(){return(0,O.Dv)("database.goOffline",0,0,arguments.length),function iot(n){(n=(0,O.m9)(n))._checkNotDeleted("goOffline"),m1e(n._repo)}(this._delegate)}goOnline(){return(0,O.Dv)("database.goOnline",0,0,arguments.length),function rot(n){(n=(0,O.m9)(n))._checkNotDeleted("goOnline"),function pst(n){n.persistentConnection_&&n.persistentConnection_.resume(u1e)}(n._repo)}(this._delegate)}}z_.ServerValue={TIMESTAMP:function cot(){return aot}(),increment:n=>function lot(n){return{".sv":{increment:n}}}(n)};var Cot=Object.freeze({__proto__:null,initStandalone:function yot({app:n,url:e,version:t,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){Hte(t);const a=new Wr.zt("auth-internal",new Wr.H0("database-standalone"));return a.setComponent(new Wr.wA("auth-internal",()=>i,"PRIVATE")),{instance:new z_(E1e(n,a,void 0,e,s),n),namespace:r}}});const bot=z_.ServerValue;function P1e(n){return null==n}function R1e(n){return"function"==typeof n.set}function O1e(n,e){return R1e(e)?e:n.ref(e)}function F1e(n,e){if(function wot(n){return"string"==typeof n}(n))return e.stringCase();if(R1e(n))return e.firebaseCase();if(function xot(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function A_(n,e,t="on",i=n0.z){return new Ci.y(r=>{let s=null;return s=n[t](e,(a,c)=>{i.schedule(()=>{r.next({snapshot:a,prevKey:c})}),"once"===t&&i.schedule(()=>r.complete())},a=>{i.schedule(()=>r.error(a))}),"on"===t?{unsubscribe(){null!=s&&n.off(e,s)}}:{unsubscribe(){}}}).pipe((0,kt.U)(r=>{const{snapshot:s,prevKey:a}=r;let c=null;return s.exists()&&(c=s.key),{type:e,payload:s,prevKey:a,key:c}}),(0,vR.B)())}function B1e(n,e){const t=n.length;for(let i=0;i<t;i++)if(n[i].payload.key===e)return i;return-1}function Dot(n,e){const{payload:t,prevKey:i,key:r}=e,s=B1e(n,r),a=function Tot(n,e){if(P1e(e))return 0;{const t=B1e(n,e);return-1===t?n.length:t+1}}(n,i);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let c=null;e.payload.forEach(d=>{const h={payload:d,type:"value",prevKey:c,key:d.key};return c=d.key,n=[...n,h],!1})}return n;case"child_added":if(s>-1){const c=n[s-1];(c&&c.key||null)!==i&&(n=n.filter(d=>d.payload.key!==t.key)).splice(a,0,e)}else{if(null==i)return[e,...n];(n=n.slice()).splice(a,0,e)}return n;case"child_removed":return n.filter(c=>c.payload.key!==t.key);case"child_changed":return n.map(c=>c.payload.key===r?e:c);case"child_moved":if(s>-1){const c=n.splice(s,1)[0];return(n=n.slice()).splice(a,0,c),n}return n;default:return n}}function U1e(n){return(P1e(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function j1e(n,e,t){return function Sot(n,e,t){return A_(n,"value","once",t).pipe(m2(i=>{const r=[It(i)];return e.forEach(s=>r.push(A_(n,s,"on",t))),(0,nM.T)(...r).pipe(us(Dot,[]))}),E3())}(n,e=U1e(e),t)}function W1e(n,e,t){const i=(e=U1e(e)).map(r=>A_(n,r,"on",t));return(0,nM.T)(...i)}function Y1e(n,e){return function(i,r){return F1e(i,{stringCase:()=>n.child(i)[e](r),firebaseCase:()=>i[e](r),snapshotCase:()=>i.ref[e](r)})}}function Hot(n){return function(t){return t?F1e(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function q1e(n,e){return function(){return A_(n,"value","on",e)}}!function Mot(n){n.INTERNAL.registerComponent(new Wr.wA("database-compat",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:t});return new z_(r,i)},"PUBLIC").setServiceProps({Reference:Js,Query:gr,Database:z_,DataSnapshot:xl,enableLogging:sot,INTERNAL:Cot,ServerValue:bot}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(V9.Z);const Vot=new o.OlP("angularfire2.realtimeDatabaseURL"),Iot=new o.OlP("angularfire2.database.use-emulator");let G1e=(()=>{class n{constructor(t,i,r,s,a,c,d,h,g,y,M,S,k,A,L){this.schedulers=c;const B=d,G=(0,B2.on)(t,a,i);h&&Jz(G,a,g,M,S,k,y,A),this.database=(0,B2.cc)(`${G.name}.database.${r}`,"AngularFireDatabase",G.name,()=>{const X=a.runOutsideAngular(()=>G.database(r||void 0));return B&&X.useEmulator(...B),X},[B])}list(t,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>O1e(this.database,t));let s=r;return i&&(s=i(r)),function Lot(n,e){const t=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:Y1e(i,"update"),set:Y1e(i,"set"),push:r=>i.push(r),remove:Hot(i),snapshotChanges:r=>j1e(n,r,t).pipe(Tt.iC),stateChanges:r=>W1e(n,r,t).pipe(Tt.iC),auditTrail:r=>function kot(n,e,t){return function Aot(n,e,t){return function zot(n,e){return A_(n,"value","on",e).pipe((0,kt.U)(t=>{let i;return t.payload.forEach(r=>(i=r.key,!1)),{data:t,lastKeyToLoad:i}}))}(n,t).pipe(function T2t(...n){const e=(0,Cr.jO)(n);return(0,Q2.e)((t,i)=>{const r=n.length,s=new Array(r);let a=n.map(()=>!1),c=!1;for(let d=0;d<r;d++)(0,mo.Xf)(n[d]).subscribe((0,p2.x)(i,h=>{s[d]=h,!c&&!a[d]&&(a[d]=!0,(c=a.every(g3.y))&&(a=null))},kte.Z));t.subscribe((0,p2.x)(i,d=>{if(c){const h=[d,...s];i.next(e?e(...h):h)}}))})}(e),(0,kt.U)(([r,s])=>{const a=r.lastKeyToLoad,c=s.map(d=>d.key);return{actions:s,lastKeyToLoad:a,loadedKeys:c}}),function D2t(n){return(0,Q2.e)((e,t)=>{let i=!1,r=0;e.subscribe((0,p2.x)(t,s=>(i||(i=!n(s,r++)))&&t.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,kt.U)(r=>r.actions))}(n,W1e(n,e).pipe(us((r,s)=>[...r,s],[])),t)}(n,r,t).pipe(Tt.iC),valueChanges:(r,s)=>j1e(n,r,t).pipe((0,kt.U)(c=>c.map(d=>s&&s.idField?Object.assign(Object.assign({},d.payload.val()),{[s.idField]:d.key}):d.payload.val())),Tt.iC)}}(s,this)}object(t){return function Eot(n,e){return{query:n,snapshotChanges:()=>q1e(n,e.schedulers.outsideAngular)().pipe(Tt.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>q1e(n,e.schedulers.outsideAngular)().pipe(Tt.iC,(0,kt.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>O1e(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(B2.Dh),o.LFG(B2.xv,8),o.LFG(Vot,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Tt.HU),o.LFG(Iot,8),o.LFG(Bm,8),o.LFG(qz,8),o.LFG(Gz,8),o.LFG($z,8),o.LFG(Zz,8),o.LFG(Kz,8),o.LFG(Qz,8),o.LFG(ic,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Not=(()=>{class n{constructor(){Z1.Z.registerVersion("angularfire",Tt.q4.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[G1e]}),n})();var Pot=function(){function n(e,t,i,r,s,a,c,d,h){this.route=e,this.title=t,this.authService=i,this.profileService=r,this.currentUser=s,this.fb=a,this.location=c,this.db=d,this.fs=h,this.profile=this.profileService.initProfile,this.userProfile=!1}return n.prototype.ngOnInit=function(){var e=this;this.route.paramMap.subscribe(function(t){e.urlProfileHandle=t.get("name"),e.loadProfileData(),e.title.setTitle("Edit Profile | FitHub")})},n.prototype.loadProfileData=function(){var e=this;this.urlProfileHandle==this.currentUser.user.profile.profileHandle?(this.profile=this.currentUser.user.profile,this.userProfile=!0):(this.userProfile=!1,this.profileService.getProfile(this.urlProfileHandle).ref.get().then(function(t){var i=t.data();e.profile.uid=i.uid,e.profile.profileHandle=i.profileHandle,e.profile.profileName=i.profileName,e.profile.age=i.age,e.profile.weight=i.weight,e.profile.heightFeet=i.heightFeet,e.profile.heightInches=i.heightInches,e.profile.sex=i.sex,e.profile.about=i.about,e.profile.followers=i.followers,e.profile.following=i.following,e.profile.posts=i.posts,e.profile.isPrivate=i.isPrivate,e.profile.profilePicture=i.profilePicture}))},n.prototype.updateProfileName=function(){var e="",t=this.fs.collection("profiles").doc(this.profile.profileHandle);if(""!==document.getElementById("profileName").value){var i={profileName:document.getElementById("profileName").value};t.update(i),e+="Your Name: "+document.getElementById("profileName").value+" "}return e},n.prototype.updateAge=function(){var e="",t=this.fs.collection("profiles").doc(this.profile.profileHandle);if(""!==document.getElementById("age").value){var i={age:document.getElementById("age").value};t.update(i),e+="Your Age: "+document.getElementById("age").value+" "}return e},n.prototype.updateWeight=function(){var e="",t=this.fs.collection("profiles").doc(this.profile.profileHandle);if(""!==document.getElementById("weight").value){var i={weight:document.getElementById("weight").value};t.update(i),e+="Your Weight: "+document.getElementById("weight").value+" "}return e},n.prototype.updateAbout=function(){var e="",t=this.fs.collection("profiles").doc(this.profile.profileHandle);if(""!==document.getElementById("about").value){var i={about:document.getElementById("about").value};t.update(i),e+="About you: "+document.getElementById("about").value+" "}return e},n.prototype.updateVisibility=function(){for(var s,e="",t=this.fs.collection("profiles").doc(this.profile.profileHandle),r=document.querySelector("form").elements.Visibility,a=0;a<r.length;a++)r[a].checked&&(s=r[a].value);return"NoChange"!==s&&("Private"===s?(t.update({isPrivate:!0}),e+="Profile visibility: Private"):(t.update({isPrivate:!1}),e+="Profile visibility: Public")),r[0].checked=!0,e},n.prototype.resetFields=function(){document.getElementById("profileName").value="",document.getElementById("age").value="",document.getElementById("weight").value="",document.getElementById("about").value=""},n.prototype.reportChanges=function(e){alert(""!==e?e:"No changes were made.")},n.prototype.updateProfile=function(){var e="";e+=this.updateProfileName()+this.updateAge()+this.updateWeight()+this.updateAbout()+this.updateVisibility(),this.reportChanges(e),this.resetFields()},n.prototype.cancelEdit=function(){this.location.back(),alert("Cancelled profile editing. No changes were made.")},n.\u0275fac=function(t){return new(t||n)(o.Y36(Ur),o.Y36(un),o.Y36(Dr),o.Y36(rc),o.Y36(W2),o.Y36(Ws),o.Y36(Oe),o.Y36(G1e),o.Y36(Us))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-edit-profile"]],decls:45,vars:4,consts:[[1,"row","min-vh-100","main-bg"],[1,"container","py-5","h-100"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col","col-lg-9","col-xl-7"],[1,"card"],[1,"rounded-top","text-white","d-flex","flex-row",2,"background-color","#096A2E","height","50px"],[1,"form-group",2,"margin-bottom","10px"],["for","UpdateYourName"],["id","profileName",1,"form-control",3,"placeholder"],["for","UpdateYourAge"],["id","age",1,"form-control",3,"placeholder"],["for","UpdateYourWeight"],["id","weight",1,"form-control",3,"placeholder"],["for","UpdateYourAbout"],["id","about","rows","5",1,"form-control",3,"placeholder"],["data-toggle","buttons",1,"btn-group","btn-group-toggle"],[1,"btn","btn-secondary"],["type","radio","name","Visibility","id","NoChangeRadio","autocomplete","off","value","NoChange","checked",""],["type","radio","name","Visibility","id","PrivateRadio","autocomplete","off","value","Private"],["type","radio","name","Visibility","id","PublicRadio","autocomplete","off","value","Public"],[2,"margin-top","25px"],["data-mdb-ripple-color","dark",1,"btn","btn-primary-dark","btn-lg","btn-outline-success",2,"margin","0",3,"click"],[1,"btn","btn-secondary","bt-lg","btn-outline-success;",2,"margin","0",3,"click"]],template:function(t,i){1&t&&(o._UZ(0,"head"),o.TgZ(1,"body")(2,"div",0)(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"h5"),o._uU(9,"Edit Profile"),o.qZA()(),o.TgZ(10,"form")(11,"div",6)(12,"label",7),o._uU(13,"Your name:"),o.qZA(),o._UZ(14,"input",8),o.qZA(),o.TgZ(15,"div",6)(16,"label",9),o._uU(17,"Your age:"),o.qZA(),o._UZ(18,"input",10),o.qZA(),o.TgZ(19,"div",6)(20,"label",11),o._uU(21,"Your current weight (lbs):"),o.qZA(),o._UZ(22,"input",12),o.qZA(),o.TgZ(23,"div",6)(24,"label",13),o._uU(25,"About:"),o.qZA(),o._UZ(26,"textarea",14),o.qZA(),o.TgZ(27,"div"),o._uU(28,"Profile Visibility:"),o.qZA(),o.TgZ(29,"div",15)(30,"label",16),o._UZ(31,"input",17),o._uU(32," No change "),o.qZA(),o.TgZ(33,"label",16),o._UZ(34,"input",18),o._uU(35," Private "),o.qZA(),o.TgZ(36,"label",16),o._UZ(37,"input",19),o._uU(38," Public "),o.qZA()()(),o.TgZ(39,"h5",20),o._uU(40,"Would you like to save all of your changes?"),o.qZA(),o.TgZ(41,"button",21),o.NdJ("click",function(){return i.updateProfile()}),o._uU(42," Accept "),o.qZA(),o.TgZ(43,"button",22),o.NdJ("click",function(){return i.cancelEdit()}),o._uU(44," Cancel "),o.qZA()()()()()()()),2&t&&(o.xp6(14),o.s9C("placeholder",i.profile.profileName),o.xp6(4),o.s9C("placeholder",i.profile.age),o.xp6(4),o.s9C("placeholder",i.profile.weight),o.xp6(4),o.s9C("placeholder",i.profile.about))},dependencies:[W4,j4,Af]}),n}();function Rot(n,e){if(1&n&&(o.TgZ(0,"span"),o._uU(1),o.ALo(2,"titlecase"),o.qZA()),2&n){var t=o.oxw().$implicit;o.xp6(1),o.Oqu(o.lcZ(2,1,t))}}function Oot(n,e){1&n&&(o.TgZ(0,"span"),o._uU(1,"All"),o.qZA())}function Fot(n,e){if(1&n&&(o.TgZ(0,"li",21),o.YNc(1,Rot,3,3,"span",18),o.YNc(2,Oot,2,0,"span",18),o.qZA()),2&n){var t=e.$implicit;o.xp6(1),o.Q6J("ngIf","*"!=t),o.xp6(1),o.Q6J("ngIf","*"==t)}}function Bot(n,e){if(1&n&&(o.TgZ(0,"ul",19),o.YNc(1,Fot,3,2,"li",20),o.qZA()),2&n){var t=o.oxw();o.xp6(1),o.Q6J("ngForOf",t.workout.equipment)}}function Uot(n,e){if(1&n&&(o.TgZ(0,"h1",22),o._uU(1),o.qZA()),2&n){var t=o.oxw();o.xp6(1),o.Oqu(t.workout.name)}}function jot(n,e){if(1&n){var t=o.EpF();o.TgZ(0,"button",23),o.NdJ("click",function(){o.CHM(t);var r=o.oxw();return o.KtG(r.curate())}),o._uU(1,"Add to Curated Workouts"),o.qZA()}}function Wot(n,e){if(1&n&&(o.TgZ(0,"button",24),o._UZ(1,"fa-icon",14),o._uU(2," Edit Workout"),o.qZA()),2&n){var t=o.oxw();o.Q6J("routerLink","/edit-workout/"+t.uid),o.xp6(1),o.Q6J("icon",t.faEdit)}}function Yot(n,e){1&n&&(o.TgZ(0,"div",25)(1,"div",26)(2,"span",27),o._uU(3,"Loading..."),o.qZA()()())}function qot(n,e){if(1&n&&(o.TgZ(0,"div",31)(1,"div",6)(2,"h3",32),o._uU(3,"Description"),o.qZA(),o.TgZ(4,"p",32),o._uU(5),o.qZA()()()),2&n){var t=o.oxw(2);o.xp6(5),o.Oqu(t.workout.description)}}function Got(n,e){if(1&n&&(o.TgZ(0,"div",43)(1,"h6",44),o._uU(2),o.qZA()()),2&n){var t=o.oxw().$implicit;o.xp6(2),o.AsE("",t.sets," sets of ",t.reps," reps")}}function $ot(n,e){if(1&n&&(o.TgZ(0,"li"),o._uU(1),o.qZA()),2&n){var t=o.oxw().$implicit;o.xp6(1),o.Oqu(t)}}function Zot(n,e){if(1&n&&(o.ynx(0),o.YNc(1,$ot,2,1,"li",18),o.BQk()),2&n){var t=e.last;o.xp6(1),o.Q6J("ngIf",!t)}}function Kot(n,e){1&n&&(o.TgZ(0,"h6",37),o._uU(1,"Secondary Muscles: "),o.qZA())}function Qot(n,e){if(1&n&&(o.TgZ(0,"li",21)(1,"h4",37),o._uU(2),o.qZA(),o.TgZ(3,"div",38),o.YNc(4,Got,3,2,"div",39),o.TgZ(5,"div",6)(6,"h5"),o._uU(7,"Instructions:"),o.qZA(),o.TgZ(8,"ul",40),o.YNc(9,Zot,2,1,"ng-container",41),o.qZA(),o.YNc(10,Kot,2,0,"h6",42),o._uU(11),o.ALo(12,"titlecase"),o.qZA()()()),2&n){var t=e.$implicit;o.xp6(2),o.Oqu(t.name),o.xp6(2),o.Q6J("ngIf",t.sets&&t.reps),o.xp6(5),o.Q6J("ngForOf",t.instructions.split(".")),o.xp6(1),o.Q6J("ngIf",t.secondaryMuscles),o.xp6(1),o.hij("",o.lcZ(12,5,t.secondaryMuscles)," ")}}function Jot(n,e){if(1&n&&(o.TgZ(0,"div",33)(1,"div",34)(2,"h3",35),o._uU(3),o.ALo(4,"titlecase"),o.qZA()(),o.TgZ(5,"div",4)(6,"ol",36),o.YNc(7,Qot,13,7,"li",20),o.qZA()()()),2&n){var t=e.$implicit;o.xp6(3),o.hij(" ",o.lcZ(4,2,t.groupType)," "),o.xp6(4),o.Q6J("ngForOf",t.exercises)}}function Xot(n,e){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,qot,6,1,"div",28),o.TgZ(2,"div",5)(3,"div",6)(4,"h4",29),o._uU(5," Exercises "),o.qZA()()(),o.YNc(6,Jot,8,4,"div",30),o.qZA()),2&n){var t=o.oxw();o.xp6(1),o.Q6J("ngIf",t.workout.description),o.xp6(5),o.Q6J("ngForOf",t.workout.groups)}}var $1e=function(){function n(e,t,i,r,s,a,c,d,h){this.router=e,this.title=t,this.route=i,this.fb=r,this.authService=s,this.modalService=a,this.toastr=c,this.currentUser=d,this.workoutService=h,this.faEdit=qM,this.faX=jH,this.faInfoCircle=gH,this.faPlusCircle=ow,this.faDumbbell=yH,this.userWorkout=!0,this.loading=!0,this.hideEquipment=!1}return n.prototype.ngOnInit=function(){var e=this;window.scroll({top:0,left:0,behavior:"smooth"}),this.uid=this.route.snapshot.paramMap.get("uid"),this.route.snapshot.paramMap.get("profile")?(this.userWorkout=!1,this.profile=this.route.snapshot.paramMap.get("profile")):this.profile=this.currentUser.user.profile.profileHandle,"curated"==this.profile?this.workoutService.getCuratedWorkoutById(this.uid).then(function(t){e.workout=t.data(),e.title.setTitle(e.workout.name+" | Workout | FitHub"),e.loading=!1}):this.subscription=this.workoutService.getWorkout(this.uid,this.profile).subscribe(function(t){e.workout=t,e.title.setTitle(e.workout.name+" | Workout | FitHub"),e.loading=!1,e.subscription.unsubscribe()})},n.prototype.startWorkout=function(){this.router.navigate(["active-workout/",this.profile,this.uid])},n.prototype.showCurateButton=function(){var e=this.currentUser.user.profile.profileHandle;return"jamisoncoombs"==e||"SwankyWorkouts"==e||"rusty"==e},n.prototype.curate=function(){var e=this;this.workoutService.addCuratedWorkout(this.workout).then(function(){e.toastr.success("Workout added curated workouts.","Success!")}).catch(function(t){e.toastr.error("Please try again.","Something went wrong"),console.log(t)})},n.\u0275fac=function(t){return new(t||n)(o.Y36(c1),o.Y36(un),o.Y36(Ur),o.Y36(Ws),o.Y36(Dr),o.Y36(eh),o.Y36(Si),o.Y36(W2),o.Y36(qs))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],decls:24,vars:7,consts:[[1,"row","main-bg"],[1,"col","d-none","d-xl-block","p-0","p-xl-1"],[1,"card"],[1,"card-header","text-center"],[1,"card-body"],[1,"row"],[1,"col"],["class","list-group",4,"ngIf"],[1,"col-12","col-xl-8","col-xxl-6","p-0"],[1,"card","no-border","min-vh-100"],[1,"page-header-1","text-center"],["class","display-4",4,"ngIf"],[1,"d-flex","justify-content-between","p-2",2,"background-color","#074920"],[1,"btn","btn-success",3,"click"],[3,"icon"],["class","btn btn-secondary",3,"click",4,"ngIf"],["class","btn btn-warning",3,"routerLink",4,"ngIf"],["class","row justify-content-center p-5",4,"ngIf"],[4,"ngIf"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"display-4"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-warning",3,"routerLink"],[1,"row","justify-content-center","p-5"],["role","status",1,"spinner-border","text-success"],[1,"sr-only"],["class","row mb-4",4,"ngIf"],[1,"text-center","display-6"],["class","card mb-3",4,"ngFor","ngForOf"],[1,"row","mb-4"],[1,"text-center"],[1,"card","mb-3"],[1,"card-header","bg-success","text-center","text-light"],[1,"card-title"],[1,"list-group","list-group-flush","list-group-numbered"],[1,"d-inline"],[1,"row","mb-3","mt-3"],["class","col-auto border-end",4,"ngIf"],[1,"mb-3"],[4,"ngFor","ngForOf"],["class","d-inline",4,"ngIf"],[1,"col-auto","border-end"],[1,"ms-3"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3"),o._uU(5,"Equipment"),o.qZA()(),o.TgZ(6,"div",4)(7,"div",5)(8,"div",6),o.YNc(9,Bot,2,1,"ul",7),o.qZA()()()()(),o.TgZ(10,"div",8)(11,"div",9)(12,"div",10),o.YNc(13,Uot,2,1,"h1",11),o.qZA(),o.TgZ(14,"div",12)(15,"button",13),o.NdJ("click",function(){return i.startWorkout()}),o._UZ(16,"fa-icon",14),o._uU(17," Start Workout"),o.qZA(),o.YNc(18,jot,2,0,"button",15),o.YNc(19,Wot,3,2,"button",16),o.qZA(),o.TgZ(20,"div",4),o.YNc(21,Yot,4,0,"div",17),o.YNc(22,Xot,7,2,"div",18),o.qZA()()(),o._UZ(23,"div",6),o.qZA()),2&t&&(o.xp6(9),o.Q6J("ngIf",!i.loading),o.xp6(4),o.Q6J("ngIf",!i.loading),o.xp6(3),o.Q6J("icon",i.faDumbbell),o.xp6(2),o.Q6J("ngIf",i.showCurateButton()),o.xp6(1),o.Q6J("ngIf",i.userWorkout),o.xp6(2),o.Q6J("ngIf",i.loading),o.xp6(1),o.Q6J("ngIf",!i.loading))},dependencies:[S1,Zn,Ma,K4,Wi],data:{animation:[Oa("slideOutAnimation",[Y2(":enter",[on({height:0,opacity:0}),r2("0.4s ease-out",on({}))]),Y2(":leave",[on({}),r2("0.4s ease-in",on({height:0,opacity:0}))])])]}}),n}();function eat(n,e){if(1&n&&(o.TgZ(0,"h1",12),o._uU(1),o.qZA()),2&n){var t=o.oxw();o.xp6(1),o.Oqu(t.workout.name)}}function tat(n,e){1&n&&(o.TgZ(0,"div",13)(1,"div",14)(2,"span",15),o._uU(3,"Loading..."),o.qZA()()())}function nat(n,e){if(1&n&&(o.TgZ(0,"div",34)(1,"div",28)(2,"h3",30),o._uU(3,"Description"),o.qZA(),o.TgZ(4,"p",30),o._uU(5),o.qZA()()()),2&n){var t=o.oxw(2);o.xp6(5),o.Oqu(t.workout.description)}}function iat(n,e){if(1&n&&(o.TgZ(0,"label",51),o._uU(1),o.qZA()),2&n){var t=o.oxw().$implicit;o.xp6(1),o.AsE("",t.sets," sets of ",t.reps," reps")}}function rat(n,e){1&n&&(o.TgZ(0,"span"),o._uU(1,"\u25bc"),o.qZA())}function sat(n,e){1&n&&(o.TgZ(0,"span"),o._uU(1,"\u25b2"),o.qZA())}function oat(n,e){if(1&n&&(o.TgZ(0,"li"),o._uU(1),o.qZA()),2&n){var t=o.oxw().$implicit;o.xp6(1),o.Oqu(t)}}function aat(n,e){if(1&n&&(o.ynx(0),o.YNc(1,oat,2,1,"li",7),o.BQk()),2&n){var t=e.last;o.xp6(1),o.Q6J("ngIf",!t)}}function cat(n,e){1&n&&(o.TgZ(0,"h6",47),o._uU(1,"Secondary Muscles: "),o.qZA())}function lat(n,e){if(1&n&&(o.TgZ(0,"div",52)(1,"div",28)(2,"h5"),o._uU(3,"Instructions:"),o.qZA(),o.TgZ(4,"ul",53),o.YNc(5,aat,2,1,"ng-container",54),o.qZA(),o.YNc(6,cat,2,0,"h6",55),o._uU(7),o.ALo(8,"titlecase"),o.qZA()()),2&n){var t=o.oxw().$implicit;o.Q6J("@slideOutAnimation",void 0),o.xp6(5),o.Q6J("ngForOf",t.instructions.split(".")),o.xp6(1),o.Q6J("ngIf",t.secondaryMuscles),o.xp6(1),o.hij("",o.lcZ(8,4,t.secondaryMuscles)," ")}}function uat(n,e){if(1&n){var t=o.EpF();o.TgZ(0,"li",41)(1,"div",42)(2,"div",43)(3,"div",44)(4,"input",45),o.NdJ("ngModelChange",function(d){var g=o.CHM(t).index,y=o.oxw().index,M=o.oxw(2);return o.KtG(M.checkBoxes[y][g]=d)}),o.qZA()(),o.TgZ(5,"div",46),o.NdJ("click",function(){var h=o.CHM(t).index,g=o.oxw().index,y=o.oxw(2);return o.KtG(y.openExercise(g,h))}),o.TgZ(6,"h5",47),o._uU(7),o.qZA(),o.YNc(8,iat,2,2,"label",48),o.qZA()(),o.TgZ(9,"div",49),o.NdJ("click",function(){var h=o.CHM(t).index,g=o.oxw().index,y=o.oxw(2);return o.KtG(y.openExercise(g,h))}),o.YNc(10,rat,2,0,"span",7),o.YNc(11,sat,2,0,"span",7),o.qZA()(),o.YNc(12,lat,9,6,"div",50),o.qZA()}if(2&n){var i=e.$implicit,r=e.index,s=o.oxw().index,a=o.oxw(2);o.ekj("list-group-item-success",a.checkBoxes[s][r]),o.xp6(4),o.Q6J("ngModel",a.checkBoxes[s][r]),o.xp6(3),o.Oqu(i.name),o.xp6(1),o.Q6J("ngIf",i.sets&&i.reps),o.xp6(2),o.Q6J("ngIf",!a.isOpen(s,r)),o.xp6(1),o.Q6J("ngIf",a.isOpen(s,r)),o.xp6(1),o.Q6J("ngIf",a.isOpen(s,r))}}function dat(n,e){if(1&n&&(o.TgZ(0,"div",35)(1,"div",27)(2,"div",36)(3,"h3",37),o._uU(4),o.ALo(5,"titlecase"),o.qZA()(),o.TgZ(6,"div",38)(7,"ol",39),o.YNc(8,uat,13,8,"li",40),o.qZA()()()()),2&n){var t=e.$implicit;o.xp6(4),o.Oqu(o.lcZ(5,2,t.groupType)),o.xp6(4),o.Q6J("ngForOf",t.exercises)}}function fat(n,e){if(1&n){var t=o.EpF();o.TgZ(0,"div"),o.YNc(1,nat,6,1,"div",16),o.TgZ(2,"div",17)(3,"div",18)(4,"div",19)(5,"div",5)(6,"h3",20),o._uU(7,"Elapsed Time"),o.qZA(),o._UZ(8,"hr"),o.TgZ(9,"div",21)(10,"div",22),o._uU(11),o.qZA(),o.TgZ(12,"div",23)(13,"button",24),o.NdJ("click",function(){o.CHM(t);var s=o.oxw();return o.KtG(s.start())}),o._uU(14,"Start"),o.qZA(),o.TgZ(15,"button",25),o.NdJ("click",function(){o.CHM(t);var s=o.oxw();return o.KtG(s.stop())}),o._uU(16,"Stop"),o.qZA(),o.TgZ(17,"button",26),o.NdJ("click",function(){o.CHM(t);var s=o.oxw();return o.KtG(s.reset())}),o._uU(18,"Reset"),o.qZA()()()()()()(),o.TgZ(19,"div",27)(20,"div",28)(21,"h3",29),o._uU(22," Exercises "),o.qZA(),o.TgZ(23,"h5",30),o._uU(24),o.qZA()()(),o.TgZ(25,"div",31)(26,"div",32),o.YNc(27,dat,9,4,"div",33),o.qZA()()()}if(2&n){var i=o.oxw();o.xp6(1),o.Q6J("ngIf",i.workout.description),o.xp6(10),o.Oqu(i.displayTime),o.xp6(2),o.Q6J("disabled",i.isRunning),o.xp6(2),o.Q6J("disabled",!i.isRunning),o.xp6(8),o.ekj("text-danger",i.getPercentComplete()>=33&&i.getPercentComplete()<66)("text-warning",i.getPercentComplete()>=66&&i.getPercentComplete()<100)("text-success",i.getPercentComplete()>=100),o.xp6(1),o.hij(" ",i.getPercentComplete(),"% Complete "),o.xp6(3),o.Q6J("ngForOf",i.workout.groups)}}var hat=function(){function n(e,t,i,r,s,a,c,d,h){this.router=e,this.title=t,this.route=i,this.fb=r,this.authService=s,this.modalService=a,this.toastr=c,this.currentUser=d,this.workoutService=h,this.loading=!0,this.hideEquipment=!1,this.checkBoxes=[],this.exerciseOpen=[-1,-1],this.percentComplete=0}return n.prototype.ngOnInit=function(){var e=this;window.scroll({top:0,left:0,behavior:"smooth"}),this.uid=this.route.snapshot.paramMap.get("uid"),this.profile=this.route.snapshot.paramMap.get("profile"),"curated"==this.profile?this.workoutService.getCuratedWorkoutById(this.uid).then(function(r){var s,a,c,d;e.workout=r.data(),e.title.setTitle(e.workout.name+" | Workout | FitHub");try{for(var h=(0,en.XA)(e.workout.groups),g=h.next();!g.done;g=h.next()){var y=g.value,M=[];try{for(var S=(c=void 0,(0,en.XA)(y.exercises)),k=S.next();!k.done;k=S.next())M.push(!1)}catch(L){c={error:L}}finally{try{k&&!k.done&&(d=S.return)&&d.call(S)}finally{if(c)throw c.error}}e.checkBoxes.push(M)}}catch(L){s={error:L}}finally{try{g&&!g.done&&(a=h.return)&&a.call(h)}finally{if(s)throw s.error}}e.loading=!1}):this.subscription=this.workoutService.getWorkout(this.uid,this.profile).subscribe(function(r){var s,a,c,d;e.workout=r,e.title.setTitle(e.workout.name+" | Workout | FitHub");try{for(var h=(0,en.XA)(r.groups),g=h.next();!g.done;g=h.next()){var y=g.value,M=[];try{for(var S=(c=void 0,(0,en.XA)(y.exercises)),k=S.next();!k.done;k=S.next())M.push(!1)}catch(L){c={error:L}}finally{try{k&&!k.done&&(d=S.return)&&d.call(S)}finally{if(c)throw c.error}}e.checkBoxes.push(M)}}catch(L){s={error:L}}finally{try{g&&!g.done&&(a=h.return)&&a.call(h)}finally{if(s)throw s.error}}e.loading=!1,e.subscription.unsubscribe()});var t=localStorage.getItem("stopwatchStartTime"),i=localStorage.getItem("stopwatchElapsedTime");this.startTime=t?parseInt(t,10):0,this.elapsedTime=i?parseInt(i,10):0,this.updateDisplayTime(),t&&this.start(),this.startTime=Date.now()-this.elapsedTime},n.prototype.ngOnDestroy=function(){this.stop()},n.prototype.getPercentComplete=function(){for(var e=0,t=0,i=0;i<this.checkBoxes.length;i++)for(var r=0;r<this.checkBoxes[i].length;r++)e++,this.checkBoxes[i][r]&&t++;return Math.round(t/e*100)},n.prototype.openExercise=function(e,t){this.exerciseOpen=this.exerciseOpen[0]===e&&this.exerciseOpen[1]===t?[-1,-1]:[e,t]},n.prototype.isOpen=function(e,t){return this.exerciseOpen[0]===e&&this.exerciseOpen[1]===t},n.prototype.start=function(){var e=this;this.startTime=Date.now()-this.elapsedTime,localStorage.setItem("stopwatchStartTime",this.startTime.toString()),this.isRunning=!0,this.timerInterval=setInterval(function(){e.elapsedTime=Date.now()-e.startTime,localStorage.setItem("stopwatchElapsedTime",e.elapsedTime.toString()),e.updateDisplayTime()},100)},n.prototype.stop=function(){clearInterval(this.timerInterval),this.isRunning=!1,localStorage.removeItem("stopwatchStartTime"),localStorage.removeItem("stopwatchElapsedTime")},n.prototype.reset=function(){this.stop(),this.elapsedTime=0,this.updateDisplayTime()},n.prototype.updateDisplayTime=function(){var e=Math.floor(this.elapsedTime/6e4),t=Math.floor(this.elapsedTime%6e4/1e3);Math.floor(this.elapsedTime%1e3/10),this.displayTime="".concat(this.padNumber(e),":").concat(this.padNumber(t))},n.prototype.getElapsedTime=function(){var e=Date.now()-this.startTime,t=Math.floor(e/6e4),i=Math.floor(e%6e4/1e3);return Math.floor(e%1e3/10),"".concat(this.padNumber(t),":").concat(this.padNumber(i))},n.prototype.padNumber=function(e){return e.toString().padStart(2,"0")},n.prototype.completeWorkout=function(){var e=this,t={uid:this.uid,name:this.workout.name,createdBy:this.profile,percentComplete:this.getPercentComplete(),elapsedTime:this.getElapsedTime().toString(),date:new n1(Date.now()/1e3,0)};this.workoutService.completeWorkout(t).then(function(){e.currentUser.fetchProfile(e.currentUser.user.account),e.toastr.success("Great Job!","Workout Complete"),e.router.navigate(["/dashboard"])}).catch(function(i){e.toastr.error("Something went wrong","Error"),console.log(i)})},n.\u0275fac=function(t){return new(t||n)(o.Y36(c1),o.Y36(un),o.Y36(Ur),o.Y36(Ws),o.Y36(Dr),o.Y36(eh),o.Y36(Si),o.Y36(W2),o.Y36(qs))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],decls:13,vars:3,consts:[[1,"row","justify-content-center","main-bg"],[1,"col-12","col-lg-9","col-xl-8","col-xxl-7","p-0"],[1,"card","no-border","min-vh-100"],[1,"page-header-1","text-center"],["class","display-4",4,"ngIf"],[1,"card-body"],["class","row justify-content-center p-5",4,"ngIf"],[4,"ngIf"],[1,"card-footer"],[1,"row","justify-content-center"],[1,"col-auto"],[1,"btn","btn-success","btn-lg",3,"click"],[1,"display-4"],[1,"row","justify-content-center","p-5"],["role","status",1,"spinner-border","text-success"],[1,"sr-only"],["class","row mb-4",4,"ngIf"],[1,"row","justify-content-center","mb-5"],[1,"col","col-sm-8","col-md-6"],[1,"card","card-stopwatch"],[1,"text-secondary","text-center"],[1,"stopwatch","text-primary"],[1,"time"],[1,"controls"],[1,"btn","btn-success",3,"disabled","click"],[1,"btn","btn-secondary",3,"disabled","click"],[1,"btn","btn-warning",3,"click"],[1,"row"],[1,"col"],[1,"text-center","display-6"],[1,"text-center"],[1,"row","mt-5"],[1,"col","col-xxl-11"],["class","mb-5",4,"ngFor","ngForOf"],[1,"row","mb-4"],[1,"mb-5"],[1,"col-12","col-md-4","text-md-end","border-bottom","border-end","border-success"],[1,"display-6",2,"font-size","2rem"],[1,"col",2,"margin-top","1.7rem"],[1,"list-group"],["class","list-group-item list-group-item-action",3,"list-group-item-success",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action"],[1,"d-flex","justify-content-between"],[1,"d-flex"],[1,"me-3","border-end"],["type","checkbox",1,"form-check","form-check-inline",3,"ngModel","ngModelChange"],[1,"div",3,"click"],[1,"d-inline"],["class","ms-3",4,"ngIf"],[2,"cursor","pointer",3,"click"],["class","bg-white row border-top pt-3",4,"ngIf"],[1,"ms-3"],[1,"bg-white","row","border-top","pt-3"],[1,"mb-3"],[4,"ngFor","ngForOf"],["class","d-inline",4,"ngIf"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),o.YNc(4,eat,2,1,"h1",4),o.qZA(),o.TgZ(5,"div",5),o.YNc(6,tat,4,0,"div",6),o.YNc(7,fat,28,12,"div",7),o.qZA(),o.TgZ(8,"div",8)(9,"div",9)(10,"div",10)(11,"button",11),o.NdJ("click",function(){return i.completeWorkout()}),o._uU(12,"Complete Workout"),o.qZA()()()()()()()),2&t&&(o.xp6(4),o.Q6J("ngIf",!i.loading),o.xp6(2),o.Q6J("ngIf",i.loading),o.xp6(1),o.Q6J("ngIf",!i.loading))},dependencies:[S1,Zn,Um,oc,Hf,Wi],styles:[".stopwatch[_ngcontent-%COMP%]{text-align:center;font-family:Arial,sans-serif}.time[_ngcontent-%COMP%]{font-size:3.8rem;text-rendering:optimizeSpeed;margin-bottom:20px}.controls[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px}.card-stopwatch[_ngcontent-%COMP%]{border:2px solid #096a2e;border-radius:15px}"],data:{animation:[Oa("slideOutAnimation",[Y2(":enter",[on({height:0,opacity:0}),r2("0.4s ease-out",on({}))]),Y2(":leave",[on({}),r2("0.3s ease-in",on({height:0,opacity:0}))])])]}}),n}(),pat=[{path:"",component:t3e},{path:"login",component:Kfe},{path:"sign-up",component:the},{path:"create-profile",component:MZe,canActivate:[Oo]},{path:"dashboard",component:gZe,canActivate:[Oo]},{path:"social-feed",component:Det,canActivate:[Oo]},{path:"my-workouts",component:Eet,canActivate:[Oo]},{path:"profile/:name",component:f1t,canActivate:[Oo]},{path:"my-workouts/create",component:Dte,canActivate:[Oo]},{path:"edit-workout/:uid",component:Dte,canActivate:[Oo]},{path:"workout/:uid",component:$1e,canActivate:[Oo]},{path:"workout/:profile/:uid",component:$1e,canActivate:[Oo]},{path:"active-workout/:profile/:uid",component:hat,canActivate:[Oo]},{path:"profile/:name/create-post",component:S2t,canActivate:[Oo]},{path:"profile/:name/edit-profile",component:Pot,canActivate:[Oo]}],mat=function(){function n(){}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[fy.forRoot(pat,{useHash:!0,scrollPositionRestoration:"disabled",onSameUrlNavigation:"reload",paramsInheritanceStrategy:"always"}),fy]}),n}();function gat(n,e){if(1&n){var t=o.EpF();o.TgZ(0,"ul",27)(1,"li",28)(2,"button",29),o.NdJ("click",function(){o.CHM(t);var r=o.oxw();return o.KtG(r.logOut())}),o._uU(3,"Log Out"),o.qZA()()()}}function _at(n,e){if(1&n){var t=o.EpF();o.TgZ(0,"li",33),o.NdJ("click",function(){o.CHM(t);var s=o.oxw(2);return o.KtG(s.clearSearch())}),o.TgZ(1,"strong"),o._uU(2),o.qZA(),o._uU(3),o.qZA()}if(2&n){var i=e.$implicit;o.MGl("routerLink","/profile/",i.profileHandle,""),o.xp6(2),o.hij("@",i.profileHandle,""),o.xp6(1),o.hij(" - ",i.profileName,"")}}function vat(n,e){if(1&n&&(o.TgZ(0,"div",30)(1,"ul",31),o.YNc(2,_at,4,3,"li",32),o.qZA()()),2&n){var t=o.oxw();o.xp6(2),o.Q6J("ngForOf",t.searchResults)}}function yat(n,e){if(1&n){var t=o.EpF();o.TgZ(0,"ul",27)(1,"li",28)(2,"button",29),o.NdJ("click",function(){o.CHM(t);var r=o.oxw();return o.KtG(r.logOut())}),o._uU(3,"Log Out"),o.qZA()()()}}var Cat=function(){function n(e,t,i,r){this.authService=e,this.currentUserService=t,this.profileService=i,this.router=r,this.faHouse=hg,this.faDumbbell=yH,this.faFeed=z$,this.faUser=dj,this.faCog=xq,this.faSearch=yG,this.debounceTimer=null,this.searchQuery="",this.user=this.currentUserService.user,this.dropdownOpen=!1,this.mobile=!1}return n.prototype.ngOnInit=function(){360===window.screen.width&&(this.mobile=!0)},n.prototype.reload=function(){window.location.reload()},n.prototype.logOut=function(){this.authService.SignOut()},n.prototype.search=function(){var e=this;this.searchQuery.length<1?this.searchResults=null:(this.debounceTimer&&clearTimeout(this.debounceTimer),""!=this.searchQuery&&""!=this.searchQuery.trim()?this.debounceTimer=setTimeout(function(){e.subscription=e.profileService.searchProfiles(e.searchQuery).subscribe(function(t){e.searchResults=t,e.subscription.unsubscribe()})},500):this.searchResults=null)},n.prototype.clearSearch=function(){this.searchQuery="",this.searchResults=null,this.subscription.unsubscribe()},n.\u0275fac=function(t){return new(t||n)(o.Y36(Dr),o.Y36(W2),o.Y36(rc),o.Y36(c1))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-header-section"]],decls:50,vars:12,consts:[[1,"mobile-header-top","bg-dark"],["height","40px","src","../assets/Logo1/png/logo-no-background.png","alt","FitHub","title","FitHub",1,"p-1"],["dropdown","",1,"btn-group",3,"autoClose"],["dropdown","bs-dropdown"],["id","button-basic","dropdownToggle","","type","button","aria-controls","dropdown-basic",1,"btn","btn-text","text-light","dropdown-toggle"],[2,"font-size","1.2rem",3,"icon"],["id","dropdown-basic","class","dropdown-menu dropdown-menu-right","role","menu","aria-labelledby","button-basic",4,"dropdownMenu"],[1,"d-flex","header-wrap","text-white"],[1,"navbar","navbar-expand","navbar-dark","bg-dark","nav-position"],[1,"container-fluid"],["href","#",1,"navbar-brand","p-2"],["height","60px","src","../assets/Logo1/png/logo-no-background.png","alt","FitHub","title","FitHub"],[1,"navbar-collapse","ms-md-3"],[1,"nav","nav-pills","nav-fill"],[1,"nav-item"],["routerLink","/dashboard","routerLinkActive","active",1,"nav-link"],[3,"icon"],[1,"nav-label"],["routerLink","/social-feed","routerLinkActive","active",1,"nav-link"],["routerLink","/my-workouts","routerLinkActive","active",1,"nav-link"],["routerLinkActive","active",1,"nav-link",3,"routerLink"],[1,"navbar-right","text-right"],[1,"d-flex"],[1,"input-group"],["type","search","placeholder","Search...",1,"form-control","border-end-0",3,"ngModel","ngModelChange","keydown"],[1,"input-group-text","bg-white"],["class","search-dropdown",4,"ngIf"],["id","dropdown-basic","role","menu","aria-labelledby","button-basic",1,"dropdown-menu","dropdown-menu-right"],["role","menuitem"],[1,"dropdown-item",3,"click"],[1,"search-dropdown"],[1,"list-group"],["class","list-group-item list-group-item-action",3,"routerLink","click",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action",3,"routerLink","click"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0),o._UZ(1,"img",1),o.TgZ(2,"div",2,3)(4,"button",4),o._UZ(5,"fa-icon",5),o.qZA(),o.YNc(6,gat,4,0,"ul",6),o.qZA()(),o.TgZ(7,"div",7)(8,"nav",8)(9,"div",9)(10,"a",10),o._UZ(11,"img",11),o.qZA(),o.TgZ(12,"div",12)(13,"ul",13)(14,"li",14)(15,"a",15),o._UZ(16,"fa-icon",16)(17,"br"),o.TgZ(18,"span",17),o._uU(19,"Dashboard"),o.qZA()()(),o.TgZ(20,"li",14)(21,"a",18),o._UZ(22,"fa-icon",16)(23,"br"),o.TgZ(24,"span",17),o._uU(25,"Social Feed"),o.qZA()()(),o.TgZ(26,"li",14)(27,"a",19),o._UZ(28,"fa-icon",16)(29,"br"),o.TgZ(30,"span",17),o._uU(31,"My Workouts"),o.qZA()()(),o.TgZ(32,"li",14)(33,"a",20),o._UZ(34,"fa-icon",16)(35,"br"),o.TgZ(36,"span",17),o._uU(37,"My Profile"),o.qZA()()()()(),o.TgZ(38,"div",21)(39,"div",22)(40,"div",23)(41,"input",24),o.NdJ("ngModelChange",function(s){return i.searchQuery=s})("keydown",function(){return i.search()}),o.qZA(),o.TgZ(42,"span",25),o._UZ(43,"fa-icon",16),o.qZA(),o.YNc(44,vat,3,1,"div",26),o.qZA(),o.TgZ(45,"div",2,3)(47,"button",4),o._UZ(48,"fa-icon",5),o.qZA(),o.YNc(49,yat,4,0,"ul",6),o.qZA()()()()()()),2&t&&(o.xp6(2),o.Q6J("autoClose",!0),o.xp6(3),o.Q6J("icon",i.faCog),o.xp6(11),o.Q6J("icon",i.faHouse),o.xp6(6),o.Q6J("icon",i.faFeed),o.xp6(6),o.Q6J("icon",i.faDumbbell),o.xp6(5),o.MGl("routerLink","/profile/",i.user.profile.profileHandle,""),o.xp6(1),o.Q6J("icon",i.faUser),o.xp6(7),o.Q6J("ngModel",i.searchQuery),o.xp6(2),o.Q6J("icon",i.faSearch),o.xp6(1),o.Q6J("ngIf",i.searchQuery&&i.searchResults),o.xp6(1),o.Q6J("autoClose",!0),o.xp6(3),o.Q6J("icon",i.faCog))},dependencies:[S1,Zn,Ma,H3,sc,oc,K4,mee,gee,aE,Hf],encapsulation:2}),n}();function bat(n,e){1&n&&o._UZ(0,"app-header-section",3)}var Mat=function(){function n(e){this.router=e,this.title="FitHub"}return n.prototype.showHeader=function(){var e=this.router.url;return!("/"==e||"/login"==e||"/sign-up"==e||"/create-profile"==e)},n.\u0275fac=function(t){return new(t||n)(o.Y36(c1))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-root"]],decls:4,vars:1,consts:[["class","header-margin",4,"ngIf"],[1,"container-fluid"],[1,"nav-bottom-margin"],[1,"header-margin"]],template:function(t,i){1&t&&(o.YNc(0,bat,1,0,"app-header-section",0),o.TgZ(1,"div",1),o._UZ(2,"router-outlet"),o.qZA(),o._UZ(3,"div",2)),2&t&&o.Q6J("ngIf",i.showHeader())},dependencies:[Zn,p9,Cat]}),n}();function Z1e(n){return new o.vHH(3e3,!1)}function i3t(){return typeof window<"u"&&typeof window.document<"u"}function AV(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Sl(n){switch(n.length){case 0:return new Xm;case 1:return n[0];default:return new AF(n)}}function K1e(n,e,t,i,r=new Map,s=new Map){const a=[],c=[];let d=-1,h=null;if(i.forEach(g=>{const y=g.get("offset"),M=y==d,S=M&&h||new Map;g.forEach((k,A)=>{let L=A,B=k;if("offset"!==A)switch(L=e.normalizePropertyName(L,a),B){case CA:B=r.get(A);break;case Y4:B=s.get(A);break;default:B=e.normalizeStyleValue(A,L,B,a)}S.set(L,B)}),M||c.push(S),h=S,d=y}),a.length)throw function Yat(n){return new o.vHH(3502,!1)}();return c}function HV(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&LV(t,"start",n)));break;case"done":n.onDone(()=>i(t&&LV(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&LV(t,"destroy",n)))}}function LV(n,e,t){const s=EV(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),a=n._data;return null!=a&&(s._data=a),s}function EV(n,e,t,i,r="",s=0,a){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!a}}function Xs(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function Q1e(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let VV=(n,e)=>!1,J1e=(n,e,t)=>[],X1e=null;function IV(n){const e=n.parentNode||n.host;return e===X1e?null:e}(AV()||typeof Element<"u")&&(i3t()?(X1e=(()=>document.documentElement)(),VV=(n,e)=>{for(;e;){if(e===n)return!0;e=IV(e)}return!1}):VV=(n,e)=>n.contains(e),J1e=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let wu=null,e2e=!1;const t2e=VV,n2e=J1e;let i2e=(()=>{class n{validateStyleProperty(t){return function s3t(n){wu||(wu=function o3t(){return typeof document<"u"?document.body:null}()||{},e2e=!!wu.style&&"WebkitAppearance"in wu.style);let e=!0;return wu.style&&!function r3t(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in wu.style,!e&&e2e&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in wu.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return t2e(t,i)}getParentElement(t){return IV(t)}query(t,i,r){return n2e(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,a,c=[],d){return new Xm(r,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),NV=(()=>{class n{}return n.NOOP=new i2e,n})();const a3t=1e3,PV="ng-enter",Kx="ng-leave",Qx="ng-trigger",Jx=".ng-trigger",s2e="ng-animating",RV=".ng-animating";function f6(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:OV(parseFloat(e[1]),e[2])}function OV(n,e){return"s"===e?n*a3t:n}function Xx(n,e,t){return n.hasOwnProperty("duration")?n:function l3t(n,e,t){let r,s=0,a="";if("string"==typeof n){const c=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===c)return e.push(Z1e()),{duration:0,delay:0,easing:""};r=OV(parseFloat(c[1]),c[2]);const d=c[3];null!=d&&(s=OV(parseFloat(d),c[4]));const h=c[5];h&&(a=h)}else r=n;if(!t){let c=!1,d=e.length;r<0&&(e.push(function wat(){return new o.vHH(3100,!1)}()),c=!0),s<0&&(e.push(function xat(){return new o.vHH(3101,!1)}()),c=!0),c&&e.splice(d,0,Z1e())}return{duration:r,delay:s,easing:a}}(n,e,t)}function H_(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function o2e(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Tl(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function c2e(n,e,t){return t?e+":"+t+";":""}function l2e(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=c2e(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=c2e(0,h3t(t),n.style[t]));n.setAttribute("style",e)}function Cc(n,e,t){n.style&&(e.forEach((i,r)=>{const s=BV(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i}),AV()&&l2e(n))}function xu(n,e){n.style&&(e.forEach((t,i)=>{const r=BV(i);n.style[r]=""}),AV()&&l2e(n))}function L_(n){return Array.isArray(n)?1==n.length?n[0]:kF(n):n}const FV=new RegExp("{{\\s*(.+?)\\s*}}","g");function u2e(n){let e=[];if("string"==typeof n){let t;for(;t=FV.exec(n);)e.push(t[1]);FV.lastIndex=0}return e}function E_(n,e,t){const i=n.toString(),r=i.replace(FV,(s,a)=>{let c=e[a];return null==c&&(t.push(function Tat(n){return new o.vHH(3003,!1)}()),c=""),c.toString()});return r==i?n:r}function eS(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const f3t=/-+([a-z0-9])/g;function BV(n){return n.replace(f3t,(...e)=>e[1].toUpperCase())}function h3t(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function eo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Dat(n){return new o.vHH(3004,!1)}()}}function d2e(n,e){return window.getComputedStyle(n)[e]}const iS="*";function y3t(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function C3t(n,e,t){if(":"==n[0]){const d=function b3t(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function Bat(n){return new o.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof d)return void e.push(d);n=d}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function Fat(n){return new o.vHH(3015,!1)}()),e;const r=i[1],s=i[2],a=i[3];e.push(f2e(r,a));"<"==s[0]&&!(r==iS&&a==iS)&&e.push(f2e(a,r))}(i,t,e)):t.push(n),t}const rS=new Set(["true","1"]),sS=new Set(["false","0"]);function f2e(n,e){const t=rS.has(n)||sS.has(n),i=rS.has(e)||sS.has(e);return(r,s)=>{let a=n==iS||n==r,c=e==iS||e==s;return!a&&t&&"boolean"==typeof r&&(a=r?rS.has(n):sS.has(n)),!c&&i&&"boolean"==typeof s&&(c=s?rS.has(e):sS.has(e)),a&&c}}const M3t=new RegExp("s*:selfs*,?","g");function UV(n,e,t,i){return new w3t(n).build(e,t,i)}class w3t{constructor(e){this._driver=e}build(e,t,i){const r=new T3t(t);return this._resetContextStyleTimingState(r),eo(this,L_(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],a=[];return"@"==e.name.charAt(0)&&t.errors.push(function zat(){return new o.vHH(3006,!1)}()),e.definitions.forEach(c=>{if(this._resetContextStyleTimingState(t),0==c.type){const d=c,h=d.name;h.toString().split(/\s*,\s*/).forEach(g=>{d.name=g,s.push(this.visitState(d,t))}),d.name=h}else if(1==c.type){const d=this.visitTransition(c,t);i+=d.queryCount,r+=d.depCount,a.push(d)}else t.errors.push(function Aat(){return new o.vHH(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:a,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,a=r||{};i.styles.forEach(c=>{c instanceof Map&&c.forEach(d=>{u2e(d).forEach(h=>{a.hasOwnProperty(h)||s.add(h)})})}),s.size&&(eS(s.values()),t.errors.push(function Hat(n,e){return new o.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=eo(this,L_(e.animation),t);return{type:1,matchers:y3t(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Su(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>eo(this,i,t)),options:Su(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(a=>{t.currentTime=i;const c=eo(this,a,t);return r=Math.max(r,t.currentTime),c});return t.currentTime=r,{type:3,steps:s,options:Su(e.options)}}visitAnimate(e,t){const i=function k3t(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return jV(Xx(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=jV(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=Xx(t,e);return jV(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:on({});if(5==s.type)r=this.visitKeyframes(s,t);else{let a=e.styles,c=!1;if(!a){c=!0;const h={};i.easing&&(h.easing=i.easing),a=on(h)}t.currentTime+=i.duration+i.delay;const d=this.visitStyle(a,t);d.isEmptyStep=c,r=d}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let c of r)"string"==typeof c?c===Y4?i.push(c):t.errors.push(new o.vHH(3002,!1)):i.push(o2e(c));let s=!1,a=null;return i.forEach(c=>{if(c instanceof Map&&(c.has("easing")&&(a=c.get("easing"),c.delete("easing")),!s))for(let d of c.values())if(d.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:a,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(a=>{"string"!=typeof a&&a.forEach((c,d)=>{const h=t.collectedStyles.get(t.currentQuerySelector),g=h.get(d);let y=!0;g&&(s!=r&&s>=g.startTime&&r<=g.endTime&&(t.errors.push(function Eat(n,e,t,i,r){return new o.vHH(3010,!1)}()),y=!1),s=g.startTime),y&&h.set(d,{startTime:s,endTime:r}),t.options&&function d3t(n,e,t){const i=e.params||{},r=u2e(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function Sat(n){return new o.vHH(3001,!1)}())})}(c,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Vat(){return new o.vHH(3011,!1)}()),i;let s=0;const a=[];let c=!1,d=!1,h=0;const g=e.steps.map(B=>{const G=this._makeStyleAst(B,t);let X=null!=G.offset?G.offset:function D3t(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(G.styles),te=0;return null!=X&&(s++,te=G.offset=X),d=d||te<0||te>1,c=c||te<h,h=te,a.push(te),G});d&&t.errors.push(function Iat(){return new o.vHH(3012,!1)}()),c&&t.errors.push(function Nat(){return new o.vHH(3200,!1)}());const y=e.steps.length;let M=0;s>0&&s<y?t.errors.push(function Pat(){return new o.vHH(3202,!1)}()):0==s&&(M=1/(y-1));const S=y-1,k=t.currentTime,A=t.currentAnimateTimings,L=A.duration;return g.forEach((B,G)=>{const X=M>0?G==S?1:M*G:a[G],te=X*L;t.currentTime=k+A.delay+te,A.duration=te,this._validateStyleAst(B,t),B.offset=X,i.styles.push(B)}),i}visitReference(e,t){return{type:8,animation:eo(this,L_(e.animation),t),options:Su(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Su(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Su(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,a]=function x3t(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(M3t,"")),n=n.replace(/@\*/g,Jx).replace(/@\w+/g,t=>Jx+"-"+t.slice(1)).replace(/:animating/g,RV),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,Xs(t.collectedStyles,t.currentQuerySelector,new Map);const c=eo(this,L_(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:c,originalSelector:e.selector,options:Su(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Rat(){return new o.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:Xx(e.timings,t.errors,!0);return{type:12,animation:eo(this,L_(e.animation),t),timings:i,options:null}}}class T3t{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Su(n){return n?(n=H_(n)).params&&(n.params=function S3t(n){return n?H_(n):null}(n.params)):n={},n}function jV(n,e,t){return{duration:n,delay:e,easing:t}}function WV(n,e,t,i,r,s,a=null,c=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:a,subTimeline:c}}class oS{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const H3t=new RegExp(":enter","g"),E3t=new RegExp(":leave","g");function YV(n,e,t,i,r,s=new Map,a=new Map,c,d,h=[]){return(new V3t).buildKeyframes(n,e,t,i,r,s,a,c,d,h)}class V3t{buildKeyframes(e,t,i,r,s,a,c,d,h,g=[]){h=h||new oS;const y=new qV(e,t,h,r,s,g,[]);y.options=d;const M=d.delay?f6(d.delay):0;y.currentTimeline.delayNextStep(M),y.currentTimeline.setStyles([a],null,y.errors,d),eo(this,i,y);const S=y.timelines.filter(k=>k.containsAnimation());if(S.length&&c.size){let k;for(let A=S.length-1;A>=0;A--){const L=S[A];if(L.element===t){k=L;break}}k&&!k.allowOnlyTimelineStyles()&&k.setStyles([c],null,y.errors,d)}return S.length?S.map(k=>k.buildKeyframes()):[WV(t,[],[],[],0,M,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,a=this._visitSubInstructions(i,r,r.options);s!=a&&t.transformIntoNewTimeline(a)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const s=r?.delay;if(s){const a="number"==typeof s?s:f6(E_(s,r?.params??{},t.errors));i.delayNextStep(a)}}}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const a=null!=i.duration?f6(i.duration):null,c=null!=i.delay?f6(i.delay):null;return 0!==a&&e.forEach(d=>{const h=t.appendInstructionToTimeline(d,a,c);s=Math.max(s,h.duration+h.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),eo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=aS);const a=f6(s.delay);r.delayNextStep(a)}e.steps.length&&(e.steps.forEach(a=>eo(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?f6(e.options.delay):0;e.steps.forEach(a=>{const c=t.createSubContext(e.options);s&&c.delayNextStep(s),eo(this,a,c),r=Math.max(r,c.currentTimeline.currentTime),i.push(c.currentTimeline)}),i.forEach(a=>t.currentTimeline.mergeTimelineCollectedStyles(a)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return Xx(t.params?E_(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,c=t.createSubContext().currentTimeline;c.easing=i.easing,e.styles.forEach(d=>{c.forwardTime((d.offset||0)*s),c.setStyles(d.styles,d.easing,t.errors,t.options),c.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(c),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?f6(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=aS);let a=i;const c=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=c.length;let d=null;c.forEach((h,g)=>{t.currentQueryIndex=g;const y=t.createSubContext(e.options,h);s&&y.delayNextStep(s),h===t.element&&(d=y.currentTimeline),eo(this,e.animation,y),y.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,y.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(a),d&&(t.currentTimeline.mergeTimelineCollectedStyles(d),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,a=Math.abs(s.duration),c=a*(t.currentQueryTotal-1);let d=a*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":d=c-d;break;case"full":d=i.currentStaggerTime}const g=t.currentTimeline;d&&g.delayNextStep(d);const y=g.currentTime;eo(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-y+(r.startTime-i.currentTimeline.startTime)}}const aS={};class qV{constructor(e,t,i,r,s,a,c,d){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=a,this.timelines=c,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=aS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=d||new cS(this._driver,t,0),c.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=f6(i.duration)),null!=i.delay&&(r.delay=f6(i.delay));const s=i.params;if(s){let a=r.params;a||(a=this.options.params={}),Object.keys(s).forEach(c=>{(!t||!a.hasOwnProperty(c))&&(a[c]=E_(s[c],a,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new qV(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=aS,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new I3t(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,a){let c=[];if(r&&c.push(this.element),e.length>0){e=(e=e.replace(H3t,"."+this._enterClassName)).replace(E3t,"."+this._leaveClassName);let h=this._driver.query(this.element,e,1!=i);0!==i&&(h=i<0?h.slice(h.length+i,h.length):h.slice(0,i)),c.push(...h)}return!s&&0==c.length&&a.push(function Oat(n){return new o.vHH(3014,!1)}()),c}}class cS{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new cS(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Y4),this._currentKeyframe.set(t,Y4);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const s=r&&r.params||{},a=function N3t(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let s of i)t.set(s,Y4)}else Tl(r,t)}),t}(e,this._globalTimelineStyles);for(let[c,d]of a){const h=E_(d,s,i);this._pendingStyles.set(c,h),this._localTimelineStyles.has(c)||this._backFill.set(c,this._globalTimelineStyles.get(c)??Y4),this._updateStyle(c,h)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((c,d)=>{const h=Tl(c,new Map,this._backFill);h.forEach((g,y)=>{g===CA?e.add(y):g===Y4&&t.add(y)}),i||h.set("offset",d/this.duration),r.push(h)});const s=e.size?eS(e.values()):[],a=t.size?eS(t.values()):[];if(i){const c=r[0],d=new Map(c);c.set("offset",0),d.set("offset",1),r=[c,d]}return WV(this.element,r,s,a,this.duration,this.startTime,this.easing,!1)}}class I3t extends cS{constructor(e,t,i,r,s,a,c=!1){super(e,t,a.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=c,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],a=i+t,c=t/a,d=Tl(e[0]);d.set("offset",0),s.push(d);const h=Tl(e[0]);h.set("offset",m2e(c)),s.push(h);const g=e.length-1;for(let y=1;y<=g;y++){let M=Tl(e[y]);const S=M.get("offset");M.set("offset",m2e((t+S*i)/a)),s.push(M)}i=a,t=0,r="",e=s}return WV(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function m2e(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class GV{}const P3t=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class R3t extends GV{normalizePropertyName(e,t){return BV(e)}normalizeStyleValue(e,t,i,r){let s="";const a=i.toString().trim();if(P3t.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const c=i.match(/^[+-]?[\d\.]+([a-z]*)$/);c&&0==c[1].length&&r.push(function kat(n,e){return new o.vHH(3005,!1)}())}return a+s}}function g2e(n,e,t,i,r,s,a,c,d,h,g,y,M){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:a,timelines:c,queriedElements:d,preStyleProps:h,postStyleProps:g,totalTime:y,errors:M}}const $V={};class _2e{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function O3t(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,a,c,d,h,g){const y=[],M=this.ast.options&&this.ast.options.params||$V,k=this.buildStyles(i,c&&c.params||$V,y),A=d&&d.params||$V,L=this.buildStyles(r,A,y),B=new Set,G=new Map,X=new Map,te="void"===r,re={params:F3t(A,M),delay:this.ast.options?.delay},be=g?[]:YV(e,t,this.ast.animation,s,a,k,L,re,h,y);let Ee=0;if(be.forEach(dt=>{Ee=Math.max(dt.duration+dt.delay,Ee)}),y.length)return g2e(t,this._triggerName,i,r,te,k,L,[],[],G,X,Ee,y);be.forEach(dt=>{const _n=dt.element,En=Xs(G,_n,new Set);dt.preStyleProps.forEach(p1=>En.add(p1));const Tn=Xs(X,_n,new Set);dt.postStyleProps.forEach(p1=>Tn.add(p1)),_n!==t&&B.add(_n)});const rt=eS(B.values());return g2e(t,this._triggerName,i,r,te,k,L,be,rt,G,X,Ee)}}function F3t(n,e){const t=H_(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class B3t{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=H_(this.defaultParams);return Object.keys(e).forEach(s=>{const a=e[s];null!==a&&(r[s]=a)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,c)=>{a&&(a=E_(a,r,t));const d=this.normalizer.normalizePropertyName(c,t);a=this.normalizer.normalizeStyleValue(c,d,a,t),i.set(c,a)})}),i}}class j3t{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new B3t(r.style,r.options&&r.options.params||{},i))}),v2e(this.states,"true","1"),v2e(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new _2e(e,r,this.states))}),this.fallbackTransition=function W3t(n,e,t){return new _2e(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,c)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(a=>a.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function v2e(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Y3t=new oS;class q3t{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],r=[],s=UV(this._driver,t,i,r);if(i.length)throw function qat(n){return new o.vHH(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,i){const r=e.element,s=K1e(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations.get(e);let a;const c=new Map;if(s?(a=YV(this._driver,t,s,PV,Kx,new Map,new Map,i,Y3t,r),a.forEach(g=>{const y=Xs(c,g.element,new Map);g.postStyleProps.forEach(M=>y.set(M,null))})):(r.push(function Gat(){return new o.vHH(3300,!1)}()),a=[]),r.length)throw function $at(n){return new o.vHH(3504,!1)}();c.forEach((g,y)=>{g.forEach((M,S)=>{g.set(S,this._driver.computeStyle(y,S,Y4))})});const h=Sl(a.map(g=>{const y=c.get(g.element);return this._buildPlayer(g,new Map,y)}));return this._playersById.set(e,h),h.onDestroy(()=>this.destroy(e)),this.players.push(h),h}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Zat(n){return new o.vHH(3301,!1)}();return t}listen(e,t,i,r){const s=EV(t,"","","");return HV(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const y2e="ng-animate-queued",ZV="ng-animate-disabled",Q3t=[],C2e={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},J3t={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Wo="__ng_removed";class KV{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function nct(n){return n??null}(i?e.value:e),i){const s=H_(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const V_="void",QV=new KV(V_);class X3t{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Yo(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function Kat(n,e){return new o.vHH(3302,!1)}();if(null==i||0==i.length)throw function Qat(n){return new o.vHH(3303,!1)}();if(!function ict(n){return"start"==n||"done"==n}(i))throw function Jat(n,e){return new o.vHH(3400,!1)}();const s=Xs(this._elementListeners,e,[]),a={name:t,phase:i,callback:r};s.push(a);const c=Xs(this._engine.statesByElement,e,new Map);return c.has(t)||(Yo(e,Qx),Yo(e,Qx+"-"+t),c.set(t,QV)),()=>{this._engine.afterFlush(()=>{const d=s.indexOf(a);d>=0&&s.splice(d,1),this._triggers.has(t)||c.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Xat(n){return new o.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),a=new JV(this.id,t,e);let c=this._engine.statesByElement.get(e);c||(Yo(e,Qx),Yo(e,Qx+"-"+t),this._engine.statesByElement.set(e,c=new Map));let d=c.get(t);const h=new KV(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&d&&h.absorbOptions(d.options),c.set(t,h),d||(d=QV),h.value!==V_&&d.value===h.value){if(!function oct(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(d.params,h.params)){const A=[],L=s.matchStyles(d.value,d.params,A),B=s.matchStyles(h.value,h.params,A);A.length?this._engine.reportError(A):this._engine.afterFlush(()=>{xu(e,L),Cc(e,B)})}return}const M=Xs(this._engine.playersByElement,e,[]);M.forEach(A=>{A.namespaceId==this.id&&A.triggerName==t&&A.queued&&A.destroy()});let S=s.matchTransition(d.value,h.value,e,h.params),k=!1;if(!S){if(!r)return;S=s.fallbackTransition,k=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:S,fromState:d,toState:h,player:a,isFallbackTransition:k}),k||(Yo(e,y2e),a.onStart(()=>{hh(e,y2e)})),a.onDone(()=>{let A=this.players.indexOf(a);A>=0&&this.players.splice(A,1);const L=this._engine.playersByElement.get(e);if(L){let B=L.indexOf(a);B>=0&&L.splice(B,1)}}),this.players.push(a),M.push(a),a}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,Jx,!0);i.forEach(r=>{if(r[Wo])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(a=>a.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),a=new Map;if(s){const c=[];if(s.forEach((d,h)=>{if(a.set(h,d.value),this._triggers.has(h)){const g=this.trigger(e,h,V_,r);g&&c.push(g)}}),c.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,a),i&&Sl(c).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const a=s.name;if(r.has(a))return;r.add(a);const d=this._triggers.get(a).fallbackTransition,h=i.get(a)||QV,g=new KV(V_),y=new JV(this.id,a,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:a,transition:d,fromState:h,toState:g,player:y,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let a=e;for(;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Wo];(!s||s===C2e)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Yo(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,a=this._elementListeners.get(s);a&&a.forEach(c=>{if(c.name==i.triggerName){const d=EV(s,i.triggerName,i.fromState.value,i.toState.value);d._data=e,HV(i.player,c.phase,d,c.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,a=r.transition.ast.depCount;return 0==s||0==a?s-a:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class ect{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new X3t(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let a=!1,c=this.driver.getParentElement(t);for(;c;){const d=r.get(c);if(d){const h=i.indexOf(d);i.splice(h+1,0,e),a=!0;break}c=this.driver.getParentElement(c)}a||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}return t}trigger(e,t,i,r){if(lS(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!lS(t))return;const s=t[Wo];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const a=this.collectedLeaveElements.indexOf(t);a>=0&&this.collectedLeaveElements.splice(a,1)}if(e){const a=this._fetchNamespace(e);a&&a.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Yo(e,ZV)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),hh(e,ZV))}removeNode(e,t,i,r){if(lS(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const a=this.namespacesByHostElement.get(t);a&&a.id!==e&&a.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[Wo]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return lS(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Jx,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,RV,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Sl(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Wo];if(t&&t.setForRemoval){if(e[Wo]=C2e,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(ZV)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Yo(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Sl(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function e3t(n){return new o.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new oS,r=[],s=new Map,a=[],c=new Map,d=new Map,h=new Map,g=new Set;this.disabledNodes.forEach(ft=>{g.add(ft);const Ct=this.driver.query(ft,".ng-animate-queued",!0);for(let qt=0;qt<Ct.length;qt++)g.add(Ct[qt])});const y=this.bodyNode,M=Array.from(this.statesByElement.keys()),S=w2e(M,this.collectedEnterElements),k=new Map;let A=0;S.forEach((ft,Ct)=>{const qt=PV+A++;k.set(Ct,qt),ft.forEach(kn=>Yo(kn,qt))});const L=[],B=new Set,G=new Set;for(let ft=0;ft<this.collectedLeaveElements.length;ft++){const Ct=this.collectedLeaveElements[ft],qt=Ct[Wo];qt&&qt.setForRemoval&&(L.push(Ct),B.add(Ct),qt.hasAnimation?this.driver.query(Ct,".ng-star-inserted",!0).forEach(kn=>B.add(kn)):G.add(Ct))}const X=new Map,te=w2e(M,Array.from(B));te.forEach((ft,Ct)=>{const qt=Kx+A++;X.set(Ct,qt),ft.forEach(kn=>Yo(kn,qt))}),e.push(()=>{S.forEach((ft,Ct)=>{const qt=k.get(Ct);ft.forEach(kn=>hh(kn,qt))}),te.forEach((ft,Ct)=>{const qt=X.get(Ct);ft.forEach(kn=>hh(kn,qt))}),L.forEach(ft=>{this.processLeaveNode(ft)})});const re=[],be=[];for(let ft=this._namespaceList.length-1;ft>=0;ft--)this._namespaceList[ft].drainQueuedTransitions(t).forEach(qt=>{const kn=qt.player,y1=qt.element;if(re.push(kn),this.collectedEnterElements.length){const Nr=y1[Wo];if(Nr&&Nr.setForMove){if(Nr.previousTriggersValues&&Nr.previousTriggersValues.has(qt.triggerName)){const ju=Nr.previousTriggersValues.get(qt.triggerName),ta=this.statesByElement.get(qt.element);if(ta&&ta.has(qt.triggerName)){const NS=ta.get(qt.triggerName);NS.value=ju,ta.set(qt.triggerName,NS)}}return void kn.destroy()}}const os=!y||!this.driver.containsElement(y,y1),zi=X.get(y1),Ss=k.get(y1),Q1=this._buildInstruction(qt,i,Ss,zi,os);if(Q1.errors&&Q1.errors.length)return void be.push(Q1);if(os)return kn.onStart(()=>xu(y1,Q1.fromStyles)),kn.onDestroy(()=>Cc(y1,Q1.toStyles)),void r.push(kn);if(qt.isFallbackTransition)return kn.onStart(()=>xu(y1,Q1.fromStyles)),kn.onDestroy(()=>Cc(y1,Q1.toStyles)),void r.push(kn);const Ah=[];Q1.timelines.forEach(Nr=>{Nr.stretchStartingKeyframe=!0,this.disabledNodes.has(Nr.element)||Ah.push(Nr)}),Q1.timelines=Ah,i.append(y1,Q1.timelines),a.push({instruction:Q1,player:kn,element:y1}),Q1.queriedElements.forEach(Nr=>Xs(c,Nr,[]).push(kn)),Q1.preStyleProps.forEach((Nr,ju)=>{if(Nr.size){let ta=d.get(ju);ta||d.set(ju,ta=new Set),Nr.forEach((NS,mN)=>ta.add(mN))}}),Q1.postStyleProps.forEach((Nr,ju)=>{let ta=h.get(ju);ta||h.set(ju,ta=new Set),Nr.forEach((NS,mN)=>ta.add(mN))})});if(be.length){const ft=[];be.forEach(Ct=>{ft.push(function t3t(n,e){return new o.vHH(3505,!1)}())}),re.forEach(Ct=>Ct.destroy()),this.reportError(ft)}const Ee=new Map,rt=new Map;a.forEach(ft=>{const Ct=ft.element;i.has(Ct)&&(rt.set(Ct,Ct),this._beforeAnimationBuild(ft.player.namespaceId,ft.instruction,Ee))}),r.forEach(ft=>{const Ct=ft.element;this._getPreviousPlayers(Ct,!1,ft.namespaceId,ft.triggerName,null).forEach(kn=>{Xs(Ee,Ct,[]).push(kn),kn.destroy()})});const dt=L.filter(ft=>S2e(ft,d,h)),_n=new Map;M2e(_n,this.driver,G,h,Y4).forEach(ft=>{S2e(ft,d,h)&&dt.push(ft)});const Tn=new Map;S.forEach((ft,Ct)=>{M2e(Tn,this.driver,new Set(ft),d,CA)}),dt.forEach(ft=>{const Ct=_n.get(ft),qt=Tn.get(ft);_n.set(ft,new Map([...Array.from(Ct?.entries()??[]),...Array.from(qt?.entries()??[])]))});const p1=[],pi=[],bn={};a.forEach(ft=>{const{element:Ct,player:qt,instruction:kn}=ft;if(i.has(Ct)){if(g.has(Ct))return qt.onDestroy(()=>Cc(Ct,kn.toStyles)),qt.disabled=!0,qt.overrideTotalTime(kn.totalTime),void r.push(qt);let y1=bn;if(rt.size>1){let zi=Ct;const Ss=[];for(;zi=zi.parentNode;){const Q1=rt.get(zi);if(Q1){y1=Q1;break}Ss.push(zi)}Ss.forEach(Q1=>rt.set(Q1,y1))}const os=this._buildAnimation(qt.namespaceId,kn,Ee,s,Tn,_n);if(qt.setRealPlayer(os),y1===bn)p1.push(qt);else{const zi=this.playersByElement.get(y1);zi&&zi.length&&(qt.parentPlayer=Sl(zi)),r.push(qt)}}else xu(Ct,kn.fromStyles),qt.onDestroy(()=>Cc(Ct,kn.toStyles)),pi.push(qt),g.has(Ct)&&r.push(qt)}),pi.forEach(ft=>{const Ct=s.get(ft.element);if(Ct&&Ct.length){const qt=Sl(Ct);ft.setRealPlayer(qt)}}),r.forEach(ft=>{ft.parentPlayer?ft.syncPlayerEvents(ft.parentPlayer):ft.destroy()});for(let ft=0;ft<L.length;ft++){const Ct=L[ft],qt=Ct[Wo];if(hh(Ct,Kx),qt&&qt.hasAnimation)continue;let kn=[];if(c.size){let os=c.get(Ct);os&&os.length&&kn.push(...os);let zi=this.driver.query(Ct,RV,!0);for(let Ss=0;Ss<zi.length;Ss++){let Q1=c.get(zi[Ss]);Q1&&Q1.length&&kn.push(...Q1)}}const y1=kn.filter(os=>!os.destroyed);y1.length?rct(this,Ct,y1):this.processLeaveNode(Ct)}return L.length=0,p1.forEach(ft=>{this.players.push(ft),ft.onDone(()=>{ft.destroy();const Ct=this.players.indexOf(ft);this.players.splice(Ct,1)}),ft.play()}),p1}elementContainsData(e,t){let i=!1;const r=t[Wo];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let a=[];if(t){const c=this.playersByQueriedElement.get(e);c&&(a=c)}else{const c=this.playersByElement.get(e);if(c){const d=!s||s==V_;c.forEach(h=>{h.queued||!d&&h.triggerName!=r||a.push(h)})}}return(i||r)&&(a=a.filter(c=>!(i&&i!=c.namespaceId||r&&r!=c.triggerName))),a}_beforeAnimationBuild(e,t,i){const s=t.element,a=t.isRemovalTransition?void 0:e,c=t.isRemovalTransition?void 0:t.triggerName;for(const d of t.timelines){const h=d.element,g=h!==s,y=Xs(i,h,[]);this._getPreviousPlayers(h,g,a,c,t.toState).forEach(S=>{const k=S.getRealPlayer();k.beforeDestroy&&k.beforeDestroy(),S.destroy(),y.push(S)})}xu(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,a){const c=t.triggerName,d=t.element,h=[],g=new Set,y=new Set,M=t.timelines.map(k=>{const A=k.element;g.add(A);const L=A[Wo];if(L&&L.removedBeforeQueried)return new Xm(k.duration,k.delay);const B=A!==d,G=function sct(n){const e=[];return x2e(n,e),e}((i.get(A)||Q3t).map(Ee=>Ee.getRealPlayer())).filter(Ee=>!!Ee.element&&Ee.element===A),X=s.get(A),te=a.get(A),re=K1e(0,this._normalizer,0,k.keyframes,X,te),be=this._buildPlayer(k,re,G);if(k.subTimeline&&r&&y.add(A),B){const Ee=new JV(e,c,A);Ee.setRealPlayer(be),h.push(Ee)}return be});h.forEach(k=>{Xs(this.playersByQueriedElement,k.element,[]).push(k),k.onDone(()=>function tct(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,k.element,k))}),g.forEach(k=>Yo(k,s2e));const S=Sl(M);return S.onDestroy(()=>{g.forEach(k=>hh(k,s2e)),Cc(d,t.toStyles)}),y.forEach(k=>{Xs(r,k,[]).push(S)}),S}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Xm(e.duration,e.delay)}}class JV{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Xm,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>HV(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Xs(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function lS(n){return n&&1===n.nodeType}function b2e(n,e){const t=n.style.display;return n.style.display=e??"none",t}function M2e(n,e,t,i,r){const s=[];t.forEach(d=>s.push(b2e(d)));const a=[];i.forEach((d,h)=>{const g=new Map;d.forEach(y=>{const M=e.computeStyle(h,y,r);g.set(y,M),(!M||0==M.length)&&(h[Wo]=J3t,a.push(h))}),n.set(h,g)});let c=0;return t.forEach(d=>b2e(d,s[c++])),a}function w2e(n,e){const t=new Map;if(n.forEach(c=>t.set(c,[])),0==e.length)return t;const i=1,r=new Set(e),s=new Map;function a(c){if(!c)return i;let d=s.get(c);if(d)return d;const h=c.parentNode;return d=t.has(h)?h:r.has(h)?i:a(h),s.set(c,d),d}return e.forEach(c=>{const d=a(c);d!==i&&t.get(d).push(c)}),t}function Yo(n,e){n.classList?.add(e)}function hh(n,e){n.classList?.remove(e)}function rct(n,e,t){Sl(t).onDone(()=>n.processLeaveNode(e))}function x2e(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof AF?x2e(i.players,e):e.push(i)}}function S2e(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class uS{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new ect(e,t,i),this._timelineEngine=new q3t(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const a=e+"-"+r;let c=this._triggerCache[a];if(!c){const d=[],h=[],g=UV(this._driver,s,d,h);if(d.length)throw function Wat(n,e){return new o.vHH(3404,!1)}();c=function U3t(n,e,t){return new j3t(n,e,t)}(r,g,this._normalizer),this._triggerCache[a]=c}this._transitionEngine.registerTrigger(t,r,c)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,a]=Q1e(i);this._timelineEngine.command(s,t,a,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[a,c]=Q1e(i);return this._timelineEngine.listen(a,t,c,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let cct=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Cc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Cc(this._element,this._initialStyles),this._endStyles&&(Cc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(xu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(xu(this._element,this._endStyles),this._endStyles=null),Cc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function XV(n){let e=null;return n.forEach((t,i)=>{(function lct(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class T2e{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:d2e(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class uct{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return t2e(e,t)}getParentElement(e){return IV(e)}query(e,t,i){return n2e(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,a=[]){const d={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(d.easing=s);const h=new Map,g=a.filter(S=>S instanceof T2e);(function p3t(n,e){return 0===n||0===e})(i,r)&&g.forEach(S=>{S.currentSnapshot.forEach((k,A)=>h.set(A,k))});let y=function u3t(n){return n.length?n[0]instanceof Map?n:n.map(e=>o2e(e)):[]}(t).map(S=>Tl(S));y=function m3t(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,a)=>{i.has(a)||r.push(a),i.set(a,s)}),r.length)for(let s=1;s<e.length;s++){let a=e[s];r.forEach(c=>a.set(c,d2e(n,c)))}}return e}(e,y,h);const M=function act(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=XV(e[0]),e.length>1&&(i=XV(e[e.length-1]))):e instanceof Map&&(t=XV(e)),t||i?new cct(n,t,i):null}(e,y);return new T2e(e,y,d,M)}}let dct=(()=>{class n extends Qm{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:o.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?kF(t):t;return D2e(this._renderer,null,i,"register",[r]),new fct(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.FYo),o.LFG(ae))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class fct extends V7e{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new hct(this._id,e,t||{},this._renderer)}}class hct{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return D2e(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function D2e(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const k2e="@.disabled";let pct=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,a)=>{const c=a?.parentNode(s);c&&a.removeChild(c,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let g=this._rendererCache.get(s);return g||(g=new z2e("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,g)),g}const a=i.id,c=i.id+"-"+this._currentId;this._currentId++,this.engine.register(c,t);const d=g=>{Array.isArray(g)?g.forEach(d):this.engine.registerTrigger(a,c,t,g.name,g)};return i.data.animation.forEach(d),new mct(this,c,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[a,c]=s;a(c)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(o.FYo),o.LFG(uS),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class z2e{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==k2e?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class mct extends z2e{constructor(e,t,i,r,s){super(t,i,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==k2e?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function gct(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),a="";return"@"!=s.charAt(0)&&([s,a]=function _ct(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,a,c=>{this.factory.scheduleListenerCallback(c._data||-1,i,c)})}return this.delegate.listen(e,t,i)}}let vct=(()=>{class n extends uS{constructor(t,i,r,s){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(ae),o.LFG(NV),o.LFG(GV),o.LFG(o.z2F))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const A2e=[{provide:Qm,useClass:dct},{provide:GV,useFactory:function yct(){return new R3t}},{provide:uS,useClass:vct},{provide:o.FYo,useFactory:function Cct(n,e,t){return new pct(n,e,t)},deps:[Is,uS,o.R0b]}],eI=[{provide:NV,useFactory:()=>new uct},{provide:o.QbO,useValue:"BrowserAnimations"},...A2e],H2e=[{provide:NV,useClass:i2e},{provide:o.QbO,useValue:"NoopAnimations"},...A2e];let L2e=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?H2e:eI}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:eI,imports:[n8]}),n})();var E2e_firebase={projectId:"fithub-94c8b",appId:"1:244375237867:web:11919289c4dfaf33643aae",databaseURL:"https://fithub-94c8b-default-rtdb.firebaseio.com",storageBucket:"fithub-94c8b.appspot.com",apiKey:"AIzaSyCvmy6J38YSX20HvRSDXVB2uuQQEsMXiS8",authDomain:"fithub-94c8b.firebaseapp.com",messagingSenderId:"244375237867",measurementId:"G-ZXKHGE568L"};class tI{constructor(e){return e}}class I_{constructor(){return(0,Tt.vb)("auth")}}const nI=new o.OlP("angularfire2.auth-instances");function Mct(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new tI(i)}}const wct={provide:I_,deps:[[new o.FiY,nI]]},xct={provide:tI,useFactory:function bct(n,e){const t=(0,Tt.JM)("auth",n,e);return t&&new tI(t)},deps:[[new o.FiY,nI],nc]};let Sct=(()=>{class n{constructor(){(0,Vo.KN)("angularfire",Tt.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[xct,wct]}),n})();function Tct(n,...e){return{ngModule:Sct,providers:[{provide:nI,useFactory:Mct(n),multi:!0,deps:[o.R0b,o.zs3,Tt.HU,W5,[new o.FiY,ic],...e]}]}}const Dct=(0,Tt.u3)(yA.n,!0);class iI{constructor(e){return e}}const rI=new o.OlP("angularfire2.database-instances");function Act(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new iI(i)}}const Hct={provide:class kct{constructor(){return(0,Tt.vb)("database")}},deps:[[new o.FiY,rI]]},Lct={provide:iI,useFactory:function zct(n,e){const t=(0,Tt.JM)("database",n,e);return t&&new iI(t)},deps:[[new o.FiY,rI],nc]};let Ect=(()=>{class n{constructor(){(0,Vo.KN)("angularfire",Tt.q4.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Lct,Hct]}),n})();function Vct(n,...e){return{ngModule:Ect,providers:[{provide:rI,useFactory:Act(n),multi:!0,deps:[o.R0b,o.zs3,Tt.HU,W5,[new o.FiY,I_],[new o.FiY,ic],...e]}]}}const Ict=(0,Tt.u3)(not,!0);class sI{constructor(e){return e}}const oI=new o.OlP("angularfire2.firestore-instances");function Rct(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new sI(i)}}const Oct={provide:class Nct{constructor(){return(0,Tt.vb)("firestore")}},deps:[[new o.FiY,oI]]},Fct={provide:sI,useFactory:function Pct(n,e){const t=(0,Tt.JM)("firestore",n,e);return t&&new sI(t)},deps:[[new o.FiY,oI],nc]};let Bct=(()=>{class n{constructor(){(0,Vo.KN)("angularfire",Tt.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Fct,Oct]}),n})();function Uct(n,...e){return{ngModule:Bct,providers:[{provide:oI,useFactory:Rct(n),multi:!0,deps:[o.R0b,o.zs3,Tt.HU,W5,[new o.FiY,I_],[new o.FiY,ic],...e]}]}}const jct=(0,Tt.u3)(Yse,!0),cI="functions";class $ct{constructor(e,t,i){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(r=>this.auth=r,()=>{}),this.messaging||t.get().then(r=>this.messaging=r,()=>{}),this.appCheck||i.get().then(r=>this.appCheck=r,()=>{})}getAuthToken(){var e=this;return(0,De.Z)(function*(){if(e.auth)try{return(yield e.auth.getToken())?.accessToken}catch{return}})()}getMessagingToken(){var e=this;return(0,De.Z)(function*(){if(e.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield e.messaging.getToken()}catch{return}})()}getAppCheckToken(){var e=this;return(0,De.Z)(function*(){if(e.appCheck){const t=yield e.appCheck.getToken();return t.error?null:t.token}return null})()}getContext(){var e=this;return(0,De.Z)(function*(){return{authToken:yield e.getAuthToken(),messagingToken:yield e.getMessagingToken(),appCheckToken:yield e.getAppCheckToken()}})()}}const lI="us-central1";class Kct{constructor(e,t,i,r,s=lI,a){this.app=e,this.fetchImpl=a,this.emulatorOrigin=null,this.contextProvider=new $ct(t,i,r),this.cancelAllRequests=new Promise(c=>{this.deleteService=()=>Promise.resolve(c())});try{const c=new URL(s);this.customDomain=c.origin,this.region=lI}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}const F2e="@firebase/functions";function o4t(n=(0,R1.getApp)(),e=lI){const i=(0,R1._getProvider)((0,O.m9)(n),cI).getImmediate({identifier:e}),r=(0,O.P0)("functions");return r&&function a4t(n,e,t){!function Qct(n,e,t){n.emulatorOrigin=`http://${e}:${t}`}((0,O.m9)(n),e,t)}(i,...r),i}!function s4t(n,e){(0,R1._registerComponent)(new Wr.wA(cI,(i,{instanceIdentifier:r})=>{const s=i.getProvider("app").getImmediate(),a=i.getProvider("auth-internal"),c=i.getProvider("messaging-internal"),d=i.getProvider("app-check-internal");return new Kct(s,a,c,d,r,n)},"PUBLIC").setMultipleInstances(!0)),(0,R1.registerVersion)(F2e,"0.9.4",e),(0,R1.registerVersion)(F2e,"0.9.4","esm2017")}(fetch.bind(self));class fI{constructor(e){return e}}const hI=new o.OlP("angularfire2.functions-instances");function u4t(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new fI(i)}}const d4t={provide:class c4t{constructor(){return(0,Tt.vb)("functions")}},deps:[[new o.FiY,hI]]},f4t={provide:fI,useFactory:function l4t(n,e){const t=(0,Tt.JM)("functions",n,e);return t&&new fI(t)},deps:[[new o.FiY,hI],nc]};let h4t=(()=>{class n{constructor(){(0,Vo.KN)("angularfire",Tt.q4.full,"fn")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[f4t,d4t]}),n})();function p4t(n,...e){return{ngModule:h4t,providers:[{provide:hI,useFactory:u4t(n),multi:!0,deps:[o.R0b,o.zs3,Tt.HU,W5,[new o.FiY,I_],[new o.FiY,ic],...e]}]}}const m4t=(0,Tt.u3)(o4t,!0);var g4t=N(751);class pI{constructor(e){return e}}const mI=new o.OlP("angularfire2.messaging-instances");function y4t(n){return(e,t)=>{if(!Tt.n1.sync())return null;const i=e.runOutsideAngular(()=>n(t));return new pI(i)}}const C4t={provide:class _4t{constructor(){return(0,Tt.vb)("messaging")}},deps:[[new o.FiY,mI]]},b4t={provide:pI,useFactory:function v4t(n,e){if(!Tt.n1.sync())return null;const t=(0,Tt.JM)("messaging",n,e);return t&&new pI(t)},deps:[[new o.FiY,mI],nc]};let M4t=(()=>{class n{constructor(){(0,Vo.KN)("angularfire",Tt.q4.full,"fcm")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[b4t,C4t,{provide:o.ip1,useValue:Tt.n1.async,multi:!0}]}),n})();function w4t(n,...e){return{ngModule:M4t,providers:[{provide:mI,useFactory:y4t(n),multi:!0,deps:[o.R0b,o.zs3,Tt.HU,W5,...e]}]}}const x4t=(0,Tt.u3)(g4t.KL,!0);class gI{constructor(e){return e}}const _I=new o.OlP("angularfire2.storage-instances");function D4t(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new gI(i)}}const k4t={provide:class S4t{constructor(){return(0,Tt.vb)("storage")}},deps:[[new o.FiY,_I]]},z4t={provide:gI,useFactory:function T4t(n,e){const t=(0,Tt.JM)("storage",n,e);return t&&new gI(t)},deps:[[new o.FiY,_I],nc]};let A4t=(()=>{class n{constructor(){(0,Vo.KN)("angularfire",Tt.q4.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[z4t,k4t]}),n})();function H4t(n,...e){return{ngModule:A4t,providers:[{provide:_I,useFactory:D4t(n),multi:!0,deps:[o.R0b,o.zs3,Tt.HU,W5,[new o.FiY,I_],[new o.FiY,ic],...e]}]}}const L4t=(0,Tt.u3)(cnt,!0);var E4t=function(){function n(){this.handlers={}}return n.prototype.shouldDetach=function(e){return e.data.shouldReuse||!1},n.prototype.store=function(e,t){e.data.shouldReuse&&(this.handlers[e.routeConfig.path]=t)},n.prototype.shouldAttach=function(e){return!!e.routeConfig&&!!this.handlers[e.routeConfig.path]},n.prototype.retrieve=function(e){return e.routeConfig?this.handlers[e.routeConfig.path]:null},n.prototype.shouldReuseRoute=function(e,t){return e.data.shouldReuse||!1},n}();function Y2e(n){return(0,Q2.e)((e,t)=>{(0,mo.Xf)(n).subscribe((0,p2.x)(t,()=>t.complete(),kte.Z)),!t.closed&&e.subscribe(t)})}function Tu(n){return n<0?Math.ceil(n)||0:Math.floor(n)}function ss(n){return"string"==typeof n}function hS(n){return n instanceof Date||"[object Date]"===Object.prototype.toString.call(n)}function Dl(n){return n&&n.getTime&&!isNaN(n.getTime())}function Du(n){return n instanceof Function||"[object Function]"===Object.prototype.toString.call(n)}function ku(n){return"number"==typeof n||"[object Number]"===Object.prototype.toString.call(n)}function N2(n){return n instanceof Array||"[object Array]"===Object.prototype.toString.call(n)}function Er(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function zu(n){return null!=n&&"[object Object]"===Object.prototype.toString.call(n)}function q2e(n){return void 0===n}function Yn(n){const e=+n;let t=0;return 0!==e&&isFinite(e)&&(t=Tu(e)),t}const N_={},G2e={date:"day",hour:"hours",minute:"minutes",second:"seconds",millisecond:"milliseconds"};function Vr(n,e){const t=n.toLowerCase();let i=n;t in G2e&&(i=G2e[t]),N_[t]=N_[`${t}s`]=N_[e]=i}function $2e(n){return ss(n)?N_[n]||N_[n.toLowerCase()]:void 0}const $a=0,h6=1,bc=2,Ui=3,Za=4,p6=5,Au=6,P4t=7,R4t=8;function m6(n,e,t){const i=`${Math.abs(n)}`;return(n>=0?t?"+":"":"-")+Math.pow(10,Math.max(0,e-i.length)).toString().substr(1)+i}const vI={},mh={},Z2e=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;function xn(n,e,t,i){n&&(mh[n]=i),e&&(mh[e[0]]=function(){return m6(i.apply(null,arguments),e[1],e[2])}),t&&(mh[t]=function(r,s){return s.locale.ordinal(i.apply(null,arguments),n)})}function F4t(n){return n.match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"")}function pS(n,e,t){const i=new Date(Date.UTC.apply(null,arguments));return n<100&&n>=0&&isFinite(i.getUTCFullYear())&&i.setUTCFullYear(n),i}function mS(n,e=0,t=1,i=0,r=0,s=0,a=0){const c=new Date(n,e,t,i,r,s,a);return n<100&&n>=0&&isFinite(c.getFullYear())&&c.setFullYear(n),c}function qn(n,e=!1){return e?n.getUTCHours():n.getHours()}function gh(n,e=!1){return e?n.getUTCMinutes():n.getMinutes()}function yI(n,e=!1){return e?n.getUTCSeconds():n.getSeconds()}function g6(n,e=!1){return e?n.getUTCMilliseconds():n.getMilliseconds()}function Mc(n,e=!1){return e?n.getUTCDay():n.getDay()}function Hu(n,e=!1){return e?n.getUTCDate():n.getDate()}function Gn(n,e=!1){return e?n.getUTCMonth():n.getMonth()}function $2(n,e=!1){return e?n.getUTCFullYear():n.getFullYear()}function _h(n,e){return!(!n||!e)&&vh(n,e)&&Gn(n)===Gn(e)}function vh(n,e){return!(!n||!e)&&$2(n)===$2(e)}function kl(n,e){return!(!n||!e)&&vh(n,e)&&_h(n,e)&&Hu(n)===Hu(e)}const K2e=/\d/,to=/\d\d/,Q2e=/\d{3}/,CI=/\d{4}/,gS=/[+-]?\d{6}/,S2=/\d\d?/,J2e=/\d\d\d\d?/,X2e=/\d\d\d\d\d\d?/,_S=/\d{1,3}/,bI=/\d{1,4}/,vS=/[+-]?\d{1,6}/,q4t=/\d+/,yS=/[+-]?\d+/,CS=/Z|[+-]\d\d(?::?\d\d)?/gi,$4t=/[+-]?\d+(\.\d{1,3})?/,P_=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,bS={};function Qt(n,e,t){bS[n]=Du(e)?e:function(i,r){return i&&t?t:e}}function Z4t(n,e){return Er(bS,n)?bS[n](!1,e):new RegExp(function K4t(n){return Lu(n.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(e,t,i,r,s)=>t||i||r||s))}(n))}function Lu(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}const MI={};function T2(n,e){const t=ss(n)?[n]:n;let i=e;if(ku(e)&&(i=function(r,s,a){return s[e]=Yn(r),a}),N2(t)&&Du(i)){let r;for(r=0;r<t.length;r++)MI[t[r]]=i}}function R_(n,e){T2(n,function(t,i,r,s){return r._w=r._w||{},e(t,r._w,r,s)})}function Q4t(n,e,t){return null!=e&&Er(MI,n)&&MI[n](e,t._a,t,n),t}const J4t={};function Ir(n,e){J4t[n]=e}function h1(n){return null==n._pf&&(n._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),n._pf}function wI(n,e){return e.locale.getFullYear?e.locale.getFullYear(n,e.isUTC).toString():$2(n,e.isUTC).toString()}function xI(n){return Yn(n)+(Yn(n)>68?1900:2e3)}function O_(n){return SI(n)?366:365}function SI(n){return n%4==0&&n%100!=0||n%400==0}function MS(n,e){if(isNaN(n)||isNaN(e))return NaN;const t=function V4t(n,e){return(n%e+e)%e}(e,12);return 1===t?SI(n+(e-t)/12)?29:28:31-t%7%2}const i6t={year:0,month:0,day:0,hour:0,minute:0,seconds:0};function nr(n,e){const t=Object.assign({},i6t,e),i=n.getFullYear()+(t.year||0),r=n.getMonth()+(t.month||0);let s=n.getDate()+(t.day||0);return t.month&&!t.day&&(s=Math.min(s,MS(i,r))),mS(i,r,s,n.getHours()+(t.hour||0),n.getMinutes()+(t.minute||0),n.getSeconds()+(t.seconds||0))}function yh(n,e){return ku(e)?e:n}function Eu(n,e,t){const i=Math.min(Hu(n),MS($2(n),e));return t?n.setUTCMonth(e,i):n.setMonth(e,i),n}function TI(n,e,t){return t?n.setUTCDate(e):n.setDate(e),n}function _6(n){return new Date(n.getTime())}function v6(n,e,t){const i=_6(n);switch(e){case"year":Eu(i,0,t);case"quarter":case"month":TI(i,1,t);case"week":case"isoWeek":case"day":case"date":!function o6t(n,e,t){t?n.setUTCHours(e):n.setHours(e)}(i,0,t);case"hours":!function a6t(n,e,t){t?n.setUTCMinutes(e):n.setMinutes(e)}(i,0,t);case"minutes":!function c6t(n,e,t){t?n.setUTCSeconds(e):n.setSeconds(e)}(i,0,t);case"seconds":!function l6t(n,e,t){t?n.setUTCMilliseconds(e):n.setMilliseconds(e)}(i,0,t)}return"week"===e&&function M0t(n,e,t={}){Sc(n,e-OI(n,t.locale,t.isUTC),"day")}(i,0,{isUTC:t}),"isoWeek"===e&&function w0t(n,e,t={}){const i=function b0t(n,e=ji()){return ss(n)?e.weekdaysParse(n)%7||7:ku(n)&&isNaN(n)?null:n}(e,t.locale);W_(n,function Di(n,e){return Mc(n,e)}(n)%7?i:i-7)}(i,1),"quarter"===e&&Eu(i,3*Math.floor(Gn(i,t)/3),t),i}function wS(n,e,t){let i=e;return"date"===i&&(i="day"),function v0t(n,e,t,i){return Tie(n,RI(e,t),-1,i)}(Sc(v6(n,i,t),1,"isoWeek"===i?"week":i,t),1,"milliseconds",t)}function DI(n,e){const t=+v6(n,"day",e),i=+v6(n,"year",e);return Math.round((t-i)/864e5)+1}function xS(n,e,t){const i=e-t+7;return-(pS(n,0,i).getUTCDay()-e+7)%7+i-1}function Ch(n,e,t,i){const r=xS($2(n,i),e,t),s=Math.floor((DI(n,i)-r-1)/7)+1;let a,c;return s<1?(c=$2(n,i)-1,a=s+Vu(c,e,t)):s>Vu($2(n,i),e,t)?(a=s-Vu($2(n,i),e,t),c=$2(n,i)+1):(c=$2(n,i),a=s),{week:a,year:c}}function Vu(n,e,t){const i=xS(n,e,t),r=xS(n+1,e,t);return(O_(n)-i+r)/7}const tie=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,f6t="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),nie="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),h6t="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),iie="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),p6t="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),rie={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},_6t=P_,v6t=P_;class sie{constructor(e){e&&this.set(e)}set(e){let t;for(t in e){if(!e.hasOwnProperty(t))continue;const i=e[t];this[Du(i)?t:`_${t}`]=i}this._config=e}calendar(e,t,i){const r=this._calendar[e]||this._calendar.sameElse;return Du(r)?r.call(null,t,i):r}longDateFormat(e){const t=this._longDateFormat[e],i=this._longDateFormat[e.toUpperCase()];return t||!i?t:(this._longDateFormat[e]=i.replace(/MMMM|MM|DD|dddd/g,function(r){return r.slice(1)}),this._longDateFormat[e])}get invalidDate(){return this._invalidDate}set invalidDate(e){this._invalidDate=e}ordinal(e,t){return this._ordinal.replace("%d",e.toString(10))}preparse(e,t){return e}getFullYear(e,t=!1){return $2(e,t)}postformat(e){return e}relativeTime(e,t,i,r){const s=this._relativeTime[i];return Du(s)?s(e,t,i,r):s.replace(/%d/i,e.toString(10))}pastFuture(e,t){const i=this._relativeTime[e>0?"future":"past"];return Du(i)?i(t):i.replace(/%s/i,t)}months(e,t,i=!1){if(!e)return N2(this._months)?this._months:this._months.standalone;if(N2(this._months))return this._months[Gn(e,i)];const r=(this._months.isFormat||tie).test(t)?"format":"standalone";return this._months[r][Gn(e,i)]}monthsShort(e,t,i=!1){if(!e)return N2(this._monthsShort)?this._monthsShort:this._monthsShort.standalone;if(N2(this._monthsShort))return this._monthsShort[Gn(e,i)];const r=tie.test(t)?"format":"standalone";return this._monthsShort[r][Gn(e,i)]}monthsParse(e,t,i){let r,s,a;if(this._monthsParseExact)return this.handleMonthStrictParse(e,t,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),a=0;a<12;a++){if(r=new Date(Date.UTC(2e3,a)),i&&!this._longMonthsParse[a]){const c=this.months(r,"",!0).replace(".",""),d=this.monthsShort(r,"",!0).replace(".","");this._longMonthsParse[a]=new RegExp(`^${c}$`,"i"),this._shortMonthsParse[a]=new RegExp(`^${d}$`,"i")}if(!i&&!this._monthsParse[a]&&(s=`^${this.months(r,"",!0)}|^${this.monthsShort(r,"",!0)}`,this._monthsParse[a]=new RegExp(s.replace(".",""),"i")),i&&"MMMM"===t&&this._longMonthsParse[a].test(e)||i&&"MMM"===t&&this._shortMonthsParse[a].test(e)||!i&&this._monthsParse[a].test(e))return a}}monthsRegex(e){return this._monthsParseExact?(Er(this,"_monthsRegex")||this.computeMonthsParse(),e?this._monthsStrictRegex:this._monthsRegex):(Er(this,"_monthsRegex")||(this._monthsRegex=v6t),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}monthsShortRegex(e){return this._monthsParseExact?(Er(this,"_monthsRegex")||this.computeMonthsParse(),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Er(this,"_monthsShortRegex")||(this._monthsShortRegex=_6t),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}week(e,t){return Ch(e,this._week.dow,this._week.doy,t).week}firstDayOfWeek(){return this._week.dow}firstDayOfYear(){return this._week.doy}weekdays(e,t,i){if(!e)return N2(this._weekdays)?this._weekdays:this._weekdays.standalone;if(N2(this._weekdays))return this._weekdays[Mc(e,i)];const r=this._weekdays.isFormat.test(t)?"format":"standalone";return this._weekdays[r][Mc(e,i)]}weekdaysMin(e,t,i){return e?this._weekdaysMin[Mc(e,i)]:this._weekdaysMin}weekdaysShort(e,t,i){return e?this._weekdaysShort[Mc(e,i)]:this._weekdaysShort}weekdaysParse(e,t,i){let r,s;if(this._weekdaysParseExact)return this.handleWeekStrictParse(e,t,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){const a=W_(new Date(Date.UTC(2e3,1)),r,null,!0);if(i&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp(`^${this.weekdays(a,"",!0).replace(".",".?")}$`,"i"),this._shortWeekdaysParse[r]=new RegExp(`^${this.weekdaysShort(a,"",!0).replace(".",".?")}$`,"i"),this._minWeekdaysParse[r]=new RegExp(`^${this.weekdaysMin(a,"",!0).replace(".",".?")}$`,"i")),this._weekdaysParse[r]||(s=`^${this.weekdays(a,"",!0)}|^${this.weekdaysShort(a,"",!0)}|^${this.weekdaysMin(a,"",!0)}`,this._weekdaysParse[r]=new RegExp(s.replace(".",""),"i")),!(N2(this._fullWeekdaysParse)&&N2(this._shortWeekdaysParse)&&N2(this._minWeekdaysParse)&&N2(this._weekdaysParse)))return;if(i&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(i&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(i&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!i&&this._weekdaysParse[r].test(e))return r}}weekdaysRegex(e){return this._weekdaysParseExact?(Er(this,"_weekdaysRegex")||this.computeWeekdaysParse(),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Er(this,"_weekdaysRegex")||(this._weekdaysRegex=P_),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}weekdaysShortRegex(e){return this._weekdaysParseExact?(Er(this,"_weekdaysRegex")||this.computeWeekdaysParse(),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Er(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=P_),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}weekdaysMinRegex(e){return this._weekdaysParseExact?(Er(this,"_weekdaysRegex")||this.computeWeekdaysParse(),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Er(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=P_),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}isPM(e){return"p"===e.toLowerCase().charAt(0)}meridiem(e,t,i){return e>11?i?"pm":"PM":i?"am":"AM"}formatLongDate(e){this._longDateFormat=this._longDateFormat?this._longDateFormat:rie;const t=this._longDateFormat[e],i=this._longDateFormat[e.toUpperCase()];return t||!i?t:(this._longDateFormat[e]=i.replace(/MMMM|MM|DD|dddd/g,r=>r.slice(1)),this._longDateFormat[e])}handleMonthStrictParse(e,t,i){const r=e.toLocaleLowerCase();let s,a,c;if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)c=new Date(2e3,s),this._shortMonthsParse[s]=this.monthsShort(c,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(c,"").toLocaleLowerCase();return i?"MMM"===t?(a=this._shortMonthsParse.indexOf(r),-1!==a?a:null):(a=this._longMonthsParse.indexOf(r),-1!==a?a:null):"MMM"===t?(a=this._shortMonthsParse.indexOf(r),-1!==a?a:(a=this._longMonthsParse.indexOf(r),-1!==a?a:null)):(a=this._longMonthsParse.indexOf(r),-1!==a?a:(a=this._shortMonthsParse.indexOf(r),-1!==a?a:null))}handleWeekStrictParse(e,t,i){let r;const s=e.toLocaleLowerCase();if(!this._weekdaysParse){let a;for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],a=0;a<7;++a){const c=W_(new Date(Date.UTC(2e3,1)),a,null,!0);this._minWeekdaysParse[a]=this.weekdaysMin(c).toLocaleLowerCase(),this._shortWeekdaysParse[a]=this.weekdaysShort(c).toLocaleLowerCase(),this._weekdaysParse[a]=this.weekdays(c,"").toLocaleLowerCase()}}if(N2(this._weekdaysParse)&&N2(this._shortWeekdaysParse)&&N2(this._minWeekdaysParse))return i?"dddd"===t?(r=this._weekdaysParse.indexOf(s),-1!==r?r:null):"ddd"===t?(r=this._shortWeekdaysParse.indexOf(s),-1!==r?r:null):(r=this._minWeekdaysParse.indexOf(s),-1!==r?r:null):"dddd"===t?(r=this._weekdaysParse.indexOf(s),-1!==r||(r=this._shortWeekdaysParse.indexOf(s),-1!==r)?r:(r=this._minWeekdaysParse.indexOf(s),-1!==r?r:null)):"ddd"===t?(r=this._shortWeekdaysParse.indexOf(s),-1!==r||(r=this._weekdaysParse.indexOf(s),-1!==r)?r:(r=this._minWeekdaysParse.indexOf(s),-1!==r?r:null)):(r=this._minWeekdaysParse.indexOf(s),-1!==r||(r=this._weekdaysParse.indexOf(s),-1!==r)?r:(r=this._shortWeekdaysParse.indexOf(s),-1!==r?r:null))}computeMonthsParse(){const e=[],t=[],i=[];let r,s;for(s=0;s<12;s++)r=new Date(2e3,s),e.push(this.monthsShort(r,"")),t.push(this.months(r,"")),i.push(this.months(r,"")),i.push(this.monthsShort(r,""));for(e.sort(Iu),t.sort(Iu),i.sort(Iu),s=0;s<12;s++)e[s]=Lu(e[s]),t[s]=Lu(t[s]);for(s=0;s<24;s++)i[s]=Lu(i[s]);this._monthsRegex=new RegExp(`^(${i.join("|")})`,"i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp(`^(${t.join("|")})`,"i"),this._monthsShortStrictRegex=new RegExp(`^(${e.join("|")})`,"i")}computeWeekdaysParse(){const e=[],t=[],i=[],r=[];let s;for(s=0;s<7;s++){const a=W_(new Date(Date.UTC(2e3,1)),s,null,!0),c=this.weekdaysMin(a),d=this.weekdaysShort(a),h=this.weekdays(a);e.push(c),t.push(d),i.push(h),r.push(c),r.push(d),r.push(h)}for(e.sort(Iu),t.sort(Iu),i.sort(Iu),r.sort(Iu),s=0;s<7;s++)t[s]=Lu(t[s]),i[s]=Lu(i[s]),r[s]=Lu(r[s]);this._weekdaysRegex=new RegExp(`^(${r.join("|")})`,"i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp(`^(${i.join("|")})`,"i"),this._weekdaysShortStrictRegex=new RegExp(`^(${t.join("|")})`,"i"),this._weekdaysMinStrictRegex=new RegExp(`^(${e.join("|")})`,"i")}}function Iu(n,e){return e.length-n.length}const oie={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:rie,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:f6t,monthsShort:nie,week:{dow:0,doy:6},weekdays:h6t,weekdaysMin:p6t,weekdaysShort:iie,meridiemParse:/[ap]\.?m?\.?/i};function y6t(n,e,t){const i=Math.min(n.length,e.length),r=Math.abs(n.length-e.length);let a,s=0;for(a=0;a<i;a++)(t&&n[a]!==e[a]||!t&&Yn(n[a])!==Yn(e[a]))&&s++;return s+r}function SS(n,e){xn(null,[n,n.length,!1],null,e)}function aie(n,e){return zI(n,e.locale).toString()}function cie(n){return lie(n).toString()}function zI(n,e=ji(),t){return Ch(n,e.firstDayOfWeek(),e.firstDayOfYear(),t).year}function lie(n,e){return Ch(n,1,4,e).year}function die(n,e){xn(n,null,null,function(t,i){let r=function Pu(n,e={}){return e._isUTC?e._offset||0:function fie(n){return 15*-Math.round(n.getTimezoneOffset()/15)}(n)}(t,{_isUTC:i.isUTC,_offset:i.offset}),s="+";return r<0&&(r=-r,s="-"),s+m6(~~(r/60),2)+e+m6(~~r%60,2)})}const z6t=/([\+\-]|\d\d)/gi;const ir={},F_={};let B_;function hie(n){return n&&n.toLowerCase().replace("_","-")}function mie(n){return ir[n]||console.error(`Khronos locale error: please load locale "${n}" before using it`),ir[n]}function HI(n,e){let t;return n&&(q2e(e)?t=ji(n):ss(n)&&(t=gie(n,e)),t&&(B_=t)),B_&&B_._abbr}function gie(n,e){if(null===e)return delete ir[n],B_=ji("en"),null;if(!e)return;let t=oie;if(e.abbr=n,null!=e.parentLocale){if(null==ir[e.parentLocale])return F_[e.parentLocale]||(F_[e.parentLocale]=[]),F_[e.parentLocale].push({name:n,config:e}),null;t=ir[e.parentLocale]._config}return ir[n]=new sie(function pie(n,e){const t=Object.assign({},n);for(const i in e)Er(e,i)&&(zu(n[i])&&zu(e[i])?(t[i]={},Object.assign(t[i],n[i]),Object.assign(t[i],e[i])):null!=e[i]?t[i]=e[i]:delete t[i]);for(const i in n)Er(n,i)&&!Er(e,i)&&zu(n[i])&&(t[i]=Object.assign({},t[i]));return t}(t,e)),F_[n]&&F_[n].forEach(function(i){gie(i.name,i.config)}),HI(n),ir[n]}function ji(n){return function I6t(){ir.en||(HI("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal(n){const e=n%10;return n+(1===Yn(n%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),function C6t(){xn("w",["ww",2,!1],"wo",function(n,e){return function Nu(n,e=ji(),t){return e.week(n,t)}(n,e.locale).toString(10)}),xn("W",["WW",2,!1],"Wo",function(n){return function kI(n,e){return Ch(n,1,4,e).week}(n).toString(10)}),Vr("week","w"),Vr("isoWeek","W"),Ir("week",5),Ir("isoWeek",5),Qt("w",S2),Qt("ww",S2,to),Qt("W",S2),Qt("WW",S2,to),R_(["w","ww","W","WW"],function(n,e,t,i){return e[i.substr(0,1)]=Yn(n),t})}(),function b6t(){xn(null,["gg",2,!1],null,function(n,e){return(zI(n,e.locale)%100).toString()}),xn(null,["GG",2,!1],null,function(n){return(lie(n)%100).toString()}),SS("gggg",aie),SS("ggggg",aie),SS("GGGG",cie),SS("GGGGG",cie),Vr("weekYear","gg"),Vr("isoWeekYear","GG"),Ir("weekYear",1),Ir("isoWeekYear",1),Qt("G",yS),Qt("g",yS),Qt("GG",S2,to),Qt("gg",S2,to),Qt("GGGG",bI,CI),Qt("gggg",bI,CI),Qt("GGGGG",vS,gS),Qt("ggggg",vS,gS),R_(["gggg","ggggg","GGGG","GGGGG"],function(n,e,t,i){return e[i.substr(0,2)]=Yn(n),t}),R_(["gg","GG"],function(n,e,t,i){return e[i]=xI(n),t})}(),function t6t(){xn("Y",null,null,function(n,e){const t=$2(n,e.isUTC);return t<=9999?t.toString(10):`+${t}`}),xn(null,["YY",2,!1],null,function(n,e){return($2(n,e.isUTC)%100).toString(10)}),xn(null,["YYYY",4,!1],null,wI),xn(null,["YYYYY",5,!1],null,wI),xn(null,["YYYYYY",6,!0],null,wI),Vr("year","y"),Ir("year",1),Qt("Y",yS),Qt("YY",S2,to),Qt("YYYY",bI,CI),Qt("YYYYY",vS,gS),Qt("YYYYYY",vS,gS),T2(["YYYYY","YYYYYY"],$a),T2("YYYY",function(n,e,t){return e[$a]=2===n.length?xI(n):Yn(n),t}),T2("YY",function(n,e,t){return e[$a]=xI(n),t}),T2("Y",function(n,e,t){return e[$a]=parseInt(n,10),t})}(),function w6t(){xn("z",null,null,function(n,e){return e.isUTC?"UTC":""}),xn("zz",null,null,function(n,e){return e.isUTC?"Coordinated Universal Time":""})}(),function x6t(){xn("X",null,null,function(n){return function U4t(n){return Math.floor(n.valueOf()/1e3)}(n).toString(10)}),xn("x",null,null,function(n){return n.valueOf().toString(10)}),Qt("x",yS),Qt("X",$4t),T2("X",function(n,e,t){return t._d=new Date(1e3*parseFloat(n)),t}),T2("x",function(n,e,t){return t._d=new Date(Yn(n)),t})}(),function S6t(){xn("s",["ss",2,!1],null,function(n,e){return yI(n,e.isUTC).toString(10)}),Vr("second","s"),Ir("second",15),Qt("s",S2),Qt("ss",S2,to),T2(["s","ss"],p6)}(),function T6t(){xn("Q",null,"Qo",function(n,e){return function D6t(n,e=!1){return Math.ceil((Gn(n,e)+1)/3)}(n,e.isUTC).toString(10)}),Vr("quarter","Q"),Ir("quarter",7),Qt("Q",K2e),T2("Q",function(n,e,t){return e[h6]=3*(Yn(n)-1),t})}(),function k6t(){die("Z",":"),die("ZZ",""),Qt("Z",CS),Qt("ZZ",CS),T2(["Z","ZZ"],function(n,e,t){return t._useUTC=!0,t._tzm=function AI(n,e){const t=(e||"").match(n);if(null===t)return null;const r=t[t.length-1].match(z6t)||["-","0","0"],s=60*parseInt(r[1],10)+Yn(r[2]);return 0===s?0:"+"===r[0]?s:-s}(CS,n),t})}(),function n6t(){xn("M",["MM",2,!1],"Mo",function(n,e){return(Gn(n,e.isUTC)+1).toString(10)}),xn("MMM",null,null,function(n,e){return e.locale.monthsShort(n,e.format,e.isUTC)}),xn("MMMM",null,null,function(n,e){return e.locale.months(n,e.format,e.isUTC)}),Vr("month","M"),Ir("month",8),Qt("M",S2),Qt("MM",S2,to),Qt("MMM",function(n,e){return e.monthsShortRegex(n)}),Qt("MMMM",function(n,e){return e.monthsRegex(n)}),T2(["M","MM"],function(n,e,t){return e[h6]=Yn(n)-1,t}),T2(["MMM","MMMM"],function(n,e,t,i){const r=t._locale.monthsParse(n,i,t._strict);return null!=r?e[h6]=r:h1(t).invalidMonth=!!n,t})}(),function H6t(){xn("m",["mm",2,!1],null,function(n,e){return gh(n,e.isUTC).toString(10)}),Vr("minute","m"),Ir("minute",14),Qt("m",S2),Qt("mm",S2,to),T2(["m","mm"],Za)}(),function L6t(){let n;for(xn("S",null,null,function(t,i){return(~~(g6(t,i.isUTC)/100)).toString(10)}),xn(null,["SS",2,!1],null,function(t,i){return(~~(g6(t,i.isUTC)/10)).toString(10)}),xn(null,["SSS",3,!1],null,function(t,i){return g6(t,i.isUTC).toString(10)}),xn(null,["SSSS",4,!1],null,function(t,i){return(10*g6(t,i.isUTC)).toString(10)}),xn(null,["SSSSS",5,!1],null,function(t,i){return(100*g6(t,i.isUTC)).toString(10)}),xn(null,["SSSSSS",6,!1],null,function(t,i){return(1e3*g6(t,i.isUTC)).toString(10)}),xn(null,["SSSSSSS",7,!1],null,function(t,i){return(1e4*g6(t,i.isUTC)).toString(10)}),xn(null,["SSSSSSSS",8,!1],null,function(t,i){return(1e5*g6(t,i.isUTC)).toString(10)}),xn(null,["SSSSSSSSS",9,!1],null,function(t,i){return(1e6*g6(t,i.isUTC)).toString(10)}),Vr("millisecond","ms"),Ir("millisecond",16),Qt("S",_S,K2e),Qt("SS",_S,to),Qt("SSS",_S,Q2e),n="SSSS";n.length<=9;n+="S")Qt(n,q4t);function e(t,i,r){return i[Au]=Yn(1e3*parseFloat(`0.${t}`)),r}for(n="S";n.length<=9;n+="S")T2(n,e)}(),function E6t(){function n(r,s){return qn(r,s)%12||12}function t(r,s){xn(r,null,null,function(a,c){return c.locale.meridiem(qn(a,c.isUTC),gh(a,c.isUTC),s)})}function i(r,s){return s._meridiemParse}xn("H",["HH",2,!1],null,function(r,s){return qn(r,s.isUTC).toString(10)}),xn("h",["hh",2,!1],null,function(r,s){return n(r,s.isUTC).toString(10)}),xn("k",["kk",2,!1],null,function(r,s){return function e(r,s){return qn(r,s)||24}(r,s.isUTC).toString(10)}),xn("hmm",null,null,function(r,s){return`${n(r,s.isUTC)}${m6(gh(r,s.isUTC),2)}`}),xn("hmmss",null,null,function(r,s){return`${n(r,s.isUTC)}${m6(gh(r,s.isUTC),2)}${m6(yI(r,s.isUTC),2)}`}),xn("Hmm",null,null,function(r,s){return`${qn(r,s.isUTC)}${m6(gh(r,s.isUTC),2)}`}),xn("Hmmss",null,null,function(r,s){return`${qn(r,s.isUTC)}${m6(gh(r,s.isUTC),2)}${m6(yI(r,s.isUTC),2)}`}),t("a",!0),t("A",!1),Vr("hour","h"),Ir("hour",13),Qt("a",i),Qt("A",i),Qt("H",S2),Qt("h",S2),Qt("k",S2),Qt("HH",S2,to),Qt("hh",S2,to),Qt("kk",S2,to),Qt("hmm",J2e),Qt("hmmss",X2e),Qt("Hmm",J2e),Qt("Hmmss",X2e),T2(["H","HH"],Ui),T2(["k","kk"],function(r,s,a){const c=Yn(r);return s[Ui]=24===c?0:c,a}),T2(["a","A"],function(r,s,a){return a._isPm=a._locale.isPM(r),a._meridiem=r,a}),T2(["h","hh"],function(r,s,a){return s[Ui]=Yn(r),h1(a).bigHour=!0,a}),T2("hmm",function(r,s,a){const c=r.length-2;return s[Ui]=Yn(r.substr(0,c)),s[Za]=Yn(r.substr(c)),h1(a).bigHour=!0,a}),T2("hmmss",function(r,s,a){const c=r.length-4,d=r.length-2;return s[Ui]=Yn(r.substr(0,c)),s[Za]=Yn(r.substr(c,2)),s[p6]=Yn(r.substr(d)),h1(a).bigHour=!0,a}),T2("Hmm",function(r,s,a){const c=r.length-2;return s[Ui]=Yn(r.substr(0,c)),s[Za]=Yn(r.substr(c)),a}),T2("Hmmss",function(r,s,a){const c=r.length-4,d=r.length-2;return s[Ui]=Yn(r.substr(0,c)),s[Za]=Yn(r.substr(c,2)),s[p6]=Yn(r.substr(d)),a})}(),function d6t(){xn("DDD",["DDDD",3,!1],"DDDo",function(n){return DI(n).toString(10)}),Vr("dayOfYear","DDD"),Ir("dayOfYear",4),Qt("DDD",_S),Qt("DDDD",Q2e),T2(["DDD","DDDD"],function(n,e,t){return t._dayOfYear=Yn(n),t})}(),function y0t(){xn("d",null,"do",function(n,e){return Mc(n,e.isUTC).toString(10)}),xn("dd",null,null,function(n,e){return e.locale.weekdaysMin(n,e.format,e.isUTC)}),xn("ddd",null,null,function(n,e){return e.locale.weekdaysShort(n,e.format,e.isUTC)}),xn("dddd",null,null,function(n,e){return e.locale.weekdays(n,e.format,e.isUTC)}),xn("e",null,null,function(n,e){return OI(n,e.locale,e.isUTC).toString(10)}),xn("E",null,null,function(n,e){return function Die(n,e){return Mc(n,e)||7}(n,e.isUTC).toString(10)}),Vr("day","d"),Vr("weekday","e"),Vr("isoWeekday","E"),Ir("day",11),Ir("weekday",11),Ir("isoWeekday",11),Qt("d",S2),Qt("e",S2),Qt("E",S2),Qt("dd",function(n,e){return e.weekdaysMinRegex(n)}),Qt("ddd",function(n,e){return e.weekdaysShortRegex(n)}),Qt("dddd",function(n,e){return e.weekdaysRegex(n)}),R_(["dd","ddd","dddd"],function(n,e,t,i){const r=t._locale.weekdaysParse(n,i,t._strict);return null!=r?e.d=r:h1(t).invalidWeekday=!!n,t}),R_(["d","e","E"],function(n,e,t,i){return e[i]=Yn(n),t})}(),function X4t(){xn("D",["DD",2,!1],"Do",function(n,e){return Hu(n,e.isUTC).toString(10)}),Vr("date","D"),Ir("date",9),Qt("D",S2),Qt("DD",S2,to),Qt("Do",function(n,e){return e._dayOfMonthOrdinalParse||e._ordinalParse}),T2(["D","DD"],bc),T2("Do",function(n,e,t){return e[bc]=Yn(n.match(S2)[0]),t})}())}(),n?function V6t(n){let e,t,i=0;for(;i<n.length;){const r=hie(n[i]).split("-");let s=r.length;for(e=hie(n[i+1]),e=e?e.split("-"):null;s>0;){if(t=mie(r.slice(0,s).join("-")),t)return t;if(e&&e.length>=s&&y6t(r,e,!0)>=s-1)break;s--}i++}return null}(N2(n)?n:[n]):B_}const U_=["year","quarter","month","week","day","hours","minutes","seconds","milliseconds"],N6t=U_.reduce((n,e)=>(n[e]=!0,n),{});function _ie(n){return n<0?Math.floor(n):Math.ceil(n)}function vie(n){return 4800*n/146097}function LI(n){return 146097*n/4800}let zl=Math.round;const wc_ss=44,wc_s=45,wc_m=45,wc_h=22,wc_d=26,wc_M=11;function O6t(n,e,t,i,r){return r.relativeTime(e||1,!!t,n,i)}class yie{constructor(e,t={}){this._data={},this._locale=ji(),this._locale=t&&t._locale||ji();const r=e.year||0,s=e.quarter||0,a=e.month||0,c=e.week||0,d=e.day||0,h=e.hours||0,g=e.minutes||0,y=e.seconds||0,M=e.milliseconds||0;return this._isValid=function P6t(n){if(Object.keys(n).some(i=>i in N6t&&null===n[i]||isNaN(n[i])))return!1;let t=!1;for(let i=0;i<U_.length;++i)if(n[U_[i]]){if(t)return!1;n[U_[i]]!==Yn(n[U_[i]])&&(t=!0)}return!0}(e),this._milliseconds=+M+1e3*y+60*g*1e3+1e3*h*60*60,this._days=+d+7*c,this._months=+a+3*s+12*r,function R6t(n){let e=n._milliseconds,t=n._days,i=n._months;const r=n._data;e>=0&&t>=0&&i>=0||e<=0&&t<=0&&i<=0||(e+=864e5*_ie(LI(i)+t),t=0,i=0),r.milliseconds=e%1e3;const s=Tu(e/1e3);r.seconds=s%60;const a=Tu(s/60);r.minutes=a%60;const c=Tu(a/60);r.hours=c%24,t+=Tu(c/24);const d=Tu(vie(t));i+=d,t-=_ie(LI(d));const h=Tu(i/12);return i%=12,r.day=t,r.month=i,r.year=h,n}(this)}isValid(){return this._isValid}humanize(e){if(!this.isValid())return this.localeData().invalidDate;const t=this.localeData();let i=function F6t(n,e,t){const i=RI(n).abs(),r=zl(i.as("s")),s=zl(i.as("m")),a=zl(i.as("h")),c=zl(i.as("d")),d=zl(i.as("M")),h=zl(i.as("y")),g=r<=wc_ss&&["s",r]||r<wc_s&&["ss",r]||s<=1&&["m"]||s<wc_m&&["mm",s]||a<=1&&["h"]||a<wc_h&&["hh",a]||c<=1&&["d"]||c<wc_d&&["dd",c]||d<=1&&["M"]||d<wc_M&&["MM",d]||h<=1&&["y"]||["yy",h];return O6t.apply(null,[g[0],g[1],e,+n>0,t])}(this,!e,t);return e&&(i=t.pastFuture(+this,i)),t.postformat(i)}localeData(){return this._locale}locale(e){return e?(this._locale=ji(e)||this._locale,this):this._locale._abbr}abs(){const e=Math.abs,t=this._data;return this._milliseconds=e(this._milliseconds),this._days=e(this._days),this._months=e(this._months),t.milliseconds=e(t.milliseconds),t.seconds=e(t.seconds),t.minutes=e(t.minutes),t.hours=e(t.hours),t.month=e(t.month),t.year=e(t.year),this}as(e){if(!this.isValid())return NaN;let t,i;const r=this._milliseconds,s=$2e(e);if("month"===s||"year"===s)return t=this._days+r/864e5,i=this._months+vie(t),"month"===s?i:i/12;switch(t=this._days+Math.round(LI(this._months)),s){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hours":return 24*t+r/36e5;case"minutes":return 1440*t+r/6e4;case"seconds":return 86400*t+r/1e3;case"milliseconds":return Math.floor(864e5*t)+r;default:throw new Error(`Unknown unit ${s}`)}}valueOf(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*Yn(this._months/12):NaN}}function EI(n){if(null==n._isValid){const e=h1(n),t=Array.prototype.some.call(e.parsedDateParts,function(r){return null!=r});let i=!isNaN(n._d&&n._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&t);if(n._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(n))return i;n._isValid=i}return n._isValid}function DS(n,e){return n._d=new Date(NaN),Object.assign(h1(n),e||{userInvalidated:!0}),n}const j6t=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,W6t=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Y6t=/Z|[+-]\d\d(?::?\d\d)?/,kS=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/,!0],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/,!0],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/,!0],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/,!0],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/,!0],["YYYYMMDD",/\d{8}/,!0],["GGGG[W]WWE",/\d{4}W\d{3}/,!0],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/,!0]],VI=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],q6t=/^\/?Date\((\-?\d+)/i,G6t={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},$6t=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function Cie(n){if(!ss(n._i))return n;const e=n._i,t=j6t.exec(e)||W6t.exec(e);let i,r,s,a,c,d;if(!t)return n._isValid=!1,n;for(c=0,d=kS.length;c<d;c++)if(kS[c][1].exec(t[1])){r=kS[c][0],i=!1!==kS[c][2];break}if(null==r)return n._isValid=!1,n;if(t[3]){for(c=0,d=VI.length;c<d;c++)if(VI[c][1].exec(t[3])){s=(t[2]||" ")+VI[c][0];break}if(null==s)return n._isValid=!1,n}if(!i&&null!=s)return n._isValid=!1,n;if(t[4]){if(!Y6t.exec(t[4]))return n._isValid=!1,n;a="Z"}return n._f=r+(s||"")+(a||""),NI(n)}function K6t(n){const e=parseInt(n,10);return e<=49?e+2e3:e}function bie(n){if(!ss(n._i))return n;const e=$6t.exec(function Q6t(n){return n.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(n._i));if(!e)return function U6t(n){return n._isValid=!1,n}(n);const t=function Z6t(n,e,t,i,r,s){const a=[K6t(n),nie.indexOf(e),parseInt(t,10),parseInt(i,10),parseInt(r,10)];return s&&a.push(parseInt(s,10)),a}(e[4],e[3],e[2],e[5],e[6],e[7]);return function J6t(n,e,t){return!n||iie.indexOf(n)===new Date(e[0],e[1],e[2]).getDay()||(h1(t).weekdayMismatch=!0,t._isValid=!1,!1)}(e[1],t,n)&&(n._a=t,n._tzm=function X6t(n,e,t){if(n)return G6t[n];if(e)return 0;{const i=parseInt(t,10),r=i%100;return(i-r)/100*60+r}}(e[8],e[9],e[10]),n._d=pS.apply(null,n._a),n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),h1(n).rfc2822=!0),n}function qo(n,e,t,i,r=0){const s=ji(t||"en");if(!s)throw new Error(`Locale "${t}" is not defined, please add it with "defineLocale(...)"`);const c=function t0t(n,e,t,i,r=0){if(!Dl(n))return t.invalidDate;const s=Mie(e,t);return vI[s]=vI[s]||function O4t(n){const e=n.match(Z2e),t=e.length,i=new Array(t);for(let r=0;r<t;r++)i[r]=mh[e[r]]?mh[e[r]]:F4t(e[r]);return function(r,s,a,c=0){let d="";for(let h=0;h<t;h++)d+=Du(i[h])?i[h].call(null,r,{format:n,locale:s,isUTC:a,offset:c}):i[h];return d}}(s),vI[s](n,t,i,r)}(n,e||(i?"YYYY-MM-DDTHH:mm:ss[Z]":"YYYY-MM-DDTHH:mm:ssZ"),s,i,r);return c&&s.postformat(c)}function Mie(n,e){let t=n,i=5;const r=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,s=a=>e.formatLongDate(a)||a;for(r.lastIndex=0;i>=0&&r.test(t);)t=t.replace(r,s),r.lastIndex=0,i-=1;return t}function bh(n,e,t){return n??e??t}function II(n){const e=[];let t,i,r;if(n._d)return n;const s=function n0t(n){const e=new Date;return n._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(n);for(n._w&&null==n._a[bc]&&null==n._a[h6]&&function i0t(n){let e,t,i,r,s,a,c;const d=n._w;if(null!=d.GG||null!=d.W||null!=d.E)r=1,s=4,e=bh(d.GG,n._a[$a],Ch(new Date,1,4).year),t=bh(d.W,1),i=bh(d.E,1),(i<1||i>7)&&(c=!0);else{r=n._locale._week.dow,s=n._locale._week.doy;const h=Ch(new Date,r,s);e=bh(d.gg,n._a[$a],h.year),t=bh(d.w,h.week),null!=d.d?(i=d.d,(i<0||i>6)&&(c=!0)):null!=d.e?(i=d.e+r,(d.e<0||d.e>6)&&(c=!0)):i=r}t<1||t>Vu(e,r,s)?h1(n)._overflowWeeks=!0:null!=c?h1(n)._overflowWeekday=!0:(a=function eie(n,e,t,i,r){const c=1+7*(e-1)+(7+t-i)%7+xS(n,i,r);let d,h;return c<=0?(d=n-1,h=O_(d)+c):c>O_(n)?(d=n+1,h=c-O_(n)):(d=n,h=c),{year:d,dayOfYear:h}}(e,t,i,r,s),n._a[$a]=a.year,n._dayOfYear=a.dayOfYear)}(n),null!=n._dayOfYear&&(r=bh(n._a[$a],s[$a]),(n._dayOfYear>O_(r)||0===n._dayOfYear)&&(h1(n)._overflowDayOfYear=!0),i=new Date(Date.UTC(r,0,n._dayOfYear)),n._a[h6]=i.getUTCMonth(),n._a[bc]=i.getUTCDate()),t=0;t<3&&null==n._a[t];++t)n._a[t]=e[t]=s[t];for(;t<7;t++)n._a[t]=e[t]=null==n._a[t]?2===t?1:0:n._a[t];24===n._a[Ui]&&0===n._a[Za]&&0===n._a[p6]&&0===n._a[Au]&&(n._nextDay=!0,n._a[Ui]=0),n._d=(n._useUTC?pS:mS).apply(null,e);const a=n._useUTC?n._d.getUTCDay():n._d.getDay();return null!=n._tzm&&n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),n._nextDay&&(n._a[Ui]=24),n._w&&typeof n._w.d<"u"&&n._w.d!==a&&(h1(n).weekdayMismatch=!0),n}function wie(n){let e;const t=n._a;return t&&-2===h1(n).overflow&&(e=t[h6]<0||t[h6]>11?h6:t[bc]<1||t[bc]>MS(t[$a],t[h6])?bc:t[Ui]<0||t[Ui]>24||24===t[Ui]&&(0!==t[Za]||0!==t[p6]||0!==t[Au])?Ui:t[Za]<0||t[Za]>59?Za:t[p6]<0||t[p6]>59?p6:t[Au]<0||t[Au]>999?Au:-1,h1(n)._overflowDayOfYear&&(e<$a||e>bc)&&(e=bc),h1(n)._overflowWeeks&&-1===e&&(e=P4t),h1(n)._overflowWeekday&&-1===e&&(e=R4t),h1(n).overflow=e),n}const r0t="ISO_8601",s0t="RFC_2822";function NI(n){if(n._f===r0t)return Cie(n);if(n._f===s0t)return bie(n);if(n._a=[],h1(n).empty=!0,N2(n._f)||!n._i&&0!==n._i)return n;let e=n._i.toString(),t=0;const i=e.length,r=Mie(n._f,n._locale).match(Z2e)||[];let s,a,c,d;for(s=0;s<r.length;s++)a=r[s],c=(e.match(Z4t(a,n._locale))||[])[0],c&&(d=e.substr(0,e.indexOf(c)),d.length>0&&h1(n).unusedInput.push(d),e=e.slice(e.indexOf(c)+c.length),t+=c.length),mh[a]?(c?h1(n).empty=!1:h1(n).unusedTokens.push(a),Q4t(a,c,n)):n._strict&&!c&&h1(n).unusedTokens.push(a);return h1(n).charsLeftOver=i-t,e.length>0&&h1(n).unusedInput.push(e),n._a[Ui]<=12&&!0===h1(n).bigHour&&n._a[Ui]>0&&(h1(n).bigHour=void 0),h1(n).parsedDateParts=n._a.slice(0),h1(n).meridiem=n._meridiem,n._a[Ui]=function o0t(n,e,t){let i=e;if(null==t)return i;if(null!=n.meridiemHour)return n.meridiemHour(i,t);if(null==n.isPM)return i;const r=n.isPM(t);return r&&i<12&&(i+=12),!r&&12===i&&(i=0),i}(n._locale,n._a[Ui],n._meridiem),II(n),wie(n)}function l0t(n){const e=wie(function u0t(n){let e=n._i;const t=n._f;return n._locale=n._locale||ji(n._l),null===e||void 0===t&&""===e?DS(n,{nullInput:!0}):(ss(e)&&(n._i=e=n._locale.preparse(e,t)),hS(e)?(n._d=_6(e),n):(N2(t)?function a0t(n){let e,t,i,r,s;if(!n._f||0===n._f.length)return h1(n).invalidFormat=!0,DS(n);for(s=0;s<n._f.length;s++)r=0,e=Object.assign({},n),null!=n._useUTC&&(e._useUTC=n._useUTC),e._f=n._f[s],NI(e),EI(e)&&(r+=h1(e).charsLeftOver,r+=10*h1(e).unusedTokens.length,h1(e).score=r,(null==i||r<i)&&(i=r,t=e));Object.assign(n,t||e)}(n):t?NI(n):function d0t(n){const e=n._i;if(q2e(e))n._d=new Date;else if(hS(e))n._d=_6(e);else if(ss(e))!function e0t(n){if(!ss(n._i))return n;const e=q6t.exec(n._i);null!==e?n._d=new Date(+e[1]):(Cie(n),!1!==n._isValid||(delete n._isValid,bie(n),!1!==n._isValid||(delete n._isValid,DS(n))))}(n);else if(N2(e)&&e.length){const t=e.slice(0);n._a=t.map(i=>ss(i)?parseInt(i,10):i),II(n)}else if(zu(e))!function c0t(n){if(n._d)return n;const e=n._i;if(zu(e)){const t=function N4t(n){const e={};let t,i;for(i in n)Er(n,i)&&(t=$2e(i),t&&(e[t]=n[i]));return e}(e);n._a=[t.year,t.month,t.day,t.hours,t.minutes,t.seconds,t.milliseconds].map(i=>ss(i)?parseInt(i,10):i)}return II(n)}(n);else{if(!ku(e))return DS(n);n._d=new Date(e)}}(n),EI(n)||(n._d=null),n))}(n));return e._d=new Date(null!=e._d?e._d.getTime():NaN),EI(Object.assign({},e,{_isValid:null}))||(e._d=new Date(NaN)),e}function j_(n,e,t,i,r){return hS(n)?n:function f0t(n,e,t,i,r){const s={};let a=n;return(zu(a)&&function I4t(n){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(n).length;let e;for(e in n)if(n.hasOwnProperty(e))return!1;return!0}(a)||N2(a)&&0===a.length)&&(a=void 0),s._useUTC=s._isUTC=r,s._l=t,s._i=a,s._f=e,s._strict=i,l0t(s)}(n,e,t,i,r)._d}function xie(n){return n instanceof Date?new Date(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()):null}function PI(n){return n<0?-1*Math.round(-1*n):Math.round(n)}function Ka(n,e,t="milliseconds"){return!(!n||!e)&&("milliseconds"===t?n.valueOf()>e.valueOf():e.valueOf()<v6(n,t).valueOf())}function xc(n,e,t="milliseconds"){return!(!n||!e)&&("milliseconds"===t?n.valueOf()<e.valueOf():wS(n,t).valueOf()<e.valueOf())}function Mh(n,e,t="milliseconds"){if(!n||!e)return!1;if("milliseconds"===t)return n.valueOf()===e.valueOf();const i=e.valueOf();return v6(n,t).valueOf()<=i&&i<=wS(n,t).valueOf()}const p0t=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,m0t=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function RI(n,e,t={}){const i=function g0t(n,e){if(null==n)return{};if(function B6t(n){return n instanceof yie}(n))return{milliseconds:n._milliseconds,day:n._days,month:n._months};if(ku(n))return e?{[e]:n}:{milliseconds:n};if(ss(n)){let t=p0t.exec(n);if(t){const i="-"===t[1]?-1:1;return{year:0,day:Yn(t[bc])*i,hours:Yn(t[Ui])*i,minutes:Yn(t[Za])*i,seconds:Yn(t[p6])*i,milliseconds:Yn(PI(1e3*Yn(t[Au])))*i}}if(t=m0t.exec(n),t){const i="-"===t[1]?-1:1;return{year:Ru(t[2],i),month:Ru(t[3],i),week:Ru(t[4],i),day:Ru(t[5],i),hours:Ru(t[6],i),minutes:Ru(t[7],i),seconds:Ru(t[8],i)}}}if(zu(n)&&("from"in n||"to"in n)){const t=function _0t(n,e){if(!Dl(n)||!Dl(e))return{milliseconds:0,months:0};let t;const i=function A6t(n,e,t={}){if(!t._isUTC)return n;const i=_6(e),r=6e4*(t._offset||0),s=n.valueOf()-i.valueOf()+r;return i.setTime(i.valueOf()+s),i}(e,n,{_offset:n.getTimezoneOffset()});return xc(n,i)?t=Sie(n,i):(t=Sie(i,n),t.milliseconds=-t.milliseconds,t.months=-t.months),t}(j_(n.from),j_(n.to));return{milliseconds:t.milliseconds,month:t.months}}return n}(n,e);return new yie(i,t)}function Ru(n,e){const t=n&&parseFloat(n.replace(",","."));return(isNaN(t)?0:t)*e}function Sie(n,e){const t={milliseconds:0,months:0};return t.months=Gn(e)-Gn(n)+12*($2(e)-$2(n)),Ka(Sc(_6(n),t.months,"month"),e)&&--t.months,t.milliseconds=+e-+Sc(_6(n),t.months,"month"),t}function Sc(n,e,t,i){return Tie(n,RI(e,t),1,i)}function Tie(n,e,t,i){const r=e._milliseconds,s=PI(e._days),a=PI(e._months);return a&&Eu(n,Gn(n,i)+a*t,i),s&&TI(n,Hu(n,i)+s*t,i),r&&function u6t(n,e){n.setTime(e)}(n,function B4t(n){return n.getTime()}(n)+r*t),_6(n)}function W_(n,e,t=ji(),i){const r=Mc(n,i),s=function C0t(n,e){if(!ss(n))return n;const t=parseInt(n,10);if(!isNaN(t))return t;const i=e.weekdaysParse(n);return ku(i)?i:null}(e,t);return Sc(n,s-r,"day")}function OI(n,e=ji(),t){return(Mc(n,t)+7-e.firstDayOfWeek())%7}const kie=function(n){return 0===n?0:1===n?1:2===n?2:n%100>=3&&n%100<=10?3:n%100>=11?4:5},T0t={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},Go=function(n){return function(e,t){const i=kie(e);let r=T0t[n][kie(e)];return 2===i&&(r=r[t?0:1]),r.replace(/%d/i,e.toString())}};"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),Go("s"),Go("s"),Go("m"),Go("m"),Go("h"),Go("h"),Go("d"),Go("d"),Go("M"),Go("M"),Go("y"),Go("y"),"\u044f\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),"\u044f\u043d\u0440_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),"\u043d\u0435\u0434\u0435\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u044f\u0434\u0430_\u0447\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a_\u043f\u0435\u0442\u044a\u043a_\u0441\u044a\u0431\u043e\u0442\u0430".split("_"),"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u044f_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u044a\u0431".split("_"),"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"gen._feb._mar._abr._mai._jun._jul._ago._set._oct._nov._des.".split("_"),"ene_feb_mar_abr_mai_jun_jul_ago_set_oct_nov_des".split("_"),"gener_febrer_mar\xe7_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),"diu._dil._dim._dix._dij._div._dis.".split("_"),"dg_dl_dt_dc_dj_dv_ds".split("_");const BI="leden_\xfanor_b\u0159ezen_duben_kv\u011bten_\u010derven_\u010dervenec_srpen_z\xe1\u0159\xed_\u0159\xedjen_listopad_prosinec".split("_"),UI="led_\xfano_b\u0159e_dub_kv\u011b_\u010dvn_\u010dvc_srp_z\xe1\u0159_\u0159\xedj_lis_pro".split("_");(function(n,e){let t,i=[];for(t=0;t<12;t++)i[t]=new RegExp("^"+n[t]+"$|^"+e[t]+"$","i")})(BI,UI),function(n){let e,t=[];for(e=0;e<12;e++)t[e]=new RegExp("^"+n[e]+"$","i")}(UI),function(n){let e,t=[];for(e=0;e<12;e++)t[e]=new RegExp("^"+n[e]+"$","i")}(BI),"ned\u011ble_pond\u011bl\xed_\xfater\xfd_st\u0159eda_\u010dtvrtek_p\xe1tek_sobota".split("_"),"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),"Januar_Februar_Marts_April_Maj_Juni_Juli_August_September_Oktober_November_December".split("_"),"Jan_Feb_Mar_Apr_Maj_Jun_Jul_Aug_Sep_Okt_Nov_Dec".split("_"),"S\xf8ndag_Mandag_Tirsdag_Onsdag_Torsdag_Fredag_L\xf8rdag".split("_"),"S\xf8n_Man_Tir_Ons_Tor_Fre_L\xf8r".split("_"),"S\xf8_Ma_Ti_On_To_Fr_L\xf8".split("_"),"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),"do_lu_ma_mi_ju_vi_s\xe1".split("_"),"jaanuar_veebruar_m\xe4rts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),"jaan_veebr_m\xe4rts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),"p\xfchap\xe4ev_esmasp\xe4ev_teisip\xe4ev_kolmap\xe4ev_neljap\xe4ev_reede_laup\xe4ev".split("_"),"P_E_T_K_N_R_L".split("_"),"P_E_T_K_N_R_L".split("_"),"nolla yksi kaksi kolme nelj\xe4 viisi kuusi seitsem\xe4n kahdeksan yhdeks\xe4n".split(" "),"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kes\xe4kuu_hein\xe4kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),"tammi_helmi_maalis_huhti_touko_kes\xe4_hein\xe4_elo_syys_loka_marras_joulu".split("_"),"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),"su_ma_ti_ke_to_pe_la".split("_"),"su_ma_ti_ke_to_pe_la".split("_"),"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),"dim._lun._mar._mer._jeu._ven._sam.".split("_"),"di_lu_ma_me_je_ve_sa".split("_"),"xan._feb._mar._abr._mai._xu\xf1._xul._ago._set._out._nov._dec.".split("_"),"xan_feb_mar_abr_mai_xu\xf1_xul_ago_set_out_nov_dec".split("_"),"xaneiro_febreiro_marzo_abril_maio_xu\xf1o_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),"domingo_luns_martes_m\xe9rcores_xoves_venres_s\xe1bado".split("_"),"dom._lun._mar._m\xe9r._xov._ven._s\xe1b.".split("_"),"do_lu_ma_m\xe9_xo_ve_s\xe1".split("_"),"\u05d9\u05e0\u05d5\u05d0\u05e8_\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05d9\u05dc_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8_\u05e1\u05e4\u05d8\u05de\u05d1\u05e8_\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8_\u05e0\u05d5\u05d1\u05de\u05d1\u05e8_\u05d3\u05e6\u05de\u05d1\u05e8".split("_"),"\u05d9\u05e0\u05d5\u05f3_\u05e4\u05d1\u05e8\u05f3_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05f3_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05f3_\u05e1\u05e4\u05d8\u05f3_\u05d0\u05d5\u05e7\u05f3_\u05e0\u05d5\u05d1\u05f3_\u05d3\u05e6\u05de\u05f3".split("_"),"\u05e8\u05d0\u05e9\u05d5\u05df_\u05e9\u05e0\u05d9_\u05e9\u05dc\u05d9\u05e9\u05d9_\u05e8\u05d1\u05d9\u05e2\u05d9_\u05d7\u05de\u05d9\u05e9\u05d9_\u05e9\u05d9\u05e9\u05d9_\u05e9\u05d1\u05ea".split("_"),"\u05d0\u05f3_\u05d1\u05f3_\u05d2\u05f3_\u05d3\u05f3_\u05d4\u05f3_\u05d5\u05f3_\u05e9\u05f3".split("_"),"\u05d0_\u05d1_\u05d2_\u05d3_\u05d4_\u05d5_\u05e9".split("_"),"\u091c\u0928\u0935\u0930\u0940_\u092b\u093c\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u092e\u094d\u092c\u0930_\u0926\u093f\u0938\u092e\u094d\u092c\u0930".split("_"),"\u091c\u0928._\u092b\u093c\u0930._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948._\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0905\u0917._\u0938\u093f\u0924._\u0905\u0915\u094d\u091f\u0942._\u0928\u0935._\u0926\u093f\u0938.".split("_"),"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0932\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0932_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),"vas\xe1rnap h\xe9tf\u0151n kedden szerd\xe1n cs\xfct\xf6rt\xf6k\xf6n p\xe9nteken szombaton".split(" "),"janu\xe1r_febru\xe1r_m\xe1rcius_\xe1prilis_m\xe1jus_j\xfanius_j\xfalius_augusztus_szeptember_okt\xf3ber_november_december".split("_"),"jan_feb_m\xe1rc_\xe1pr_m\xe1j_j\xfan_j\xfal_aug_szept_okt_nov_dec".split("_"),"vas\xe1rnap_h\xe9tf\u0151_kedd_szerda_cs\xfct\xf6rt\xf6k_p\xe9ntek_szombat".split("_"),"vas_h\xe9t_kedd_sze_cs\xfct_p\xe9n_szo".split("_"),"v_h_k_sze_cs_p_szo".split("_"),"Sije\u010danj_Velja\u010da_O\u017eujak_Travanj_Svibanj_Lipanj_Srpanj_Kolovoz_Rujan_Listopad_Studeni_Prosinac".split("_"),"Sij_Velj_O\u017eu_Tra_Svi_Lip_Srp_Kol_Ruj_Lis_Stu_Pro".split("_"),"Nedjelja_Ponedjeljak_Utorak_Srijeda_\u010cetvrtak_Petak_Subota".split("_"),"Ned_Pon_Uto_Sri_\u010cet_Pet_Sub".split("_"),"Ne_Po_Ut_Sr_\u010ce_Pe_Su".split("_"),"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),"dom_lun_mar_mer_gio_ven_sab".split("_"),"do_lu_ma_me_gi_ve_sa".split("_"),"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10e1_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10e1_\u10db\u10d0\u10e0\u10e2\u10e1_\u10d0\u10de\u10e0\u10d8\u10da\u10d8\u10e1_\u10db\u10d0\u10d8\u10e1\u10e1_\u10d8\u10d5\u10dc\u10d8\u10e1\u10e1_\u10d8\u10d5\u10da\u10d8\u10e1\u10e1_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10e1_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10e1_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10e1_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10e1_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10e1".split("_"),"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10d8_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10d8_\u10db\u10d0\u10e0\u10e2\u10d8_\u10d0\u10de\u10e0\u10d8\u10da\u10d8_\u10db\u10d0\u10d8\u10e1\u10d8_\u10d8\u10d5\u10dc\u10d8\u10e1\u10d8_\u10d8\u10d5\u10da\u10d8\u10e1\u10d8_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10dd_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10d8_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10d8".split("_"),"\u10d8\u10d0\u10dc_\u10d7\u10d4\u10d1_\u10db\u10d0\u10e0_\u10d0\u10de\u10e0_\u10db\u10d0\u10d8_\u10d8\u10d5\u10dc_\u10d8\u10d5\u10da_\u10d0\u10d2\u10d5_\u10e1\u10d4\u10e5_\u10dd\u10e5\u10e2_\u10dc\u10dd\u10d4_\u10d3\u10d4\u10d9".split("_"),"\u10d9\u10d5\u10d8\u10e0\u10d0_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10d8_\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8".split("_"),"\u10d9\u10d5\u10d8\u10e0\u10d0\u10e1_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10e1_\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1".split("_"),"\u10d9\u10d5\u10d8_\u10dd\u10e0\u10e8_\u10e1\u10d0\u10db_\u10dd\u10d7\u10ee_\u10ee\u10e3\u10d7_\u10de\u10d0\u10e0_\u10e8\u10d0\u10d1".split("_"),"\u10d9\u10d5_\u10dd\u10e0_\u10e1\u10d0_\u10dd\u10d7_\u10ee\u10e3_\u10de\u10d0_\u10e8\u10d0".split("_"),"\u049b\u0430\u04a3\u0442\u0430\u0440_\u0430\u049b\u043f\u0430\u043d_\u043d\u0430\u0443\u0440\u044b\u0437_\u0441\u04d9\u0443\u0456\u0440_\u043c\u0430\u043c\u044b\u0440_\u043c\u0430\u0443\u0441\u044b\u043c_\u0448\u0456\u043b\u0434\u0435_\u0442\u0430\u043c\u044b\u0437_\u049b\u044b\u0440\u043a\u04af\u0439\u0435\u043a_\u049b\u0430\u0437\u0430\u043d_\u049b\u0430\u0440\u0430\u0448\u0430_\u0436\u0435\u043b\u0442\u043e\u049b\u0441\u0430\u043d".split("_"),"\u049b\u0430\u04a3_\u0430\u049b\u043f_\u043d\u0430\u0443_\u0441\u04d9\u0443_\u043c\u0430\u043c_\u043c\u0430\u0443_\u0448\u0456\u043b_\u0442\u0430\u043c_\u049b\u044b\u0440_\u049b\u0430\u0437_\u049b\u0430\u0440_\u0436\u0435\u043b".split("_"),"\u0436\u0435\u043a\u0441\u0435\u043d\u0431\u0456_\u0434\u04af\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u04d9\u0440\u0441\u0435\u043d\u0431\u0456_\u0431\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0436\u04b1\u043c\u0430_\u0441\u0435\u043d\u0431\u0456".split("_"),"\u0436\u0435\u043a_\u0434\u04af\u0439_\u0441\u0435\u0439_\u0441\u04d9\u0440_\u0431\u0435\u0439_\u0436\u04b1\u043c_\u0441\u0435\u043d".split("_"),"\u0436\u043a_\u0434\u0439_\u0441\u0439_\u0441\u0440_\u0431\u0439_\u0436\u043c_\u0441\u043d".split("_"),"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),"sausio_vasario_kovo_baland\u017eio_gegu\u017e\u0117s_bir\u017eelio_liepos_rugpj\u016b\u010dio_rugs\u0117jo_spalio_lapkri\u010dio_gruod\u017eio".split("_"),"sausis_vasaris_kovas_balandis_gegu\u017e\u0117_bir\u017eelis_liepa_rugpj\u016btis_rugs\u0117jis_spalis_lapkritis_gruodis".split("_"),"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),"sekmadien\u012f_pirmadien\u012f_antradien\u012f_tre\u010diadien\u012f_ketvirtadien\u012f_penktadien\u012f_\u0161e\u0161tadien\u012f".split("_"),"sekmadienis_pirmadienis_antradienis_tre\u010diadienis_ketvirtadienis_penktadienis_\u0161e\u0161tadienis".split("_"),"Sek_Pir_Ant_Tre_Ket_Pen_\u0160e\u0161".split("_"),"S_P_A_T_K_Pn_\u0160".split("_"),"Janv\u0101ris_Febru\u0101ris_Marts_Apr\u012blis_Maijs_J\u016bnijs_J\u016blijs_Augusts_Septembris_Oktobris_Novembris_Decembris".split("_"),"Jan_Feb_Mar_Apr_Mai_J\u016bn_J\u016bl_Aug_Sep_Okt_Nov_Dec".split("_"),"Sv\u0113tdiena_Pirmdiena_Otrdiena_Tre\u0161diena_Ceturtdiena_Piektdiena_Sestdiena".split("_"),"Sv\u0113td_Pirmd_Otrd_Tre\u0161d_Ceturtd_Piektd_Sestd".split("_"),"Sv_Pi_Ot_Tr_Ce_Pk_Se".split("_"),"\u041d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0425\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0413\u0443\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u04e9\u0440\u04e9\u0432\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0422\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0417\u0443\u0440\u0433\u0430\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u043e\u043b\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u041d\u0430\u0439\u043c\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0415\u0441\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u043d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u0445\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440".split("_"),"1 \u0441\u0430\u0440_2 \u0441\u0430\u0440_3 \u0441\u0430\u0440_4 \u0441\u0430\u0440_5 \u0441\u0430\u0440_6 \u0441\u0430\u0440_7 \u0441\u0430\u0440_8 \u0441\u0430\u0440_9 \u0441\u0430\u0440_10 \u0441\u0430\u0440_11 \u0441\u0430\u0440_12 \u0441\u0430\u0440".split("_"),"\u041d\u044f\u043c_\u0414\u0430\u0432\u0430\u0430_\u041c\u044f\u0433\u043c\u0430\u0440_\u041b\u0445\u0430\u0433\u0432\u0430_\u041f\u04af\u0440\u044d\u0432_\u0411\u0430\u0430\u0441\u0430\u043d_\u0411\u044f\u043c\u0431\u0430".split("_"),"\u041d\u044f\u043c_\u0414\u0430\u0432_\u041c\u044f\u0433_\u041b\u0445\u0430_\u041f\u04af\u0440_\u0411\u0430\u0430_\u0411\u044f\u043c".split("_"),"\u041d\u044f_\u0414\u0430_\u041c\u044f_\u041b\u0445_\u041f\u04af_\u0411\u0430_\u0411\u044f".split("_"),"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),"s\xf8._ma._ti._on._to._fr._l\xf8.".split("_"),"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),"jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),"zo._ma._di._wo._do._vr._za.".split("_"),"zo_ma_di_wo_do_vr_za".split("_"),"jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),"zo._ma._di._wo._do._vr._za.".split("_"),"zo_ma_di_wo_do_vr_za".split("_"),"stycze\u0144_luty_marzec_kwiecie\u0144_maj_czerwiec_lipiec_sierpie\u0144_wrzesie\u0144_pa\u017adziernik_listopad_grudzie\u0144".split("_"),"stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrze\u015bnia_pa\u017adziernika_listopada_grudnia".split("_"),"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa\u017a_lis_gru".split("_"),"niedziela_poniedzia\u0142ek_wtorek_\u015broda_czwartek_pi\u0105tek_sobota".split("_"),"ndz_pon_wt_\u015br_czw_pt_sob".split("_"),"Nd_Pn_Wt_\u015ar_Cz_Pt_So".split("_"),"Janeiro_Fevereiro_Mar\xe7o_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),"Domingo_Segunda-feira_Ter\xe7a-feira_Quarta-feira_Quinta-feira_Sexta-feira_S\xe1bado".split("_"),"Dom_Seg_Ter_Qua_Qui_Sex_S\xe1b".split("_"),"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1".split("_"),"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),"duminic\u0103_luni_mar\u021bi_miercuri_joi_vineri_s\xe2mb\u0103t\u0103".split("_"),"Dum_Lun_Mar_Mie_Joi_Vin_S\xe2m".split("_"),"Du_Lu_Ma_Mi_Jo_Vi_S\xe2".split("_"),"\u044f\u043d\u0432\u0430\u0440\u044f_\u0444\u0435\u0432\u0440\u0430\u043b\u044f_\u043c\u0430\u0440\u0442\u0430_\u0430\u043f\u0440\u0435\u043b\u044f_\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433\u0443\u0441\u0442\u0430_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f_\u043e\u043a\u0442\u044f\u0431\u0440\u044f_\u043d\u043e\u044f\u0431\u0440\u044f_\u0434\u0435\u043a\u0430\u0431\u0440\u044f".split("_"),"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_"),"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440\u0442_\u0430\u043f\u0440._\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0430_\u0441\u0443\u0431\u0431\u043e\u0442\u0430".split("_"),"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0443_\u0441\u0443\u0431\u0431\u043e\u0442\u0443".split("_"),"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"janu\xe1r_febru\xe1r_marec_apr\xedl_m\xe1j_j\xfan_j\xfal_august_september_okt\xf3ber_november_december".split("_"),"jan_feb_mar_apr_m\xe1j_j\xfan_j\xfal_aug_sep_okt_nov_dec".split("_"),"nede\u013ea_pondelok_utorok_streda_\u0161tvrtok_piatok_sobota".split("_"),"ne_po_ut_st_\u0161t_pi_so".split("_"),"ne_po_ut_st_\u0161t_pi_so".split("_"),"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),"nedelja_ponedeljek_torek_sreda_\u010detrtek_petek_sobota".split("_"),"ned._pon._tor._sre._\u010det._pet._sob.".split("_"),"ne_po_to_sr_\u010de_pe_so".split("_"),"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_N\xebntor_Dhjetor".split("_"),"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_N\xebn_Dhj".split("_"),"E Diel\xeb_E H\xebn\xeb_E Mart\xeb_E M\xebrkur\xeb_E Enjte_E Premte_E Shtun\xeb".split("_"),"Die_H\xebn_Mar_M\xebr_Enj_Pre_Sht".split("_"),"Di_He_Ma_Me_En_Pr_Sh".split("_"),"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),"s\xf6ndag_m\xe5ndag_tisdag_onsdag_torsdag_fredag_l\xf6rdag".split("_"),"s\xf6n_m\xe5n_tis_ons_tor_fre_l\xf6r".split("_"),"s\xf6_m\xe5_ti_on_to_fr_l\xf6".split("_"),"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_");const Gie={abbr:"th-be",months:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),monthsShort:"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),monthsParseExact:!0,weekdays:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysShort:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysMin:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm",LLLL:"\u0e27\u0e31\u0e19dddd\u0e17\u0e35\u0e48 D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm"},meridiemParse:/\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07|\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07/,isPM:n=>"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"===n,meridiem:(n,e,t)=>n<12?"\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07":"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07",calendar:{sameDay:"[\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextDay:"[\u0e1e\u0e23\u0e38\u0e48\u0e07\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextWeek:"dddd[\u0e2b\u0e19\u0e49\u0e32 \u0e40\u0e27\u0e25\u0e32] LT",lastDay:"[\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e27\u0e32\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",lastWeek:"[\u0e27\u0e31\u0e19]dddd[\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27 \u0e40\u0e27\u0e25\u0e32] LT",sameElse:"L"},relativeTime:{future:"\u0e2d\u0e35\u0e01 %s",past:"%s\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27",s:"\u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",ss:"%d \u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",m:"1 \u0e19\u0e32\u0e17\u0e35",mm:"%d \u0e19\u0e32\u0e17\u0e35",h:"1 \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",hh:"%d \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",d:"1 \u0e27\u0e31\u0e19",dd:"%d \u0e27\u0e31\u0e19",M:"1 \u0e40\u0e14\u0e37\u0e2d\u0e19",MM:"%d \u0e40\u0e14\u0e37\u0e2d\u0e19",y:"1 \u0e1b\u0e35",yy:"%d \u0e1b\u0e35"},preparse(n,e){const t=Gie.longDateFormat[e]?Gie.longDateFormat[e]:e;return-1!==t.indexOf("YYYY",t.length-4)?n.substr(0,n.length-4)+(parseInt(n.substr(n.length-4),10)-543):n},getFullYear:(n,e=!1)=>543+(e?n.getUTCFullYear():n.getFullYear())};function kh(n){return function(e){return n+"\u043e"+(11===qn(e)?"\u0431":"")+"] LT"}}"Ocak_\u015eubat_Mart_Nisan_May\u0131s_Haziran_Temmuz_A\u011fustos_Eyl\xfcl_Ekim_Kas\u0131m_Aral\u0131k".split("_"),"Oca_\u015eub_Mar_Nis_May_Haz_Tem_A\u011fu_Eyl_Eki_Kas_Ara".split("_"),"Pazar_Pazartesi_Sal\u0131_\xc7ar\u015famba_Per\u015fembe_Cuma_Cumartesi".split("_"),"Paz_Pts_Sal_\xc7ar_Per_Cum_Cts".split("_"),"Pz_Pt_Sa_\xc7a_Pe_Cu_Ct".split("_"),"\u0441\u0456\u0447\u043d\u044f_\u043b\u044e\u0442\u043e\u0433\u043e_\u0431\u0435\u0440\u0435\u0437\u043d\u044f_\u043a\u0432\u0456\u0442\u043d\u044f_\u0442\u0440\u0430\u0432\u043d\u044f_\u0447\u0435\u0440\u0432\u043d\u044f_\u043b\u0438\u043f\u043d\u044f_\u0441\u0435\u0440\u043f\u043d\u044f_\u0432\u0435\u0440\u0435\u0441\u043d\u044f_\u0436\u043e\u0432\u0442\u043d\u044f_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430_\u0433\u0440\u0443\u0434\u043d\u044f".split("_"),"\u0441\u0456\u0447\u0435\u043d\u044c_\u043b\u044e\u0442\u0438\u0439_\u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c_\u043a\u0432\u0456\u0442\u0435\u043d\u044c_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u0435\u0440\u0432\u0435\u043d\u044c_\u043b\u0438\u043f\u0435\u043d\u044c_\u0441\u0435\u0440\u043f\u0435\u043d\u044c_\u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c_\u0436\u043e\u0432\u0442\u0435\u043d\u044c_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434_\u0433\u0440\u0443\u0434\u0435\u043d\u044c".split("_"),"\u0441\u0456\u0447_\u043b\u044e\u0442_\u0431\u0435\u0440_\u043a\u0432\u0456\u0442_\u0442\u0440\u0430\u0432_\u0447\u0435\u0440\u0432_\u043b\u0438\u043f_\u0441\u0435\u0440\u043f_\u0432\u0435\u0440_\u0436\u043e\u0432\u0442_\u043b\u0438\u0441\u0442_\u0433\u0440\u0443\u0434".split("_"),"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),kh("[\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456 "),kh("[\u0417\u0430\u0432\u0442\u0440\u0430 "),kh("[\u0412\u0447\u043e\u0440\u0430 "),kh("[\u0423] dddd ["),"th\xe1ng 1_th\xe1ng 2_th\xe1ng 3_th\xe1ng 4_th\xe1ng 5_th\xe1ng 6_th\xe1ng 7_th\xe1ng 8_th\xe1ng 9_th\xe1ng 10_th\xe1ng 11_th\xe1ng 12".split("_"),"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),"ch\u1ee7 nh\u1eadt_th\u1ee9 hai_th\u1ee9 ba_th\u1ee9 t\u01b0_th\u1ee9 n\u0103m_th\u1ee9 s\xe1u_th\u1ee9 b\u1ea3y".split("_"),"CN_T2_T3_T4_T5_T6_T7".split("_"),"CN_T2_T3_T4_T5_T6_T7".split("_"),"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_");var G0t=N(233);class $ie extends t2{constructor(e,t,i){super(e),t.pipe((0,Rm.Q)(G0t.N)).pipe(us((a,c)=>c?i(a,c):a,e)).subscribe(a=>this.next(a))}}class AS extends Ci.y{constructor(e,t,i){super(),this._dispatcher=e,this._reducer=t,this.source=i}select(e){return(this.source?.pipe((0,kt.U)(e))||(new Ci.y).pipe((0,kt.U)(e))).pipe(E3())}lift(e){const t=new AS(this._dispatcher,this._reducer,this);return t.operator=e,t}dispatch(e){this._dispatcher.next(e)}next(e){this._dispatcher.next(e)}error(e){this._dispatcher.error(e)}complete(){}}function $0t(n,e){1&n&&(o.TgZ(0,"td"),o._uU(1,"\xa0\xa0\xa0"),o.qZA())}function Z0t(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"td")(1,"a",1),o.NdJ("click",function(){o.CHM(t);const r=o.oxw();return o.KtG(r.changeMinutes(r.minuteStep))}),o._UZ(2,"span",2),o.qZA()()}if(2&n){const t=o.oxw();o.xp6(1),o.ekj("disabled",!t.canIncrementMinutes||!t.isEditable)}}function K0t(n,e){1&n&&(o.TgZ(0,"td"),o._uU(1,"\xa0"),o.qZA())}function Q0t(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"td")(1,"a",1),o.NdJ("click",function(){o.CHM(t);const r=o.oxw();return o.KtG(r.changeSeconds(r.secondsStep))}),o._UZ(2,"span",2),o.qZA()()}if(2&n){const t=o.oxw();o.xp6(1),o.ekj("disabled",!t.canIncrementSeconds||!t.isEditable)}}function J0t(n,e){1&n&&(o.TgZ(0,"td"),o._uU(1,"\xa0\xa0\xa0"),o.qZA())}function X0t(n,e){1&n&&o._UZ(0,"td")}function elt(n,e){1&n&&(o.TgZ(0,"td"),o._uU(1,"\xa0:\xa0"),o.qZA())}function tlt(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"td",4)(1,"input",5),o.NdJ("wheel",function(r){o.CHM(t);const s=o.oxw();return s.prevDef(r),o.KtG(s.changeMinutes(s.minuteStep*s.wheelSign(r),"wheel"))})("keydown.ArrowUp",function(){o.CHM(t);const r=o.oxw();return o.KtG(r.changeMinutes(r.minuteStep,"key"))})("keydown.ArrowDown",function(){o.CHM(t);const r=o.oxw();return o.KtG(r.changeMinutes(-r.minuteStep,"key"))})("change",function(r){o.CHM(t);const s=o.oxw();return o.KtG(s.updateMinutes(r.target))}),o.qZA()()}if(2&n){const t=o.oxw();o.ekj("has-error",t.invalidMinutes),o.xp6(1),o.ekj("is-invalid",t.invalidMinutes),o.Q6J("placeholder",t.minutesPlaceholder)("readonly",t.readonlyInput)("disabled",t.disabled)("value",t.minutes),o.uIk("aria-label",t.labelMinutes)}}function nlt(n,e){1&n&&(o.TgZ(0,"td"),o._uU(1,"\xa0:\xa0"),o.qZA())}function ilt(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"td",4)(1,"input",5),o.NdJ("wheel",function(r){o.CHM(t);const s=o.oxw();return s.prevDef(r),o.KtG(s.changeSeconds(s.secondsStep*s.wheelSign(r),"wheel"))})("keydown.ArrowUp",function(){o.CHM(t);const r=o.oxw();return o.KtG(r.changeSeconds(r.secondsStep,"key"))})("keydown.ArrowDown",function(){o.CHM(t);const r=o.oxw();return o.KtG(r.changeSeconds(-r.secondsStep,"key"))})("change",function(r){o.CHM(t);const s=o.oxw();return o.KtG(s.updateSeconds(r.target))}),o.qZA()()}if(2&n){const t=o.oxw();o.ekj("has-error",t.invalidSeconds),o.xp6(1),o.ekj("is-invalid",t.invalidSeconds),o.Q6J("placeholder",t.secondsPlaceholder)("readonly",t.readonlyInput)("disabled",t.disabled)("value",t.seconds),o.uIk("aria-label",t.labelSeconds)}}function rlt(n,e){1&n&&(o.TgZ(0,"td"),o._uU(1,"\xa0\xa0\xa0"),o.qZA())}function slt(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"td")(1,"button",8),o.NdJ("click",function(){o.CHM(t);const r=o.oxw();return o.KtG(r.toggleMeridian())}),o._uU(2),o.qZA()()}if(2&n){const t=o.oxw();o.xp6(1),o.ekj("disabled",!t.isEditable||!t.canToggleMeridian),o.Q6J("disabled",!t.isEditable||!t.canToggleMeridian),o.xp6(1),o.hij("",t.meridian," ")}}function olt(n,e){1&n&&(o.TgZ(0,"td"),o._uU(1,"\xa0\xa0\xa0"),o.qZA())}function alt(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"td")(1,"a",1),o.NdJ("click",function(){o.CHM(t);const r=o.oxw();return o.KtG(r.changeMinutes(-r.minuteStep))}),o._UZ(2,"span",7),o.qZA()()}if(2&n){const t=o.oxw();o.xp6(1),o.ekj("disabled",!t.canDecrementMinutes||!t.isEditable)}}function clt(n,e){1&n&&(o.TgZ(0,"td"),o._uU(1,"\xa0"),o.qZA())}function llt(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"td")(1,"a",1),o.NdJ("click",function(){o.CHM(t);const r=o.oxw();return o.KtG(r.changeSeconds(-r.secondsStep))}),o._UZ(2,"span",7),o.qZA()()}if(2&n){const t=o.oxw();o.xp6(1),o.ekj("disabled",!t.canDecrementSeconds||!t.isEditable)}}function ult(n,e){1&n&&(o.TgZ(0,"td"),o._uU(1,"\xa0\xa0\xa0"),o.qZA())}function dlt(n,e){1&n&&o._UZ(0,"td")}let y6=(()=>{class n{writeValue(t){return{type:n.WRITE_VALUE,payload:t}}changeHours(t){return{type:n.CHANGE_HOURS,payload:t}}changeMinutes(t){return{type:n.CHANGE_MINUTES,payload:t}}changeSeconds(t){return{type:n.CHANGE_SECONDS,payload:t}}setTime(t){return{type:n.SET_TIME_UNIT,payload:t}}updateControls(t){return{type:n.UPDATE_CONTROLS,payload:t}}}return n.WRITE_VALUE="[timepicker] write value from ng model",n.CHANGE_HOURS="[timepicker] change hours",n.CHANGE_MINUTES="[timepicker] change minutes",n.CHANGE_SECONDS="[timepicker] change seconds",n.SET_TIME_UNIT="[timepicker] set time unit",n.UPDATE_CONTROLS="[timepicker] update controls",n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const flt=10,hlt=24,Zie=12,plt=60,mlt=60;function JI(n){return!(!n||n instanceof Date&&isNaN(n.getHours()))&&("string"!=typeof n||JI(new Date(n)))}function XI(n,e){return!(n.min&&e<n.min||n.max&&e>n.max)}function Uu(n){return typeof n>"u"?NaN:"number"==typeof n?n:parseInt(n,flt)}function Kie(n,e=!1){const t=Uu(n);return isNaN(t)||t<0||t>(e?Zie:hlt)?NaN:t}function Qie(n){const e=Uu(n);return isNaN(e)||e<0||e>plt?NaN:e}function Jie(n){const e=Uu(n);return isNaN(e)||e<0||e>mlt?NaN:e}function Xie(n){return"string"==typeof n?new Date(n):n}function ea(n,e){if(!n)return ea(HS(new Date,0,0,0),e);if(!e)return n;let t=n.getHours(),i=n.getMinutes(),r=n.getSeconds();return e.hour&&(t+=Uu(e.hour)),e.minute&&(i+=Uu(e.minute)),e.seconds&&(r+=Uu(e.seconds)),HS(n,t,i,r)}function ere(n,e){let t=Kie(e.hour);const i=Qie(e.minute),r=Jie(e.seconds)||0;return e.isPM&&12!==t&&(t+=Zie),n?isNaN(t)||isNaN(i)?n:HS(n,t,i,r):isNaN(t)||isNaN(i)?n:HS(new Date,t,i,r)}function HS(n,e,t,i){const r=new Date(n.getFullYear(),n.getMonth(),n.getDate(),e,t,i,n.getMilliseconds());return r.setFullYear(n.getFullYear()),r.setMonth(n.getMonth()),r.setDate(n.getDate()),r}function eN(n){const e=n.toString();return e.length>1?e:`0${e}`}function tre(n,e){return!isNaN(Kie(n,e))}function nre(n){return!isNaN(Qie(n))}function ire(n){return!isNaN(Jie(n))}function rre(n,e="0",t="0",i){return tre(n,i)&&nre(e)&&ire(t)}function LS(n,e){return!(n.readonlyInput||n.disabled||e&&("wheel"===e.source&&!n.mousewheel||"key"===e.source&&!n.arrowkeys))}function sre(n){const{hourStep:e,minuteStep:t,secondsStep:i,readonlyInput:r,disabled:s,mousewheel:a,arrowkeys:c,showSpinners:d,showMeridian:h,showSeconds:g,meridians:y,min:M,max:S}=n;return{hourStep:e,minuteStep:t,secondsStep:i,readonlyInput:r,disabled:s,mousewheel:a,arrowkeys:c,showSpinners:d,showMeridian:h,showSeconds:g,meridians:y,min:M,max:S}}let ore=(()=>{class n{constructor(){this.hourStep=1,this.minuteStep=5,this.secondsStep=10,this.showMeridian=!0,this.meridians=["AM","PM"],this.readonlyInput=!1,this.disabled=!1,this.allowEmptyTime=!1,this.mousewheel=!0,this.arrowkeys=!0,this.showSpinners=!0,this.showSeconds=!1,this.showMinutes=!0,this.hoursPlaceholder="HH",this.minutesPlaceholder="MM",this.secondsPlaceholder="SS",this.ariaLabelHours="hours",this.ariaLabelMinutes="minutes",this.ariaLabelSeconds="seconds"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const are={value:void 0,config:new ore,controls:{canIncrementHours:!0,canIncrementMinutes:!0,canIncrementSeconds:!0,canDecrementHours:!0,canDecrementMinutes:!0,canDecrementSeconds:!0,canToggleMeridian:!0}};function cre(n=are,e){switch(e.type){case y6.WRITE_VALUE:return Object.assign({},n,{value:e.payload});case y6.CHANGE_HOURS:{if(!LS(n.config,e.payload)||!function vlt(n,e){return!(!n.step||n.step>0&&!e.canIncrementHours||n.step<0&&!e.canDecrementHours)}(e.payload,n.controls))return n;const t=ea(n.value,{hour:e.payload.step});return!n.config.max&&!n.config.min||XI(n.config,t)?Object.assign({},n,{value:t}):n}case y6.CHANGE_MINUTES:{if(!LS(n.config,e.payload)||!function ylt(n,e){return!(!n.step||n.step>0&&!e.canIncrementMinutes||n.step<0&&!e.canDecrementMinutes)}(e.payload,n.controls))return n;const t=ea(n.value,{minute:e.payload.step});return!n.config.max&&!n.config.min||XI(n.config,t)?Object.assign({},n,{value:t}):n}case y6.CHANGE_SECONDS:{if(!LS(n.config,e.payload)||!function Clt(n,e){return!(!n.step||n.step>0&&!e.canIncrementSeconds||n.step<0&&!e.canDecrementSeconds)}(e.payload,n.controls))return n;const t=ea(n.value,{seconds:e.payload.step});return!n.config.max&&!n.config.min||XI(n.config,t)?Object.assign({},n,{value:t}):n}case y6.SET_TIME_UNIT:{if(!LS(n.config))return n;const t=ere(n.value,e.payload);return Object.assign({},n,{value:t})}case y6.UPDATE_CONTROLS:{const t=function blt(n,e){const{min:r,max:s,hourStep:a,minuteStep:c,secondsStep:d,showSeconds:h}=e,g={canIncrementHours:!0,canIncrementMinutes:!0,canIncrementSeconds:!0,canDecrementHours:!0,canDecrementMinutes:!0,canDecrementSeconds:!0,canToggleMeridian:!0};if(!n)return g;if(s){const y=ea(n,{hour:a});if(g.canIncrementHours=s>y&&n.getHours()+a<24,!g.canIncrementHours){const M=ea(n,{minute:c});g.canIncrementMinutes=h?s>M:s>=M}if(!g.canIncrementMinutes){const M=ea(n,{seconds:d});g.canIncrementSeconds=s>=M}n.getHours()<12&&(g.canToggleMeridian=ea(n,{hour:12})<s)}if(r){const y=ea(n,{hour:-a});if(g.canDecrementHours=r<y,!g.canDecrementHours){const M=ea(n,{minute:-c});g.canDecrementMinutes=h?r<M:r<=M}if(!g.canDecrementMinutes){const M=ea(n,{seconds:-d});g.canDecrementSeconds=r<=M}n.getHours()>=12&&(g.canToggleMeridian=ea(n,{hour:-12})>r)}return g}(n.value,e.payload),i={value:n.value,config:e.payload,controls:t};return n.config.showMeridian!==i.config.showMeridian&&n.value&&(i.value=new Date(n.value)),Object.assign({},n,i)}default:return n}}let ES=(()=>{class n extends AS{constructor(){const t=new t2({type:"[mini-ngrx] dispatcher init"});super(t,cre,new $ie(are,t,cre))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Mlt={provide:js,useExisting:(0,o.Gpc)(()=>tN),multi:!0};let tN=(()=>{class n{constructor(t,i,r,s){this._cd=i,this._store=r,this._timepickerActions=s,this.hourStep=1,this.minuteStep=5,this.secondsStep=10,this.readonlyInput=!1,this.disabled=!1,this.mousewheel=!0,this.arrowkeys=!0,this.showSpinners=!0,this.showMeridian=!0,this.showMinutes=!0,this.showSeconds=!1,this.meridians=["AM","PM"],this.hoursPlaceholder="HH",this.minutesPlaceholder="MM",this.secondsPlaceholder="SS",this.isValid=new o.vpe,this.meridianChange=new o.vpe,this.hours="",this.minutes="",this.seconds="",this.meridian="",this.invalidHours=!1,this.invalidMinutes=!1,this.invalidSeconds=!1,this.labelHours="hours",this.labelMinutes="minutes",this.labelSeconds="seconds",this.canIncrementHours=!0,this.canIncrementMinutes=!0,this.canIncrementSeconds=!0,this.canDecrementHours=!0,this.canDecrementMinutes=!0,this.canDecrementSeconds=!0,this.canToggleMeridian=!0,this.onChange=Function.prototype,this.onTouched=Function.prototype,this.config=t,Object.assign(this,this.config),this.timepickerSub=r.select(a=>a.value).subscribe(a=>{this._renderTime(a),this.onChange(a),this._store.dispatch(this._timepickerActions.updateControls(sre(this)))}),r.select(a=>a.controls).subscribe(a=>{const c=rre(this.hours,this.minutes,this.seconds,this.isPM()),d=this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||c;this.isValid.emit(d),Object.assign(this,a),i.markForCheck()})}get isSpinnersVisible(){return this.showSpinners&&!this.readonlyInput}get isEditable(){return!(this.readonlyInput||this.disabled)}resetValidation(){this.invalidHours=!1,this.invalidMinutes=!1,this.invalidSeconds=!1}isPM(){return this.showMeridian&&this.meridian===this.meridians[1]}prevDef(t){t.preventDefault()}wheelSign(t){return-1*Math.sign(t.deltaY||0)}ngOnChanges(){this._store.dispatch(this._timepickerActions.updateControls(sre(this)))}changeHours(t,i=""){this.resetValidation(),this._store.dispatch(this._timepickerActions.changeHours({step:t,source:i}))}changeMinutes(t,i=""){this.resetValidation(),this._store.dispatch(this._timepickerActions.changeMinutes({step:t,source:i}))}changeSeconds(t,i=""){this.resetValidation(),this._store.dispatch(this._timepickerActions.changeSeconds({step:t,source:i}))}updateHours(t){this.resetValidation(),this.hours=t.value;const i=tre(this.hours,this.isPM())&&this.isValidLimit();if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||i))return this.invalidHours=!0,this.isValid.emit(!1),void this.onChange(null);this._updateTime()}updateMinutes(t){this.resetValidation(),this.minutes=t.value;const i=nre(this.minutes)&&this.isValidLimit();if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||i))return this.invalidMinutes=!0,this.isValid.emit(!1),void this.onChange(null);this._updateTime()}updateSeconds(t){this.resetValidation(),this.seconds=t.value;const i=ire(this.seconds)&&this.isValidLimit();if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||i))return this.invalidSeconds=!0,this.isValid.emit(!1),void this.onChange(null);this._updateTime()}isValidLimit(){return function glt(n,e,t){const i=ere(new Date,n);return!(!i||e&&i>e||t&&i<t)}({hour:this.hours,minute:this.minutes,seconds:this.seconds,isPM:this.isPM()},this.max,this.min)}isOneOfDatesIsEmpty(){return function _lt(n,e,t){return 0===n.length||0===e.length||0===t.length}(this.hours,this.minutes,this.seconds)}_updateTime(){const r=rre(this.hours,this.showMinutes?this.minutes:void 0,this.showSeconds?this.seconds:void 0,this.isPM());if(!(this.config.allowEmptyTime&&this.isOneOfDatesIsEmpty()||r))return this.isValid.emit(!1),void this.onChange(null);this._store.dispatch(this._timepickerActions.setTime({hour:this.hours,minute:this.minutes,seconds:this.seconds,isPM:this.isPM()}))}toggleMeridian(){this.showMeridian&&this.isEditable&&this._store.dispatch(this._timepickerActions.changeHours({step:12,source:""}))}writeValue(t){JI(t)?(this.resetValidation(),this._store.dispatch(this._timepickerActions.writeValue(Xie(t)))):null==t&&this._store.dispatch(this._timepickerActions.writeValue())}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._cd.markForCheck()}ngOnDestroy(){this.timepickerSub?.unsubscribe()}_renderTime(t){if(!t||!JI(t))return this.hours="",this.minutes="",this.seconds="",this.meridian=this.meridians[0],void this.meridianChange.emit(this.meridian);const i=Xie(t);if(!i)return;let s=i.getHours();this.showMeridian&&(this.meridian=this.meridians[s>=12?1:0],this.meridianChange.emit(this.meridian),s%=12,0===s&&(s=12)),this.hours=eN(s),this.minutes=eN(i.getMinutes()),this.seconds=eN(i.getUTCSeconds())}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(ore),o.Y36(o.sBO),o.Y36(ES),o.Y36(y6))},n.\u0275cmp=o.Xpm({type:n,selectors:[["timepicker"]],inputs:{hourStep:"hourStep",minuteStep:"minuteStep",secondsStep:"secondsStep",readonlyInput:"readonlyInput",disabled:"disabled",mousewheel:"mousewheel",arrowkeys:"arrowkeys",showSpinners:"showSpinners",showMeridian:"showMeridian",showMinutes:"showMinutes",showSeconds:"showSeconds",meridians:"meridians",min:"min",max:"max",hoursPlaceholder:"hoursPlaceholder",minutesPlaceholder:"minutesPlaceholder",secondsPlaceholder:"secondsPlaceholder"},outputs:{isValid:"isValid",meridianChange:"meridianChange"},features:[o._Bn([Mlt,ES]),o.TTD],decls:31,vars:33,consts:[[1,"text-center",3,"hidden"],["href","javascript:void(0);",1,"btn","btn-link",3,"click"],[1,"bs-chevron","bs-chevron-up"],[4,"ngIf"],[1,"form-group","mb-3"],["type","text","maxlength","2",1,"form-control","text-center","bs-timepicker-field",3,"placeholder","readonly","disabled","value","wheel","keydown.ArrowUp","keydown.ArrowDown","change"],["class","form-group mb-3",3,"has-error",4,"ngIf"],[1,"bs-chevron","bs-chevron-down"],["type","button",1,"btn","btn-default","text-center",3,"disabled","click"]],template:function(t,i){1&t&&(o.TgZ(0,"table")(1,"tbody")(2,"tr",0)(3,"td")(4,"a",1),o.NdJ("click",function(){return i.changeHours(i.hourStep)}),o._UZ(5,"span",2),o.qZA()(),o.YNc(6,$0t,2,0,"td",3),o.YNc(7,Z0t,3,2,"td",3),o.YNc(8,K0t,2,0,"td",3),o.YNc(9,Q0t,3,2,"td",3),o.YNc(10,J0t,2,0,"td",3),o.YNc(11,X0t,1,0,"td",3),o.qZA(),o.TgZ(12,"tr")(13,"td",4)(14,"input",5),o.NdJ("wheel",function(s){return i.prevDef(s),i.changeHours(i.hourStep*i.wheelSign(s),"wheel")})("keydown.ArrowUp",function(){return i.changeHours(i.hourStep,"key")})("keydown.ArrowDown",function(){return i.changeHours(-i.hourStep,"key")})("change",function(s){return i.updateHours(s.target)}),o.qZA()(),o.YNc(15,elt,2,0,"td",3),o.YNc(16,tlt,2,9,"td",6),o.YNc(17,nlt,2,0,"td",3),o.YNc(18,ilt,2,9,"td",6),o.YNc(19,rlt,2,0,"td",3),o.YNc(20,slt,3,4,"td",3),o.qZA(),o.TgZ(21,"tr",0)(22,"td")(23,"a",1),o.NdJ("click",function(){return i.changeHours(-i.hourStep)}),o._UZ(24,"span",7),o.qZA()(),o.YNc(25,olt,2,0,"td",3),o.YNc(26,alt,3,2,"td",3),o.YNc(27,clt,2,0,"td",3),o.YNc(28,llt,3,2,"td",3),o.YNc(29,ult,2,0,"td",3),o.YNc(30,dlt,1,0,"td",3),o.qZA()()()),2&t&&(o.xp6(2),o.Q6J("hidden",!i.showSpinners),o.xp6(2),o.ekj("disabled",!i.canIncrementHours||!i.isEditable),o.xp6(2),o.Q6J("ngIf",i.showMinutes),o.xp6(1),o.Q6J("ngIf",i.showMinutes),o.xp6(1),o.Q6J("ngIf",i.showSeconds),o.xp6(1),o.Q6J("ngIf",i.showSeconds),o.xp6(1),o.Q6J("ngIf",i.showMeridian),o.xp6(1),o.Q6J("ngIf",i.showMeridian),o.xp6(2),o.ekj("has-error",i.invalidHours),o.xp6(1),o.ekj("is-invalid",i.invalidHours),o.Q6J("placeholder",i.hoursPlaceholder)("readonly",i.readonlyInput)("disabled",i.disabled)("value",i.hours),o.uIk("aria-label",i.labelHours),o.xp6(1),o.Q6J("ngIf",i.showMinutes),o.xp6(1),o.Q6J("ngIf",i.showMinutes),o.xp6(1),o.Q6J("ngIf",i.showSeconds),o.xp6(1),o.Q6J("ngIf",i.showSeconds),o.xp6(1),o.Q6J("ngIf",i.showMeridian),o.xp6(1),o.Q6J("ngIf",i.showMeridian),o.xp6(1),o.Q6J("hidden",!i.showSpinners),o.xp6(2),o.ekj("disabled",!i.canDecrementHours||!i.isEditable),o.xp6(2),o.Q6J("ngIf",i.showMinutes),o.xp6(1),o.Q6J("ngIf",i.showMinutes),o.xp6(1),o.Q6J("ngIf",i.showSeconds),o.xp6(1),o.Q6J("ngIf",i.showSeconds),o.xp6(1),o.Q6J("ngIf",i.showMeridian),o.xp6(1),o.Q6J("ngIf",i.showMeridian))},dependencies:[Zn],styles:[".bs-chevron{border-style:solid;display:block;width:9px;height:9px;position:relative;border-width:3px 0px 0 3px}.bs-chevron-up{transform:rotate(45deg);top:2px}.bs-chevron-down{transform:rotate(-135deg);top:-2px}.bs-timepicker-field{width:65px;padding:.375rem .55rem}\n"],encapsulation:2,changeDetection:0}),n})(),wlt=(()=>{class n{static forRoot(){return{ngModule:n,providers:[y6,ES]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[ES],imports:[qi]}),n})();const xlt=["*"];let nN=(()=>{class n{constructor(){this.adaptivePosition=!0,this.placement="top",this.triggers="hover focus",this.delay=0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Slt=(()=>{class n{constructor(t){Object.assign(this,t)}get _bsVersions(){return Zf()}ngAfterViewInit(){this.classMap={in:!1,fade:!1},this.placement&&(this._bsVersions.isBs5&&(this.placement=Kf[this.placement]),this.classMap[this.placement]=!0),this.classMap[`tooltip-${this.placement}`]=!0,this.classMap.in=!0,this.animation&&(this.classMap.fade=!0),this.containerClass&&(this.classMap[this.containerClass]=!0)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(nN))},n.\u0275cmp=o.Xpm({type:n,selectors:[["bs-tooltip-container"]],hostAttrs:["role","tooltip"],hostVars:3,hostBindings:function(t,i){2&t&&(o.uIk("id",i.id),o.Tol("show tooltip in tooltip-"+i.placement+" bs-tooltip-"+i.placement+" "+i.placement+" "+i.containerClass))},ngContentSelectors:xlt,decls:3,vars:0,consts:[[1,"tooltip-arrow","arrow"],[1,"tooltip-inner"]],template:function(t,i){1&t&&(o.F$t(),o._UZ(0,"div",0),o.TgZ(1,"div",1),o.Hsn(2),o.qZA())},styles:[".tooltip[_nghost-%COMP%]{display:block;pointer-events:none}.bs3.tooltip.top[_nghost-%COMP%] > .arrow[_ngcontent-%COMP%]{margin-left:-2px}.bs3.tooltip.bottom[_nghost-%COMP%]{margin-top:0}.bs3.bs-tooltip-left[_nghost-%COMP%], .bs3.bs-tooltip-right[_nghost-%COMP%]{margin:0}.bs3.bs-tooltip-right[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs3.bs-tooltip-left[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%]{margin:.3rem 0}"],changeDetection:0}),n})(),Tlt=0,Dlt=(()=>{class n{constructor(t,i,r,s,a,c){this._elementRef=s,this._renderer=a,this._positionService=c,this.tooltipId=Tlt++,this.adaptivePosition=!0,this.tooltipChange=new o.vpe,this.placement="top",this.triggers="hover focus",this.containerClass="",this.isDisabled=!1,this.delay=0,this.tooltipAnimation=!0,this.tooltipFadeDuration=150,this.tooltipStateChanged=new o.vpe,this._tooltip=i.createLoader(this._elementRef,t,this._renderer).provide({provide:nN,useValue:r}),Object.assign(this,r),this.onShown=this._tooltip.onShown,this.onHidden=this._tooltip.onHidden}get isOpen(){return this._tooltip.isShown}set isOpen(t){t?this.show():this.hide()}set htmlContent(t){$s("tooltipHtml was deprecated, please use `tooltip` instead"),this.tooltip=t}set _placement(t){$s("tooltipPlacement was deprecated, please use `placement` instead"),this.placement=t}set _isOpen(t){$s("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen=t}get _isOpen(){return $s("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen}set _enable(t){$s("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled=!t}get _enable(){return $s("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled}set _appendToBody(t){$s('tooltipAppendToBody was deprecated, please use `container="body"` instead'),this.container=t?"body":this.container}get _appendToBody(){return $s('tooltipAppendToBody was deprecated, please use `container="body"` instead'),"body"===this.container}set _popupClass(t){$s("tooltipClass deprecated")}set _tooltipContext(t){$s("tooltipContext deprecated")}set _tooltipPopupDelay(t){$s("tooltipPopupDelay is deprecated, use `delay` instead"),this.delay=t}get _tooltipTrigger(){return $s("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers}set _tooltipTrigger(t){$s("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers=(t||"").toString()}ngOnInit(){this._tooltip.listen({triggers:this.triggers,show:()=>this.show()}),this.tooltipChange.subscribe(t=>{t||this._tooltip.hide()}),this.onShown.subscribe(()=>{this.setAriaDescribedBy()}),this.onHidden.subscribe(()=>{this.setAriaDescribedBy()})}setAriaDescribedBy(){this._ariaDescribedby=this.isOpen?`tooltip-${this.tooltipId}`:void 0,this._ariaDescribedby?this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ariaDescribedby):this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby")}toggle(){if(this.isOpen)return this.hide();this.show()}show(){if(this._positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition},preventOverflow:{enabled:this.adaptivePosition,boundariesElement:this.boundariesElement||"scrollParent"}}}),this.isOpen||this.isDisabled||this._delayTimeoutId||!this.tooltip)return;const t=()=>{this._delayTimeoutId&&(this._delayTimeoutId=void 0),this._tooltip.attach(Slt).to(this.container).position({attachment:this.placement}).show({content:this.tooltip,placement:this.placement,containerClass:this.containerClass,id:`tooltip-${this.tooltipId}`})},i=()=>{this._tooltipCancelShowFn&&this._tooltipCancelShowFn()};this.delay?(this._delaySubscription&&this._delaySubscription.unsubscribe(),this._delaySubscription=kZ(this.delay).subscribe(()=>{t(),i()}),this.triggers&&XL(this.triggers).forEach(r=>{r.close&&(this._tooltipCancelShowFn=this._renderer.listen(this._elementRef.nativeElement,r.close,()=>{this._delaySubscription?.unsubscribe(),i()}))})):t()}hide(){this._delayTimeoutId&&(clearTimeout(this._delayTimeoutId),this._delayTimeoutId=void 0),this._tooltip.isShown&&(this._tooltip.instance?.classMap&&(this._tooltip.instance.classMap.in=!1),setTimeout(()=>{this._tooltip.hide()},this.tooltipFadeDuration))}ngOnDestroy(){this._tooltip.dispose(),this.tooltipChange.unsubscribe(),this._delaySubscription&&this._delaySubscription.unsubscribe(),this.onShown.unsubscribe(),this.onHidden.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.s_b),o.Y36(fc),o.Y36(nN),o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(o6))},n.\u0275dir=o.lG2({type:n,selectors:[["","tooltip",""],["","tooltipHtml",""]],inputs:{adaptivePosition:"adaptivePosition",tooltip:"tooltip",placement:"placement",triggers:"triggers",container:"container",containerClass:"containerClass",boundariesElement:"boundariesElement",isOpen:"isOpen",isDisabled:"isDisabled",delay:"delay",htmlContent:["tooltipHtml","htmlContent"],_placement:["tooltipPlacement","_placement"],_isOpen:["tooltipIsOpen","_isOpen"],_enable:["tooltipEnable","_enable"],_appendToBody:["tooltipAppendToBody","_appendToBody"],tooltipAnimation:"tooltipAnimation",_popupClass:["tooltipClass","_popupClass"],_tooltipContext:["tooltipContext","_tooltipContext"],_tooltipPopupDelay:["tooltipPopupDelay","_tooltipPopupDelay"],tooltipFadeDuration:"tooltipFadeDuration",_tooltipTrigger:["tooltipTrigger","_tooltipTrigger"]},outputs:{tooltipChange:"tooltipChange",onShown:"onShown",onHidden:"onHidden",tooltipStateChanged:"tooltipStateChanged"},exportAs:["bs-tooltip"]}),(0,en.gn)([IJe(),(0,en.w6)("design:type",Object)],n.prototype,"tooltip",void 0),n})(),klt=(()=>{class n{static forRoot(){return{ngModule:n,providers:[fc,o6]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[qi]}),n})();function zlt(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"button",2),o.NdJ("click",function(){const s=o.CHM(t).$implicit,a=o.oxw();return o.KtG(a.selectFromRanges(s))}),o._uU(1),o.qZA()}if(2&n){const t=e.$implicit,i=o.oxw();o.ekj("selected",t.value===i.selectedRange),o.xp6(1),o.hij(" ",t.label," ")}}function Alt(n,e){1&n&&o._UZ(0,"bs-current-date",4)}function Hlt(n,e){1&n&&o._UZ(0,"bs-timepicker")}const Llt=[[["bs-datepicker-navigation-view"]],"*"],Elt=["bs-datepicker-navigation-view","*"],Vlt=["bsDatepickerDayDecorator",""];function Ilt(n,e){if(1&n){const t=o.EpF();o.ynx(0),o._uU(1," \u200b "),o.TgZ(2,"button",2),o.NdJ("click",function(){o.CHM(t);const r=o.oxw();return o.KtG(r.view("month"))}),o.TgZ(3,"span"),o._uU(4),o.qZA()(),o.BQk()}if(2&n){const t=o.oxw();o.xp6(2),o.Q6J("disabled",t.isDisabled),o.xp6(2),o.Oqu(t.calendar.monthTitle)}}function Nlt(n,e){1&n&&o._UZ(0,"th")}function Plt(n,e){if(1&n&&(o.TgZ(0,"th",5),o._uU(1),o.qZA()),2&n){const t=e.index,i=o.oxw();o.xp6(1),o.hij("",i.calendar.weekdays[t]," ")}}function Rlt(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"span",11),o.NdJ("click",function(){o.CHM(t);const r=o.oxw(2).$implicit,s=o.oxw();return o.KtG(s.selectWeek(r))}),o._uU(1),o.qZA()}if(2&n){const t=o.oxw(2).index,i=o.oxw();o.xp6(1),o.Oqu(i.calendar.weekNumbers[t])}}function Olt(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"span",12),o.NdJ("click",function(){o.CHM(t);const r=o.oxw(2).$implicit,s=o.oxw();return o.KtG(s.selectWeek(r))})("mouseenter",function(){o.CHM(t);const r=o.oxw(2).$implicit,s=o.oxw();return o.KtG(s.weekHoverHandler(r,!0))})("mouseleave",function(){o.CHM(t);const r=o.oxw(2).$implicit,s=o.oxw();return o.KtG(s.weekHoverHandler(r,!1))}),o._uU(1),o.qZA()}if(2&n){const t=o.oxw(2).index,i=o.oxw();o.xp6(1),o.Oqu(i.calendar.weekNumbers[t])}}function Flt(n,e){if(1&n&&(o.TgZ(0,"td",8),o.YNc(1,Rlt,2,1,"span",9),o.YNc(2,Olt,2,1,"span",10),o.qZA()),2&n){const t=o.oxw(2);o.ekj("active-week",t.isWeekHovered),o.xp6(1),o.Q6J("ngIf",t.isiOS),o.xp6(1),o.Q6J("ngIf",!t.isiOS)}}function Blt(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"span",17),o.NdJ("click",function(){o.CHM(t);const r=o.oxw().$implicit,s=o.oxw(2);return o.KtG(s.selectDay(r))})("mouseenter",function(){o.CHM(t);const r=o.oxw().$implicit,s=o.oxw(2);return o.KtG(s.hoverDay(r,!0))})("mouseleave",function(){o.CHM(t);const r=o.oxw().$implicit,s=o.oxw(2);return o.KtG(s.hoverDay(r,!1))}),o._uU(1),o.qZA()}if(2&n){const t=o.oxw().$implicit;o.s9C("tooltip",t.tooltipText),o.Q6J("day",t),o.xp6(1),o.hij("",t.label," 3")}}function Ult(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"span",18),o.NdJ("click",function(){o.CHM(t);const r=o.oxw().$implicit,s=o.oxw(2);return o.KtG(s.selectDay(r))})("mouseenter",function(){o.CHM(t);const r=o.oxw().$implicit,s=o.oxw(2);return o.KtG(s.hoverDay(r,!0))})("mouseleave",function(){o.CHM(t);const r=o.oxw().$implicit,s=o.oxw(2);return o.KtG(s.hoverDay(r,!1))}),o._uU(1),o.qZA()}if(2&n){const t=o.oxw().$implicit;o.Q6J("day",t),o.xp6(1),o.hij("",t.label," 2")}}function jlt(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"span",19),o.NdJ("click",function(){o.CHM(t);const r=o.oxw().$implicit,s=o.oxw(2);return o.KtG(s.selectDay(r))}),o._uU(1),o.qZA()}if(2&n){const t=o.oxw().$implicit;o.Q6J("day",t),o.xp6(1),o.hij("",t.label," 1")}}function Wlt(n,e){if(1&n&&(o.TgZ(0,"td",13),o.YNc(1,Blt,2,3,"span",14),o.YNc(2,Ult,2,2,"span",15),o.YNc(3,jlt,2,2,"span",16),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngIf",!t.isiOS&&t.isShowTooltip),o.xp6(1),o.Q6J("ngIf",!t.isiOS&&!t.isShowTooltip),o.xp6(1),o.Q6J("ngIf",t.isiOS)}}function Ylt(n,e){if(1&n&&(o.TgZ(0,"tr"),o.YNc(1,Flt,3,4,"td",6),o.YNc(2,Wlt,4,3,"td",7),o.qZA()),2&n){const t=e.$implicit,i=o.oxw();o.xp6(1),o.Q6J("ngIf",i.options&&i.options.showWeekNumbers),o.xp6(1),o.Q6J("ngForOf",t.days)}}function qlt(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"td",4),o.NdJ("click",function(){const s=o.CHM(t).$implicit,a=o.oxw(2);return o.KtG(a.viewMonth(s))})("mouseenter",function(){const s=o.CHM(t).$implicit,a=o.oxw(2);return o.KtG(a.hoverMonth(s,!0))})("mouseleave",function(){const s=o.CHM(t).$implicit,a=o.oxw(2);return o.KtG(a.hoverMonth(s,!1))}),o.TgZ(1,"span"),o._uU(2),o.qZA()()}if(2&n){const t=e.$implicit;o.ekj("disabled",t.isDisabled)("is-highlighted",t.isHovered),o.xp6(1),o.ekj("selected",t.isSelected),o.xp6(1),o.Oqu(t.label)}}function Glt(n,e){if(1&n&&(o.TgZ(0,"tr"),o.YNc(1,qlt,3,7,"td",3),o.qZA()),2&n){const t=e.$implicit;o.xp6(1),o.Q6J("ngForOf",t)}}function $lt(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"td",4),o.NdJ("click",function(){const s=o.CHM(t).$implicit,a=o.oxw(2);return o.KtG(a.viewYear(s))})("mouseenter",function(){const s=o.CHM(t).$implicit,a=o.oxw(2);return o.KtG(a.hoverYear(s,!0))})("mouseleave",function(){const s=o.CHM(t).$implicit,a=o.oxw(2);return o.KtG(a.hoverYear(s,!1))}),o.TgZ(1,"span"),o._uU(2),o.qZA()()}if(2&n){const t=e.$implicit;o.ekj("disabled",t.isDisabled)("is-highlighted",t.isHovered),o.xp6(1),o.ekj("selected",t.isSelected),o.xp6(1),o.Oqu(t.label)}}function Zlt(n,e){if(1&n&&(o.TgZ(0,"tr"),o.YNc(1,$lt,3,7,"td",3),o.qZA()),2&n){const t=e.$implicit;o.xp6(1),o.Q6J("ngForOf",t)}}const lre=["startTP"];function Klt(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"bs-days-calendar-view",11),o.NdJ("onNavigate",function(r){o.CHM(t);const s=o.oxw(3);return o.KtG(s.navigateTo(r))})("onViewMode",function(r){o.CHM(t);const s=o.oxw(3);return o.KtG(s.setViewMode(r))})("onHover",function(r){o.CHM(t);const s=o.oxw(3);return o.KtG(s.dayHoverHandler(r))})("onHoverWeek",function(r){o.CHM(t);const s=o.oxw(3);return o.KtG(s.weekHoverHandler(r))})("onSelect",function(r){o.CHM(t);const s=o.oxw(3);return o.KtG(s.daySelectHandler(r))}),o.ALo(1,"async"),o.qZA()}if(2&n){const t=e.$implicit,i=o.oxw(3);o.ekj("bs-datepicker-multiple",i.multipleCalendars),o.Q6J("calendar",t)("isDisabled",i.isDatePickerDisabled)("options",o.lcZ(1,5,i.options$))}}function Qlt(n,e){if(1&n&&o._UZ(0,"timepicker",13,16),2&n){const t=o.oxw(4);o.Q6J("disabled",t.isDatePickerDisabled)}}function Jlt(n,e){if(1&n&&(o.TgZ(0,"div",12),o._UZ(1,"timepicker",13,14),o.YNc(3,Qlt,2,1,"timepicker",15),o.qZA()),2&n){const t=o.oxw(3);o.xp6(1),o.Q6J("disabled",t.isDatePickerDisabled),o.xp6(2),o.Q6J("ngIf",t.isRangePicker)}}function Xlt(n,e){if(1&n&&(o.ynx(0),o.TgZ(1,"div",8),o.YNc(2,Klt,2,7,"bs-days-calendar-view",9),o.ALo(3,"async"),o.qZA(),o.YNc(4,Jlt,4,2,"div",10),o.BQk()),2&n){const t=o.oxw(2);o.xp6(2),o.Q6J("ngForOf",o.lcZ(3,2,t.daysCalendar$)),o.xp6(2),o.Q6J("ngIf",t.withTimepicker)}}function e8t(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"bs-month-calendar-view",18),o.NdJ("onNavigate",function(r){o.CHM(t);const s=o.oxw(3);return o.KtG(s.navigateTo(r))})("onViewMode",function(r){o.CHM(t);const s=o.oxw(3);return o.KtG(s.setViewMode(r))})("onHover",function(r){o.CHM(t);const s=o.oxw(3);return o.KtG(s.monthHoverHandler(r))})("onSelect",function(r){o.CHM(t);const s=o.oxw(3);return o.KtG(s.monthSelectHandler(r))}),o.qZA()}if(2&n){const t=e.$implicit,i=o.oxw(3);o.ekj("bs-datepicker-multiple",i.multipleCalendars),o.Q6J("calendar",t)}}function t8t(n,e){if(1&n&&(o.TgZ(0,"div",8),o.YNc(1,e8t,1,3,"bs-month-calendar-view",17),o.ALo(2,"async"),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngForOf",o.lcZ(2,1,t.monthsCalendar))}}function n8t(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"bs-years-calendar-view",18),o.NdJ("onNavigate",function(r){o.CHM(t);const s=o.oxw(3);return o.KtG(s.navigateTo(r))})("onViewMode",function(r){o.CHM(t);const s=o.oxw(3);return o.KtG(s.setViewMode(r))})("onHover",function(r){o.CHM(t);const s=o.oxw(3);return o.KtG(s.yearHoverHandler(r))})("onSelect",function(r){o.CHM(t);const s=o.oxw(3);return o.KtG(s.yearSelectHandler(r))}),o.qZA()}if(2&n){const t=e.$implicit,i=o.oxw(3);o.ekj("bs-datepicker-multiple",i.multipleCalendars),o.Q6J("calendar",t)}}function i8t(n,e){if(1&n&&(o.TgZ(0,"div",8),o.YNc(1,n8t,1,3,"bs-years-calendar-view",17),o.ALo(2,"async"),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngForOf",o.lcZ(2,1,t.yearsCalendar))}}function r8t(n,e){1&n&&(o.TgZ(0,"div",19)(1,"button",20),o._uU(2,"Apply"),o.qZA(),o.TgZ(3,"button",21),o._uU(4,"Cancel"),o.qZA()())}function s8t(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",24)(1,"button",25),o.NdJ("click",function(){o.CHM(t);const r=o.oxw(3);return o.KtG(r.setToday())}),o._uU(2),o.qZA()()}if(2&n){const t=o.oxw(3);o.ekj("today-left","left"===t.todayPos)("today-right","right"===t.todayPos)("today-center","center"===t.todayPos),o.xp6(2),o.Oqu(t.todayBtnLbl)}}function o8t(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",26)(1,"button",25),o.NdJ("click",function(){o.CHM(t);const r=o.oxw(3);return o.KtG(r.clearDate())}),o._uU(2),o.qZA()()}if(2&n){const t=o.oxw(3);o.ekj("clear-left","left"===t.clearPos)("clear-right","right"===t.clearPos)("clear-center","center"===t.clearPos),o.xp6(2),o.Oqu(t.clearBtnLbl)}}function a8t(n,e){if(1&n&&(o.TgZ(0,"div",19),o.YNc(1,s8t,3,7,"div",22),o.YNc(2,o8t,3,7,"div",23),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngIf",t.showTodayBtn),o.xp6(1),o.Q6J("ngIf",t.showClearBtn)}}function c8t(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",27)(1,"bs-custom-date-view",28),o.NdJ("onSelect",function(r){o.CHM(t);const s=o.oxw(2);return o.KtG(s.setRangeOnCalendar(r))}),o.qZA()()}if(2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("selectedRange",t.chosenRange)("ranges",t.customRanges)("customRangeLabel",t.customRangeBtnLbl)}}function l8t(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",1)(1,"div",2),o.NdJ("@datepickerAnimation.done",function(){o.CHM(t);const r=o.oxw();return o.KtG(r.positionServiceEnable())}),o.TgZ(2,"div",3),o.ALo(3,"async"),o.YNc(4,Xlt,5,4,"ng-container",4),o.YNc(5,t8t,3,3,"div",5),o.YNc(6,i8t,3,3,"div",5),o.qZA(),o.YNc(7,r8t,5,0,"div",6),o.YNc(8,a8t,3,2,"div",6),o.qZA(),o.YNc(9,c8t,2,3,"div",7),o.qZA()}if(2&n){const t=o.oxw();o.Q6J("ngClass",t.containerClass),o.xp6(1),o.Q6J("@datepickerAnimation",t.animationState),o.xp6(1),o.Q6J("ngSwitch",o.lcZ(3,9,t.viewMode)),o.xp6(2),o.Q6J("ngSwitchCase","day"),o.xp6(1),o.Q6J("ngSwitchCase","month"),o.xp6(1),o.Q6J("ngSwitchCase","year"),o.xp6(1),o.Q6J("ngIf",!1),o.xp6(1),o.Q6J("ngIf",t.showTodayBtn||t.showClearBtn),o.xp6(1),o.Q6J("ngIf",t.customRanges&&t.customRanges.length>0)}}const w8t=["endTP"];function x8t(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"bs-days-calendar-view",11),o.NdJ("onNavigate",function(r){o.CHM(t);const s=o.oxw(3);return o.KtG(s.navigateTo(r))})("onViewMode",function(r){o.CHM(t);const s=o.oxw(3);return o.KtG(s.setViewMode(r))})("onHover",function(r){o.CHM(t);const s=o.oxw(3);return o.KtG(s.dayHoverHandler(r))})("onHoverWeek",function(r){o.CHM(t);const s=o.oxw(3);return o.KtG(s.weekHoverHandler(r))})("onSelect",function(r){o.CHM(t);const s=o.oxw(3);return o.KtG(s.daySelectHandler(r))}),o.ALo(1,"async"),o.qZA()}if(2&n){const t=e.$implicit,i=o.oxw(3);o.ekj("bs-datepicker-multiple",i.multipleCalendars),o.Q6J("calendar",t)("isDisabled",i.isDatePickerDisabled)("options",o.lcZ(1,5,i.options$))}}function S8t(n,e){if(1&n&&o._UZ(0,"timepicker",13,16),2&n){const t=o.oxw(4);o.Q6J("disabled",t.isDatePickerDisabled)}}function T8t(n,e){if(1&n&&(o.TgZ(0,"div",12),o._UZ(1,"timepicker",13,14),o.YNc(3,S8t,2,1,"timepicker",15),o.qZA()),2&n){const t=o.oxw(3);o.xp6(1),o.Q6J("disabled",t.isDatePickerDisabled),o.xp6(2),o.Q6J("ngIf",t.isRangePicker)}}function D8t(n,e){if(1&n&&(o.ynx(0),o.TgZ(1,"div",8),o.YNc(2,x8t,2,7,"bs-days-calendar-view",9),o.ALo(3,"async"),o.qZA(),o.YNc(4,T8t,4,2,"div",10),o.BQk()),2&n){const t=o.oxw(2);o.xp6(2),o.Q6J("ngForOf",o.lcZ(3,2,t.daysCalendar$)),o.xp6(2),o.Q6J("ngIf",t.withTimepicker)}}function k8t(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"bs-month-calendar-view",18),o.NdJ("onNavigate",function(r){o.CHM(t);const s=o.oxw(3);return o.KtG(s.navigateTo(r))})("onViewMode",function(r){o.CHM(t);const s=o.oxw(3);return o.KtG(s.setViewMode(r))})("onHover",function(r){o.CHM(t);const s=o.oxw(3);return o.KtG(s.monthHoverHandler(r))})("onSelect",function(r){o.CHM(t);const s=o.oxw(3);return o.KtG(s.monthSelectHandler(r))}),o.qZA()}if(2&n){const t=e.$implicit,i=o.oxw(3);o.ekj("bs-datepicker-multiple",i.multipleCalendars),o.Q6J("calendar",t)}}function z8t(n,e){if(1&n&&(o.TgZ(0,"div",8),o.YNc(1,k8t,1,3,"bs-month-calendar-view",17),o.ALo(2,"async"),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngForOf",o.lcZ(2,1,t.monthsCalendar))}}function A8t(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"bs-years-calendar-view",18),o.NdJ("onNavigate",function(r){o.CHM(t);const s=o.oxw(3);return o.KtG(s.navigateTo(r))})("onViewMode",function(r){o.CHM(t);const s=o.oxw(3);return o.KtG(s.setViewMode(r))})("onHover",function(r){o.CHM(t);const s=o.oxw(3);return o.KtG(s.yearHoverHandler(r))})("onSelect",function(r){o.CHM(t);const s=o.oxw(3);return o.KtG(s.yearSelectHandler(r))}),o.qZA()}if(2&n){const t=e.$implicit,i=o.oxw(3);o.ekj("bs-datepicker-multiple",i.multipleCalendars),o.Q6J("calendar",t)}}function H8t(n,e){if(1&n&&(o.TgZ(0,"div",8),o.YNc(1,A8t,1,3,"bs-years-calendar-view",17),o.ALo(2,"async"),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngForOf",o.lcZ(2,1,t.yearsCalendar))}}function L8t(n,e){1&n&&(o.TgZ(0,"div",19)(1,"button",20),o._uU(2,"Apply"),o.qZA(),o.TgZ(3,"button",21),o._uU(4,"Cancel"),o.qZA()())}function E8t(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",24)(1,"button",25),o.NdJ("click",function(){o.CHM(t);const r=o.oxw(3);return o.KtG(r.setToday())}),o._uU(2),o.qZA()()}if(2&n){const t=o.oxw(3);o.ekj("today-left","left"===t.todayPos)("today-right","right"===t.todayPos)("today-center","center"===t.todayPos),o.xp6(2),o.Oqu(t.todayBtnLbl)}}function V8t(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",26)(1,"button",25),o.NdJ("click",function(){o.CHM(t);const r=o.oxw(3);return o.KtG(r.clearDate())}),o._uU(2),o.qZA()()}if(2&n){const t=o.oxw(3);o.ekj("clear-left","left"===t.clearPos)("clear-right","right"===t.clearPos)("clear-center","center"===t.clearPos),o.xp6(2),o.Oqu(t.clearBtnLbl)}}function I8t(n,e){if(1&n&&(o.TgZ(0,"div",19),o.YNc(1,E8t,3,7,"div",22),o.YNc(2,V8t,3,7,"div",23),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngIf",t.showTodayBtn),o.xp6(1),o.Q6J("ngIf",t.showClearBtn)}}function N8t(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",27)(1,"bs-custom-date-view",28),o.NdJ("onSelect",function(r){o.CHM(t);const s=o.oxw(2);return o.KtG(s.setRangeOnCalendar(r))}),o.qZA()()}if(2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("selectedRange",t.chosenRange)("ranges",t.customRanges)("customRangeLabel",t.customRangeBtnLbl)}}function P8t(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",1)(1,"div",2),o.NdJ("@datepickerAnimation.done",function(){o.CHM(t);const r=o.oxw();return o.KtG(r.positionServiceEnable())}),o.TgZ(2,"div",3),o.ALo(3,"async"),o.YNc(4,D8t,5,4,"ng-container",4),o.YNc(5,z8t,3,3,"div",5),o.YNc(6,H8t,3,3,"div",5),o.qZA(),o.YNc(7,L8t,5,0,"div",6),o.YNc(8,I8t,3,2,"div",6),o.qZA(),o.YNc(9,N8t,2,3,"div",7),o.qZA()}if(2&n){const t=o.oxw();o.Q6J("ngClass",t.containerClass),o.xp6(1),o.Q6J("@datepickerAnimation",t.animationState),o.xp6(1),o.Q6J("ngSwitch",o.lcZ(3,9,t.viewMode)),o.xp6(2),o.Q6J("ngSwitchCase","day"),o.xp6(1),o.Q6J("ngSwitchCase","month"),o.xp6(1),o.Q6J("ngSwitchCase","year"),o.xp6(1),o.Q6J("ngIf",!1),o.xp6(1),o.Q6J("ngIf",t.showTodayBtn||t.showClearBtn),o.xp6(1),o.Q6J("ngIf",t.customRanges&&t.customRanges.length>0)}}let Tc=(()=>{class n{constructor(){this.adaptivePosition=!1,this.useUtc=!1,this.isAnimated=!1,this.startView="day",this.returnFocusToInput=!1,this.containerClass="theme-green",this.displayMonths=1,this.showWeekNumbers=!0,this.dateInputFormat="L",this.rangeSeparator=" - ",this.rangeInputFormat="L",this.monthTitle="MMMM",this.yearTitle="YYYY",this.dayLabel="D",this.monthLabel="MMMM",this.yearLabel="YYYY",this.weekNumbers="w",this.showTodayButton=!1,this.showClearButton=!1,this.todayPosition="center",this.clearPosition="right",this.todayButtonLabel="Today",this.clearButtonLabel="Clear",this.customRangeButtonLabel="Custom Range",this.withTimepicker=!1,this.allowedPositions=["top","bottom"],this.keepDatepickerOpened=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ure="220ms cubic-bezier(0, 0, 0.2, 1)",dre=Oa("datepickerAnimation",[Jm("animated-down",on({height:"*",overflow:"hidden"})),Y2("* => animated-down",[on({height:0,overflow:"hidden"}),r2(ure)]),Jm("animated-up",on({height:"*",overflow:"hidden"})),Y2("* => animated-up",[on({height:"*",overflow:"hidden"}),r2(ure)]),Y2("* => unanimated",r2("0s"))]);class fre{constructor(){this.containerClass="",this.customRanges=[],this.chosenRange=[],this._daysCalendarSub=new vo.w0,this.selectedTimeSub=new vo.w0}set minDate(e){this._effects?.setMinDate(e)}set maxDate(e){this._effects?.setMaxDate(e)}set daysDisabled(e){this._effects?.setDaysDisabled(e)}set datesDisabled(e){this._effects?.setDatesDisabled(e)}set datesEnabled(e){this._effects?.setDatesEnabled(e)}set isDisabled(e){this._effects?.setDisabled(e)}set dateCustomClasses(e){this._effects?.setDateCustomClasses(e)}set dateTooltipTexts(e){this._effects?.setDateTooltipTexts(e)}set daysCalendar$(e){this._daysCalendar$=e,this._daysCalendarSub.unsubscribe(),this._daysCalendarSub.add(this._daysCalendar$.subscribe(t=>{this.multipleCalendars=!!t&&t.length>1}))}get daysCalendar$(){return this._daysCalendar$}setViewMode(e){}navigateTo(e){}dayHoverHandler(e){}weekHoverHandler(e){}monthHoverHandler(e){}yearHoverHandler(e){}timeSelectHandler(e,t){}daySelectHandler(e){}monthSelectHandler(e){}yearSelectHandler(e){}setRangeOnCalendar(e){}setToday(){}clearDate(){}_stopPropagation(e){e.stopPropagation()}}let ki=(()=>{class n{calculate(){return{type:n.CALCULATE}}format(){return{type:n.FORMAT}}flag(){return{type:n.FLAG}}select(t){return{type:n.SELECT,payload:t}}selectTime(t,i){return{type:n.SELECT_TIME,payload:{date:t,index:i}}}changeViewMode(t){return{type:n.CHANGE_VIEWMODE,payload:t}}navigateTo(t){return{type:n.NAVIGATE_TO,payload:t}}navigateStep(t){return{type:n.NAVIGATE_OFFSET,payload:t}}setOptions(t){return{type:n.SET_OPTIONS,payload:t}}selectRange(t){return{type:n.SELECT_RANGE,payload:t}}hoverDay(t){return{type:n.HOVER,payload:t.isHovered?t.cell.date:null}}minDate(t){return{type:n.SET_MIN_DATE,payload:t}}maxDate(t){return{type:n.SET_MAX_DATE,payload:t}}daysDisabled(t){return{type:n.SET_DAYSDISABLED,payload:t}}datesDisabled(t){return{type:n.SET_DATESDISABLED,payload:t}}datesEnabled(t){return{type:n.SET_DATESENABLED,payload:t}}isDisabled(t){return{type:n.SET_IS_DISABLED,payload:t}}setDateCustomClasses(t){return{type:n.SET_DATE_CUSTOM_CLASSES,payload:t}}setDateTooltipTexts(t){return{type:n.SET_DATE_TOOLTIP_TEXTS,payload:t}}setLocale(t){return{type:n.SET_LOCALE,payload:t}}}return n.CALCULATE="[datepicker] calculate dates matrix",n.FORMAT="[datepicker] format datepicker values",n.FLAG="[datepicker] set flags",n.SELECT="[datepicker] select date",n.NAVIGATE_OFFSET="[datepicker] shift view date",n.NAVIGATE_TO="[datepicker] change view date",n.SET_OPTIONS="[datepicker] update render options",n.HOVER="[datepicker] hover date",n.CHANGE_VIEWMODE="[datepicker] switch view mode",n.SET_MIN_DATE="[datepicker] set min date",n.SET_MAX_DATE="[datepicker] set max date",n.SET_DAYSDISABLED="[datepicker] set days disabled",n.SET_DATESDISABLED="[datepicker] set dates disabled",n.SET_DATESENABLED="[datepicker] set dates enabled",n.SET_IS_DISABLED="[datepicker] set is disabled",n.SET_DATE_CUSTOM_CLASSES="[datepicker] set date custom classes",n.SET_DATE_TOOLTIP_TEXTS="[datepicker] set date tooltip texts",n.SET_LOCALE="[datepicker] set datepicker locale",n.SELECT_TIME="[datepicker] select time",n.SELECT_RANGE="[daterangepicker] select dates range",n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),VS=(()=>{class n{constructor(){this._defaultLocale="en",this._locale=new t2(this._defaultLocale),this._localeChange=this._locale.asObservable()}get locale(){return this._locale}get localeChange(){return this._localeChange}get currentLocale(){return this._locale.getValue()}use(t){t!==this.currentLocale&&this._locale.next(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),q_=(()=>{class n{constructor(t,i){this._actions=t,this._localeService=i,this._subs=[]}init(t){return this._store=t,this}setValue(t){this._store?.dispatch(this._actions.select(t))}setRangeValue(t){this._store?.dispatch(this._actions.selectRange(t))}setMinDate(t){return this._store?.dispatch(this._actions.minDate(t)),this}setMaxDate(t){return this._store?.dispatch(this._actions.maxDate(t)),this}setDaysDisabled(t){return this._store?.dispatch(this._actions.daysDisabled(t)),this}setDatesDisabled(t){return this._store?.dispatch(this._actions.datesDisabled(t)),this}setDatesEnabled(t){return this._store?.dispatch(this._actions.datesEnabled(t)),this}setDisabled(t){return this._store?.dispatch(this._actions.isDisabled(t)),this}setDateCustomClasses(t){return this._store?.dispatch(this._actions.setDateCustomClasses(t)),this}setDateTooltipTexts(t){return this._store?.dispatch(this._actions.setDateTooltipTexts(t)),this}setOptions(t){const i=Object.assign({locale:this._localeService.currentLocale},t);return this._store?.dispatch(this._actions.setOptions(i)),this}setBindings(t){return this._store?(t.selectedTime=this._store.select(i=>i.selectedTime).pipe(o1(i=>!!i)),t.daysCalendar$=this._store.select(i=>i.flaggedMonths).pipe(o1(i=>!!i)),t.monthsCalendar=this._store.select(i=>i.flaggedMonthsCalendar).pipe(o1(i=>!!i)),t.yearsCalendar=this._store.select(i=>i.yearsCalendarFlagged).pipe(o1(i=>!!i)),t.viewMode=this._store.select(i=>i.view?.mode),t.options$=Ps([this._store.select(i=>i.showWeekNumbers),this._store.select(i=>i.displayMonths)]).pipe((0,kt.U)(i=>({showWeekNumbers:i[0],displayMonths:i[1]}))),this):this}setEventHandlers(t){return t.setViewMode=i=>{this._store?.dispatch(this._actions.changeViewMode(i))},t.navigateTo=i=>{this._store?.dispatch(this._actions.navigateStep(i.step))},t.dayHoverHandler=i=>{const r=i.cell;r.isOtherMonth||r.isDisabled||(this._store?.dispatch(this._actions.hoverDay(i)),r.isHovered=i.isHovered)},t.monthHoverHandler=i=>{i.cell.isHovered=i.isHovered},t.yearHoverHandler=i=>{i.cell.isHovered=i.isHovered},this}registerDatepickerSideEffects(){return this._store?(this._subs.push(this._store.select(t=>t.view).subscribe(()=>{this._store?.dispatch(this._actions.calculate())})),this._subs.push(this._store.select(t=>t.monthsModel).pipe(o1(t=>!!t)).subscribe(()=>this._store?.dispatch(this._actions.format()))),this._subs.push(this._store.select(t=>t.formattedMonths).pipe(o1(t=>!!t)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(t=>t.selectedDate).pipe(o1(t=>!!t)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(t=>t.selectedRange).pipe(o1(t=>!!t)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(t=>t.monthsCalendar).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(t=>t.yearsCalendarModel).pipe(o1(t=>!!t)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(t=>t.hoveredDate).pipe(o1(t=>!!t)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(t=>t.dateCustomClasses).pipe(o1(t=>!!t)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._store.select(t=>t.dateTooltipTexts).pipe(o1(t=>!!t)).subscribe(()=>this._store?.dispatch(this._actions.flag()))),this._subs.push(this._localeService.localeChange.subscribe(t=>this._store?.dispatch(this._actions.setLocale(t)))),this):this}destroy(){for(const t of this._subs)t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(ki),o.LFG(VS))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const X8t={date:new Date,mode:"day"},hre=Object.assign(new Tc,{locale:"en",view:X8t,selectedRange:[],selectedTime:[],monthViewOptions:{width:7,height:6}});function iN(n,e,t){const i=e&&xc(wS(n,"month"),e,"day"),r=t&&Ka(v6(n,"month"),t,"day");return i||r||!1}function G_(n,e,t){const i=e&&xc(wS(n,"year"),e,"day"),r=t&&Ka(v6(n,"year"),t,"day");return i||r||!1}function rN(n,e,t){return!!(e&&N2(e)&&e.length)&&(t&&"year"===t&&!e[0].getDate()?e.some(i=>Mh(n,i,"year")):e.some(i=>Mh(n,i,"date")))}function sN(n,e,t){return!!(e&&N2(e)&&e.length)&&!e.some(i=>Mh(n,i,t||"date"))}function pre(n,e=0){const t=n&&n.yearsCalendarModel&&n.yearsCalendarModel[e];return t?.years[0]&&t.years[0][0]&&t.years[0][0].date}function n5t(n,e){return!n||!e||!n.length&&!n[0].value||n.forEach(t=>(!t||!t.value||t.value instanceof Date||!(t.value instanceof Array&&t.value.length)||(t.value=gre(t.value,e)),n)),n}function mre(n,e){return!n||!e||n instanceof Array&&!n.length||n instanceof Date?n:gre(n,e)}function gre(n,e){return n instanceof Array?n.map(i=>i&&(Ka(i,e,"date")&&(i=e),i)):n}function _re(n){return n&&yre(n)}function vre(n){return n?.length&&n.map(e=>e&&yre(e)),n}function yre(n){const e=new Date;return n.setMilliseconds(e.getMilliseconds()),n.setSeconds(e.getSeconds()),n.setMinutes(e.getMinutes()),n.setHours(e.getHours()),n}function oN(n,e){let t=n.initialDate;const i=new Array(n.height);for(let r=0;r<n.height;r++){i[r]=new Array(n.width);for(let s=0;s<n.width;s++)i[r][s]=e(t),t=nr(t,n.shift)}return i}function aN(n,e){const t=function j4t(n){return mS(n.getFullYear(),n.getMonth(),1,n.getHours(),n.getMinutes(),n.getSeconds())}(n),i=function e5t(n,e){if(function Y4t(n,e){return n.getDay()===Number(e)}(n,e.firstDayOfWeek))return n;const i=function t5t(n,e){const t=Number(e);if(isNaN(t))return 0;if(0===t)return n;const i=n-t%7;return i<0?i+7:i}(Mc(n),e.firstDayOfWeek);return nr(n,{day:-i})}(t,e);return{daysMatrix:oN({width:e.width||0,height:e.height||0,initialDate:i,shift:{day:1}},a=>a),month:t}}function r5t(n,e,t){return n.map(i=>i[0]?qo(i[0],e,t):"")}function s5t(n){const e=ji(n),t=e.weekdaysShort(),i=e.firstDayOfWeek();return[...t.slice(i),...t.slice(0,i)]}function Cre(n,e){return!e||n>=e}const c5t=4,l5t=3,u5t={month:1};function bre(n,e){const t=v6(n,"year");return{months:oN({width:l5t,height:c5t,initialDate:t,shift:u5t},s=>({date:s,label:qo(s,e.monthLabel,e.locale)})),monthTitle:"",yearTitle:qo(n,e.yearTitle,e.locale),hideRightArrow:!1,hideLeftArrow:!1,disableRightArrow:!1,disableLeftArrow:!1}}const cN=4,lN=4,IS=cN*lN,Mre=-1*(Math.floor(IS/2)-1),f5t={year:1};function wre(n,e,t){const i=function h5t(n,e){return e&&n.getFullYear()>=e.getFullYear()&&n.getFullYear()<e.getFullYear()+IS?e:nr(n,{year:Mre})}(n,t),s=oN({width:lN,height:cN,initialDate:i,shift:f5t},c=>({date:c,label:qo(c,e.yearLabel,e.locale)})),a=function p5t(n,e){return`${qo(n[0][0].date,e.yearTitle,e.locale)} - ${qo(n[cN-1][lN-1].date,e.yearTitle,e.locale)}`}(s,e);return{years:s,monthTitle:"",yearTitle:a,hideLeftArrow:!1,hideRightArrow:!1,disableLeftArrow:!1,disableRightArrow:!1}}function uN(n,e){!n||!isNaN(n.getTime())||(n.setHours(e.getHours()),n.setMinutes(e.getMinutes()),n.setSeconds(e.getSeconds()),n.setMilliseconds(e.getMilliseconds()))}function xre(n=hre,e){switch(e.type){case ki.CALCULATE:return function g5t(n){if(!n.view)return n;let e;e=n.displayOneMonthRange&&Sre(n.view.date,n.minDate,n.maxDate)?1:n.displayMonths||1;let t=n.view.date;if("day"===n.view.mode&&n.monthViewOptions){n.showPreviousMonth&&n.selectedRange&&0===n.selectedRange.length&&(t=nr(t,{month:-1})),n.monthViewOptions.firstDayOfWeek=ji(n.locale).firstDayOfWeek();let i=new Array(e);for(let r=0;r<e;r++)i[r]=aN(t,n.monthViewOptions),t=nr(t,{month:1});if(n.preventChangeToNextMonth&&n.flaggedMonths&&n.hoveredDate){const r=aN(n.view.date,n.monthViewOptions);n.flaggedMonths.length&&n.flaggedMonths[1].month.getMonth()===r.month.getMonth()&&(i=n.flaggedMonths.map(s=>n.monthViewOptions?aN(s.month,n.monthViewOptions):null).filter(s=>null!==s))}return Object.assign({},n,{monthsModel:i})}if("month"===n.view.mode){const i=new Array(e);for(let r=0;r<e;r++)i[r]=bre(t,$_(n)),t=nr(t,{year:1});return Object.assign({},n,{monthsCalendar:i})}if("year"===n.view.mode){const i=new Array(e);for(let r=0;r<e;r++)i[r]=wre(t,$_(n),"year"===n.minMode?pre(n,r):void 0),t=nr(t,{year:IS});return Object.assign({},n,{yearsCalendarModel:i})}return n}(n);case ki.FORMAT:return function _5t(n){if(!n.view)return n;if("day"===n.view.mode&&n.monthsModel){const i=n.monthsModel.map((r,s)=>function i5t(n,e,t){return{month:n.month,monthTitle:qo(n.month,e.monthTitle,e.locale),yearTitle:qo(n.month,e.yearTitle,e.locale),weekNumbers:r5t(n.daysMatrix,e.weekNumbers,e.locale),weekdays:s5t(e.locale),weeks:n.daysMatrix.map((i,r)=>({days:i.map((s,a)=>({date:s,label:qo(s,e.dayLabel,e.locale),monthIndex:t,weekIndex:r,dayIndex:a}))})),hideLeftArrow:!1,hideRightArrow:!1,disableLeftArrow:!1,disableRightArrow:!1}}(r,$_(n),s));return Object.assign({},n,{formattedMonths:i})}const e=n.displayMonths||1;let t=n.view.date;if("month"===n.view.mode){const i=new Array(e);for(let r=0;r<e;r++)i[r]=bre(t,$_(n)),t=nr(t,{year:1});return Object.assign({},n,{monthsCalendar:i})}if("year"===n.view.mode){const i=new Array(e);for(let r=0;r<e;r++)i[r]=wre(t,$_(n)),t=nr(t,{year:16});return Object.assign({},n,{yearsCalendarModel:i})}return n}(n);case ki.FLAG:return function v5t(n){if(!n.view)return n;const e=Sre(n.view.date,n.minDate,n.maxDate)?1:n.displayMonths;if(n.formattedMonths&&"day"===n.view.mode){const t=n.formattedMonths.map((i,r)=>function o5t(n,e){return n.weeks.forEach(t=>{t.days.forEach((i,r)=>{const s=!_h(i.date,n.month),a=!s&&kl(i.date,e.hoveredDate),c=!s&&e.selectedRange&&kl(i.date,e.selectedRange[0]),d=!s&&e.selectedRange&&kl(i.date,e.selectedRange[1]),h=!s&&kl(i.date,e.selectedDate)||c||d,g=!s&&e.selectedRange&&function a5t(n,e,t){return!!(n&&e&&e[0])&&(e[1]?n>e[0]&&n<=e[1]:!!t&&n>e[0]&&n<=t)}(i.date,e.selectedRange,e.hoveredDate),y=e.isDisabled||xc(i.date,e.minDate,"day")||Ka(i.date,e.maxDate,"day")||function h0t(n,e){return!(typeof e>"u"||!e||!e.length)&&e.some(t=>t===n.getDay())}(i.date,e.daysDisabled)||rN(i.date,e.datesDisabled)||sN(i.date,e.datesEnabled),S=!s&&kl(i.date,new Date),k=e.dateCustomClasses&&e.dateCustomClasses.map(B=>kl(i.date,B.date)?B.classes:[]).reduce((B,G)=>B.concat(G),[]).join(" ")||"",A=e.dateTooltipTexts&&e.dateTooltipTexts.map(B=>kl(i.date,B.date)?B.tooltipText:"").reduce((B,G)=>(B.push(G),B),[]).join(" ")||"",L=Object.assign({},i,{isOtherMonth:s,isHovered:a,isSelected:h,isSelectionStart:c,isSelectionEnd:d,isInRange:g,isDisabled:y,isToday:S,customClasses:k,tooltipText:A});(i.isOtherMonth!==L.isOtherMonth||i.isHovered!==L.isHovered||i.isSelected!==L.isSelected||i.isSelectionStart!==L.isSelectionStart||i.isSelectionEnd!==L.isSelectionEnd||i.isDisabled!==L.isDisabled||i.isInRange!==L.isInRange||i.customClasses!==L.customClasses||i.tooltipText!==L.tooltipText)&&(t.days[r]=L)})}),n.hideLeftArrow=e.isDisabled||!!e.monthIndex&&e.monthIndex>0&&e.monthIndex!==e.displayMonths,n.hideRightArrow=e.isDisabled||(!!e.monthIndex||0===e.monthIndex)&&!!e.displayMonths&&e.monthIndex<e.displayMonths&&e.monthIndex+1!==e.displayMonths,n.disableLeftArrow=iN(nr(n.month,{month:-1}),e.minDate,e.maxDate),n.disableRightArrow=iN(nr(n.month,{month:1}),e.minDate,e.maxDate),n}(i,{isDisabled:n.isDisabled,minDate:n.minDate,maxDate:n.maxDate,daysDisabled:n.daysDisabled,datesDisabled:n.datesDisabled,datesEnabled:n.datesEnabled,hoveredDate:n.hoveredDate,selectedDate:n.selectedDate,selectedRange:n.selectedRange,displayMonths:e,dateCustomClasses:n.dateCustomClasses,dateTooltipTexts:n.dateTooltipTexts,monthIndex:r}));return Object.assign({},n,{flaggedMonths:t})}if("month"===n.view.mode&&n.monthsCalendar){const t=n.monthsCalendar.map((i,r)=>function d5t(n,e){return n.months.forEach((t,i)=>{t.forEach((r,s)=>{let a;const c=_h(r.date,e.hoveredMonth),d=e.isDisabled||rN(r.date,e.datesDisabled)||sN(r.date,e.datesEnabled,"month")||iN(r.date,e.minDate,e.maxDate);!e.selectedDate&&e.selectedRange?(a=_h(r.date,e.selectedRange[0]),a||(a=_h(r.date,e.selectedRange[1]))):a=_h(r.date,e.selectedDate);const h=Object.assign(r,{isHovered:c,isDisabled:d,isSelected:a});(r.isHovered!==h.isHovered||r.isDisabled!==h.isDisabled||r.isSelected!==h.isSelected)&&(n.months[i][s]=h)})}),n.hideLeftArrow=!!e.monthIndex&&e.monthIndex>0&&e.monthIndex!==e.displayMonths,n.hideRightArrow=(!!e.monthIndex||0===e.monthIndex)&&(!!e.displayMonths||0===e.displayMonths)&&e.monthIndex<e.displayMonths&&e.monthIndex+1!==e.displayMonths,n.disableLeftArrow=G_(nr(n.months[0][0].date,{year:-1}),e.minDate,e.maxDate),n.disableRightArrow=G_(nr(n.months[0][0].date,{year:1}),e.minDate,e.maxDate),n}(i,{isDisabled:n.isDisabled,minDate:n.minDate,maxDate:n.maxDate,hoveredMonth:n.hoveredMonth,selectedDate:n.selectedDate,datesDisabled:n.datesDisabled,datesEnabled:n.datesEnabled,selectedRange:n.selectedRange,displayMonths:e,monthIndex:r}));return Object.assign({},n,{flaggedMonthsCalendar:t})}if("year"===n.view.mode&&n.yearsCalendarModel){const t=n.yearsCalendarModel.map((i,r)=>function m5t(n,e){n.years.forEach((r,s)=>{r.forEach((a,c)=>{let d;const h=vh(a.date,e.hoveredYear),g=e.isDisabled||rN(a.date,e.datesDisabled,"year")||sN(a.date,e.datesEnabled,"year")||G_(a.date,e.minDate,e.maxDate);!e.selectedDate&&e.selectedRange?(d=vh(a.date,e.selectedRange[0]),d||(d=vh(a.date,e.selectedRange[1]))):d=vh(a.date,e.selectedDate);const y=Object.assign(a,{isHovered:h,isDisabled:g,isSelected:d});(a.isHovered!==y.isHovered||a.isDisabled!==y.isDisabled||a.isSelected!==y.isSelected)&&(n.years[s][c]=y)})}),n.hideLeftArrow=!!e.yearIndex&&e.yearIndex>0&&e.yearIndex!==e.displayMonths,n.hideRightArrow=!!e.yearIndex&&!!e.displayMonths&&e.yearIndex<e.displayMonths&&e.yearIndex+1!==e.displayMonths,n.disableLeftArrow=G_(nr(n.years[0][0].date,{year:-1}),e.minDate,e.maxDate);const t=n.years.length-1;return n.disableRightArrow=G_(nr(n.years[t][n.years[t].length-1].date,{year:1}),e.minDate,e.maxDate),n}(i,{isDisabled:n.isDisabled,minDate:n.minDate,maxDate:n.maxDate,hoveredYear:n.hoveredYear,selectedDate:n.selectedDate,datesDisabled:n.datesDisabled,datesEnabled:n.datesEnabled,selectedRange:n.selectedRange,displayMonths:e,yearIndex:r}));return Object.assign({},n,{yearsCalendarFlagged:t})}return n}(n);case ki.NAVIGATE_OFFSET:return function y5t(n,e){if(!n.view)return n;const t=function C5t(n,e){if(n.view){if("year"===n.view.mode&&"year"===n.minMode){const t=pre(n,0);if(t){const i=nr(t,{year:-Mre});return nr(i,e.payload)}}return nr(v6(n.view.date,"month"),e.payload)}}(n,e);if(!t)return n;return Object.assign({},n,{view:{mode:n.view.mode,date:t}})}(n,e);case ki.NAVIGATE_TO:{const t=e.payload;if(!n.view||!t.unit)return n;const i=function r6t(n,e){return mS(yh(n.getFullYear(),e.year),yh(n.getMonth(),e.month),1,yh(n.getHours(),e.hour),yh(n.getMinutes(),e.minute),yh(n.getSeconds(),e.seconds),yh(n.getMilliseconds(),e.milliseconds))}(n.view.date,t.unit);let r,s;return Cre(t.viewMode,n.minMode)?(s=t.viewMode,r={view:{date:i,mode:s}}):(s=n.view.mode,r={selectedDate:i,view:{date:i,mode:s}}),Object.assign({},n,r)}case ki.CHANGE_VIEWMODE:return Cre(e.payload,n.minMode)&&n.view?Object.assign({},n,{view:{date:n.view.date,mode:e.payload}}):n;case ki.HOVER:return Object.assign({},n,{hoveredDate:e.payload});case ki.SELECT:{if(!n.view)return n;const t={selectedDate:e.payload,view:n.view};if(Array.isArray(n.selectedTime)){const a=n.selectedTime[0];t.selectedDate&&a&&uN(t.selectedDate,a)}const i=n.view.mode,s=dN(e.payload||n.view.date,n.minDate,n.maxDate);return t.view={mode:i,date:s},Object.assign({},n,t)}case ki.SELECT_TIME:{const{date:t,index:i}=e.payload,r=n.selectedTime?[...n.selectedTime]:[];return r[i]=t,Object.assign({},n,{selectedTime:r})}case ki.SET_OPTIONS:{if(!n.view)return n;const t=e.payload,i=t.minMode?t.minMode:n.view.mode,s=dN(Dl(t.value)&&t.value||N2(t.value)&&Dl(t.value[0])&&t.value[0]||n.view.date,t.minDate,t.maxDate);return t.view={mode:i,date:s},t.value&&(N2(t.value)&&(t.selectedRange=t.value,t.selectedTime=t.value.map(a=>a)),t.value instanceof Date&&(t.selectedDate=t.value,t.selectedTime=[t.value])),Object.assign({},n,t)}case ki.SELECT_RANGE:{if(!n.view)return n;const t={selectedRange:e.payload,view:n.view};t.selectedRange?.forEach((a,c)=>{if(Array.isArray(n.selectedTime)){const d=n.selectedTime[c];d&&uN(a,d)}});const i=n.view.mode,s=dN(e.payload&&e.payload[0]||n.view.date,n.minDate,n.maxDate);return t.view={mode:i,date:s},Object.assign({},n,t)}case ki.SET_MIN_DATE:return Object.assign({},n,{minDate:e.payload});case ki.SET_MAX_DATE:return Object.assign({},n,{maxDate:e.payload});case ki.SET_IS_DISABLED:return Object.assign({},n,{isDisabled:e.payload});case ki.SET_DATE_CUSTOM_CLASSES:return Object.assign({},n,{dateCustomClasses:e.payload});case ki.SET_DATE_TOOLTIP_TEXTS:return Object.assign({},n,{dateTooltipTexts:e.payload});default:return n}}function $_(n){return{locale:n.locale,monthTitle:n.monthTitle,yearTitle:n.yearTitle,dayLabel:n.dayLabel,monthLabel:n.monthLabel,yearLabel:n.yearLabel,weekNumbers:n.weekNumbers}}function dN(n,e,t){const i=Array.isArray(n)?n[0]:n;return e&&Ka(e,i,"day")?e:t&&xc(t,i,"day")?t:i}function Sre(n,e,t){return!(!t||!Mh(t,n,"day"))||e&&t&&e.getMonth()===t.getMonth()}let Z_=(()=>{class n extends AS{constructor(){const t=new t2({type:"[datepicker] dispatcher init"});super(t,xre,new $ie(hre,t,xre))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Tre=(()=>{class n{constructor(){this.onSelect=new o.vpe}selectFromRanges(t){this.onSelect.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["bs-custom-date-view"]],inputs:{ranges:"ranges",selectedRange:"selectedRange",customRangeLabel:"customRangeLabel"},outputs:{onSelect:"onSelect"},decls:2,vars:1,consts:[[1,"bs-datepicker-predefined-btns"],["type","button","class","btn",3,"selected","click",4,"ngFor","ngForOf"],["type","button",1,"btn",3,"click"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0),o.YNc(1,zlt,2,3,"button",1),o.qZA()),2&t&&(o.xp6(1),o.Q6J("ngForOf",i.ranges))},dependencies:[S1],encapsulation:2,changeDetection:0}),n})();var Ll=(()=>(function(n){n[n.UP=0]="UP",n[n.DOWN=1]="DOWN"}(Ll||(Ll={})),Ll))();let zh,b5t=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["bs-current-date"]],inputs:{title:"title"},decls:3,vars:1,consts:[[1,"current-timedate"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0)(1,"span"),o._uU(2),o.qZA()()),2&t&&(o.xp6(2),o.Oqu(i.title))},encapsulation:2}),n})(),M5t=(()=>{class n{constructor(){this.ampm="ok",this.hours=0,this.minutes=0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["bs-timepicker"]],decls:16,vars:3,consts:[[1,"bs-timepicker-container"],[1,"bs-timepicker-controls"],["type","button",1,"bs-decrease"],["type","text","placeholder","00",3,"value"],["type","button",1,"bs-increase"],["type","button",1,"switch-time-format"],["src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAKCAYAAABi8KSDAAABSElEQVQYV3XQPUvDUBQG4HNuagtVqc6KgouCv6GIuIntYBLB9hcIQpLStCAIV7DYmpTcRWcXqZio3Vwc/UCc/QEqfgyKGbr0I7nS1EiHeqYzPO/h5SD0jaxUZjmSLCB+OFb+UFINFwASAEAdpu9gaGXVyAHHFQBkHpKHc6a9dzECvADyY9sqlAMsK9W0jzxDXqeytr3mhQckxSji27TJJ5/rPmIpwJJq3HrtduriYOurv1a4i1p5HnhkG9OFymi0ReoO05cGwb+ayv4dysVygjeFmsP05f8wpZQ8fsdvfmuY9zjWSNqUtgYFVnOVReILYoBFzdQI5/GGFzNHhGbeZnopDGU29sZbscgldmC99w35VOATTycIMMcBXIfpSVGzZhA6C8hh00conln6VQ9TGgV32OEAKQC4DrBq7CJwd0ggR7Vq/rPrfgB+C3sGypY5DAAAAABJRU5ErkJggg==","alt",""]],template:function(t,i){1&t&&(o.TgZ(0,"div",0)(1,"div",1)(2,"button",2),o._uU(3,"-"),o.qZA(),o._UZ(4,"input",3),o.TgZ(5,"button",4),o._uU(6,"+"),o.qZA()(),o.TgZ(7,"div",1)(8,"button",2),o._uU(9,"-"),o.qZA(),o._UZ(10,"input",3),o.TgZ(11,"button",4),o._uU(12,"+"),o.qZA()(),o.TgZ(13,"button",5),o._uU(14),o._UZ(15,"img",6),o.qZA()()),2&t&&(o.xp6(4),o.Q6J("value",i.hours),o.xp6(6),o.Q6J("value",i.minutes),o.xp6(4),o.hij("",i.ampm," "))},encapsulation:2}),n})(),fN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["bs-calendar-layout"]],ngContentSelectors:Elt,decls:6,vars:2,consts:[["title","hey there",4,"ngIf"],[1,"bs-datepicker-head"],[1,"bs-datepicker-body"],[4,"ngIf"],["title","hey there"]],template:function(t,i){1&t&&(o.F$t(Llt),o.YNc(0,Alt,1,0,"bs-current-date",0),o.TgZ(1,"div",1),o.Hsn(2),o.qZA(),o.TgZ(3,"div",2),o.Hsn(4,1),o.qZA(),o.YNc(5,Hlt,1,0,"bs-timepicker",3)),2&t&&(o.Q6J("ngIf",!1),o.xp6(5),o.Q6J("ngIf",!1))},dependencies:[Zn,b5t,M5t],encapsulation:2}),n})(),w5t=(()=>{class n{constructor(t,i,r){this._config=t,this._elRef=i,this._renderer=r,this.day={date:new Date,label:""}}ngOnInit(){this.day?.isToday&&this._config&&this._config.customTodayClass&&this._renderer.addClass(this._elRef.nativeElement,this._config.customTodayClass),"string"==typeof this.day?.customClasses&&this.day?.customClasses.split(" ").filter(t=>t).forEach(t=>{this._renderer.addClass(this._elRef.nativeElement,t)})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Tc),o.Y36(o.SBq),o.Y36(o.Qsj))},n.\u0275cmp=o.Xpm({type:n,selectors:[["","bsDatepickerDayDecorator",""]],hostVars:16,hostBindings:function(t,i){2&t&&o.ekj("disabled",i.day.isDisabled)("is-highlighted",i.day.isHovered)("is-other-month",i.day.isOtherMonth)("is-active-other-month",i.day.isOtherMonthHovered)("in-range",i.day.isInRange)("select-start",i.day.isSelectionStart)("select-end",i.day.isSelectionEnd)("selected",i.day.isSelected)},inputs:{day:"day"},attrs:Vlt,decls:1,vars:1,template:function(t,i){1&t&&o._uU(0),2&t&&o.Oqu(i.day&&i.day.label||"")},encapsulation:2,changeDetection:0}),n})(),hN=(()=>{class n{constructor(){this.isDisabled=!1,this.onNavigate=new o.vpe,this.onViewMode=new o.vpe}navTo(t){this.onNavigate.emit(t?Ll.DOWN:Ll.UP)}view(t){this.isDisabled||this.onViewMode.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["bs-datepicker-navigation-view"]],inputs:{calendar:"calendar",isDisabled:"isDisabled"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode"},decls:12,vars:9,consts:[["type","button",1,"previous",3,"disabled","click"],[4,"ngIf"],["type","button",1,"current",3,"disabled","click"],["type","button",1,"next",3,"disabled","click"]],template:function(t,i){1&t&&(o.TgZ(0,"button",0),o.NdJ("click",function(){return i.navTo(!0)}),o.TgZ(1,"span"),o._uU(2,"\u2039"),o.qZA()(),o.YNc(3,Ilt,5,2,"ng-container",1),o._uU(4," \u200b "),o.TgZ(5,"button",2),o.NdJ("click",function(){return i.view("year")}),o.TgZ(6,"span"),o._uU(7),o.qZA()(),o._uU(8," \u200b "),o.TgZ(9,"button",3),o.NdJ("click",function(){return i.navTo(!1)}),o.TgZ(10,"span"),o._uU(11,"\u203a"),o.qZA()()),2&t&&(o.Udp("visibility",i.calendar.hideLeftArrow?"hidden":"visible"),o.Q6J("disabled",i.calendar.disableLeftArrow),o.xp6(3),o.Q6J("ngIf",i.calendar&&i.calendar.monthTitle),o.xp6(2),o.Q6J("disabled",i.isDisabled),o.xp6(2),o.Oqu(i.calendar.yearTitle),o.xp6(2),o.Udp("visibility",i.calendar.hideRightArrow?"hidden":"visible"),o.Q6J("disabled",i.calendar.disableRightArrow))},dependencies:[Zn],encapsulation:2,changeDetection:0}),n})(),Dre=(()=>{class n{constructor(t){this._config=t,this.onNavigate=new o.vpe,this.onViewMode=new o.vpe,this.onSelect=new o.vpe,this.onHover=new o.vpe,this.onHoverWeek=new o.vpe,this.isiOS=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,this._config.dateTooltipTexts&&this._config.dateTooltipTexts.length>0&&(this.isShowTooltip=!0)}navigateTo(t){this.onNavigate.emit({step:{month:Ll.DOWN===t?-1:1}})}changeViewMode(t){this.onViewMode.emit(t)}selectDay(t){this.onSelect.emit(t)}selectWeek(t){if(!this._config.selectWeek&&!this._config.selectWeekDateRange||0===t.days.length)return;if(this._config.selectWeek&&t.days[0]&&!t.days[0].isDisabled&&this._config.selectFromOtherMonth)return void this.onSelect.emit(t.days[0]);const i=t.days.find(r=>(this._config.selectFromOtherMonth||!r.isOtherMonth)&&!r.isDisabled);if(this.onSelect.emit(i),this._config.selectWeekDateRange){const s=t.days.slice(0).reverse().find(a=>(this._config.selectFromOtherMonth||!a.isOtherMonth)&&!a.isDisabled);this.onSelect.emit(s)}}weekHoverHandler(t,i){(this._config.selectWeek||this._config.selectWeekDateRange)&&t.days.find(s=>(this._config.selectFromOtherMonth||!s.isOtherMonth)&&!s.isDisabled)&&(t.isHovered=i,this.isWeekHovered=i,this.onHoverWeek.emit(t))}hoverDay(t,i){this._config.selectFromOtherMonth&&t.isOtherMonth&&(t.isOtherMonthHovered=i),this._config.dateTooltipTexts&&(t.tooltipText="",this._config.dateTooltipTexts.forEach(r=>{kl(r.date,t.date)&&(t.tooltipText=r.tooltipText)})),this.onHover.emit({cell:t,isHovered:i})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Tc))},n.\u0275cmp=o.Xpm({type:n,selectors:[["bs-days-calendar-view"]],inputs:{calendar:"calendar",options:"options",isDisabled:"isDisabled"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover",onHoverWeek:"onHoverWeek"},decls:9,vars:5,consts:[[3,"calendar","isDisabled","onNavigate","onViewMode"],["role","grid",1,"days","weeks"],[4,"ngIf"],["aria-label","weekday",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["aria-label","weekday"],["class","week",3,"active-week",4,"ngIf"],["role","gridcell",4,"ngFor","ngForOf"],[1,"week"],[3,"click",4,"ngIf"],[3,"click","mouseenter","mouseleave",4,"ngIf"],[3,"click"],[3,"click","mouseenter","mouseleave"],["role","gridcell"],["bsDatepickerDayDecorator","",3,"day","tooltip","click","mouseenter","mouseleave",4,"ngIf"],["bsDatepickerDayDecorator","",3,"day","click","mouseenter","mouseleave",4,"ngIf"],["bsDatepickerDayDecorator","",3,"day","click",4,"ngIf"],["bsDatepickerDayDecorator","",3,"day","tooltip","click","mouseenter","mouseleave"],["bsDatepickerDayDecorator","",3,"day","click","mouseenter","mouseleave"],["bsDatepickerDayDecorator","",3,"day","click"]],template:function(t,i){1&t&&(o.TgZ(0,"bs-calendar-layout")(1,"bs-datepicker-navigation-view",0),o.NdJ("onNavigate",function(s){return i.navigateTo(s)})("onViewMode",function(s){return i.changeViewMode(s)}),o.qZA(),o.TgZ(2,"table",1)(3,"thead")(4,"tr"),o.YNc(5,Nlt,1,0,"th",2),o.YNc(6,Plt,2,1,"th",3),o.qZA()(),o.TgZ(7,"tbody"),o.YNc(8,Ylt,3,2,"tr",4),o.qZA()()()),2&t&&(o.xp6(1),o.Q6J("calendar",i.calendar)("isDisabled",!!i.isDisabled),o.xp6(4),o.Q6J("ngIf",i.options&&i.options.showWeekNumbers),o.xp6(1),o.Q6J("ngForOf",i.calendar.weekdays),o.xp6(2),o.Q6J("ngForOf",i.calendar.weeks))},dependencies:[S1,Zn,Dlt,fN,w5t,hN],encapsulation:2}),n})(),kre=(()=>{class n{constructor(){this.onNavigate=new o.vpe,this.onViewMode=new o.vpe,this.onSelect=new o.vpe,this.onHover=new o.vpe}navigateTo(t){this.onNavigate.emit({step:{year:Ll.DOWN===t?-1:1}})}viewMonth(t){this.onSelect.emit(t)}hoverMonth(t,i){this.onHover.emit({cell:t,isHovered:i})}changeViewMode(t){this.onViewMode.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["bs-month-calendar-view"]],inputs:{calendar:"calendar"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover"},decls:5,vars:2,consts:[[3,"calendar","onNavigate","onViewMode"],["role","grid",1,"months"],[4,"ngFor","ngForOf"],["role","gridcell",3,"disabled","is-highlighted","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],["role","gridcell",3,"click","mouseenter","mouseleave"]],template:function(t,i){1&t&&(o.TgZ(0,"bs-calendar-layout")(1,"bs-datepicker-navigation-view",0),o.NdJ("onNavigate",function(s){return i.navigateTo(s)})("onViewMode",function(s){return i.changeViewMode(s)}),o.qZA(),o.TgZ(2,"table",1)(3,"tbody"),o.YNc(4,Glt,2,1,"tr",2),o.qZA()()()),2&t&&(o.xp6(1),o.Q6J("calendar",i.calendar),o.xp6(3),o.Q6J("ngForOf",null==i.calendar?null:i.calendar.months))},dependencies:[S1,fN,hN],encapsulation:2}),n})(),zre=(()=>{class n{constructor(){this.onNavigate=new o.vpe,this.onViewMode=new o.vpe,this.onSelect=new o.vpe,this.onHover=new o.vpe}navigateTo(t){this.onNavigate.emit({step:{year:(Ll.DOWN===t?-1:1)*IS}})}viewYear(t){this.onSelect.emit(t)}hoverYear(t,i){this.onHover.emit({cell:t,isHovered:i})}changeViewMode(t){this.onViewMode.emit(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["bs-years-calendar-view"]],inputs:{calendar:"calendar"},outputs:{onNavigate:"onNavigate",onViewMode:"onViewMode",onSelect:"onSelect",onHover:"onHover"},decls:5,vars:2,consts:[[3,"calendar","onNavigate","onViewMode"],["role","grid",1,"years"],[4,"ngFor","ngForOf"],["role","gridcell",3,"disabled","is-highlighted","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],["role","gridcell",3,"click","mouseenter","mouseleave"]],template:function(t,i){1&t&&(o.TgZ(0,"bs-calendar-layout")(1,"bs-datepicker-navigation-view",0),o.NdJ("onNavigate",function(s){return i.navigateTo(s)})("onViewMode",function(s){return i.changeViewMode(s)}),o.qZA(),o.TgZ(2,"table",1)(3,"tbody"),o.YNc(4,Zlt,2,1,"tr",2),o.qZA()()()),2&t&&(o.xp6(1),o.Q6J("calendar",i.calendar),o.xp6(3),o.Q6J("ngForOf",null==i.calendar?null:i.calendar.years))},dependencies:[S1,fN,hN],encapsulation:2}),n})(),x5t=(()=>{class n extends fre{constructor(t,i,r,s,a,c,d){super(),this._config=i,this._store=r,this._element=s,this._actions=a,this._positionService=d,this.valueChange=new o.vpe,this.animationState="void",this.isRangePicker=!1,this._subs=[],this._effects=c,t.setStyle(s.nativeElement,"display","block"),t.setStyle(s.nativeElement,"position","absolute")}set value(t){this._effects?.setValue(t)}get isDatePickerDisabled(){return!!this._config.isDisabled}get isDatepickerDisabled(){return this.isDatePickerDisabled?"":null}get isDatepickerReadonly(){return this.isDatePickerDisabled?"":null}ngOnInit(){let t;this._positionService.setOptions({modifiers:{flip:{enabled:this._config.adaptivePosition},preventOverflow:{enabled:this._config.adaptivePosition}},allowedPositions:this._config.allowedPositions}),this._positionService.event$?.pipe(cs(1)).subscribe(()=>{this._positionService.disable(),this.animationState=this._config.isAnimated?this.isTopPosition?"animated-up":"animated-down":"unanimated"}),this.isOtherMonthsActive=this._config.selectFromOtherMonth,this.containerClass=this._config.containerClass,this.showTodayBtn=this._config.showTodayButton,this.todayBtnLbl=this._config.todayButtonLabel,this.todayPos=this._config.todayPosition,this.showClearBtn=this._config.showClearButton,this.clearBtnLbl=this._config.clearButtonLabel,this.clearPos=this._config.clearPosition,this.customRangeBtnLbl=this._config.customRangeButtonLabel,this.withTimepicker=this._config.withTimepicker,this._effects?.init(this._store).setOptions(this._config).setBindings(this).setEventHandlers(this).registerDatepickerSideEffects(),this._subs.push(this._store.select(i=>i.selectedDate).subscribe(i=>{t=i,this.valueChange.emit(i)})),this._subs.push(this._store.select(i=>i.selectedTime).subscribe(i=>{!i[0]||!(i[0]instanceof Date)||i[0]===t||this.valueChange.emit(i[0])})),this._store.dispatch(this._actions.changeViewMode(this._config.startView))}ngAfterViewInit(){this.selectedTimeSub.add(this.selectedTime?.subscribe(t=>{Array.isArray(t)&&t.length>=1&&this.startTimepicker?.writeValue(t[0])})),this.startTimepicker?.registerOnChange(t=>{this.timeSelectHandler(t,0)})}get isTopPosition(){return this._element.nativeElement.classList.contains("top")}positionServiceEnable(){this._positionService.enable()}timeSelectHandler(t,i){this._store.dispatch(this._actions.selectTime(t,i))}daySelectHandler(t){!t||(this.isOtherMonthsActive?t.isDisabled:t.isOtherMonth||t.isDisabled)||this._store.dispatch(this._actions.select(t.date))}monthSelectHandler(t){!t||t.isDisabled||this._store.dispatch(this._actions.navigateTo({unit:{month:Gn(t.date),year:$2(t.date)},viewMode:"day"}))}yearSelectHandler(t){!t||t.isDisabled||this._store.dispatch(this._actions.navigateTo({unit:{year:$2(t.date)},viewMode:"month"}))}setToday(){this._store.dispatch(this._actions.select(new Date))}clearDate(){this._store.dispatch(this._actions.select(void 0))}ngOnDestroy(){for(const t of this._subs)t.unsubscribe();this.selectedTimeSub.unsubscribe(),this._effects?.destroy()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Qsj),o.Y36(Tc),o.Y36(Z_),o.Y36(o.SBq),o.Y36(ki),o.Y36(q_),o.Y36(o6))},n.\u0275cmp=o.Xpm({type:n,selectors:[["bs-datepicker-container"]],viewQuery:function(t,i){if(1&t&&o.Gf(lre,5),2&t){let r;o.iGM(r=o.CRH())&&(i.startTimepicker=r.first)}},hostAttrs:["role","dialog","aria-label","calendar",1,"bottom"],hostVars:2,hostBindings:function(t,i){1&t&&o.NdJ("click",function(s){return i._stopPropagation(s)}),2&t&&o.uIk("disabled",i.isDatepickerDisabled)("readonly",i.isDatepickerReadonly)},features:[o._Bn([Z_,q_]),o.qOj],decls:2,vars:3,consts:[["class","bs-datepicker",3,"ngClass",4,"ngIf"],[1,"bs-datepicker",3,"ngClass"],[1,"bs-datepicker-container"],["role","application",1,"bs-calendar-container",3,"ngSwitch"],[4,"ngSwitchCase"],["class","bs-media-container",4,"ngSwitchCase"],["class","bs-datepicker-buttons",4,"ngIf"],["class","bs-datepicker-custom-range",4,"ngIf"],[1,"bs-media-container"],[3,"bs-datepicker-multiple","calendar","isDisabled","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect",4,"ngFor","ngForOf"],["class","bs-timepicker-in-datepicker-container",4,"ngIf"],[3,"calendar","isDisabled","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect"],[1,"bs-timepicker-in-datepicker-container"],[3,"disabled"],["startTP",""],[3,"disabled",4,"ngIf"],["endTP",""],[3,"bs-datepicker-multiple","calendar","onNavigate","onViewMode","onHover","onSelect",4,"ngFor","ngForOf"],[3,"calendar","onNavigate","onViewMode","onHover","onSelect"],[1,"bs-datepicker-buttons"],["type","button",1,"btn","btn-success"],["type","button",1,"btn","btn-default"],["class","btn-today-wrapper",3,"today-left","today-right","today-center",4,"ngIf"],["class","btn-clear-wrapper",3,"clear-left","clear-right","clear-center",4,"ngIf"],[1,"btn-today-wrapper"],[1,"btn","btn-success",3,"click"],[1,"btn-clear-wrapper"],[1,"bs-datepicker-custom-range"],[3,"selectedRange","ranges","customRangeLabel","onSelect"]],template:function(t,i){1&t&&(o.YNc(0,l8t,10,11,"div",0),o.ALo(1,"async")),2&t&&o.Q6J("ngIf",o.lcZ(1,1,i.viewMode))},dependencies:[U1,S1,Zn,j1,ks,tN,Tre,Dre,kre,zre,e3],encapsulation:2,data:{animation:[dre]}}),n})(),S5t=(()=>{class n{constructor(t,i,r,s,a){this._config=t,this._elementRef=i,this._renderer=r,this.placement="bottom",this.triggers="click",this.outsideClick=!0,this.container="body",this.outsideEsc=!0,this.isDestroy$=new h2.x,this.isDisabled=!1,this.bsValueChange=new o.vpe,this._subs=[],this._dateInputFormat$=new h2.x,Object.assign(this,this._config),this._datepicker=a.createLoader(i,s,r),this.onShown=this._datepicker.onShown,this.onHidden=this._datepicker.onHidden,this.isOpen$=new t2(this.isOpen)}get readonlyValue(){return this.isDisabled?"":null}get isOpen(){return this._datepicker.isShown}set isOpen(t){this.isOpen$.next(t)}set bsValue(t){this._bsValue&&t&&this._bsValue.getTime()===t.getTime()||(!this._bsValue&&t&&!this._config.withTimepicker&&uN(t,new Date),t&&this.bsConfig?.initCurrentTime&&(t=_re(t)),this.initPreviousValue(),this._bsValue=t,this.bsValueChange.emit(t))}get dateInputFormat$(){return this._dateInputFormat$}ngOnInit(){this._datepicker.listen({outsideClick:this.outsideClick,outsideEsc:this.outsideEsc,triggers:this.triggers,show:()=>this.show()}),this.setConfig(),this.initPreviousValue()}initPreviousValue(){zh=this._bsValue}ngOnChanges(t){t.bsConfig&&(t.bsConfig.currentValue?.initCurrentTime&&t.bsConfig.currentValue?.initCurrentTime!==t.bsConfig.previousValue?.initCurrentTime&&this._bsValue&&(this.initPreviousValue(),this._bsValue=_re(this._bsValue),this.bsValueChange.emit(this._bsValue)),this.setConfig(),this._dateInputFormat$.next(this.bsConfig&&this.bsConfig.dateInputFormat)),this._datepickerRef&&this._datepickerRef.instance&&(t.minDate&&(this._datepickerRef.instance.minDate=this.minDate),t.maxDate&&(this._datepickerRef.instance.maxDate=this.maxDate),t.daysDisabled&&(this._datepickerRef.instance.daysDisabled=this.daysDisabled),t.datesDisabled&&(this._datepickerRef.instance.datesDisabled=this.datesDisabled),t.datesEnabled&&(this._datepickerRef.instance.datesEnabled=this.datesEnabled),t.isDisabled&&(this._datepickerRef.instance.isDisabled=this.isDisabled),t.dateCustomClasses&&(this._datepickerRef.instance.dateCustomClasses=this.dateCustomClasses),t.dateTooltipTexts&&(this._datepickerRef.instance.dateTooltipTexts=this.dateTooltipTexts))}initSubscribes(){this._subs.push(this.bsValueChange.subscribe(t=>{this._datepickerRef&&(this._datepickerRef.instance.value=t)})),this._datepickerRef&&this._subs.push(this._datepickerRef.instance.valueChange.subscribe(t=>{this.initPreviousValue(),this.bsValue=t,!this.keepDatepickerModalOpened()&&this.hide()}))}keepDatepickerModalOpened(){return!!(zh&&this.bsConfig?.keepDatepickerOpened&&this._config.withTimepicker)&&this.isDateSame()}isDateSame(){return zh instanceof Date&&this._bsValue?.getDate()===zh?.getDate()&&this._bsValue?.getMonth()===zh?.getMonth()&&this._bsValue?.getFullYear()===zh?.getFullYear()}ngAfterViewInit(){this.isOpen$.pipe(o1(t=>t!==this.isOpen),Y2e(this.isDestroy$)).subscribe(()=>this.toggle())}show(){this._datepicker.isShown||(this.setConfig(),this._datepickerRef=this._datepicker.provide({provide:Tc,useValue:this._config}).attach(x5t).to(this.container).position({attachment:this.placement}).show({placement:this.placement}),this.initSubscribes())}hide(){this.isOpen&&this._datepicker.hide();for(const t of this._subs)t.unsubscribe();this._config.returnFocusToInput&&this._renderer.selectRootElement(this._elementRef.nativeElement).focus()}toggle(){if(this.isOpen)return this.hide();this.show()}setConfig(){this._config=Object.assign({},this._config,this.bsConfig,{value:mre(this._bsValue,this.maxDate||this.bsConfig&&this.bsConfig.maxDate),isDisabled:this.isDisabled,minDate:this.minDate||this.bsConfig&&this.bsConfig.minDate,maxDate:this.maxDate||this.bsConfig&&this.bsConfig.maxDate,daysDisabled:this.daysDisabled||this.bsConfig&&this.bsConfig.daysDisabled,dateCustomClasses:this.dateCustomClasses||this.bsConfig&&this.bsConfig.dateCustomClasses,dateTooltipTexts:this.dateTooltipTexts||this.bsConfig&&this.bsConfig.dateTooltipTexts,datesDisabled:this.datesDisabled||this.bsConfig&&this.bsConfig.datesDisabled,datesEnabled:this.datesEnabled||this.bsConfig&&this.bsConfig.datesEnabled,minMode:this.minMode||this.bsConfig&&this.bsConfig.minMode,initCurrentTime:this.bsConfig?.initCurrentTime,keepDatepickerOpened:this.bsConfig?.keepDatepickerOpened})}unsubscribeSubscriptions(){this._subs?.length&&(this._subs.map(t=>t.unsubscribe()),this._subs.length=0)}ngOnDestroy(){this._datepicker.dispose(),this.isOpen$.next(!1),this.isDestroy$&&(this.isDestroy$.next(null),this.isDestroy$.complete()),this.unsubscribeSubscriptions()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Tc),o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(o.s_b),o.Y36(fc))},n.\u0275dir=o.lG2({type:n,selectors:[["","bsDatepicker",""]],hostVars:1,hostBindings:function(t,i){2&t&&o.uIk("readonly",i.readonlyValue)},inputs:{placement:"placement",triggers:"triggers",outsideClick:"outsideClick",container:"container",outsideEsc:"outsideEsc",isDisabled:"isDisabled",minDate:"minDate",maxDate:"maxDate",minMode:"minMode",daysDisabled:"daysDisabled",datesDisabled:"datesDisabled",datesEnabled:"datesEnabled",dateCustomClasses:"dateCustomClasses",dateTooltipTexts:"dateTooltipTexts",isOpen:"isOpen",bsValue:"bsValue",bsConfig:"bsConfig"},outputs:{onShown:"onShown",onHidden:"onHidden",bsValueChange:"bsValueChange"},exportAs:["bsDatepicker"],features:[o.TTD]}),n})(),T5t=(()=>{class n extends fre{constructor(t,i,r,s,a,c,d){super(),this._config=i,this._store=r,this._element=s,this._actions=a,this._positionService=d,this.valueChange=new o.vpe,this.animationState="void",this._rangeStack=[],this.chosenRange=[],this._subs=[],this.isRangePicker=!0,this._effects=c,this.customRanges=this._config.ranges||[],this.customRangeBtnLbl=this._config.customRangeButtonLabel,t.setStyle(s.nativeElement,"display","block"),t.setStyle(s.nativeElement,"position","absolute")}set value(t){this._effects?.setRangeValue(t)}get isDatePickerDisabled(){return!!this._config.isDisabled}get isDatepickerDisabled(){return this.isDatePickerDisabled?"":null}get isDatepickerReadonly(){return this.isDatePickerDisabled?"":null}ngOnInit(){let t;this._positionService.setOptions({modifiers:{flip:{enabled:this._config.adaptivePosition},preventOverflow:{enabled:this._config.adaptivePosition}},allowedPositions:this._config.allowedPositions}),this._positionService.event$?.pipe(cs(1)).subscribe(()=>{this._positionService.disable(),this.animationState=this._config.isAnimated?this.isTopPosition?"animated-up":"animated-down":"unanimated"}),this.containerClass=this._config.containerClass,this.isOtherMonthsActive=this._config.selectFromOtherMonth,this.withTimepicker=this._config.withTimepicker,this._effects?.init(this._store).setOptions(this._config).setBindings(this).setEventHandlers(this).registerDatepickerSideEffects(),this._subs.push(this._store.select(i=>i.selectedRange).subscribe(i=>{t=i,this.valueChange.emit(i),this.chosenRange=i||[]})),this._subs.push(this._store.select(i=>i.selectedTime).subscribe(i=>{!i[0]||!i[1]||!(i[0]instanceof Date)||!(i[1]instanceof Date)||t&&i[0]===t[0]&&i[1]===t[1]||(this.valueChange.emit(i),this.chosenRange=i||[])}))}ngAfterViewInit(){this.selectedTimeSub.add(this.selectedTime?.subscribe(t=>{Array.isArray(t)&&t.length>=2&&(this.startTimepicker?.writeValue(t[0]),this.endTimepicker?.writeValue(t[1]))})),this.startTimepicker?.registerOnChange(t=>{this.timeSelectHandler(t,0)}),this.endTimepicker?.registerOnChange(t=>{this.timeSelectHandler(t,1)})}get isTopPosition(){return this._element.nativeElement.classList.contains("top")}positionServiceEnable(){this._positionService.enable()}timeSelectHandler(t,i){this._store.dispatch(this._actions.selectTime(t,i))}daySelectHandler(t){!t||(this.isOtherMonthsActive?t.isDisabled:t.isOtherMonth||t.isDisabled)||this.rangesProcessing(t)}monthSelectHandler(t){if(t&&!t.isDisabled){if(t.isSelected=!0,"month"!==this._config.minMode){if(t.isDisabled)return;return void this._store.dispatch(this._actions.navigateTo({unit:{month:Gn(t.date),year:$2(t.date)},viewMode:"day"}))}this.rangesProcessing(t)}}yearSelectHandler(t){if(t&&!t.isDisabled){if(t.isSelected=!0,"year"!==this._config.minMode){if(t.isDisabled)return;return void this._store.dispatch(this._actions.navigateTo({unit:{year:$2(t.date)},viewMode:"month"}))}this.rangesProcessing(t)}}rangesProcessing(t){1===this._rangeStack.length&&(this._rangeStack=t.date>=this._rangeStack[0]?[this._rangeStack[0],t.date]:[t.date]),this._config.maxDateRange&&this.setMaxDateRangeOnCalendar(t.date),0===this._rangeStack.length&&(this._rangeStack=[t.date],this._config.maxDateRange&&this.setMaxDateRangeOnCalendar(t.date)),this._store.dispatch(this._actions.selectRange(this._rangeStack)),2===this._rangeStack.length&&(this._rangeStack=[])}ngOnDestroy(){for(const t of this._subs)t.unsubscribe();this.selectedTimeSub.unsubscribe(),this._effects?.destroy()}setRangeOnCalendar(t){t&&(this._rangeStack=t.value instanceof Date?[t.value]:t.value),this._store.dispatch(this._actions.selectRange(this._rangeStack))}setMaxDateRangeOnCalendar(t){let i=new Date(t);if(this._config.maxDate){const r=this._config.maxDate.getTime(),s=t.getTime()+864e5*(this._config.maxDateRange||0);i=s>r?new Date(this._config.maxDate):new Date(s)}else i.setDate(t.getDate()+(this._config.maxDateRange||0));this._effects?.setMaxDate(i)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.Qsj),o.Y36(Tc),o.Y36(Z_),o.Y36(o.SBq),o.Y36(ki),o.Y36(q_),o.Y36(o6))},n.\u0275cmp=o.Xpm({type:n,selectors:[["bs-daterangepicker-container"]],viewQuery:function(t,i){if(1&t&&(o.Gf(lre,5),o.Gf(w8t,5)),2&t){let r;o.iGM(r=o.CRH())&&(i.startTimepicker=r.first),o.iGM(r=o.CRH())&&(i.endTimepicker=r.first)}},hostAttrs:["role","dialog","aria-label","calendar",1,"bottom"],hostVars:2,hostBindings:function(t,i){1&t&&o.NdJ("click",function(s){return i._stopPropagation(s)}),2&t&&o.uIk("disabled",i.isDatepickerDisabled)("readonly",i.isDatepickerReadonly)},features:[o._Bn([Z_,q_]),o.qOj],decls:2,vars:3,consts:[["class","bs-datepicker",3,"ngClass",4,"ngIf"],[1,"bs-datepicker",3,"ngClass"],[1,"bs-datepicker-container"],["role","application",1,"bs-calendar-container",3,"ngSwitch"],[4,"ngSwitchCase"],["class","bs-media-container",4,"ngSwitchCase"],["class","bs-datepicker-buttons",4,"ngIf"],["class","bs-datepicker-custom-range",4,"ngIf"],[1,"bs-media-container"],[3,"bs-datepicker-multiple","calendar","isDisabled","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect",4,"ngFor","ngForOf"],["class","bs-timepicker-in-datepicker-container",4,"ngIf"],[3,"calendar","isDisabled","options","onNavigate","onViewMode","onHover","onHoverWeek","onSelect"],[1,"bs-timepicker-in-datepicker-container"],[3,"disabled"],["startTP",""],[3,"disabled",4,"ngIf"],["endTP",""],[3,"bs-datepicker-multiple","calendar","onNavigate","onViewMode","onHover","onSelect",4,"ngFor","ngForOf"],[3,"calendar","onNavigate","onViewMode","onHover","onSelect"],[1,"bs-datepicker-buttons"],["type","button",1,"btn","btn-success"],["type","button",1,"btn","btn-default"],["class","btn-today-wrapper",3,"today-left","today-right","today-center",4,"ngIf"],["class","btn-clear-wrapper",3,"clear-left","clear-right","clear-center",4,"ngIf"],[1,"btn-today-wrapper"],[1,"btn","btn-success",3,"click"],[1,"btn-clear-wrapper"],[1,"bs-datepicker-custom-range"],[3,"selectedRange","ranges","customRangeLabel","onSelect"]],template:function(t,i){1&t&&(o.YNc(0,P8t,10,11,"div",0),o.ALo(1,"async")),2&t&&o.Q6J("ngIf",o.lcZ(1,1,i.viewMode))},dependencies:[U1,S1,Zn,j1,ks,tN,Tre,Dre,kre,zre,e3],encapsulation:2,data:{animation:[dre]}}),n})();const D5t={provide:js,useExisting:(0,o.Gpc)(()=>Are),multi:!0},k5t={provide:Qi,useExisting:(0,o.Gpc)(()=>Are),multi:!0};let El,Are=(()=>{class n{constructor(t,i,r,s,a){this._picker=t,this._localeService=i,this._renderer=r,this._elRef=s,this.changeDetection=a,this._onChange=Function.prototype,this._onTouched=Function.prototype,this._validatorChange=Function.prototype,this._subs=new vo.w0}ngOnInit(){const t=i=>{this._setInputValue(i),this._value!==i&&(this._value=i,this._onChange(i),this._onTouched()),this.changeDetection.markForCheck()};this._picker._bsValue&&t(this._picker._bsValue),this._subs.add(this._picker.bsValueChange.subscribe(t)),this._subs.add(this._localeService.localeChange.subscribe(()=>{this._setInputValue(this._value)})),this._subs.add(this._picker.dateInputFormat$.pipe(E3()).subscribe(()=>{this._setInputValue(this._value)}))}ngOnDestroy(){this._subs.unsubscribe()}onKeydownEvent(t){(13===t.keyCode||"Enter"===t.code)&&this.hide()}_setInputValue(t){const i=t?qo(t,this._picker._config.dateInputFormat,this._localeService.currentLocale):"";this._renderer.setProperty(this._elRef.nativeElement,"value",i)}onChange(t){this.writeValue(t.target.value),this._onChange(this._value),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus(),this._onTouched()}validate(t){const i=t.value;if(null==i||""===i)return null;if(hS(i)){if(!Dl(i))return{bsDate:{invalid:i}};if(this._picker&&this._picker.minDate&&xc(i,this._picker.minDate,"date"))return this.writeValue(this._picker.minDate),{bsDate:{minDate:this._picker.minDate}};if(this._picker&&this._picker.maxDate&&Ka(i,this._picker.maxDate,"date"))return this.writeValue(this._picker.maxDate),{bsDate:{maxDate:this._picker.maxDate}}}return null}registerOnValidatorChange(t){this._validatorChange=t}writeValue(t){if(t){const i=this._localeService.currentLocale;if(!ji(i))throw new Error(`Locale "${i}" is not defined, please add it with "defineLocale(...)"`);this._value=j_(t,this._picker._config.dateInputFormat,this._localeService.currentLocale),this._picker._config.useUtc&&(this._value=xie(this._value))}else this._value=void 0;this._picker.bsValue=this._value}setDisabledState(t){this._picker.isDisabled=t,t?this._renderer.setAttribute(this._elRef.nativeElement,"disabled","disabled"):this._renderer.removeAttribute(this._elRef.nativeElement,"disabled")}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}onBlur(){this._onTouched()}hide(){this._picker.hide(),this._renderer.selectRootElement(this._elRef.nativeElement).blur(),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(S5t,1),o.Y36(VS),o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(o.sBO))},n.\u0275dir=o.lG2({type:n,selectors:[["input","bsDatepicker",""]],hostBindings:function(t,i){1&t&&o.NdJ("change",function(s){return i.onChange(s)})("keyup.esc",function(){return i.hide()})("keydown",function(s){return i.onKeydownEvent(s)})("blur",function(){return i.onBlur()})},features:[o._Bn([D5t,k5t])]}),n})(),z5t=(()=>{class n extends Tc{constructor(){super(...arguments),this.displayMonths=2}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=o.n5z(n)))(i||n)}}(),n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),A5t=(()=>{class n{constructor(t,i,r,s,a){this._config=t,this._elementRef=i,this._renderer=r,this.placement="bottom",this.triggers="click",this.outsideClick=!0,this.container="body",this.outsideEsc=!0,this.isDestroy$=new h2.x,this.isDisabled=!1,this.bsValueChange=new o.vpe,this._subs=[],this._rangeInputFormat$=new h2.x,this._datepicker=a.createLoader(i,s,r),Object.assign(this,t),this.onShown=this._datepicker.onShown,this.onHidden=this._datepicker.onHidden,this.isOpen$=new t2(this.isOpen)}get isOpen(){return this._datepicker.isShown}set isOpen(t){this.isOpen$.next(t)}set bsValue(t){this._bsValue!==t&&(t&&this.bsConfig?.initCurrentTime&&(t=vre(t)),this.initPreviousValue(),this._bsValue=t,this.bsValueChange.emit(t))}get isDatepickerReadonly(){return this.isDisabled?"":null}get rangeInputFormat$(){return this._rangeInputFormat$}ngOnInit(){this.isDestroy$=new h2.x,this._datepicker.listen({outsideClick:this.outsideClick,outsideEsc:this.outsideEsc,triggers:this.triggers,show:()=>this.show()}),this.initPreviousValue(),this.setConfig()}ngOnChanges(t){t.bsConfig&&(t.bsConfig.currentValue?.initCurrentTime&&t.bsConfig.currentValue?.initCurrentTime!==t.bsConfig.previousValue?.initCurrentTime&&this._bsValue&&(this.initPreviousValue(),this._bsValue=vre(this._bsValue),this.bsValueChange.emit(this._bsValue)),this.setConfig(),this._rangeInputFormat$.next(t.bsConfig.currentValue&&t.bsConfig.currentValue.rangeInputFormat)),this._datepickerRef&&this._datepickerRef.instance&&(t.minDate&&(this._datepickerRef.instance.minDate=this.minDate),t.maxDate&&(this._datepickerRef.instance.maxDate=this.maxDate),t.datesDisabled&&(this._datepickerRef.instance.datesDisabled=this.datesDisabled),t.datesEnabled&&(this._datepickerRef.instance.datesEnabled=this.datesEnabled),t.daysDisabled&&(this._datepickerRef.instance.daysDisabled=this.daysDisabled),t.isDisabled&&(this._datepickerRef.instance.isDisabled=this.isDisabled),t.dateCustomClasses&&(this._datepickerRef.instance.dateCustomClasses=this.dateCustomClasses))}ngAfterViewInit(){this.isOpen$.pipe(o1(t=>t!==this.isOpen),Y2e(this.isDestroy$)).subscribe(()=>this.toggle())}show(){this._datepicker.isShown||(this.setConfig(),this._datepickerRef=this._datepicker.provide({provide:Tc,useValue:this._config}).attach(T5t).to(this.container).position({attachment:this.placement}).show({placement:this.placement}),this.initSubscribes())}initSubscribes(){this._subs.push(this.bsValueChange.subscribe(t=>{this._datepickerRef&&(this._datepickerRef.instance.value=t)})),this._datepickerRef&&this._subs.push(this._datepickerRef.instance.valueChange.pipe(o1(t=>t&&t[0]&&!!t[1])).subscribe(t=>{this.initPreviousValue(),this.bsValue=t,!this.keepDatepickerModalOpened()&&this.hide()}))}initPreviousValue(){El=this._bsValue}keepDatepickerModalOpened(){return!!(El&&this.bsConfig?.keepDatepickerOpened&&this._config.withTimepicker)&&this.isDateSame()}isDateSame(){return this._bsValue?.[0]?.getDate()===El?.[0]?.getDate()&&this._bsValue?.[0]?.getMonth()===El?.[0]?.getMonth()&&this._bsValue?.[0]?.getFullYear()===El?.[0]?.getFullYear()&&this._bsValue?.[1]?.getDate()===El?.[1]?.getDate()&&this._bsValue?.[1]?.getMonth()===El?.[1]?.getMonth()&&this._bsValue?.[1]?.getFullYear()===El?.[1]?.getFullYear()}setConfig(){this._config=Object.assign({},this._config,this.bsConfig,{value:mre(this._bsValue,this.maxDate||this.bsConfig&&this.bsConfig.maxDate),isDisabled:this.isDisabled,minDate:this.minDate||this.bsConfig&&this.bsConfig.minDate,maxDate:this.maxDate||this.bsConfig&&this.bsConfig.maxDate,daysDisabled:this.daysDisabled||this.bsConfig&&this.bsConfig.daysDisabled,dateCustomClasses:this.dateCustomClasses||this.bsConfig&&this.bsConfig.dateCustomClasses,datesDisabled:this.datesDisabled||this.bsConfig&&this.bsConfig.datesDisabled,datesEnabled:this.datesEnabled||this.bsConfig&&this.bsConfig.datesEnabled,ranges:n5t(this.bsConfig&&this.bsConfig.ranges,this.maxDate||this.bsConfig&&this.bsConfig.maxDate),maxDateRange:this.bsConfig&&this.bsConfig.maxDateRange,initCurrentTime:this.bsConfig?.initCurrentTime,keepDatepickerOpened:this.bsConfig?.keepDatepickerOpened})}hide(){this.isOpen&&this._datepicker.hide();for(const t of this._subs)t.unsubscribe();this._config.returnFocusToInput&&this._renderer.selectRootElement(this._elementRef.nativeElement).focus()}toggle(){if(this.isOpen)return this.hide();this.show()}unsubscribeSubscriptions(){this._subs?.length&&(this._subs.map(t=>t.unsubscribe()),this._subs.length=0)}ngOnDestroy(){this._datepicker.dispose(),this.isOpen$.next(!1),this.isDestroy$&&(this.isDestroy$.next(null),this.isDestroy$.complete()),this.unsubscribeSubscriptions()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(z5t),o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(o.s_b),o.Y36(fc))},n.\u0275dir=o.lG2({type:n,selectors:[["","bsDaterangepicker",""]],hostVars:1,hostBindings:function(t,i){2&t&&o.uIk("readonly",i.isDatepickerReadonly)},inputs:{placement:"placement",triggers:"triggers",outsideClick:"outsideClick",container:"container",outsideEsc:"outsideEsc",isOpen:"isOpen",bsValue:"bsValue",bsConfig:"bsConfig",isDisabled:"isDisabled",minDate:"minDate",maxDate:"maxDate",dateCustomClasses:"dateCustomClasses",daysDisabled:"daysDisabled",datesDisabled:"datesDisabled",datesEnabled:"datesEnabled"},outputs:{onShown:"onShown",onHidden:"onHidden",bsValueChange:"bsValueChange"},exportAs:["bsDaterangepicker"],features:[o.TTD]}),n})();const H5t={provide:js,useExisting:(0,o.Gpc)(()=>Hre),multi:!0},L5t={provide:Qi,useExisting:(0,o.Gpc)(()=>Hre),multi:!0};let Hre=(()=>{class n{constructor(t,i,r,s,a){this._picker=t,this._localeService=i,this._renderer=r,this._elRef=s,this.changeDetection=a,this._onChange=Function.prototype,this._onTouched=Function.prototype,this._validatorChange=Function.prototype,this._subs=new vo.w0}ngOnInit(){this._picker._bsValue&&(i=>{this._setInputValue(i),this._value!==i&&(this._value=i,this._onChange(i),this._onTouched()),this.changeDetection.markForCheck()})(this._picker._bsValue),this._subs.add(this._picker.bsValueChange.subscribe(i=>{this._setInputValue(i),this._value!==i&&(this._value=i,this._onChange(i),this._onTouched()),this.changeDetection.markForCheck()})),this._subs.add(this._localeService.localeChange.subscribe(()=>{this._setInputValue(this._value)})),this._subs.add(this._picker.rangeInputFormat$.pipe(E3()).subscribe(()=>{this._setInputValue(this._value)}))}ngOnDestroy(){this._subs.unsubscribe()}onKeydownEvent(t){(13===t.keyCode||"Enter"===t.code)&&this.hide()}_setInputValue(t){let i="";if(t){const r=t[0]?qo(t[0],this._picker._config.rangeInputFormat,this._localeService.currentLocale):"",s=t[1]?qo(t[1],this._picker._config.rangeInputFormat,this._localeService.currentLocale):"";i=r&&s?r+this._picker._config.rangeSeparator+s:""}this._renderer.setProperty(this._elRef.nativeElement,"value",i)}onChange(t){this.writeValue(t.target.value),this._onChange(this._value),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus(),this._onTouched()}validate(t){let i=t.value;const r=[];if(null==i||!N2(i))return null;i=i.slice().sort((c,d)=>c.getTime()-d.getTime());const s=Dl(i[0]),a=Dl(i[1]);return s?a?(this._picker&&this._picker.minDate&&xc(i[0],this._picker.minDate,"date")&&(i[0]=this._picker.minDate,r.push({bsDate:{minDate:this._picker.minDate}})),this._picker&&this._picker.maxDate&&Ka(i[1],this._picker.maxDate,"date")&&(i[1]=this._picker.maxDate,r.push({bsDate:{maxDate:this._picker.maxDate}})),r.length>0?(this.writeValue(i),r):null):{bsDate:{invalid:i[1]}}:{bsDate:{invalid:i[0]}}}registerOnValidatorChange(t){this._validatorChange=t}writeValue(t){if(t){const i=this._localeService.currentLocale;if(!ji(i))throw new Error(`Locale "${i}" is not defined, please add it with "defineLocale(...)"`);let s=[];if("string"==typeof t){const a=this._picker._config.rangeSeparator.trim();s=t.replace(/[^-]/g,"").length>1?t.split(this._picker._config.rangeSeparator):t.split(a.length>0?a:this._picker._config.rangeSeparator).map(c=>c.trim())}Array.isArray(t)&&(s=t),this._value=s.map(a=>this._picker._config.useUtc?xie(j_(a,this._picker._config.rangeInputFormat,this._localeService.currentLocale)):j_(a,this._picker._config.rangeInputFormat,this._localeService.currentLocale)).map(a=>isNaN(a.valueOf())?void 0:a)}else this._value=void 0;this._picker.bsValue=this._value}setDisabledState(t){this._picker.isDisabled=t,t?this._renderer.setAttribute(this._elRef.nativeElement,"disabled","disabled"):this._renderer.removeAttribute(this._elRef.nativeElement,"disabled")}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}onBlur(){this._onTouched()}hide(){this._picker.hide(),this._renderer.selectRootElement(this._elRef.nativeElement).blur(),this._picker._config.returnFocusToInput&&this._renderer.selectRootElement(this._elRef.nativeElement).focus()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(A5t,1),o.Y36(VS),o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(o.sBO))},n.\u0275dir=o.lG2({type:n,selectors:[["input","bsDaterangepicker",""]],hostBindings:function(t,i){1&t&&o.NdJ("change",function(s){return i.onChange(s)})("keyup.esc",function(){return i.hide()})("keydown",function(s){return i.onKeydownEvent(s)})("blur",function(){return i.onBlur()})},features:[o._Bn([H5t,L5t])]}),n})(),E5t=(()=>{class n{static forRoot(){return{ngModule:n,providers:[fc,o6,Z_,ki,q_,VS,y6]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[qi,klt,wlt]}),n})(),nut=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();var iut=function(){function n(){}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n,bootstrap:[Mat]}),n.\u0275inj=o.cJS({providers:[Dr,eh,Tc,hee,{provide:Qv,useClass:E4t}],imports:[n8,NOe,mat,L2e,J3e,B2.hO.initializeApp(E2e_firebase),qae,e3e,Mnt,Not,eae(function(){return tae(E2e_firebase)}),Tct(function(){return Dct()}),Vct(function(){return Ict()}),Uct(function(){return jct()}),p4t(function(){return m4t()}),w4t(function(){return x4t()}),H4t(function(){return L4t()}),Gfe,L2e,E5t,yXe,L1t,Ste,t2t.forRoot(),tde.forRoot({positionClass:"toast-bottom-right",closeButton:!0,preventDuplicates:!0,resetTimeoutOnDuplicate:!0}),nut,Q3e,aZe,Unt,eet]}),n}();t8().bootstrapModule(iut).catch(function(n){return console.error(n)})},9751:(Ht,Ne,N)=>{N.d(Ne,{y:()=>ge});var o=N(930),j=N(727),F=N(8822),le=N(9635),de=N(2416),ae=N(576),ke=N(2806);let ge=(()=>{class ie{constructor(Ae){Ae&&(this._subscribe=Ae)}lift(Ae){const ot=new ie;return ot.source=this,ot.operator=Ae,ot}subscribe(Ae,ot,st){const Me=function K(ie){return ie&&ie instanceof o.Lv||function $(ie){return ie&&(0,ae.m)(ie.next)&&(0,ae.m)(ie.error)&&(0,ae.m)(ie.complete)}(ie)&&(0,j.Nn)(ie)}(Ae)?Ae:new o.Hp(Ae,ot,st);return(0,ke.x)(()=>{const{operator:Ie,source:Re}=this;Me.add(Ie?Ie.call(Me,Re):Re?this._subscribe(Me):this._trySubscribe(Me))}),Me}_trySubscribe(Ae){try{return this._subscribe(Ae)}catch(ot){Ae.error(ot)}}forEach(Ae,ot){return new(ot=_e(ot))((st,Me)=>{const Ie=new o.Hp({next:Re=>{try{Ae(Re)}catch(Oe){Me(Oe),Ie.unsubscribe()}},error:Me,complete:st});this.subscribe(Ie)})}_subscribe(Ae){var ot;return null===(ot=this.source)||void 0===ot?void 0:ot.subscribe(Ae)}[F.L](){return this}pipe(...Ae){return(0,le.U)(Ae)(this)}toPromise(Ae){return new(Ae=_e(Ae))((ot,st)=>{let Me;this.subscribe(Ie=>Me=Ie,Ie=>st(Ie),()=>ot(Me))})}}return ie.create=Je=>new ie(Je),ie})();function _e(ie){var Je;return null!==(Je=ie??de.v.Promise)&&void 0!==Je?Je:Promise}},7579:(Ht,Ne,N)=>{N.d(Ne,{x:()=>ke});var o=N(9751),j=N(727);const le=(0,N(3888).d)(_e=>function(){_e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var de=N(8737),ae=N(2806);let ke=(()=>{class _e extends o.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(K){const ie=new ge(this,this);return ie.operator=K,ie}_throwIfClosed(){if(this.closed)throw new le}next(K){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ie of this.currentObservers)ie.next(K)}})}error(K){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=K;const{observers:ie}=this;for(;ie.length;)ie.shift().error(K)}})}complete(){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:K}=this;for(;K.length;)K.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var K;return(null===(K=this.observers)||void 0===K?void 0:K.length)>0}_trySubscribe(K){return this._throwIfClosed(),super._trySubscribe(K)}_subscribe(K){return this._throwIfClosed(),this._checkFinalizedStatuses(K),this._innerSubscribe(K)}_innerSubscribe(K){const{hasError:ie,isStopped:Je,observers:Ae}=this;return ie||Je?j.Lc:(this.currentObservers=null,Ae.push(K),new j.w0(()=>{this.currentObservers=null,(0,de.P)(Ae,K)}))}_checkFinalizedStatuses(K){const{hasError:ie,thrownError:Je,isStopped:Ae}=this;ie?K.error(Je):Ae&&K.complete()}asObservable(){const K=new o.y;return K.source=this,K}}return _e.create=($,K)=>new ge($,K),_e})();class ge extends ke{constructor($,K){super(),this.destination=$,this.source=K}next($){var K,ie;null===(ie=null===(K=this.destination)||void 0===K?void 0:K.next)||void 0===ie||ie.call(K,$)}error($){var K,ie;null===(ie=null===(K=this.destination)||void 0===K?void 0:K.error)||void 0===ie||ie.call(K,$)}complete(){var $,K;null===(K=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===K||K.call($)}_subscribe($){var K,ie;return null!==(ie=null===(K=this.source)||void 0===K?void 0:K.subscribe($))&&void 0!==ie?ie:j.Lc}}},930:(Ht,Ne,N)=>{N.d(Ne,{Hp:()=>st,Lv:()=>ie});var o=N(576),j=N(727),F=N(2416),le=N(7849),de=N(5032);const ae=_e("C",void 0,void 0);function _e(Be,je,Pe){return{kind:Be,value:je,error:Pe}}var $=N(3410),K=N(2806);class ie extends j.w0{constructor(je){super(),this.isStopped=!1,je?(this.destination=je,(0,j.Nn)(je)&&je.add(this)):this.destination=Oe}static create(je,Pe,it){return new st(je,Pe,it)}next(je){this.isStopped?Re(function ge(Be){return _e("N",Be,void 0)}(je),this):this._next(je)}error(je){this.isStopped?Re(function ke(Be){return _e("E",void 0,Be)}(je),this):(this.isStopped=!0,this._error(je))}complete(){this.isStopped?Re(ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(je){this.destination.next(je)}_error(je){try{this.destination.error(je)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Je=Function.prototype.bind;function Ae(Be,je){return Je.call(Be,je)}class ot{constructor(je){this.partialObserver=je}next(je){const{partialObserver:Pe}=this;if(Pe.next)try{Pe.next(je)}catch(it){Me(it)}}error(je){const{partialObserver:Pe}=this;if(Pe.error)try{Pe.error(je)}catch(it){Me(it)}else Me(je)}complete(){const{partialObserver:je}=this;if(je.complete)try{je.complete()}catch(Pe){Me(Pe)}}}class st extends ie{constructor(je,Pe,it){let oe;if(super(),(0,o.m)(je)||!je)oe={next:je??void 0,error:Pe??void 0,complete:it??void 0};else{let he;this&&F.v.useDeprecatedNextContext?(he=Object.create(je),he.unsubscribe=()=>this.unsubscribe(),oe={next:je.next&&Ae(je.next,he),error:je.error&&Ae(je.error,he),complete:je.complete&&Ae(je.complete,he)}):oe=je}this.destination=new ot(oe)}}function Me(Be){F.v.useDeprecatedSynchronousErrorHandling?(0,K.O)(Be):(0,le.h)(Be)}function Re(Be,je){const{onStoppedNotification:Pe}=F.v;Pe&&$.z.setTimeout(()=>Pe(Be,je))}const Oe={closed:!0,next:de.Z,error:function Ie(Be){throw Be},complete:de.Z}},727:(Ht,Ne,N)=>{N.d(Ne,{Lc:()=>ae,w0:()=>de,Nn:()=>ke});var o=N(576);const F=(0,N(3888).d)(_e=>function(K){_e(this),this.message=K?`${K.length} errors occurred during unsubscription:\n${K.map((ie,Je)=>`${Je+1}) ${ie.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=K});var le=N(8737);class de{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:K}=this;if(K)if(this._parentage=null,Array.isArray(K))for(const Ae of K)Ae.remove(this);else K.remove(this);const{initialTeardown:ie}=this;if((0,o.m)(ie))try{ie()}catch(Ae){$=Ae instanceof F?Ae.errors:[Ae]}const{_finalizers:Je}=this;if(Je){this._finalizers=null;for(const Ae of Je)try{ge(Ae)}catch(ot){$=$??[],ot instanceof F?$=[...$,...ot.errors]:$.push(ot)}}if($)throw new F($)}}add($){var K;if($&&$!==this)if(this.closed)ge($);else{if($ instanceof de){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(K=this._finalizers)&&void 0!==K?K:[]).push($)}}_hasParent($){const{_parentage:K}=this;return K===$||Array.isArray(K)&&K.includes($)}_addParent($){const{_parentage:K}=this;this._parentage=Array.isArray(K)?(K.push($),K):K?[K,$]:$}_removeParent($){const{_parentage:K}=this;K===$?this._parentage=null:Array.isArray(K)&&(0,le.P)(K,$)}remove($){const{_finalizers:K}=this;K&&(0,le.P)(K,$),$ instanceof de&&$._removeParent(this)}}de.EMPTY=(()=>{const _e=new de;return _e.closed=!0,_e})();const ae=de.EMPTY;function ke(_e){return _e instanceof de||_e&&"closed"in _e&&(0,o.m)(_e.remove)&&(0,o.m)(_e.add)&&(0,o.m)(_e.unsubscribe)}function ge(_e){(0,o.m)(_e)?_e():_e.unsubscribe()}},2416:(Ht,Ne,N)=>{N.d(Ne,{v:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Ht,Ne,N)=>{N.d(Ne,{E:()=>j});const j=new(N(9751).y)(de=>de.complete())},8996:(Ht,Ne,N)=>{N.d(Ne,{D:()=>je});var o=N(8421),j=N(5363),F=N(9468),ae=N(9751),ge=N(2202),_e=N(576),$=N(9672);function ie(Pe,it){if(!Pe)throw new Error("Iterable cannot be null");return new ae.y(oe=>{(0,$.f)(oe,it,()=>{const he=Pe[Symbol.asyncIterator]();(0,$.f)(oe,it,()=>{he.next().then(ze=>{ze.done?oe.complete():oe.next(ze.value)})},0,!0)})})}var Je=N(3670),Ae=N(8239),ot=N(1144),st=N(6495),Me=N(2206),Ie=N(4532),Re=N(3260);function je(Pe,it){return it?function Be(Pe,it){if(null!=Pe){if((0,Je.c)(Pe))return function le(Pe,it){return(0,o.Xf)(Pe).pipe((0,F.R)(it),(0,j.Q)(it))}(Pe,it);if((0,ot.z)(Pe))return function ke(Pe,it){return new ae.y(oe=>{let he=0;return it.schedule(function(){he===Pe.length?oe.complete():(oe.next(Pe[he++]),oe.closed||this.schedule())})})}(Pe,it);if((0,Ae.t)(Pe))return function de(Pe,it){return(0,o.Xf)(Pe).pipe((0,F.R)(it),(0,j.Q)(it))}(Pe,it);if((0,Me.D)(Pe))return ie(Pe,it);if((0,st.T)(Pe))return function K(Pe,it){return new ae.y(oe=>{let he;return(0,$.f)(oe,it,()=>{he=Pe[ge.h](),(0,$.f)(oe,it,()=>{let ze,ct;try{({value:ze,done:ct}=he.next())}catch(Ze){return void oe.error(Ze)}ct?oe.complete():oe.next(ze)},0,!0)}),()=>(0,_e.m)(he?.return)&&he.return()})}(Pe,it);if((0,Re.L)(Pe))return function Oe(Pe,it){return ie((0,Re.Q)(Pe),it)}(Pe,it)}throw(0,Ie.z)(Pe)}(Pe,it):(0,o.Xf)(Pe)}},8421:(Ht,Ne,N)=>{N.d(Ne,{Xf:()=>Je});var o=N(655),j=N(1144),F=N(8239),le=N(9751),de=N(3670),ae=N(2206),ke=N(4532),ge=N(6495),_e=N(3260),$=N(576),K=N(7849),ie=N(8822);function Je(Be){if(Be instanceof le.y)return Be;if(null!=Be){if((0,de.c)(Be))return function Ae(Be){return new le.y(je=>{const Pe=Be[ie.L]();if((0,$.m)(Pe.subscribe))return Pe.subscribe(je);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Be);if((0,j.z)(Be))return function ot(Be){return new le.y(je=>{for(let Pe=0;Pe<Be.length&&!je.closed;Pe++)je.next(Be[Pe]);je.complete()})}(Be);if((0,F.t)(Be))return function st(Be){return new le.y(je=>{Be.then(Pe=>{je.closed||(je.next(Pe),je.complete())},Pe=>je.error(Pe)).then(null,K.h)})}(Be);if((0,ae.D)(Be))return Ie(Be);if((0,ge.T)(Be))return function Me(Be){return new le.y(je=>{for(const Pe of Be)if(je.next(Pe),je.closed)return;je.complete()})}(Be);if((0,_e.L)(Be))return function Re(Be){return Ie((0,_e.Q)(Be))}(Be)}throw(0,ke.z)(Be)}function Ie(Be){return new le.y(je=>{(function Oe(Be,je){var Pe,it,oe,he;return(0,o.mG)(this,void 0,void 0,function*(){try{for(Pe=(0,o.KL)(Be);!(it=yield Pe.next()).done;)if(je.next(it.value),je.closed)return}catch(ze){oe={error:ze}}finally{try{it&&!it.done&&(he=Pe.return)&&(yield he.call(Pe))}finally{if(oe)throw oe.error}}je.complete()})})(Be,je).catch(Pe=>je.error(Pe))})}},6451:(Ht,Ne,N)=>{N.d(Ne,{T:()=>ae});var o=N(8189),j=N(8421),F=N(515),le=N(3269),de=N(8996);function ae(...ke){const ge=(0,le.yG)(ke),_e=(0,le._6)(ke,1/0),$=ke;return $.length?1===$.length?(0,j.Xf)($[0]):(0,o.J)(_e)((0,de.D)($,ge)):F.E}},5403:(Ht,Ne,N)=>{N.d(Ne,{x:()=>j});var o=N(930);function j(le,de,ae,ke,ge){return new F(le,de,ae,ke,ge)}class F extends o.Lv{constructor(de,ae,ke,ge,_e,$){super(de),this.onFinalize=_e,this.shouldUnsubscribe=$,this._next=ae?function(K){try{ae(K)}catch(ie){de.error(ie)}}:super._next,this._error=ge?function(K){try{ge(K)}catch(ie){de.error(ie)}finally{this.unsubscribe()}}:super._error,this._complete=ke?function(){try{ke()}catch(K){de.error(K)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var de;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ae}=this;super.unsubscribe(),!ae&&(null===(de=this.onFinalize)||void 0===de||de.call(this))}}}},4004:(Ht,Ne,N)=>{N.d(Ne,{U:()=>F});var o=N(4482),j=N(5403);function F(le,de){return(0,o.e)((ae,ke)=>{let ge=0;ae.subscribe((0,j.x)(ke,_e=>{ke.next(le.call(de,_e,ge++))}))})}},8189:(Ht,Ne,N)=>{N.d(Ne,{J:()=>F});var o=N(5577),j=N(4671);function F(le=1/0){return(0,o.z)(j.y,le)}},5577:(Ht,Ne,N)=>{N.d(Ne,{z:()=>ge});var o=N(4004),j=N(8421),F=N(4482),le=N(9672),de=N(5403),ke=N(576);function ge(_e,$,K=1/0){return(0,ke.m)($)?ge((ie,Je)=>(0,o.U)((Ae,ot)=>$(ie,Ae,Je,ot))((0,j.Xf)(_e(ie,Je))),K):("number"==typeof $&&(K=$),(0,F.e)((ie,Je)=>function ae(_e,$,K,ie,Je,Ae,ot,st){const Me=[];let Ie=0,Re=0,Oe=!1;const Be=()=>{Oe&&!Me.length&&!Ie&&$.complete()},je=it=>Ie<ie?Pe(it):Me.push(it),Pe=it=>{Ae&&$.next(it),Ie++;let oe=!1;(0,j.Xf)(K(it,Re++)).subscribe((0,de.x)($,he=>{Je?.(he),Ae?je(he):$.next(he)},()=>{oe=!0},void 0,()=>{if(oe)try{for(Ie--;Me.length&&Ie<ie;){const he=Me.shift();ot?(0,le.f)($,ot,()=>Pe(he)):Pe(he)}Be()}catch(he){$.error(he)}}))};return _e.subscribe((0,de.x)($,je,()=>{Oe=!0,Be()})),()=>{st?.()}}(ie,Je,_e,K)))}},5363:(Ht,Ne,N)=>{N.d(Ne,{Q:()=>le});var o=N(9672),j=N(4482),F=N(5403);function le(de,ae=0){return(0,j.e)((ke,ge)=>{ke.subscribe((0,F.x)(ge,_e=>(0,o.f)(ge,de,()=>ge.next(_e),ae),()=>(0,o.f)(ge,de,()=>ge.complete(),ae),_e=>(0,o.f)(ge,de,()=>ge.error(_e),ae)))})}},3099:(Ht,Ne,N)=>{N.d(Ne,{B:()=>de});var o=N(8421),j=N(7579),F=N(930),le=N(4482);function de(ke={}){const{connector:ge=(()=>new j.x),resetOnError:_e=!0,resetOnComplete:$=!0,resetOnRefCountZero:K=!0}=ke;return ie=>{let Je,Ae,ot,st=0,Me=!1,Ie=!1;const Re=()=>{Ae?.unsubscribe(),Ae=void 0},Oe=()=>{Re(),Je=ot=void 0,Me=Ie=!1},Be=()=>{const je=Je;Oe(),je?.unsubscribe()};return(0,le.e)((je,Pe)=>{st++,!Ie&&!Me&&Re();const it=ot=ot??ge();Pe.add(()=>{st--,0===st&&!Ie&&!Me&&(Ae=ae(Be,K))}),it.subscribe(Pe),!Je&&st>0&&(Je=new F.Hp({next:oe=>it.next(oe),error:oe=>{Ie=!0,Re(),Ae=ae(Oe,_e,oe),it.error(oe)},complete:()=>{Me=!0,Re(),Ae=ae(Oe,$),it.complete()}}),(0,o.Xf)(je).subscribe(Je))})(ie)}}function ae(ke,ge,..._e){if(!0===ge)return void ke();if(!1===ge)return;const $=new F.Hp({next:()=>{$.unsubscribe(),ke()}});return(0,o.Xf)(ge(..._e)).subscribe($)}},9468:(Ht,Ne,N)=>{N.d(Ne,{R:()=>j});var o=N(4482);function j(F,le=0){return(0,o.e)((de,ae)=>{ae.add(F.schedule(()=>de.subscribe(ae),le))})}},8505:(Ht,Ne,N)=>{N.d(Ne,{b:()=>de});var o=N(576),j=N(4482),F=N(5403),le=N(4671);function de(ae,ke,ge){const _e=(0,o.m)(ae)||ke||ge?{next:ae,error:ke,complete:ge}:ae;return _e?(0,j.e)(($,K)=>{var ie;null===(ie=_e.subscribe)||void 0===ie||ie.call(_e);let Je=!0;$.subscribe((0,F.x)(K,Ae=>{var ot;null===(ot=_e.next)||void 0===ot||ot.call(_e,Ae),K.next(Ae)},()=>{var Ae;Je=!1,null===(Ae=_e.complete)||void 0===Ae||Ae.call(_e),K.complete()},Ae=>{var ot;Je=!1,null===(ot=_e.error)||void 0===ot||ot.call(_e,Ae),K.error(Ae)},()=>{var Ae,ot;Je&&(null===(Ae=_e.unsubscribe)||void 0===Ae||Ae.call(_e)),null===(ot=_e.finalize)||void 0===ot||ot.call(_e)}))}):le.y}},4408:(Ht,Ne,N)=>{N.d(Ne,{o:()=>de});var o=N(727);class j extends o.w0{constructor(ke,ge){super()}schedule(ke,ge=0){return this}}const F={setInterval(ae,ke,...ge){const{delegate:_e}=F;return _e?.setInterval?_e.setInterval(ae,ke,...ge):setInterval(ae,ke,...ge)},clearInterval(ae){const{delegate:ke}=F;return(ke?.clearInterval||clearInterval)(ae)},delegate:void 0};var le=N(8737);class de extends j{constructor(ke,ge){super(ke,ge),this.scheduler=ke,this.work=ge,this.pending=!1}schedule(ke,ge=0){var _e;if(this.closed)return this;this.state=ke;const $=this.id,K=this.scheduler;return null!=$&&(this.id=this.recycleAsyncId(K,$,ge)),this.pending=!0,this.delay=ge,this.id=null!==(_e=this.id)&&void 0!==_e?_e:this.requestAsyncId(K,this.id,ge),this}requestAsyncId(ke,ge,_e=0){return F.setInterval(ke.flush.bind(ke,this),_e)}recycleAsyncId(ke,ge,_e=0){if(null!=_e&&this.delay===_e&&!1===this.pending)return ge;null!=ge&&F.clearInterval(ge)}execute(ke,ge){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const _e=this._execute(ke,ge);if(_e)return _e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ke,ge){let $,_e=!1;try{this.work(ke)}catch(K){_e=!0,$=K||new Error("Scheduled action threw falsy error")}if(_e)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:ke,scheduler:ge}=this,{actions:_e}=ge;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(_e,this),null!=ke&&(this.id=this.recycleAsyncId(ge,ke,null)),this.delay=null,super.unsubscribe()}}}},7565:(Ht,Ne,N)=>{N.d(Ne,{v:()=>F});var o=N(6063);class j{constructor(de,ae=j.now){this.schedulerActionCtor=de,this.now=ae}schedule(de,ae=0,ke){return new this.schedulerActionCtor(this,de).schedule(ke,ae)}}j.now=o.l.now;class F extends j{constructor(de,ae=j.now){super(de,ae),this.actions=[],this._active=!1}flush(de){const{actions:ae}=this;if(this._active)return void ae.push(de);let ke;this._active=!0;do{if(ke=de.execute(de.state,de.delay))break}while(de=ae.shift());if(this._active=!1,ke){for(;de=ae.shift();)de.unsubscribe();throw ke}}}},4986:(Ht,Ne,N)=>{N.d(Ne,{P:()=>le,z:()=>F});var o=N(4408);const F=new(N(7565).v)(o.o),le=F},6063:(Ht,Ne,N)=>{N.d(Ne,{l:()=>o});const o={now:()=>(o.delegate||Date).now(),delegate:void 0}},233:(Ht,Ne,N)=>{N.d(Ne,{N:()=>de});var o=N(4408),F=N(7565);const de=new class le extends F.v{}(class j extends o.o{constructor(ge,_e){super(ge,_e),this.scheduler=ge,this.work=_e}schedule(ge,_e=0){return _e>0?super.schedule(ge,_e):(this.delay=_e,this.state=ge,this.scheduler.flush(this),this)}execute(ge,_e){return _e>0||this.closed?super.execute(ge,_e):this._execute(ge,_e)}requestAsyncId(ge,_e,$=0){return null!=$&&$>0||null==$&&this.delay>0?super.requestAsyncId(ge,_e,$):(ge.flush(this),0)}})},3410:(Ht,Ne,N)=>{N.d(Ne,{z:()=>o});const o={setTimeout(j,F,...le){const{delegate:de}=o;return de?.setTimeout?de.setTimeout(j,F,...le):setTimeout(j,F,...le)},clearTimeout(j){const{delegate:F}=o;return(F?.clearTimeout||clearTimeout)(j)},delegate:void 0}},2202:(Ht,Ne,N)=>{N.d(Ne,{h:()=>j});const j=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Ht,Ne,N)=>{N.d(Ne,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Ht,Ne,N)=>{N.d(Ne,{_6:()=>ae,jO:()=>le,yG:()=>de});var o=N(576),j=N(3532);function F(ke){return ke[ke.length-1]}function le(ke){return(0,o.m)(F(ke))?ke.pop():void 0}function de(ke){return(0,j.K)(F(ke))?ke.pop():void 0}function ae(ke,ge){return"number"==typeof F(ke)?ke.pop():ge}},8737:(Ht,Ne,N)=>{function o(j,F){if(j){const le=j.indexOf(F);0<=le&&j.splice(le,1)}}N.d(Ne,{P:()=>o})},3888:(Ht,Ne,N)=>{function o(j){const le=j(de=>{Error.call(de),de.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}N.d(Ne,{d:()=>o})},2806:(Ht,Ne,N)=>{N.d(Ne,{O:()=>le,x:()=>F});var o=N(2416);let j=null;function F(de){if(o.v.useDeprecatedSynchronousErrorHandling){const ae=!j;if(ae&&(j={errorThrown:!1,error:null}),de(),ae){const{errorThrown:ke,error:ge}=j;if(j=null,ke)throw ge}}else de()}function le(de){o.v.useDeprecatedSynchronousErrorHandling&&j&&(j.errorThrown=!0,j.error=de)}},9672:(Ht,Ne,N)=>{function o(j,F,le,de=0,ae=!1){const ke=F.schedule(function(){le(),ae?j.add(this.schedule(null,de)):this.unsubscribe()},de);if(j.add(ke),!ae)return ke}N.d(Ne,{f:()=>o})},4671:(Ht,Ne,N)=>{function o(j){return j}N.d(Ne,{y:()=>o})},1144:(Ht,Ne,N)=>{N.d(Ne,{z:()=>o});const o=j=>j&&"number"==typeof j.length&&"function"!=typeof j},2206:(Ht,Ne,N)=>{N.d(Ne,{D:()=>j});var o=N(576);function j(F){return Symbol.asyncIterator&&(0,o.m)(F?.[Symbol.asyncIterator])}},576:(Ht,Ne,N)=>{function o(j){return"function"==typeof j}N.d(Ne,{m:()=>o})},3670:(Ht,Ne,N)=>{N.d(Ne,{c:()=>F});var o=N(8822),j=N(576);function F(le){return(0,j.m)(le[o.L])}},6495:(Ht,Ne,N)=>{N.d(Ne,{T:()=>F});var o=N(2202),j=N(576);function F(le){return(0,j.m)(le?.[o.h])}},8239:(Ht,Ne,N)=>{N.d(Ne,{t:()=>j});var o=N(576);function j(F){return(0,o.m)(F?.then)}},3260:(Ht,Ne,N)=>{N.d(Ne,{L:()=>le,Q:()=>F});var o=N(655),j=N(576);function F(de){return(0,o.FC)(this,arguments,function*(){const ke=de.getReader();try{for(;;){const{value:ge,done:_e}=yield(0,o.qq)(ke.read());if(_e)return yield(0,o.qq)(void 0);yield yield(0,o.qq)(ge)}}finally{ke.releaseLock()}})}function le(de){return(0,j.m)(de?.getReader)}},3532:(Ht,Ne,N)=>{N.d(Ne,{K:()=>j});var o=N(576);function j(F){return F&&(0,o.m)(F.schedule)}},4482:(Ht,Ne,N)=>{N.d(Ne,{A:()=>j,e:()=>F});var o=N(576);function j(le){return(0,o.m)(le?.lift)}function F(le){return de=>{if(j(de))return de.lift(function(ae){try{return le(ae,this)}catch(ke){this.error(ke)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Ht,Ne,N)=>{function o(){}N.d(Ne,{Z:()=>o})},9635:(Ht,Ne,N)=>{N.d(Ne,{U:()=>F,z:()=>j});var o=N(4671);function j(...le){return F(le)}function F(le){return 0===le.length?o.y:1===le.length?le[0]:function(ae){return le.reduce((ke,ge)=>ge(ke),ae)}}},7849:(Ht,Ne,N)=>{N.d(Ne,{h:()=>F});var o=N(2416),j=N(3410);function F(le){j.z.setTimeout(()=>{const{onUnhandledError:de}=o.v;if(!de)throw le;de(le)})}},4532:(Ht,Ne,N)=>{function o(j){return new TypeError(`You provided ${null!==j&&"object"==typeof j?"an invalid object":`'${j}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(Ne,{z:()=>o})},655:(Ht,Ne,N)=>{N.d(Ne,{CR:()=>Me,FC:()=>je,Jh:()=>Je,KL:()=>it,XA:()=>st,_T:()=>le,ev:()=>Oe,gn:()=>de,mG:()=>ie,pi:()=>F,qq:()=>Be,w6:()=>K});var F=function(){return F=Object.assign||function(we){for(var He,Ue=1,qe=arguments.length;Ue<qe;Ue++)for(var $e in He=arguments[Ue])Object.prototype.hasOwnProperty.call(He,$e)&&(we[$e]=He[$e]);return we},F.apply(this,arguments)};function le(pe,we){var He={};for(var Ue in pe)Object.prototype.hasOwnProperty.call(pe,Ue)&&we.indexOf(Ue)<0&&(He[Ue]=pe[Ue]);if(null!=pe&&"function"==typeof Object.getOwnPropertySymbols){var qe=0;for(Ue=Object.getOwnPropertySymbols(pe);qe<Ue.length;qe++)we.indexOf(Ue[qe])<0&&Object.prototype.propertyIsEnumerable.call(pe,Ue[qe])&&(He[Ue[qe]]=pe[Ue[qe]])}return He}function de(pe,we,He,Ue){var Xe,qe=arguments.length,$e=qe<3?we:null===Ue?Ue=Object.getOwnPropertyDescriptor(we,He):Ue;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)$e=Reflect.decorate(pe,we,He,Ue);else for(var bt=pe.length-1;bt>=0;bt--)(Xe=pe[bt])&&($e=(qe<3?Xe($e):qe>3?Xe(we,He,$e):Xe(we,He))||$e);return qe>3&&$e&&Object.defineProperty(we,He,$e),$e}function K(pe,we){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(pe,we)}function ie(pe,we,He,Ue){return new(He||(He=Promise))(function($e,Xe){function bt(Lt){try{Pt(Ue.next(Lt))}catch(lt){Xe(lt)}}function Pn(Lt){try{Pt(Ue.throw(Lt))}catch(lt){Xe(lt)}}function Pt(Lt){Lt.done?$e(Lt.value):function qe($e){return $e instanceof He?$e:new He(function(Xe){Xe($e)})}(Lt.value).then(bt,Pn)}Pt((Ue=Ue.apply(pe,we||[])).next())})}function Je(pe,we){var Ue,qe,$e,Xe,He={label:0,sent:function(){if(1&$e[0])throw $e[1];return $e[1]},trys:[],ops:[]};return Xe={next:bt(0),throw:bt(1),return:bt(2)},"function"==typeof Symbol&&(Xe[Symbol.iterator]=function(){return this}),Xe;function bt(Pt){return function(Lt){return function Pn(Pt){if(Ue)throw new TypeError("Generator is already executing.");for(;Xe&&(Xe=0,Pt[0]&&(He=0)),He;)try{if(Ue=1,qe&&($e=2&Pt[0]?qe.return:Pt[0]?qe.throw||(($e=qe.return)&&$e.call(qe),0):qe.next)&&!($e=$e.call(qe,Pt[1])).done)return $e;switch(qe=0,$e&&(Pt=[2&Pt[0],$e.value]),Pt[0]){case 0:case 1:$e=Pt;break;case 4:return He.label++,{value:Pt[1],done:!1};case 5:He.label++,qe=Pt[1],Pt=[0];continue;case 7:Pt=He.ops.pop(),He.trys.pop();continue;default:if(!($e=($e=He.trys).length>0&&$e[$e.length-1])&&(6===Pt[0]||2===Pt[0])){He=0;continue}if(3===Pt[0]&&(!$e||Pt[1]>$e[0]&&Pt[1]<$e[3])){He.label=Pt[1];break}if(6===Pt[0]&&He.label<$e[1]){He.label=$e[1],$e=Pt;break}if($e&&He.label<$e[2]){He.label=$e[2],He.ops.push(Pt);break}$e[2]&&He.ops.pop(),He.trys.pop();continue}Pt=we.call(pe,He)}catch(Lt){Pt=[6,Lt],qe=0}finally{Ue=$e=0}if(5&Pt[0])throw Pt[1];return{value:Pt[0]?Pt[1]:void 0,done:!0}}([Pt,Lt])}}}function st(pe){var we="function"==typeof Symbol&&Symbol.iterator,He=we&&pe[we],Ue=0;if(He)return He.call(pe);if(pe&&"number"==typeof pe.length)return{next:function(){return pe&&Ue>=pe.length&&(pe=void 0),{value:pe&&pe[Ue++],done:!pe}}};throw new TypeError(we?"Object is not iterable.":"Symbol.iterator is not defined.")}function Me(pe,we){var He="function"==typeof Symbol&&pe[Symbol.iterator];if(!He)return pe;var qe,Xe,Ue=He.call(pe),$e=[];try{for(;(void 0===we||we-- >0)&&!(qe=Ue.next()).done;)$e.push(qe.value)}catch(bt){Xe={error:bt}}finally{try{qe&&!qe.done&&(He=Ue.return)&&He.call(Ue)}finally{if(Xe)throw Xe.error}}return $e}function Oe(pe,we,He){if(He||2===arguments.length)for(var $e,Ue=0,qe=we.length;Ue<qe;Ue++)($e||!(Ue in we))&&($e||($e=Array.prototype.slice.call(we,0,Ue)),$e[Ue]=we[Ue]);return pe.concat($e||Array.prototype.slice.call(we))}function Be(pe){return this instanceof Be?(this.v=pe,this):new Be(pe)}function je(pe,we,He){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var qe,Ue=He.apply(pe,we||[]),$e=[];return qe={},Xe("next"),Xe("throw"),Xe("return"),qe[Symbol.asyncIterator]=function(){return this},qe;function Xe(rn){Ue[rn]&&(qe[rn]=function(r1){return new Promise(function(e1,An){$e.push([rn,r1,e1,An])>1||bt(rn,r1)})})}function bt(rn,r1){try{!function Pn(rn){rn.value instanceof Be?Promise.resolve(rn.value.v).then(Pt,Lt):lt($e[0][2],rn)}(Ue[rn](r1))}catch(e1){lt($e[0][3],e1)}}function Pt(rn){bt("next",rn)}function Lt(rn){bt("throw",rn)}function lt(rn,r1){rn(r1),$e.shift(),$e.length&&bt($e[0][0],$e[0][1])}}function it(pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var He,we=pe[Symbol.asyncIterator];return we?we.call(pe):(pe=st(pe),He={},Ue("next"),Ue("throw"),Ue("return"),He[Symbol.asyncIterator]=function(){return this},He);function Ue($e){He[$e]=pe[$e]&&function(Xe){return new Promise(function(bt,Pn){!function qe($e,Xe,bt,Pn){Promise.resolve(Pn).then(function(Pt){$e({value:Pt,done:bt})},Xe)}(bt,Pn,(Xe=pe[$e](Xe)).done,Xe.value)})}}}},4650:(Ht,Ne,N)=>{N.d(Ne,{$8M:()=>t8,$WT:()=>Ft,$Z:()=>dy,AFp:()=>lb,ALo:()=>z0,AaK:()=>ge,AsE:()=>xd,BQk:()=>u4,CHM:()=>X1,CRH:()=>qC,CZH:()=>z5,CqO:()=>Z8,D6c:()=>Mm,DdM:()=>D0,EJc:()=>VD,EiD:()=>m9,EpF:()=>X9,F$t:()=>p0,F4k:()=>gd,FYo:()=>S9,FiY:()=>Uc,Gf:()=>z4,GfV:()=>Bv,Gpc:()=>K,Hsn:()=>F3,Ikx:()=>ko,JOm:()=>ds,JVY:()=>ba,JZr:()=>st,Jf7:()=>Wv,KtG:()=>Bl,L6k:()=>U6,LAX:()=>Cv,LFG:()=>Ke,LSH:()=>_9,Lbi:()=>AD,Lck:()=>TC,MGl:()=>vd,MMx:()=>Nd,MR2:()=>S8,NdJ:()=>K8,O4$:()=>x6,OlP:()=>un,Oqu:()=>o5,P3R:()=>q6,PXZ:()=>I4,Q6J:()=>md,QGY:()=>ep,QbO:()=>HD,Qsj:()=>k8,R0b:()=>Kr,RDi:()=>YS,Rgc:()=>Ao,SBq:()=>A3,Sil:()=>ID,Suo:()=>jd,TTD:()=>St,TgZ:()=>G8,Tol:()=>Md,Udp:()=>pp,VKq:()=>y5,X6Q:()=>cf,XFs:()=>ht,Xpm:()=>A1,Xts:()=>$6,Y36:()=>e0,YKP:()=>Op,YNc:()=>Q9,Yjl:()=>Ge,Yz7:()=>lt,Z0I:()=>An,ZZ4:()=>bm,_Bn:()=>Rp,_UZ:()=>$8,_Vd:()=>z3,_c5:()=>N5,_uU:()=>_p,aQg:()=>j0,c2e:()=>LD,cJS:()=>r1,cg1:()=>Dt,d8E:()=>l5,dDg:()=>RD,dqk:()=>xt,eBb:()=>yv,eFA:()=>bb,eJc:()=>Jp,ekj:()=>m0,eoX:()=>fm,evT:()=>z9,f3M:()=>pt,g9A:()=>db,h0i:()=>Z3,hGG:()=>gf,hij:()=>p4,iGM:()=>Kp,ifc:()=>V,ip1:()=>k5,jDz:()=>Bp,kL8:()=>cC,kcU:()=>Yl,lG2:()=>ve,lcZ:()=>A0,lqb:()=>e4,lri:()=>um,mCW:()=>j6,n5z:()=>f7,oAB:()=>Mt,oJD:()=>nT,oxw:()=>ip,pB0:()=>QS,q3G:()=>J2,q4F:()=>Uv,qLn:()=>z8,qOj:()=>ld,qZA:()=>O3,qzn:()=>k3,rWj:()=>dm,s9C:()=>Q8,sBO:()=>wb,s_b:()=>La,soG:()=>Qd,tb:()=>vb,tp0:()=>ma,uIk:()=>j8,vHH:()=>Me,vpe:()=>zo,wAp:()=>fe,xi3:()=>Yp,xp6:()=>Jv,ynx:()=>d0,z2F:()=>N4,z3N:()=>Mo,zSh:()=>T8,zs3:()=>H3});var o=N(7579),j=N(727),F=N(9751),le=N(6451),de=N(3099);function ae(l){for(let u in l)if(l[u]===ae)return u;throw Error("Could not find renamed property on target object.")}function ke(l,u){for(const f in u)u.hasOwnProperty(f)&&!l.hasOwnProperty(f)&&(l[f]=u[f])}function ge(l){if("string"==typeof l)return l;if(Array.isArray(l))return"["+l.map(ge).join(", ")+"]";if(null==l)return""+l;if(l.overriddenName)return`${l.overriddenName}`;if(l.name)return`${l.name}`;const u=l.toString();if(null==u)return""+u;const f=u.indexOf("\n");return-1===f?u:u.substring(0,f)}function _e(l,u){return null==l||""===l?null===u?"":u:null==u||""===u?l:l+" "+u}const $=ae({__forward_ref__:ae});function K(l){return l.__forward_ref__=K,l.toString=function(){return ge(this())},l}function ie(l){return Je(l)?l():l}function Je(l){return"function"==typeof l&&l.hasOwnProperty($)&&l.__forward_ref__===K}function Ae(l){return l&&!!l.\u0275providers}const st="https://g.co/ng/security#xss";class Me extends Error{constructor(u,f){super(Ie(u,f)),this.code=u}}function Ie(l,u){return`NG0${Math.abs(l)}${u?": "+u.trim():""}`}function Re(l){return"string"==typeof l?l:null==l?"":String(l)}function it(l,u){throw new Me(-201,!1)}function Xe(l,u){null==l&&function bt(l,u,f,p){throw new Error(`ASSERTION ERROR: ${l}`+(null==p?"":` [Expected=> ${f} ${p} ${u} <=Actual]`))}(u,l,null,"!=")}function lt(l){return{token:l.token,providedIn:l.providedIn||null,factory:l.factory,value:void 0}}function r1(l){return{providers:l.providers||[],imports:l.imports||[]}}function e1(l){return s1(l,J1)||s1(l,Un)}function An(l){return null!==e1(l)}function s1(l,u){return l.hasOwnProperty(u)?l[u]:null}function E1(l){return l&&(l.hasOwnProperty(D2)||l.hasOwnProperty(C1))?l[D2]:null}const J1=ae({\u0275prov:ae}),D2=ae({\u0275inj:ae}),Un=ae({ngInjectableDef:ae}),C1=ae({ngInjectorDef:ae});var ht=(()=>((ht=ht||{})[ht.Default=0]="Default",ht[ht.Host=1]="Host",ht[ht.Self=2]="Self",ht[ht.SkipSelf=4]="SkipSelf",ht[ht.Optional=8]="Optional",ht))();let V1;function z1(l){const u=V1;return V1=l,u}function I1(l,u,f){const p=e1(l);return p&&"root"==p.providedIn?void 0===p.value?p.value=p.factory():p.value:f&ht.Optional?null:void 0!==u?u:void it(ge(l))}const xt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),u1={},x1="__NG_DI_FLAG__",N1="ngTempTokenPath",b1="ngTokenPath",R2=/\n/gm,Jt="\u0275",Z2="__source";let sn;function $n(l){const u=sn;return sn=l,u}function M1(l,u=ht.Default){if(void 0===sn)throw new Me(-203,!1);return null===sn?I1(l,void 0,u):sn.get(l,u&ht.Optional?null:void 0,u)}function Ke(l,u=ht.Default){return(function k2(){return V1}()||M1)(ie(l),u)}function pt(l,u=ht.Default){return Ke(l,Vt(u))}function Vt(l){return typeof l>"u"||"number"==typeof l?l:0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)}function Xt(l){const u=[];for(let f=0;f<l.length;f++){const p=ie(l[f]);if(Array.isArray(p)){if(0===p.length)throw new Me(900,!1);let m,_=ht.Default;for(let b=0;b<p.length;b++){const x=p[b],D=m1(x);"number"==typeof D?-1===D?m=x.token:_|=D:m=x}u.push(Ke(m,_))}else u.push(Ke(p))}return u}function vn(l,u){return l[x1]=u,l.prototype[x1]=u,l}function m1(l){return l[x1]}function I(l){return{toString:l}.toString()}var P=(()=>((P=P||{})[P.OnPush=0]="OnPush",P[P.Default=1]="Default",P))(),V=(()=>{return(l=V||(V={}))[l.Emulated=0]="Emulated",l[l.None=2]="None",l[l.ShadowDom=3]="ShadowDom",V;var l})();const se={},me=[],vt=ae({\u0275cmp:ae}),Ot=ae({\u0275dir:ae}),Kt=ae({\u0275pipe:ae}),an=ae({\u0275mod:ae}),Zt=ae({\u0275fac:ae}),Vn=ae({__NG_ELEMENT_ID__:ae});let fn=0;function A1(l){return I(()=>{const f=!0===l.standalone,p={},m={type:l.type,providersResolver:null,decls:l.decls,vars:l.vars,factory:null,template:l.template||null,consts:l.consts||null,ngContentSelectors:l.ngContentSelectors,hostBindings:l.hostBindings||null,hostVars:l.hostVars||0,hostAttrs:l.hostAttrs||null,contentQueries:l.contentQueries||null,declaredInputs:p,inputs:null,outputs:null,exportAs:l.exportAs||null,onPush:l.changeDetection===P.OnPush,directiveDefs:null,pipeDefs:null,standalone:f,dependencies:f&&l.dependencies||null,getStandaloneInjector:null,selectors:l.selectors||me,viewQuery:l.viewQuery||null,features:l.features||null,data:l.data||{},encapsulation:l.encapsulation||V.Emulated,id:"c"+fn++,styles:l.styles||me,_:null,setInput:null,schemas:l.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},_=l.dependencies,b=l.features;return m.inputs=Q(l.inputs,p),m.outputs=Q(l.outputs),b&&b.forEach(x=>x(m)),m.directiveDefs=_?()=>("function"==typeof _?_():_).map(ye).filter(mt):null,m.pipeDefs=_?()=>("function"==typeof _?_():_).map(Bt).filter(mt):null,m})}function ye(l){return et(l)||cn(l)}function mt(l){return null!==l}function Mt(l){return I(()=>({type:l.type,bootstrap:l.bootstrap||me,declarations:l.declarations||me,imports:l.imports||me,exports:l.exports||me,transitiveCompileScopes:null,schemas:l.schemas||null,id:l.id||null}))}function Q(l,u){if(null==l)return se;const f={};for(const p in l)if(l.hasOwnProperty(p)){let m=l[p],_=m;Array.isArray(m)&&(_=m[1],m=m[0]),f[m]=p,u&&(u[m]=_)}return f}const ve=A1;function Ge(l){return{type:l.type,name:l.name,factory:null,pure:!1!==l.pure,standalone:!0===l.standalone,onDestroy:l.type.prototype.ngOnDestroy||null}}function et(l){return l[vt]||null}function cn(l){return l[Ot]||null}function Bt(l){return l[Kt]||null}function Ft(l){const u=et(l)||cn(l)||Bt(l);return null!==u&&u.standalone}function t1(l,u){const f=l[an]||null;if(!f&&!0===u)throw new Error(`Type ${ge(l)} does not have '\u0275mod' property.`);return f}const B1=0,at=1,nn=2,jn=3,U1=4,no=5,u2=6,_r=7,P1=8,S1=9,Ts=10,hn=11,Zn=12,Ja=13,Xa=14,Ds=15,j1=16,ks=17,zs=18,vr=19,Pr=20,na=21,Rn=22,Dc=1,W1=2,io=7,As=8,ro=9,d2=10;function O2(l){return Array.isArray(l)&&"object"==typeof l[Dc]}function Ai(l){return Array.isArray(l)&&!0===l[Dc]}function Wi(l){return 0!=(4&l.flags)}function Rr(l){return l.componentOffset>-1}function Yi(l){return 1==(1&l.flags)}function rr(l){return null!==l.template}function Wu(l){return 0!=(256&l[nn])}function Se(l,u){return l.hasOwnProperty(Zt)?l[Zt]:null}class tt{constructor(u,f,p){this.previousValue=u,this.currentValue=f,this.firstChange=p}isFirstChange(){return this.firstChange}}function St(){return ln}function ln(l){return l.type.prototype.ngOnChanges&&(l.setInput=Sn),yn}function yn(){const l=Y1(this),u=l?.current;if(u){const f=l.previous;if(f===se)l.previous=u;else for(let p in u)f[p]=u[p];l.current=null,this.ngOnChanges(u)}}function Sn(l,u,f,p){const m=this.declaredInputs[f],_=Y1(l)||function mi(l,u){return l[On]=u}(l,{previous:se,current:null}),b=_.current||(_.current={}),x=_.previous,D=x[m];b[m]=new tt(D&&D.currentValue,u,x===se),l[p]=u}St.ngInherit=!0;const On="__ngSimpleChanges__";function Y1(l){return l[On]||null}const gi=function(l,u,f){},yr="svg";function g1(l){for(;Array.isArray(l);)l=l[B1];return l}function n3(l,u){return g1(u[l])}function ri(l,u){return g1(u[l.index])}function Hc(l,u){return l.data[u]}function co(l,u){return l[u]}function sr(l,u){const f=u[l];return O2(f)?f:f[B1]}function ra(l){return 64==(64&l[nn])}function Or(l,u){return null==u?null:l[u]}function Ku(l){l[zs]=0}function C6(l,u){l[no]+=u;let f=l,p=l[jn];for(;null!==p&&(1===u&&1===f[no]||-1===u&&0===f[no]);)p[no]+=u,f=p,p=p[jn]}const pn={lFrame:Rh(null),bindingsEnabled:!0};function Qu(){return pn.bindingsEnabled}function We(){return pn.lFrame.lView}function Fn(){return pn.lFrame.tView}function X1(l){return pn.lFrame.contextLView=l,l[P1]}function Bl(l){return pn.lFrame.contextLView=null,l}function vi(){let l=Vh();for(;null!==l&&64===l.type;)l=l.parent;return l}function Vh(){return pn.lFrame.currentTNode}function Es(l,u){const f=pn.lFrame;f.currentTNode=l,f.isParent=u}function M6(){return pn.lFrame.isParent}function Ul(){pn.lFrame.isParent=!1}function yi(){const l=pn.lFrame;let u=l.bindingRootIndex;return-1===u&&(u=l.bindingRootIndex=l.tView.bindingStartIndex),u}function as(){return pn.lFrame.bindingIndex++}function or(l){const u=pn.lFrame,f=u.bindingIndex;return u.bindingIndex=u.bindingIndex+l,f}function t7(l,u){const f=pn.lFrame;f.bindingIndex=f.bindingRootIndex=l,w6(u)}function w6(l){pn.lFrame.currentDirectiveIndex=l}function n7(l){const u=pn.lFrame.currentDirectiveIndex;return-1===u?null:l[u]}function sa(){return pn.lFrame.currentQueryIndex}function Lc(l){pn.lFrame.currentQueryIndex=l}function J_(l){const u=l[at];return 2===u.type?u.declTNode:1===u.type?l[u2]:null}function Nh(l,u,f){if(f&ht.SkipSelf){let m=u,_=l;for(;!(m=m.parent,null!==m||f&ht.Host||(m=J_(_),null===m||(_=_[Ds],10&m.type))););if(null===m)return!1;u=m,l=_}const p=pn.lFrame=Ph();return p.currentTNode=u,p.lView=l,!0}function r7(l){const u=Ph(),f=l[at];pn.lFrame=u,u.currentTNode=f.firstChild,u.lView=l,u.tView=f,u.contextLView=l,u.bindingIndex=f.bindingStartIndex,u.inI18n=!1}function Ph(){const l=pn.lFrame,u=null===l?null:l.child;return null===u?Rh(l):u}function Rh(l){const u={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:l,child:null,inI18n:!1};return null!==l&&(l.child=u),u}function X_(){const l=pn.lFrame;return pn.lFrame=l.parent,l.currentTNode=null,l.lView=null,l}const Oh=X_;function s7(){const l=X_();l.isParent=!0,l.tView=null,l.selectedIndex=-1,l.contextLView=null,l.elementDepthCount=0,l.currentDirectiveIndex=-1,l.currentNamespace=null,l.bindingRootIndex=-1,l.bindingIndex=-1,l.currentQueryIndex=0}function Gi(){return pn.lFrame.selectedIndex}function Ec(l){pn.lFrame.selectedIndex=l}function e2(){const l=pn.lFrame;return Hc(l.tView,l.selectedIndex)}function x6(){pn.lFrame.currentNamespace=yr}function Yl(){!function ev(){pn.lFrame.currentNamespace=null}()}function ql(l,u){for(let f=u.directiveStart,p=u.directiveEnd;f<p;f++){const _=l.data[f].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:x,ngAfterViewInit:D,ngAfterViewChecked:z,ngOnDestroy:E}=_;b&&(l.contentHooks||(l.contentHooks=[])).push(-f,b),x&&((l.contentHooks||(l.contentHooks=[])).push(f,x),(l.contentCheckHooks||(l.contentCheckHooks=[])).push(f,x)),D&&(l.viewHooks||(l.viewHooks=[])).push(-f,D),z&&((l.viewHooks||(l.viewHooks=[])).push(f,z),(l.viewCheckHooks||(l.viewCheckHooks=[])).push(f,z)),null!=E&&(l.destroyHooks||(l.destroyHooks=[])).push(f,E)}}function Vc(l,u,f){S6(l,u,3,f)}function Ic(l,u,f,p){(3&l[nn])===f&&S6(l,u,f,p)}function o7(l,u){let f=l[nn];(3&f)===u&&(f&=2047,f+=1,l[nn]=f)}function S6(l,u,f,p){const _=p??-1,b=u.length-1;let x=0;for(let D=void 0!==p?65535&l[zs]:0;D<b;D++)if("number"==typeof u[D+1]){if(x=u[D],null!=p&&x>=p)break}else u[D]<0&&(l[zs]+=65536),(x<_||-1==_)&&(a7(l,f,u,D),l[zs]=(4294901760&l[zs])+D+2),D++}function a7(l,u,f,p){const m=f[p]<0,_=f[p+1],x=l[m?-f[p]:f[p]];if(m){if(l[nn]>>11<l[zs]>>16&&(3&l[nn])===u){l[nn]+=2048,gi(4,x,_);try{_.call(x)}finally{gi(5,x,_)}}}else{gi(4,x,_);try{_.call(x)}finally{gi(5,x,_)}}}const lo=-1;class Vs{constructor(u,f,p){this.factory=u,this.resolving=!1,this.canSeeViewProviders=f,this.injectImpl=p}}function s3(l,u,f){let p=0;for(;p<f.length;){const m=f[p];if("number"==typeof m){if(0!==m)break;p++;const _=f[p++],b=f[p++],x=f[p++];l.setAttribute(u,b,x,_)}else{const _=m,b=f[++p];$l(_)?l.setProperty(u,_,b):l.setAttribute(u,_,b),p++}}return p}function q1(l){return 3===l||4===l||6===l}function $l(l){return 64===l.charCodeAt(0)}function uo(l,u){if(null!==u&&0!==u.length)if(null===l||0===l.length)l=u.slice();else{let f=-1;for(let p=0;p<u.length;p++){const m=u[p];"number"==typeof m?f=m:0===f||o3(l,f,m,null,-1===f||2===f?u[++p]:null)}}return l}function o3(l,u,f,p,m){let _=0,b=l.length;if(-1===u)b=-1;else for(;_<l.length;){const x=l[_++];if("number"==typeof x){if(x===u){b=-1;break}if(x>u){b=_-1;break}}}for(;_<l.length;){const x=l[_];if("number"==typeof x)break;if(x===f){if(null===p)return void(null!==m&&(l[_+1]=m));if(p===l[_+1])return void(l[_+2]=m)}_++,null!==p&&_++,null!==m&&_++}-1!==b&&(l.splice(b,0,u),_=b+1),l.splice(_++,0,f),null!==p&&l.splice(_++,0,p),null!==m&&l.splice(_++,0,m)}function a3(l){return l!==lo}function c3(l){return 32767&l}function l3(l,u){let f=function l7(l){return l>>16}(l),p=u;for(;f>0;)p=p[Ds],f--;return p}let Zl=!0;function oa(l){const u=Zl;return Zl=l,u}const aa=255,Nc=5;let jh=0;const ar={};function Is(l,u){const f=k6(l,u);if(-1!==f)return f;const p=u[at];p.firstCreatePass&&(l.injectorIndex=u.length,Pc(p.data,l),Pc(u,null),Pc(p.blueprint,null));const m=Rc(l,u),_=l.injectorIndex;if(a3(m)){const b=c3(m),x=l3(m,u),D=x[at].data;for(let z=0;z<8;z++)u[_+z]=x[b+z]|D[b+z]}return u[_+8]=m,_}function Pc(l,u){l.push(0,0,0,0,0,0,0,0,u)}function k6(l,u){return-1===l.injectorIndex||l.parent&&l.parent.injectorIndex===l.injectorIndex||null===u[l.injectorIndex+8]?-1:l.injectorIndex}function Rc(l,u){if(l.parent&&-1!==l.parent.injectorIndex)return l.parent.injectorIndex;let f=0,p=null,m=u;for(;null!==m;){if(p=Oc(m),null===p)return lo;if(f++,m=m[Ds],-1!==p.injectorIndex)return p.injectorIndex|f<<16}return lo}function z6(l,u,f){!function Kl(l,u,f){let p;"string"==typeof f?p=f.charCodeAt(0)||0:f.hasOwnProperty(Vn)&&(p=f[Vn]),null==p&&(p=f[Vn]=jh++);const m=p&aa;u.data[l+(m>>Nc)]|=1<<m}(l,u,f)}function Ql(l,u,f){if(f&ht.Optional||void 0!==l)return l;it()}function A6(l,u,f,p){if(f&ht.Optional&&void 0===p&&(p=null),!(f&(ht.Self|ht.Host))){const m=l[S1],_=z1(void 0);try{return m?m.get(u,p,f&ht.Optional):I1(u,p,f&ht.Optional)}finally{z1(_)}}return Ql(p,0,f)}function u7(l,u,f,p=ht.Default,m){if(null!==l){if(1024&u[nn]){const b=function Gh(l,u,f,p,m){let _=l,b=u;for(;null!==_&&null!==b&&1024&b[nn]&&!(256&b[nn]);){const x=Jl(_,b,f,p|ht.Self,ar);if(x!==ar)return x;let D=_.parent;if(!D){const z=b[na];if(z){const E=z.get(f,ar,p);if(E!==ar)return E}D=Oc(b),b=b[Ds]}_=D}return m}(l,u,f,p,ar);if(b!==ar)return b}const _=Jl(l,u,f,p,ar);if(_!==ar)return _}return A6(u,f,p,m)}function Jl(l,u,f,p,m){const _=function H6(l){if("string"==typeof l)return l.charCodeAt(0)||0;const u=l.hasOwnProperty(Vn)?l[Vn]:void 0;return"number"==typeof u?u>=0?u&aa:Xl:u}(f);if("function"==typeof _){if(!Nh(u,l,p))return p&ht.Host?Ql(m,0,p):A6(u,f,p,m);try{const b=_(p);if(null!=b||p&ht.Optional)return b;it()}finally{Oh()}}else if("number"==typeof _){let b=null,x=k6(l,u),D=lo,z=p&ht.Host?u[j1][u2]:null;for((-1===x||p&ht.SkipSelf)&&(D=-1===x?Rc(l,u):u[x+8],D!==lo&&qh(p,!1)?(b=u[at],x=c3(D),u=l3(D,u)):x=-1);-1!==x;){const E=u[at];if(d7(_,x,E.data)){const U=Yh(x,u,f,b,p,z);if(U!==ar)return U}D=u[x+8],D!==lo&&qh(p,u[at].data[x+8]===z)&&d7(_,x,u)?(b=E,x=c3(D),u=l3(D,u)):x=-1}}return m}function Yh(l,u,f,p,m,_){const b=u[at],x=b.data[l+8],E=u3(x,b,f,null==p?Rr(x)&&Zl:p!=b&&0!=(3&x.type),m&ht.Host&&_===x);return null!==E?ca(u,b,E,x):ar}function u3(l,u,f,p,m){const _=l.providerIndexes,b=u.data,x=1048575&_,D=l.directiveStart,E=_>>20,ee=m?x+E:l.directiveEnd;for(let ce=p?x:x+E;ce<ee;ce++){const Le=b[ce];if(ce<D&&f===Le||ce>=D&&Le.type===f)return ce}if(m){const ce=b[D];if(ce&&rr(ce)&&ce.type===f)return D}return null}function ca(l,u,f,p){let m=l[f];const _=u.data;if(function Fh(l){return l instanceof Vs}(m)){const b=m;b.resolving&&function Be(l,u){const f=u?`. Dependency path: ${u.join(" > ")} > ${l}`:"";throw new Me(-200,`Circular dependency in DI detected for ${l}${f}`)}(function Oe(l){return"function"==typeof l?l.name||l.toString():"object"==typeof l&&null!=l&&"function"==typeof l.type?l.type.name||l.type.toString():Re(l)}(_[f]));const x=oa(b.canSeeViewProviders);b.resolving=!0;const D=b.injectImpl?z1(b.injectImpl):null;Nh(l,p,ht.Default);try{m=l[f]=b.factory(void 0,_,l,p),u.firstCreatePass&&f>=p.directiveStart&&function nv(l,u,f){const{ngOnChanges:p,ngOnInit:m,ngDoCheck:_}=u.type.prototype;if(p){const b=ln(u);(f.preOrderHooks||(f.preOrderHooks=[])).push(l,b),(f.preOrderCheckHooks||(f.preOrderCheckHooks=[])).push(l,b)}m&&(f.preOrderHooks||(f.preOrderHooks=[])).push(0-l,m),_&&((f.preOrderHooks||(f.preOrderHooks=[])).push(l,_),(f.preOrderCheckHooks||(f.preOrderCheckHooks=[])).push(l,_))}(f,_[f],u)}finally{null!==D&&z1(D),oa(x),b.resolving=!1,Oh()}}return m}function d7(l,u,f){return!!(f[u+(l>>Nc)]&1<<l)}function qh(l,u){return!(l&ht.Self||l&ht.Host&&u)}class la{constructor(u,f){this._tNode=u,this._lView=f}get(u,f,p){return u7(this._tNode,this._lView,u,Vt(p),f)}}function Xl(){return new la(vi(),We())}function f7(l){return I(()=>{const u=l.prototype.constructor,f=u[Zt]||e8(u),p=Object.prototype;let m=Object.getPrototypeOf(l.prototype).constructor;for(;m&&m!==p;){const _=m[Zt]||e8(m);if(_&&_!==f)return _;m=Object.getPrototypeOf(m)}return _=>new _})}function e8(l){return Je(l)?()=>{const u=e8(ie(l));return u&&u()}:Se(l)}function Oc(l){const u=l[at],f=u.type;return 2===f?u.declTNode:1===f?l[u2]:null}function t8(l){return function Wh(l,u){if("class"===u)return l.classes;if("style"===u)return l.styles;const f=l.attrs;if(f){const p=f.length;let m=0;for(;m<p;){const _=f[m];if(q1(_))break;if(0===_)m+=2;else if("number"==typeof _)for(m++;m<p&&"string"==typeof f[m];)m++;else{if(_===u)return f[m+1];m+=2}}}return null}(vi(),l)}const da="__parameters__";function d3(l,u,f){return I(()=>{const p=function i8(l){return function(...f){if(l){const p=l(...f);for(const m in p)this[m]=p[m]}}}(u);function m(..._){if(this instanceof m)return p.apply(this,_),this;const b=new m(..._);return x.annotation=b,x;function x(D,z,E){const U=D.hasOwnProperty(da)?D[da]:Object.defineProperty(D,da,{value:[]})[da];for(;U.length<=E;)U.push(null);return(U[E]=U[E]||[]).push(b),D}}return f&&(m.prototype=Object.create(f.prototype)),m.prototype.ngMetadataName=l,m.annotationCls=m,m})}class un{constructor(u,f){this._desc=u,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof f?this.__NG_ELEMENT_ID__=f:void 0!==f&&(this.\u0275prov=lt({token:this,providedIn:f.providedIn||"root",factory:f.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ha(l,u){l.forEach(f=>Array.isArray(f)?ha(f,u):u(f))}function s8(l,u,f){u>=l.length?l.push(f):l.splice(u,0,f)}function L6(l,u){return u>=l.length-1?l.pop():l.splice(u,1)[0]}function E6(l,u){const f=[];for(let p=0;p<l;p++)f.push(u);return f}function cr(l,u,f){let p=pa(l,u);return p>=0?l[1|p]=f:(p=~p,function cv(l,u,f,p){let m=l.length;if(m==u)l.push(f,p);else if(1===m)l.push(p,l[0]),l[0]=f;else{for(m--,l.push(l[m-1],l[m]);m>u;)l[m]=l[m-2],m--;l[u]=f,l[u+1]=p}}(l,p,u,f)),p}function p3(l,u){const f=pa(l,u);if(f>=0)return l[1|f]}function pa(l,u){return function Cr(l,u,f){let p=0,m=l.length>>f;for(;m!==p;){const _=p+(m-p>>1),b=l[_<<f];if(u===b)return _<<f;b>u?m=_:p=_+1}return~(m<<f)}(l,u,1)}const Uc=vn(d3("Optional"),8),ma=vn(d3("SkipSelf"),4);var ds=(()=>((ds=ds||{})[ds.Important=1]="Important",ds[ds.DashCase=2]="DashCase",ds))();const Co=new Map;let f8=0;const va="__ngContext__";function bi(l,u){O2(u)?(l[va]=u[Pr],function br(l){Co.set(l[Pr],l)}(u)):l[va]=u}let H;function R(l,u){return H(l,u)}function Fe(l){const u=l[jn];return Ai(u)?u[jn]:u}function dn(l){return Mr(l[Ja])}function a1(l){return Mr(l[U1])}function Mr(l){for(;null!==l&&!Ai(l);)l=l[U1];return l}function Mi(l,u,f,p,m){if(null!=p){let _,b=!1;Ai(p)?_=p:O2(p)&&(b=!0,p=p[B1]);const x=g1(p);0===l&&null!==f?null==m?US(u,f,x):ya(u,f,x,m||null,!0):1===l&&null!==f?ya(u,f,x,m||null,!0):2===l?function b8(l,u,f){const p=S3(l,u);p&&function dv(l,u,f,p){l.removeChild(u,f,p)}(l,p,u,f)}(u,x,b):3===l&&u.destroyNode(x),null!=_&&function hv(l,u,f,p,m){const _=f[io];_!==g1(f)&&Mi(u,l,p,_,m);for(let x=d2;x<f.length;x++){const D=f[x];M8(D[at],D,l,u,p,_)}}(u,l,_,f,m)}}function qc(l,u,f){return l.createElement(u,f)}function D7(l,u){const f=l[ro],p=f.indexOf(u),m=u[jn];512&u[nn]&&(u[nn]&=-513,C6(m,-1)),f.splice(p,1)}function Gc(l,u){if(l.length<=d2)return;const f=d2+u,p=l[f];if(p){const m=p[ks];null!==m&&m!==l&&D7(m,p),u>0&&(l[f-1][U1]=p[U1]);const _=L6(l,d2+u);!function v8(l,u){M8(l,u,u[hn],2,null,null),u[B1]=null,u[u2]=null}(p[at],p);const b=_[vr];null!==b&&b.detachView(_[at]),p[jn]=null,p[U1]=null,p[nn]&=-65}return p}function k7(l,u){if(!(128&u[nn])){const f=u[hn];f.destroyNode&&M8(l,u,f,3,null,null),function S7(l){let u=l[Ja];if(!u)return n9(l[at],l);for(;u;){let f=null;if(O2(u))f=u[Ja];else{const p=u[d2];p&&(f=p)}if(!f){for(;u&&!u[U1]&&u!==l;)O2(u)&&n9(u[at],u),u=u[jn];null===u&&(u=l),O2(u)&&n9(u[at],u),f=u&&u[U1]}u=f}}(u)}}function n9(l,u){if(!(128&u[nn])){u[nn]&=-65,u[nn]|=128,function z7(l,u){let f;if(null!=l&&null!=(f=l.destroyHooks))for(let p=0;p<f.length;p+=2){const m=u[f[p]];if(!(m instanceof Vs)){const _=f[p+1];if(Array.isArray(_))for(let b=0;b<_.length;b+=2){const x=m[_[b]],D=_[b+1];gi(4,x,D);try{D.call(x)}finally{gi(5,x,D)}}else{gi(4,m,_);try{_.call(m)}finally{gi(5,m,_)}}}}}(l,u),function i9(l,u){const f=l.cleanup,p=u[_r];let m=-1;if(null!==f)for(let _=0;_<f.length-1;_+=2)if("string"==typeof f[_]){const b=f[_+3];b>=0?p[m=b]():p[m=-b].unsubscribe(),_+=2}else{const b=p[m=f[_+1]];f[_].call(b)}if(null!==p){for(let _=m+1;_<p.length;_++)(0,p[_])();u[_r]=null}}(l,u),1===u[at].type&&u[hn].destroy();const f=u[ks];if(null!==f&&Ai(u[jn])){f!==u[jn]&&D7(f,u);const p=u[vr];null!==p&&p.detachView(l)}!function p8(l){Co.delete(l[Pr])}(u)}}function uv(l,u,f){return function x3(l,u,f){let p=u;for(;null!==p&&40&p.type;)p=(u=p).parent;if(null===p)return f[B1];{const{componentOffset:m}=p;if(m>-1){const{encapsulation:_}=l.data[p.directiveStart+m];if(_===V.None||_===V.Emulated)return null}return ri(p,f)}}(l,u.parent,f)}function ya(l,u,f,p,m){l.insertBefore(u,f,p,m)}function US(l,u,f){l.appendChild(u,f)}function r9(l,u,f,p,m){null!==p?ya(l,u,f,p,m):US(l,u,f)}function S3(l,u){return l.parentNode(u)}function $c(l,u,f){return o9(l,u,f)}let A7,bo,d9,V7,o9=function s9(l,u,f){return 40&l.type?ri(l,f):null};function H7(l,u,f,p){const m=uv(l,p,u),_=u[hn],x=$c(p.parent||u[u2],p,u);if(null!=m)if(Array.isArray(f))for(let D=0;D<f.length;D++)r9(_,m,f[D],x,!1);else r9(_,m,f,x,!1);void 0!==A7&&A7(_,p,u,f,m)}function L7(l,u){if(null!==u){const f=u.type;if(3&f)return ri(u,l);if(4&f)return c9(-1,l[u.index]);if(8&f){const p=u.child;if(null!==p)return L7(l,p);{const m=l[u.index];return Ai(m)?c9(-1,m):g1(m)}}if(32&f)return R(u,l)()||g1(l[u.index]);{const p=a9(l,u);return null!==p?Array.isArray(p)?p[0]:L7(Fe(l[j1]),p):L7(l,u.next)}}return null}function a9(l,u){return null!==u?l[j1][u2].projection[u.projection]:null}function c9(l,u){const f=d2+l+1;if(f<u.length){const p=u[f],m=p[at].firstChild;if(null!==m)return L7(p,m)}return u[io]}function T3(l,u,f,p,m,_,b){for(;null!=f;){const x=p[f.index],D=f.type;if(b&&0===u&&(x&&bi(g1(x),p),f.flags|=2),32!=(32&f.flags))if(8&D)T3(l,u,f.child,p,m,_,!1),Mi(u,l,m,x,_);else if(32&D){const z=R(f,p);let E;for(;E=z();)Mi(u,l,m,E,_);Mi(u,l,m,x,_)}else 16&D?fv(l,u,p,f,m,_):Mi(u,l,m,x,_);f=b?f.projectionNext:f.next}}function M8(l,u,f,p,m,_){T3(f,p,l.firstChild,u,m,_,!1)}function fv(l,u,f,p,m,_){const b=f[j1],D=b[u2].projection[p.projection];if(Array.isArray(D))for(let z=0;z<D.length;z++)Mi(u,l,m,D[z],_);else T3(l,u,D,b[jn],m,_,!0)}function Rs(l,u,f){""===f?l.removeAttribute(u,"class"):l.setAttribute(u,"class",f)}function E7(l,u,f){const{mergedAttrs:p,classes:m,styles:_}=f;null!==p&&s3(l,u,p),null!==m&&Rs(l,u,m),null!==_&&function w8(l,u,f){l.setAttribute(u,"style",f)}(l,u,_)}function Ca(l){return function B6(){if(void 0===bo&&(bo=null,xt.trustedTypes))try{bo=xt.trustedTypes.createPolicy("angular",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch{}return bo}()?.createHTML(l)||l}function YS(l){d9=l}function f9(){if(void 0===V7&&(V7=null,xt.trustedTypes))try{V7=xt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch{}return V7}function gv(l){return f9()?.createHTML(l)||l}function vv(l){return f9()?.createScriptURL(l)||l}class D3{constructor(u){this.changingThisBreaksApplicationSecurity=u}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${st})`}}class qS extends D3{getTypeName(){return"HTML"}}class GS extends D3{getTypeName(){return"Style"}}class $S extends D3{getTypeName(){return"Script"}}class ZS extends D3{getTypeName(){return"URL"}}class KS extends D3{getTypeName(){return"ResourceURL"}}function Mo(l){return l instanceof D3?l.changingThisBreaksApplicationSecurity:l}function k3(l,u){const f=function h9(l){return l instanceof D3&&l.getTypeName()||null}(l);if(null!=f&&f!==u){if("ResourceURL"===f&&"URL"===u)return!0;throw new Error(`Required a safe ${u}, got a ${f} (see ${st})`)}return f===u}function ba(l){return new qS(l)}function U6(l){return new GS(l)}function yv(l){return new $S(l)}function Cv(l){return new ZS(l)}function QS(l){return new KS(l)}class bv{constructor(u){this.inertDocumentHelper=u}getInertBodyElement(u){u="<body><remove></remove>"+u;try{const f=(new window.DOMParser).parseFromString(Ca(u),"text/html").body;return null===f?this.inertDocumentHelper.getInertBodyElement(u):(f.removeChild(f.firstChild),f)}catch{return null}}}class JS{constructor(u){this.defaultDoc=u,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(u){const f=this.inertDocument.createElement("template");return f.innerHTML=Ca(u),f}}const Mv=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function j6(l){return(l=String(l)).match(Mv)?l:"unsafe:"+l}function wo(l){const u={};for(const f of l.split(","))u[f]=!0;return u}function Kc(...l){const u={};for(const f of l)for(const p in f)f.hasOwnProperty(p)&&(u[p]=!0);return u}const N7=wo("area,br,col,hr,img,wbr"),wv=wo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),W6=wo("rp,rt"),P7=Kc(N7,Kc(wv,wo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Kc(W6,wo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Kc(W6,wv)),R7=wo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Sv=Kc(R7,wo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),wo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),x8=wo("script,style,template");class O7{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(u){let f=u.firstChild,p=!0;for(;f;)if(f.nodeType===Node.ELEMENT_NODE?p=this.startElement(f):f.nodeType===Node.TEXT_NODE?this.chars(f.nodeValue):this.sanitizedSomething=!0,p&&f.firstChild)f=f.firstChild;else for(;f;){f.nodeType===Node.ELEMENT_NODE&&this.endElement(f);let m=this.checkClobberedElement(f,f.nextSibling);if(m){f=m;break}f=this.checkClobberedElement(f,f.parentNode)}return this.buf.join("")}startElement(u){const f=u.nodeName.toLowerCase();if(!P7.hasOwnProperty(f))return this.sanitizedSomething=!0,!x8.hasOwnProperty(f);this.buf.push("<"),this.buf.push(f);const p=u.attributes;for(let m=0;m<p.length;m++){const _=p.item(m),b=_.name,x=b.toLowerCase();if(!Sv.hasOwnProperty(x)){this.sanitizedSomething=!0;continue}let D=_.value;R7[x]&&(D=j6(D)),this.buf.push(" ",b,'="',Tv(D),'"')}return this.buf.push(">"),!0}endElement(u){const f=u.nodeName.toLowerCase();P7.hasOwnProperty(f)&&!N7.hasOwnProperty(f)&&(this.buf.push("</"),this.buf.push(f),this.buf.push(">"))}chars(u){this.buf.push(Tv(u))}checkClobberedElement(u,f){if(f&&(u.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${u.outerHTML}`);return f}}const p9=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,tT=/([^\#-~ |!])/g;function Tv(l){return l.replace(/&/g,"&amp;").replace(p9,function(u){return"&#"+(1024*(u.charCodeAt(0)-55296)+(u.charCodeAt(1)-56320)+65536)+";"}).replace(tT,function(u){return"&#"+u.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Y6;function m9(l,u){let f=null;try{Y6=Y6||function Ur(l){const u=new JS(l);return function I7(){try{return!!(new window.DOMParser).parseFromString(Ca(""),"text/html")}catch{return!1}}()?new bv(u):u}(l);let p=u?String(u):"";f=Y6.getInertBodyElement(p);let m=5,_=p;do{if(0===m)throw new Error("Failed to sanitize html because the input is unstable");m--,p=_,_=f.innerHTML,f=Y6.getInertBodyElement(p)}while(p!==_);return Ca((new O7).sanitizeChildren(Dv(f)||f))}finally{if(f){const p=Dv(f)||f;for(;p.firstChild;)p.removeChild(p.firstChild)}}}function Dv(l){return"content"in l&&function CN(l){return l.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===l.nodeName}(l)?l.content:null}var J2=(()=>((J2=J2||{})[J2.NONE=0]="NONE",J2[J2.HTML=1]="HTML",J2[J2.STYLE=2]="STYLE",J2[J2.SCRIPT=3]="SCRIPT",J2[J2.URL=4]="URL",J2[J2.RESOURCE_URL=5]="RESOURCE_URL",J2))();function nT(l){const u=G6();return u?gv(u.sanitize(J2.HTML,l)||""):k3(l,"HTML")?gv(Mo(l)):m9(function mv(){return void 0!==d9?d9:typeof document<"u"?document:void 0}(),Re(l))}function _9(l){const u=G6();return u?u.sanitize(J2.URL,l)||"":k3(l,"URL")?Mo(l):j6(Re(l))}function kv(l){const u=G6();if(u)return vv(u.sanitize(J2.RESOURCE_URL,l)||"");if(k3(l,"ResourceURL"))return vv(Mo(l));throw new Me(904,!1)}function q6(l,u,f){return function zv(l,u){return"src"===u&&("embed"===l||"frame"===l||"iframe"===l||"media"===l||"script"===l)||"href"===u&&("base"===l||"link"===l)?kv:_9}(u,f)(l)}function G6(){const l=We();return l&&l[Zn]}const $6=new un("ENVIRONMENT_INITIALIZER"),Av=new un("INJECTOR",-1),Hv=new un("INJECTOR_DEF_TYPES");class Qc{get(u,f=u1){if(f===u1){const p=new Error(`NullInjectorError: No provider for ${ge(u)}!`);throw p.name="NullInjectorError",p}return f}}function S8(l){return{\u0275providers:l}}function rT(...l){return{\u0275providers:Lv(0,l),\u0275fromNgModule:!0}}function Lv(l,...u){const f=[],p=new Set;let m;return ha(u,_=>{const b=_;Jc(b,f,[],p)&&(m||(m=[]),m.push(b))}),void 0!==m&&Z6(m,f),f}function Z6(l,u){for(let f=0;f<l.length;f++){const{providers:m}=l[f];y9(m,_=>{u.push(_)})}}function Jc(l,u,f,p){if(!(l=ie(l)))return!1;let m=null,_=E1(l);const b=!_&&et(l);if(_||b){if(b&&!b.standalone)return!1;m=l}else{const D=l.ngModule;if(_=E1(D),!_)return!1;m=D}const x=p.has(m);if(b){if(x)return!1;if(p.add(m),b.dependencies){const D="function"==typeof b.dependencies?b.dependencies():b.dependencies;for(const z of D)Jc(z,u,f,p)}}else{if(!_)return!1;{if(null!=_.imports&&!x){let z;p.add(m);try{ha(_.imports,E=>{Jc(E,u,f,p)&&(z||(z=[]),z.push(E))})}finally{}void 0!==z&&Z6(z,u)}if(!x){const z=Se(m)||(()=>new m);u.push({provide:m,useFactory:z,deps:me},{provide:Hv,useValue:m,multi:!0},{provide:$6,useValue:()=>Ke(m),multi:!0})}const D=_.providers;null==D||x||y9(D,E=>{u.push(E)})}}return m!==l&&void 0!==l.providers}function y9(l,u){for(let f of l)Ae(f)&&(f=f.\u0275providers),Array.isArray(f)?y9(f,u):u(f)}const sT=ae({provide:String,useValue:ae});function C9(l){return null!==l&&"object"==typeof l&&sT in l}function K6(l){return"function"==typeof l}const T8=new un("Set Injector scope."),Xc={},Q6={};let b9;function F7(){return void 0===b9&&(b9=new Qc),b9}class e4{}class Iv extends e4{get destroyed(){return this._destroyed}constructor(u,f,p,m){super(),this.parent=f,this.source=p,this.scopes=m,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,B7(u,b=>this.processProvider(b)),this.records.set(Av,J6(void 0,this)),m.has("environment")&&this.records.set(e4,J6(void 0,this));const _=this.records.get(T8);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(Hv.multi,me,ht.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const u of this._ngOnDestroyHooks)u.ngOnDestroy();for(const u of this._onDestroyHooks)u()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(u){this._onDestroyHooks.push(u)}runInContext(u){this.assertNotDestroyed();const f=$n(this),p=z1(void 0);try{return u()}finally{$n(f),z1(p)}}get(u,f=u1,p=ht.Default){this.assertNotDestroyed(),p=Vt(p);const m=$n(this),_=z1(void 0);try{if(!(p&ht.SkipSelf)){let x=this.records.get(u);if(void 0===x){const D=function w9(l){return"function"==typeof l||"object"==typeof l&&l instanceof un}(u)&&e1(u);x=D&&this.injectableDefInScope(D)?J6(M9(u),Xc):null,this.records.set(u,x)}if(null!=x)return this.hydrate(u,x)}return(p&ht.Self?F7():this.parent).get(u,f=p&ht.Optional&&f===u1?null:f)}catch(b){if("NullInjectorError"===b.name){if((b[N1]=b[N1]||[]).unshift(ge(u)),m)throw b;return function Z(l,u,f,p){const m=l[N1];throw u[Z2]&&m.unshift(u[Z2]),l.message=function q(l,u,f,p=null){l=l&&"\n"===l.charAt(0)&&l.charAt(1)==Jt?l.slice(2):l;let m=ge(u);if(Array.isArray(u))m=u.map(ge).join(" -> ");else if("object"==typeof u){let _=[];for(let b in u)if(u.hasOwnProperty(b)){let x=u[b];_.push(b+":"+("string"==typeof x?JSON.stringify(x):ge(x)))}m=`{${_.join(", ")}}`}return`${f}${p?"("+p+")":""}[${m}]: ${l.replace(R2,"\n  ")}`}("\n"+l.message,m,f,p),l[b1]=m,l[N1]=null,l}(b,u,"R3InjectorError",this.source)}throw b}finally{z1(_),$n(m)}}resolveInjectorInitializers(){const u=$n(this),f=z1(void 0);try{const p=this.get($6.multi,me,ht.Self);for(const m of p)m()}finally{$n(u),z1(f)}}toString(){const u=[],f=this.records;for(const p of f.keys())u.push(ge(p));return`R3Injector[${u.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Me(205,!1)}processProvider(u){let f=K6(u=ie(u))?u:ie(u&&u.provide);const p=function cT(l){return C9(l)?J6(void 0,l.useValue):J6(Nv(l),Xc)}(u);if(K6(u)||!0!==u.multi)this.records.get(f);else{let m=this.records.get(f);m||(m=J6(void 0,Xc,!0),m.factory=()=>Xt(m.multi),this.records.set(f,m)),f=u,m.multi.push(u)}this.records.set(f,p)}hydrate(u,f){return f.value===Xc&&(f.value=Q6,f.value=f.factory()),"object"==typeof f.value&&f.value&&function lT(l){return null!==l&&"object"==typeof l&&"function"==typeof l.ngOnDestroy}(f.value)&&this._ngOnDestroyHooks.add(f.value),f.value}injectableDefInScope(u){if(!u.providedIn)return!1;const f=ie(u.providedIn);return"string"==typeof f?"any"===f||this.scopes.has(f):this.injectorDefTypes.has(f)}}function M9(l){const u=e1(l),f=null!==u?u.factory:Se(l);if(null!==f)return f;if(l instanceof un)throw new Me(204,!1);if(l instanceof Function)return function aT(l){const u=l.length;if(u>0)throw E6(u,"?"),new Me(204,!1);const f=function F1(l){const u=l&&(l[J1]||l[Un]);return u?(function P2(l){if(l.hasOwnProperty("name"))return l.name;(""+l).match(/^function\s*([^\s(]+)/)}(l),u):null}(l);return null!==f?()=>f.factory(l):()=>new l}(l);throw new Me(204,!1)}function Nv(l,u,f){let p;if(K6(l)){const m=ie(l);return Se(m)||M9(m)}if(C9(l))p=()=>ie(l.useValue);else if(function Vv(l){return!(!l||!l.useFactory)}(l))p=()=>l.useFactory(...Xt(l.deps||[]));else if(function Ev(l){return!(!l||!l.useExisting)}(l))p=()=>Ke(ie(l.useExisting));else{const m=ie(l&&(l.useClass||l.provide));if(!function Pv(l){return!!l.deps}(l))return Se(m)||M9(m);p=()=>new m(...Xt(l.deps))}return p}function J6(l,u,f=!1){return{factory:l,value:u,multi:f?[]:void 0}}function B7(l,u){for(const f of l)Array.isArray(f)?B7(f,u):f&&Ae(f)?B7(f.\u0275providers,u):u(f)}class x9{}class D8{}class dT{resolveComponentFactory(u){throw function uT(l){const u=Error(`No component factory found for ${ge(l)}. Did you add it to @NgModule.entryComponents?`);return u.ngComponent=l,u}(u)}}let z3=(()=>{class l{}return l.NULL=new dT,l})();function Ov(){return t4(vi(),We())}function t4(l,u){return new A3(ri(l,u))}let A3=(()=>{class l{constructor(f){this.nativeElement=f}}return l.__NG_ELEMENT_ID__=Ov,l})();function U7(l){return l instanceof A3?l.nativeElement:l}class S9{}let k8=(()=>{class l{}return l.__NG_ELEMENT_ID__=()=>function Fv(){const l=We(),f=sr(vi().index,l);return(O2(f)?f:l)[hn]}(),l})(),fT=(()=>{class l{}return l.\u0275prov=lt({token:l,providedIn:"root",factory:()=>null}),l})();class Bv{constructor(u){this.full=u,this.major=u.split(".")[0],this.minor=u.split(".")[1],this.patch=u.split(".").slice(2).join(".")}}const Uv=new Bv("15.2.2"),T9={},D9="ngOriginalError";function k9(l){return l[D9]}class z8{constructor(){this._console=console}handleError(u){const f=this._findOriginalError(u);this._console.error("ERROR",u),f&&this._console.error("ORIGINAL ERROR",f)}_findOriginalError(u){let f=u&&k9(u);for(;f&&k9(f);)f=k9(f);return f||null}}function Wv(l){return l.ownerDocument.defaultView}function z9(l){return l.ownerDocument}function xo(l){return l instanceof Function?l():l}function Gv(l,u,f){let p=l.length;for(;;){const m=l.indexOf(u,f);if(-1===m)return m;if(0===m||l.charCodeAt(m-1)<=32){const _=u.length;if(m+_===p||l.charCodeAt(m+_)<=32)return m}f=m+1}}const $v="ng-template";function yT(l,u,f){let p=0;for(;p<l.length;){let m=l[p++];if(f&&"class"===m){if(m=l[p],-1!==Gv(m.toLowerCase(),u,0))return!0}else if(1===m){for(;p<l.length&&"string"==typeof(m=l[p++]);)if(m.toLowerCase()===u)return!0;return!1}}return!1}function A9(l){return 4===l.type&&l.value!==$v}function H9(l,u,f){return u===(4!==l.type||f?l.value:$v)}function CT(l,u,f){let p=4;const m=l.attrs||[],_=function Zv(l){for(let u=0;u<l.length;u++)if(q1(l[u]))return u;return l.length}(m);let b=!1;for(let x=0;x<u.length;x++){const D=u[x];if("number"!=typeof D){if(!b)if(4&p){if(p=2|1&p,""!==D&&!H9(l,D,f)||""===D&&1===u.length){if(ps(p))return!1;b=!0}}else{const z=8&p?D:u[++x];if(8&p&&null!==l.attrs){if(!yT(l.attrs,z,f)){if(ps(p))return!1;b=!0}continue}const U=X6(8&p?"class":D,m,A9(l),f);if(-1===U){if(ps(p))return!1;b=!0;continue}if(""!==z){let ee;ee=U>_?"":m[U+1].toLowerCase();const ce=8&p?ee:null;if(ce&&-1!==Gv(ce,z,0)||2&p&&z!==ee){if(ps(p))return!1;b=!0}}}}else{if(!b&&!ps(p)&&!ps(D))return!1;if(b&&ps(D))continue;b=!1,p=D|1&p}}return ps(p)||b}function ps(l){return 0==(1&l)}function X6(l,u,f,p){if(null===u)return-1;let m=0;if(p||!f){let _=!1;for(;m<u.length;){const b=u[m];if(b===l)return m;if(3===b||6===b)_=!0;else{if(1===b||2===b){let x=u[++m];for(;"string"==typeof x;)x=u[++m];continue}if(4===b)break;if(0===b){m+=4;continue}}m+=_?1:2}return-1}return function W7(l,u){let f=l.indexOf(4);if(f>-1)for(f++;f<l.length;){const p=l[f];if("number"==typeof p)return-1;if(p===u)return f;f++}return-1}(u,l)}function j7(l,u,f=!1){for(let p=0;p<u.length;p++)if(CT(l,u[p],f))return!0;return!1}function Y7(l,u){e:for(let f=0;f<u.length;f++){const p=u[f];if(l.length===p.length){for(let m=0;m<l.length;m++)if(l[m]!==p[m])continue e;return!0}}return!1}function L9(l,u){return l?":not("+u.trim()+")":u}function Kv(l){let u=l[0],f=1,p=2,m="",_=!1;for(;f<l.length;){let b=l[f];if("string"==typeof b)if(2&p){const x=l[++f];m+="["+b+(x.length>0?'="'+x+'"':"")+"]"}else 8&p?m+="."+b:4&p&&(m+=" "+b);else""!==m&&!ps(b)&&(u+=L9(_,m),m=""),p=b,_=_||!ps(p);f++}return""!==m&&(u+=L9(_,m)),u}const Mn={};function Jv(l){Xv(Fn(),We(),Gi()+l,!1)}function Xv(l,u,f,p){if(!p)if(3==(3&u[nn])){const _=l.preOrderCheckHooks;null!==_&&Vc(u,_,f)}else{const _=l.preOrderHooks;null!==_&&Ic(u,_,0,f)}Ec(f)}function ty(l,u=null,f=null,p){const m=Ma(l,u,f,p);return m.resolveInjectorInitializers(),m}function Ma(l,u=null,f=null,p,m=new Set){const _=[f||me,rT(l)];return p=p||("object"==typeof l?void 0:ge(l)),new Iv(_,u||F7(),p||null,m)}let H3=(()=>{class l{static create(f,p){if(Array.isArray(f))return ty({name:""},p,f,"");{const m=f.name??"";return ty({name:m},f.parent,f.providers,m)}}}return l.THROW_IF_NOT_FOUND=u1,l.NULL=new Qc,l.\u0275prov=lt({token:l,providedIn:"any",factory:()=>Ke(Av)}),l.__NG_ELEMENT_ID__=-1,l})();function e0(l,u=ht.Default){const f=We();return null===f?Ke(l,u):u7(vi(),f,ie(l),u)}function dy(){throw new Error("invalid")}function hy(l,u){const f=l.contentQueries;if(null!==f)for(let p=0;p<f.length;p+=2){const _=f[p+1];if(-1!==_){const b=l.data[_];Lc(f[p]),b.contentQueries(2,u[_],_)}}}function K7(l,u,f,p,m,_,b,x,D,z,E){const U=u.blueprint.slice();return U[B1]=m,U[nn]=76|p,(null!==E||l&&1024&l[nn])&&(U[nn]|=1024),Ku(U),U[jn]=U[Ds]=l,U[P1]=f,U[Ts]=b||l&&l[Ts],U[hn]=x||l&&l[hn],U[Zn]=D||l&&l[Zn]||null,U[S1]=z||l&&l[S1]||null,U[u2]=_,U[Pr]=function t9(){return f8++}(),U[na]=E,U[j1]=2==u.type?l[j1]:U,U}function t0(l,u,f,p,m){let _=l.data[u];if(null===_)_=function Q7(l,u,f,p,m){const _=Vh(),b=M6(),D=l.data[u]=function R1(l,u,f,p,m,_){return{type:f,index:p,insertBeforeIndex:null,injectorIndex:u?u.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:m,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:u,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?_:_&&_.parent,f,u,p,m);return null===l.firstChild&&(l.firstChild=D),null!==_&&(b?null==_.child&&null!==D.parent&&(_.child=D):null===_.next&&(_.next=D,D.prev=_)),D}(l,u,f,p,m),function e7(){return pn.lFrame.inI18n}()&&(_.flags|=32);else if(64&_.type){_.type=f,_.value=p,_.attrs=m;const b=function i3(){const l=pn.lFrame,u=l.currentTNode;return l.isParent?u:u.parent}();_.injectorIndex=null===b?-1:b.injectorIndex}return Es(_,!0),_}function L8(l,u,f,p){if(0===f)return-1;const m=u.length;for(let _=0;_<f;_++)u.push(p),l.blueprint.push(p),l.data.push(null);return m}function py(l,u,f){r7(u);try{const p=l.viewQuery;null!==p&&nd(1,p,f);const m=l.template;null!==m&&n0(l,u,m,1,f),l.firstCreatePass&&(l.firstCreatePass=!1),l.staticContentQueries&&hy(l,u),l.staticViewQueries&&nd(2,l.viewQuery,f);const _=l.components;null!==_&&function NT(l,u){for(let f=0;f<u.length;f++)R9(l,u[f])}(u,_)}catch(p){throw l.firstCreatePass&&(l.incompleteFirstPass=!0,l.firstCreatePass=!1),p}finally{u[nn]&=-5,s7()}}function en(l,u,f,p){const m=u[nn];if(128!=(128&m)){r7(u);try{Ku(u),function Xu(l){return pn.lFrame.bindingIndex=l}(l.bindingStartIndex),null!==f&&n0(l,u,f,2,p);const b=3==(3&m);if(b){const z=l.preOrderCheckHooks;null!==z&&Vc(u,z,null)}else{const z=l.preOrderHooks;null!==z&&Ic(u,z,0,null),o7(u,0)}if(function P9(l){for(let u=dn(l);null!==u;u=a1(u)){if(!u[W1])continue;const f=u[ro];for(let p=0;p<f.length;p++){const m=f[p];512&m[nn]||C6(m[jn],1),m[nn]|=512}}}(u),function vy(l){for(let u=dn(l);null!==u;u=a1(u))for(let f=d2;f<u.length;f++){const p=u[f],m=p[at];ra(p)&&en(m,p,m.template,p[P1])}}(u),null!==l.contentQueries&&hy(l,u),b){const z=l.contentCheckHooks;null!==z&&Vc(u,z)}else{const z=l.contentHooks;null!==z&&Ic(u,z,1),o7(u,1)}!function fy(l,u){const f=l.hostBindingOpCodes;if(null!==f)try{for(let p=0;p<f.length;p++){const m=f[p];if(m<0)Ec(~m);else{const _=m,b=f[++p],x=f[++p];t7(b,_),x(2,u[_])}}}finally{Ec(-1)}}(l,u);const x=l.components;null!==x&&function IT(l,u){for(let f=0;f<u.length;f++)ed(l,u[f])}(u,x);const D=l.viewQuery;if(null!==D&&nd(2,D,p),b){const z=l.viewCheckHooks;null!==z&&Vc(u,z)}else{const z=l.viewHooks;null!==z&&Ic(u,z,2),o7(u,2)}!0===l.firstUpdatePass&&(l.firstUpdatePass=!1),u[nn]&=-41,512&u[nn]&&(u[nn]&=-513,C6(u[jn],-1))}finally{s7()}}}function n0(l,u,f,p,m){const _=Gi(),b=2&p;try{Ec(-1),b&&u.length>Rn&&Xv(l,u,Rn,!1),gi(b?2:0,m),f(p,m)}finally{Ec(_),gi(b?3:1,m)}}function Tt(l,u,f){if(Wi(u)){const m=u.directiveEnd;for(let _=u.directiveStart;_<m;_++){const b=l.data[_];b.contentQueries&&b.contentQueries(1,f[_],_)}}}function E8(l,u,f){Qu()&&(function N9(l,u,f,p){const m=f.directiveStart,_=f.directiveEnd;Rr(f)&&function _y(l,u,f){const p=ri(u,l),m=my(f),_=l[Ts],b=td(l,K7(l,m,null,f.onPush?32:16,p,u,_,_.createRenderer(p,f),null,null,null));l[u.index]=b}(u,f,l.data[m+f.componentOffset]),l.firstCreatePass||Is(f,u),bi(p,u);const b=f.initialInputs;for(let x=m;x<_;x++){const D=l.data[x],z=ca(u,l,x,f);bi(z,u),null!==b&&Zi(0,x-m,z,D,0,b),rr(D)&&(sr(f.index,u)[P1]=ca(u,l,x,f))}}(l,u,f,ri(f,u)),64==(64&f.flags)&&gy(l,u,f))}function E3(l,u,f=ri){const p=u.localNames;if(null!==p){let m=u.index+1;for(let _=0;_<p.length;_+=2){const b=p[_+1],x=-1===b?f(u,l):l[b];l[m++]=x}}}function my(l){const u=l.tView;return null===u||u.incompleteFirstPass?l.tView=B2(1,null,l.template,l.decls,l.vars,l.directiveDefs,l.pipeDefs,l.viewQuery,l.schemas,l.consts):u}function B2(l,u,f,p,m,_,b,x,D,z){const E=Rn+p,U=E+m,ee=function EN(l,u){const f=[];for(let p=0;p<u;p++)f.push(p<l?null:Mn);return f}(E,U),ce="function"==typeof z?z():z;return ee[at]={type:l,blueprint:ee,template:f,queries:null,viewQuery:x,declTNode:u,data:ee.slice().fill(null,E),bindingStartIndex:E,expandoStartIndex:U,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:D,consts:ce,incompleteFirstPass:!1}}function De(l,u,f,p){const m=O9(u);null===f?m.push(p):(m.push(f),l.firstCreatePass&&R8(l).push(p,m.length-1))}function Wr(l,u,f,p){for(let m in l)if(l.hasOwnProperty(m)){f=null===f?{}:f;const _=l[m];null===p?ms(f,u,m,_):p.hasOwnProperty(m)&&ms(f,u,p[m],_)}return f}function ms(l,u,f,p){l.hasOwnProperty(f)?l[f].push(u,p):l[f]=[u,p]}function U2(l,u,f,p,m,_,b,x){const D=ri(u,f);let E,z=u.inputs;!x&&null!=z&&(E=z[p])?(O8(l,f,E,p,m),Rr(u)&&Rt(f,u.index)):3&u.type&&(p=function PT(l){return"class"===l?"className":"for"===l?"htmlFor":"formaction"===l?"formAction":"innerHtml"===l?"innerHTML":"readonly"===l?"readOnly":"tabindex"===l?"tabIndex":l}(p),m=null!=b?b(m,u.value||"",p):m,_.setProperty(D,p,m))}function Rt(l,u){const f=sr(u,l);16&f[nn]||(f[nn]|=32)}function r0(l,u,f,p){if(Qu()){const m=null===p?null:{"":-1},_=function FT(l,u){const f=l.directiveRegistry;let p=null,m=null;if(f)for(let _=0;_<f.length;_++){const b=f[_];if(j7(u,b.selectors,!1))if(p||(p=[]),rr(b))if(null!==b.findHostDirectiveDefs){const x=[];m=m||new Map,b.findHostDirectiveDefs(b,x,m),p.unshift(...x,b),wi(l,u,x.length)}else p.unshift(b),wi(l,u,0);else m=m||new Map,b.findHostDirectiveDefs?.(b,p,m),p.push(b)}return null===p?null:[p,m]}(l,f);let b,x;null===_?b=x=null:[b,x]=_,null!==b&&V8(l,u,f,b,m,x),m&&function J7(l,u,f){if(u){const p=l.localNames=[];for(let m=0;m<u.length;m+=2){const _=f[u[m+1]];if(null==_)throw new Me(-301,!1);p.push(u[m],_)}}}(f,p,m)}f.mergedAttrs=uo(f.mergedAttrs,f.attrs)}function V8(l,u,f,p,m,_){for(let z=0;z<p.length;z++)z6(Is(f,u),l,p[z].type);!function V3(l,u,f){l.flags|=1,l.directiveStart=u,l.directiveEnd=u+f,l.providerIndexes=u}(f,l.data.length,p.length);for(let z=0;z<p.length;z++){const E=p[z];E.providersResolver&&E.providersResolver(E)}let b=!1,x=!1,D=L8(l,u,p.length,null);for(let z=0;z<p.length;z++){const E=p[z];f.mergedAttrs=uo(f.mergedAttrs,E.hostAttrs),BT(l,f,u,D,E),Ii(D,E,m),null!==E.contentQueries&&(f.flags|=4),(null!==E.hostBindings||null!==E.hostAttrs||0!==E.hostVars)&&(f.flags|=64);const U=E.type.prototype;!b&&(U.ngOnChanges||U.ngOnInit||U.ngDoCheck)&&((l.preOrderHooks||(l.preOrderHooks=[])).push(f.index),b=!0),!x&&(U.ngOnChanges||U.ngDoCheck)&&((l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(f.index),x=!0),D++}!function O(l,u,f){const m=u.directiveEnd,_=l.data,b=u.attrs,x=[];let D=null,z=null;for(let E=u.directiveStart;E<m;E++){const U=_[E],ee=f?f.get(U):null,Le=ee?ee.outputs:null;D=Wr(U.inputs,E,D,ee?ee.inputs:null),z=Wr(U.outputs,E,z,Le);const nt=null===D||null===b||A9(u)?null:UT(D,E,b);x.push(nt)}null!==D&&(D.hasOwnProperty("class")&&(u.flags|=8),D.hasOwnProperty("style")&&(u.flags|=16)),u.initialInputs=x,u.inputs=D,u.outputs=z}(l,f,_)}function gy(l,u,f){const p=f.directiveStart,m=f.directiveEnd,_=f.index,b=function Wl(){return pn.lFrame.currentDirectiveIndex}();try{Ec(_);for(let x=p;x<m;x++){const D=l.data[x],z=u[x];w6(x),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&OT(D,z)}}finally{Ec(-1),w6(b)}}function OT(l,u){null!==l.hostBindings&&l.hostBindings(1,u)}function wi(l,u,f){u.componentOffset=f,(l.components||(l.components=[])).push(u.index)}function Ii(l,u,f){if(f){if(u.exportAs)for(let p=0;p<u.exportAs.length;p++)f[u.exportAs[p]]=l;rr(u)&&(f[""]=l)}}function BT(l,u,f,p,m){l.data[p]=m;const _=m.factory||(m.factory=Se(m.type)),b=new Vs(_,rr(m),e0);l.blueprint[p]=b,f[p]=b,function I8(l,u,f,p,m){const _=m.hostBindings;if(_){let b=l.hostBindingOpCodes;null===b&&(b=l.hostBindingOpCodes=[]);const x=~u.index;(function RT(l){let u=l.length;for(;u>0;){const f=l[--u];if("number"==typeof f&&f<0)return f}return 0})(b)!=x&&b.push(x),b.push(f,p,_)}}(l,u,p,L8(l,f,m.hostVars,Mn),m)}function gs(l,u,f,p,m,_){const b=ri(l,u);!function X7(l,u,f,p,m,_,b){if(null==_)l.removeAttribute(u,m,f);else{const x=null==b?Re(_):b(_,p||"",m);l.setAttribute(u,m,x,f)}}(u[hn],b,_,l.value,f,p,m)}function Zi(l,u,f,p,m,_){const b=_[u];if(null!==b){const x=p.setInput;for(let D=0;D<b.length;){const z=b[D++],E=b[D++],U=b[D++];null!==x?p.setInput(f,U,z,E):f[E]=U}}}function UT(l,u,f){let p=null,m=0;for(;m<f.length;){const _=f[m];if(0!==_)if(5!==_){if("number"==typeof _)break;if(l.hasOwnProperty(_)){null===p&&(p=[]);const b=l[_];for(let x=0;x<b.length;x+=2)if(b[x]===u){p.push(_,b[x+1],f[m+1]);break}}m+=2}else m+=2;else m+=4}return p}function N8(l,u,f,p){return[l,!0,!1,u,null,0,p,f,null,null]}function ed(l,u){const f=sr(u,l);if(ra(f)){const p=f[at];48&f[nn]?en(p,f,p.template,f[P1]):f[no]>0&&_s(f)}}function _s(l){for(let p=dn(l);null!==p;p=a1(p))for(let m=d2;m<p.length;m++){const _=p[m];if(ra(_))if(512&_[nn]){const b=_[at];en(b,_,b.template,_[P1])}else _[no]>0&&_s(_)}const f=l[at].components;if(null!==f)for(let p=0;p<f.length;p++){const m=sr(f[p],l);ra(m)&&m[no]>0&&_s(m)}}function R9(l,u){const f=sr(u,l),p=f[at];(function jT(l,u){for(let f=u.length;f<l.blueprint.length;f++)u.push(l.blueprint[f])})(p,f),py(p,f,f[P1])}function td(l,u){return l[Ja]?l[Xa][U1]=u:l[Ja]=u,l[Xa]=u,u}function I3(l){for(;l;){l[nn]|=32;const u=Fe(l);if(Wu(l)&&!u)return l;l=u}return null}function P8(l,u,f,p=!0){const m=u[Ts];m.begin&&m.begin();try{en(l,u,l.template,f)}catch(b){throw p&&rd(u,b),b}finally{m.end&&m.end()}}function nd(l,u,f){Lc(0),u(l,f)}function O9(l){return l[_r]||(l[_r]=[])}function R8(l){return l.cleanup||(l.cleanup=[])}function rd(l,u){const f=l[S1],p=f?f.get(z8,null):null;p&&p.handleError(u)}function O8(l,u,f,p,m){for(let _=0;_<f.length;){const b=f[_++],x=f[_++],D=u[b],z=l.data[b];null!==z.setInput?z.setInput(D,m,p,x):D[x]=m}}function wa(l,u,f){const p=n3(u,l);!function Yc(l,u,f){l.setValue(u,f)}(l[hn],p,f)}function sd(l,u,f){let p=f?l.styles:null,m=f?l.classes:null,_=0;if(null!==u)for(let b=0;b<u.length;b++){const x=u[b];"number"==typeof x?_=x:1==_?m=_e(m,x):2==_&&(p=_e(p,x+": "+u[++b]+";"))}f?l.styles=p:l.stylesWithoutHost=p,f?l.classes=m:l.classesWithoutHost=m}function s0(l,u,f,p,m=!1){for(;null!==f;){const _=u[f.index];if(null!==_&&p.push(g1(_)),Ai(_))for(let x=d2;x<_.length;x++){const D=_[x],z=D[at].firstChild;null!==z&&s0(D[at],D,z,p)}const b=f.type;if(8&b)s0(l,u,f.child,p);else if(32&b){const x=R(f,u);let D;for(;D=x();)p.push(D)}else if(16&b){const x=a9(u,f);if(Array.isArray(x))p.push(...x);else{const D=Fe(u[j1]);s0(D[at],D,x,p,!0)}}f=m?f.projectionNext:f.next}return p}class o0{get rootNodes(){const u=this._lView,f=u[at];return s0(f,u,f.firstChild,[])}constructor(u,f){this._lView=u,this._cdRefInjectingView=f,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[P1]}set context(u){this._lView[P1]=u}get destroyed(){return 128==(128&this._lView[nn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const u=this._lView[jn];if(Ai(u)){const f=u[As],p=f?f.indexOf(this):-1;p>-1&&(Gc(u,p),L6(f,p))}this._attachedToViewContainer=!1}k7(this._lView[at],this._lView)}onDestroy(u){De(this._lView[at],this._lView,null,u)}markForCheck(){I3(this._cdRefInjectingView||this._lView)}detach(){this._lView[nn]&=-65}reattach(){this._lView[nn]|=64}detectChanges(){P8(this._lView[at],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Me(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function x7(l,u){M8(l,u,u[hn],2,null,null)}(this._lView[at],this._lView)}attachToAppRef(u){if(this._attachedToViewContainer)throw new Me(902,!1);this._appRef=u}}class WT extends o0{constructor(u){super(u),this._view=u}detectChanges(){const u=this._view;P8(u[at],u,u[P1],!1)}checkNoChanges(){}get context(){return null}}class a0 extends z3{constructor(u){super(),this.ngModule=u}resolveComponentFactory(u){const f=et(u);return new B8(f,this.ngModule)}}function Cy(l){const u=[];for(let f in l)l.hasOwnProperty(f)&&u.push({propName:l[f],templateName:f});return u}class YT{constructor(u,f){this.injector=u,this.parentInjector=f}get(u,f,p){p=Vt(p);const m=this.injector.get(u,T9,p);return m!==T9||f===T9?m:this.parentInjector.get(u,f,p)}}class B8 extends D8{get inputs(){return Cy(this.componentDef.inputs)}get outputs(){return Cy(this.componentDef.outputs)}constructor(u,f){super(),this.componentDef=u,this.ngModule=f,this.componentType=u.type,this.selector=function MT(l){return l.map(Kv).join(",")}(u.selectors),this.ngContentSelectors=u.ngContentSelectors?u.ngContentSelectors:[],this.isBoundToModule=!!f}create(u,f,p,m){let _=(m=m||this.ngModule)instanceof e4?m:m?.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const b=_?new YT(u,_):u,x=b.get(S9,null);if(null===x)throw new Me(407,!1);const D=b.get(fT,null),z=x.createRenderer(null,this.componentDef),E=this.componentDef.selectors[0][0]||"div",U=p?function V9(l,u,f){return l.selectRootElement(u,f===V.ShadowDom)}(z,p,this.componentDef.encapsulation):qc(z,E,function F8(l){const u=l.toLowerCase();return"svg"===u?yr:"math"===u?"math":null}(E)),ee=this.componentDef.onPush?288:272,ce=B2(0,null,null,1,0,null,null,null,null,null),Le=K7(null,ce,null,ee,null,null,x,z,D,b,null);let nt,gt;r7(Le);try{const At=this.componentDef;let tn,Ye=null;At.findHostDirectiveDefs?(tn=[],Ye=new Map,At.findHostDirectiveDefs(At,tn,Ye),tn.push(At)):tn=[At];const gn=function My(l,u){const f=l[at],p=Rn;return l[p]=u,t0(f,p,2,"#host",null)}(Le,U),n2=function wy(l,u,f,p,m,_,b,x){const D=m[at];!function xy(l,u,f,p){for(const m of l)u.mergedAttrs=uo(u.mergedAttrs,m.hostAttrs);null!==u.mergedAttrs&&(sd(u,u.mergedAttrs,!0),null!==f&&E7(p,f,u))}(p,l,u,b);const z=_.createRenderer(u,f),E=K7(m,my(f),null,f.onPush?32:16,m[l.index],l,_,z,x||null,null,null);return D.firstCreatePass&&wi(D,l,p.length-1),td(m,E),m[l.index]=E}(gn,U,At,tn,Le,x,z);gt=Hc(ce,Rn),U&&function F9(l,u,f,p){if(p)s3(l,f,["ng-version",Uv.full]);else{const{attrs:m,classes:_}=function Qv(l){const u=[],f=[];let p=1,m=2;for(;p<l.length;){let _=l[p];if("string"==typeof _)2===m?""!==_&&u.push(_,l[++p]):8===m&&f.push(_);else{if(!ps(m))break;m=_}p++}return{attrs:u,classes:f}}(u.selectors[0]);m&&s3(l,f,m),_&&_.length>0&&Rs(l,f,_.join(" "))}}(z,At,U,p),void 0!==f&&function B9(l,u,f){const p=l.projection=[];for(let m=0;m<u.length;m++){const _=f[m];p.push(null!=_?Array.from(_):null)}}(gt,this.ngContentSelectors,f),nt=function ad(l,u,f,p,m,_){const b=vi(),x=m[at],D=ri(b,m);V8(x,m,b,f,null,p);for(let E=0;E<f.length;E++)bi(ca(m,x,b.directiveStart+E,b),m);gy(x,m,b),D&&bi(D,m);const z=ca(m,x,b.directiveStart+b.componentOffset,b);if(l[P1]=m[P1]=z,null!==_)for(const E of _)E(z,u);return Tt(x,b,l),z}(n2,At,tn,Ye,Le,[U9]),py(ce,Le,null)}finally{s7()}return new od(this.componentType,nt,t4(gt,Le),Le,gt)}}class od extends x9{constructor(u,f,p,m,_){super(),this.location=p,this._rootLView=m,this._tNode=_,this.instance=f,this.hostView=this.changeDetectorRef=new WT(m),this.componentType=u}setInput(u,f){const p=this._tNode.inputs;let m;if(null!==p&&(m=p[u])){const _=this._rootLView;O8(_[at],_,m,u,f),Rt(_,this._tNode.index)}}get injector(){return new la(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(u){this.hostView.onDestroy(u)}}function U9(){const l=vi();ql(We()[at],l)}function ld(l){let u=function cd(l){return Object.getPrototypeOf(l.prototype).constructor}(l.type),f=!0;const p=[l];for(;u;){let m;if(rr(l))m=u.\u0275cmp||u.\u0275dir;else{if(u.\u0275cmp)throw new Me(903,!1);m=u.\u0275dir}if(m){if(f){p.push(m);const b=l;b.inputs=j9(l.inputs),b.declaredInputs=j9(l.declaredInputs),b.outputs=j9(l.outputs);const x=m.hostBindings;x&&W9(l,x);const D=m.viewQuery,z=m.contentQueries;if(D&&Ty(l,D),z&&Dy(l,z),ke(l.inputs,m.inputs),ke(l.declaredInputs,m.declaredInputs),ke(l.outputs,m.outputs),rr(m)&&m.data.animation){const E=l.data;E.animation=(E.animation||[]).concat(m.data.animation)}}const _=m.features;if(_)for(let b=0;b<_.length;b++){const x=_[b];x&&x.ngInherit&&x(l),x===ld&&(f=!1)}}u=Object.getPrototypeOf(u)}!function Sy(l){let u=0,f=null;for(let p=l.length-1;p>=0;p--){const m=l[p];m.hostVars=u+=m.hostVars,m.hostAttrs=uo(m.hostAttrs,f=uo(f,m.hostAttrs))}}(p)}function j9(l){return l===se?{}:l===me?[]:l}function Ty(l,u){const f=l.viewQuery;l.viewQuery=f?(p,m)=>{u(p,m),f(p,m)}:u}function Dy(l,u){const f=l.contentQueries;l.contentQueries=f?(p,m,_)=>{u(p,m,_),f(p,m,_)}:u}function W9(l,u){const f=l.hostBindings;l.hostBindings=f?(p,m)=>{u(p,m),f(p,m)}:u}function fd(l){return!!$9(l)&&(Array.isArray(l)||!(l instanceof Map)&&Symbol.iterator in l)}function $9(l){return null!==l&&("function"==typeof l||"object"==typeof l)}function vs(l,u,f){return l[u]=f}function xi(l,u,f){return!Object.is(l[u],f)&&(l[u]=f,!0)}function N3(l,u,f,p){const m=xi(l,u,f);return xi(l,u+1,p)||m}function j8(l,u,f,p){const m=We();return xi(m,as(),u)&&(Fn(),gs(e2(),m,l,u,f,p)),j8}function s4(l,u,f,p){return xi(l,as(),f)?u+Re(f)+p:Mn}function c0(l,u,f,p,m,_){const x=N3(l,function Fr(){return pn.lFrame.bindingIndex}(),f,m);return or(2),x?u+Re(f)+p+Re(m)+_:Mn}function Q9(l,u,f,p,m,_,b,x){const D=We(),z=Fn(),E=l+Rn,U=z.firstCreatePass?function ur(l,u,f,p,m,_,b,x,D){const z=u.consts,E=t0(u,l,4,b||null,Or(z,x));r0(u,f,E,Or(z,D)),ql(u,E);const U=E.tView=B2(2,E,p,m,_,u.directiveRegistry,u.pipeRegistry,null,u.schemas,z);return null!==u.queries&&(u.queries.template(u,E),U.queries=u.queries.embeddedTView(E)),E}(E,z,D,u,f,p,m,_,b):z.data[E];Es(U,!1);const ee=D[hn].createComment("");H7(z,D,ee,U),bi(ee,D),td(D,D[E]=N8(ee,D,ee,U)),Yi(U)&&E8(z,D,U),null!=b&&E3(D,U,x)}function md(l,u,f){const p=We();return xi(p,as(),u)&&U2(Fn(),e2(),p,l,u,p[hn],f,!1),md}function q8(l,u,f,p,m){const b=m?"class":"style";O8(l,f,u.inputs[b],b,p)}function G8(l,u,f,p){const m=We(),_=Fn(),b=Rn+l,x=m[hn],D=_.firstCreatePass?function Iy(l,u,f,p,m,_){const b=u.consts,D=t0(u,l,2,p,Or(b,m));return r0(u,f,D,Or(b,_)),null!==D.attrs&&sd(D,D.attrs,!1),null!==D.mergedAttrs&&sd(D,D.mergedAttrs,!0),null!==u.queries&&u.queries.elementStart(u,D),D}(b,_,m,u,f,p):_.data[b],z=m[b]=qc(x,u,function tv(){return pn.lFrame.currentNamespace}()),E=Yi(D);return Es(D,!0),E7(x,z,D),32!=(32&D.flags)&&H7(_,m,z,D),0===function Rl(){return pn.lFrame.elementDepthCount}()&&bi(z,m),function Lh(){pn.lFrame.elementDepthCount++}(),E&&(E8(_,m,D),Tt(_,D,m)),null!==p&&E3(m,D),G8}function O3(){let l=vi();M6()?Ul():(l=l.parent,Es(l,!1));const u=l;!function Ol(){pn.lFrame.elementDepthCount--}();const f=Fn();return f.firstCreatePass&&(ql(f,l),Wi(l)&&f.queries.elementEnd(l)),null!=u.classesWithoutHost&&function Gl(l){return 0!=(8&l.flags)}(u)&&q8(f,u,We(),u.classesWithoutHost,!0),null!=u.stylesWithoutHost&&function Bh(l){return 0!=(16&l.flags)}(u)&&q8(f,u,We(),u.stylesWithoutHost,!1),O3}function $8(l,u,f,p){return G8(l,u,f,p),O3(),$8}function d0(l,u,f){const p=We(),m=Fn(),_=l+Rn,b=m.firstCreatePass?function J9(l,u,f,p,m){const _=u.consts,b=Or(_,p),x=t0(u,l,8,"ng-container",b);return null!==b&&sd(x,b,!0),r0(u,f,x,Or(_,m)),null!==u.queries&&u.queries.elementStart(u,x),x}(_,m,p,u,f):m.data[_];Es(b,!0);const x=p[_]=p[hn].createComment("");return H7(m,p,x,b),bi(x,p),Yi(b)&&(E8(m,p,b),Tt(m,b,p)),null!=f&&E3(p,b),d0}function u4(){let l=vi();const u=Fn();return M6()?Ul():(l=l.parent,Es(l,!1)),u.firstCreatePass&&(ql(u,l),Wi(l)&&u.queries.elementEnd(l)),u4}function X9(){return We()}function ep(l){return!!l&&"function"==typeof l.then}function gd(l){return!!l&&"function"==typeof l.subscribe}const Z8=gd;function K8(l,u,f,p){const m=We(),_=Fn(),b=vi();return function np(l,u,f,p,m,_,b){const x=Yi(p),z=l.firstCreatePass&&R8(l),E=u[P1],U=O9(u);let ee=!0;if(3&p.type||b){const nt=ri(p,u),gt=b?b(nt):nt,At=U.length,tn=b?gn=>b(g1(gn[p.index])):p.index;let Ye=null;if(!b&&x&&(Ye=function Ny(l,u,f,p){const m=l.cleanup;if(null!=m)for(let _=0;_<m.length-1;_+=2){const b=m[_];if(b===f&&m[_+1]===p){const x=u[_r],D=m[_+2];return x.length>D?x[D]:null}"string"==typeof b&&(_+=2)}return null}(l,u,m,p.index)),null!==Ye)(Ye.__ngLastListenerFn__||Ye).__ngNextListenerFn__=_,Ye.__ngLastListenerFn__=_,ee=!1;else{_=h0(p,u,E,_,!1);const gn=f.listen(gt,m,_);U.push(_,gn),z&&z.push(m,tn,At,At+1)}}else _=h0(p,u,E,_,!1);const ce=p.outputs;let Le;if(ee&&null!==ce&&(Le=ce[m])){const nt=Le.length;if(nt)for(let gt=0;gt<nt;gt+=2){const n2=u[Le[gt]][Le[gt+1]].subscribe(_),L2=U.length;U.push(_,n2),z&&z.push(m,p.index,L2,-(L2+1))}}}(_,m,m[hn],b,l,u,p),K8}function Py(l,u,f,p){try{return gi(6,u,f),!1!==f(p)}catch(m){return rd(l,m),!1}finally{gi(7,u,f)}}function h0(l,u,f,p,m){return function _(b){if(b===Function)return p;I3(l.componentOffset>-1?sr(l.index,u):u);let D=Py(u,f,p,b),z=_.__ngNextListenerFn__;for(;z;)D=Py(u,f,z,b)&&D,z=z.__ngNextListenerFn__;return m&&!1===D&&(b.preventDefault(),b.returnValue=!1),D}}function ip(l=1){return function RS(l){return(pn.lFrame.contextLView=function OS(l,u){for(;l>0;)u=u[Ds],l--;return u}(l,pn.lFrame.contextLView))[P1]}(l)}function _d(l,u){let f=null;const p=function bT(l){const u=l.attrs;if(null!=u){const f=u.indexOf(5);if(!(1&f))return u[f+1]}return null}(l);for(let m=0;m<u.length;m++){const _=u[m];if("*"!==_){if(null===p?j7(l,_,!0):Y7(p,_))return m}else f=m}return f}function p0(l){const u=We()[j1][u2];if(!u.projection){const p=u.projection=E6(l?l.length:1,null),m=p.slice();let _=u.child;for(;null!==_;){const b=l?_d(_,l):0;null!==b&&(m[b]?m[b].projectionNext=_:p[b]=_,m[b]=_),_=_.next}}}function F3(l,u=0,f){const p=We(),m=Fn(),_=t0(m,Rn+l,16,null,f||null);null===_.projection&&(_.projection=u),Ul(),32!=(32&_.flags)&&function l9(l,u,f){fv(u[hn],0,u,f,uv(l,f,u),$c(f.parent||u[u2],f,u))}(m,p,_)}function Q8(l,u,f){return vd(l,"",u,"",f),Q8}function vd(l,u,f,p,m){const _=We(),b=s4(_,u,f,p);return b!==Mn&&U2(Fn(),e2(),_,l,b,_[hn],m,!1),vd}function e5(l,u){return l<<17|u<<2}function d1(l){return l>>17&32767}function d4(l){return 2|l}function f4(l){return(131068&l)>>2}function Cd(l,u){return-131069&l|u<<2}function op(l){return 1|l}function ap(l,u,f,p,m){const _=l[f+1],b=null===u;let x=p?d1(_):f4(_),D=!1;for(;0!==x&&(!1===D||b);){const E=l[x+1];Fy(l[x],u)&&(D=!0,l[x+1]=p?op(E):d4(E)),x=p?d1(E):f4(E)}D&&(l[f+1]=p?d4(_):op(_))}function Fy(l,u){return null===l||null==u||(Array.isArray(l)?l[1]:l)===u||!(!Array.isArray(l)||"string"!=typeof u)&&pa(l,u)>=0}const X2={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function h4(l){return l.substring(X2.key,X2.keyEnd)}function cp(l,u){const f=X2.textEnd;return f===u?-1:(u=X2.keyEnd=function dp(l,u,f){for(;u<f&&l.charCodeAt(u)>32;)u++;return u}(l,X2.key=u,f),j3(l,u,f))}function j3(l,u,f){for(;u<f&&l.charCodeAt(u)<=32;)u++;return u}function pp(l,u,f){return dr(l,u,f,!1),pp}function m0(l,u){return dr(l,u,null,!0),m0}function Md(l){!function fr(l,u,f,p){const m=Fn(),_=or(2);m.firstUpdatePass&&g2(m,null,_,p);const b=We();if(f!==Mn&&xi(b,_,f)){const x=m.data[Gi()];if(_0(x,p)&&!jy(m,_)){let D=p?x.classesWithoutHost:x.stylesWithoutHost;null!==D&&(f=_e(D,f||"")),q8(m,x,b,f,p)}else!function qy(l,u,f,p,m,_,b,x){m===Mn&&(m=me);let D=0,z=0,E=0<m.length?m[0]:null,U=0<_.length?_[0]:null;for(;null!==E||null!==U;){const ee=D<m.length?m[D+1]:void 0,ce=z<_.length?_[z+1]:void 0;let nt,Le=null;E===U?(D+=2,z+=2,ee!==ce&&(Le=U,nt=ce)):null===U||null!==E&&E<U?(D+=2,Le=E):(z+=2,Le=U,nt=ce),null!==Le&&Do(l,u,f,p,Le,nt,b,x),E=D<m.length?m[D]:null,U=z<_.length?_[z]:null}}(m,x,b,b[hn],b[_+1],b[_+1]=function Yy(l,u,f){if(null==f||""===f)return me;const p=[],m=Mo(f);if(Array.isArray(m))for(let _=0;_<m.length;_++)l(p,m[_],!0);else if("object"==typeof m)for(const _ in m)m.hasOwnProperty(_)&&l(p,_,m[_]);else"string"==typeof m&&u(p,m);return p}(l,u,f),p,_)}}(cr,Os,l,!0)}function Os(l,u){for(let f=function KT(l){return function up(l){X2.key=0,X2.keyEnd=0,X2.value=0,X2.valueEnd=0,X2.textEnd=l.length}(l),cp(l,j3(l,0,X2.textEnd))}(u);f>=0;f=cp(u,f))cr(l,h4(u),!0)}function dr(l,u,f,p){const m=We(),_=Fn(),b=or(2);_.firstUpdatePass&&g2(_,l,b,p),u!==Mn&&xi(m,b,u)&&Do(_,_.data[Gi()],m,m[hn],l,m[b+1]=function gp(l,u){return null==l||("string"==typeof u?l+=u:"object"==typeof l&&(l=ge(Mo(l)))),l}(u,f),p,b)}function jy(l,u){return u>=l.expandoStartIndex}function g2(l,u,f,p){const m=l.data;if(null===m[f+1]){const _=m[Gi()],b=jy(l,f);_0(_,p)&&null===u&&!b&&(u=!1),u=function Wy(l,u,f,p){const m=n7(l);let _=p?u.residualClasses:u.residualStyles;if(null===m)0===(p?u.classBindings:u.styleBindings)&&(f=g0(f=wd(null,l,u,f,p),u.attrs,p),_=null);else{const b=u.directiveStylingLast;if(-1===b||l[b]!==m)if(f=wd(m,l,u,f,p),null===_){let D=function JT(l,u,f){const p=f?u.classBindings:u.styleBindings;if(0!==f4(p))return l[d1(p)]}(l,u,p);void 0!==D&&Array.isArray(D)&&(D=wd(null,l,u,D[1],p),D=g0(D,u.attrs,p),function XT(l,u,f,p){l[d1(f?u.classBindings:u.styleBindings)]=p}(l,u,p,D))}else _=function eD(l,u,f){let p;const m=u.directiveEnd;for(let _=1+u.directiveStylingLast;_<m;_++)p=g0(p,l[_].hostAttrs,f);return g0(p,u.attrs,f)}(l,u,p)}return void 0!==_&&(p?u.residualClasses=_:u.residualStyles=_),f}(m,_,u,p),function n5(l,u,f,p,m,_){let b=_?u.classBindings:u.styleBindings,x=d1(b),D=f4(b);l[p]=f;let E,z=!1;if(Array.isArray(f)?(E=f[1],(null===E||pa(f,E)>0)&&(z=!0)):E=f,m)if(0!==D){const ee=d1(l[x+1]);l[p+1]=e5(ee,x),0!==ee&&(l[ee+1]=Cd(l[ee+1],p)),l[x+1]=function t5(l,u){return 131071&l|u<<17}(l[x+1],p)}else l[p+1]=e5(x,0),0!==x&&(l[x+1]=Cd(l[x+1],p)),x=p;else l[p+1]=e5(D,0),0===x?x=p:l[D+1]=Cd(l[D+1],p),D=p;z&&(l[p+1]=d4(l[p+1])),ap(l,E,p,!0),ap(l,E,p,!1),function U3(l,u,f,p,m){const _=m?l.residualClasses:l.residualStyles;null!=_&&"string"==typeof u&&pa(_,u)>=0&&(f[p+1]=op(f[p+1]))}(u,E,l,p,_),b=e5(x,D),_?u.classBindings=b:u.styleBindings=b}(m,_,u,f,b,p)}}function wd(l,u,f,p,m){let _=null;const b=f.directiveEnd;let x=f.directiveStylingLast;for(-1===x?x=f.directiveStart:x++;x<b&&(_=u[x],p=g0(p,_.hostAttrs,m),_!==l);)x++;return null!==l&&(f.directiveStylingLast=x),p}function g0(l,u,f){const p=f?1:2;let m=-1;if(null!==u)for(let _=0;_<u.length;_++){const b=u[_];"number"==typeof b?m=b:m===p&&(Array.isArray(l)||(l=void 0===l?[]:["",l]),cr(l,b,!!f||u[++_]))}return void 0===l?null:l}function Do(l,u,f,p,m,_,b,x){if(!(3&u.type))return;const D=l.data,z=D[x+1],E=function $T(l){return 1==(1&l)}(z)?mp(D,u,f,m,f4(z),b):void 0;s5(E)||(s5(_)||function yd(l){return 2==(2&l)}(z)&&(_=mp(D,null,f,m,x,b)),function pv(l,u,f,p,m){if(u)m?l.addClass(f,p):l.removeClass(f,p);else{let _=-1===p.indexOf("-")?void 0:ds.DashCase;null==m?l.removeStyle(f,p,_):("string"==typeof m&&m.endsWith("!important")&&(m=m.slice(0,-10),_|=ds.Important),l.setStyle(f,p,m,_))}}(p,b,n3(Gi(),f),m,_))}function mp(l,u,f,p,m,_){const b=null===u;let x;for(;m>0;){const D=l[m],z=Array.isArray(D),E=z?D[1]:D,U=null===E;let ee=f[m+1];ee===Mn&&(ee=U?me:void 0);let ce=U?p3(ee,p):E===p?ee:void 0;if(z&&!s5(ce)&&(ce=p3(D,p)),s5(ce)&&(x=ce,b))return x;const Le=l[m+1];m=b?d1(Le):f4(Le)}if(null!==u){let D=_?u.residualClasses:u.residualStyles;null!=D&&(x=p3(D,p))}return x}function s5(l){return void 0!==l}function _0(l,u){return 0!=(l.flags&(u?8:16))}function _p(l,u=""){const f=We(),p=Fn(),m=l+Rn,_=p.firstCreatePass?t0(p,m,1,u,null):p.data[m],b=f[m]=function b3(l,u){return l.createText(u)}(f[hn],u);H7(p,f,b,_),Es(_,!1)}function o5(l){return p4("",l,""),o5}function p4(l,u,f){const p=We(),m=s4(p,l,u,f);return m!==Mn&&wa(p,Gi(),m),p4}function xd(l,u,f,p,m){const _=We(),b=c0(_,l,u,f,p,m);return b!==Mn&&wa(_,Gi(),b),xd}function ko(l,u,f){const p=We();return xi(p,as(),u)&&U2(Fn(),e2(),p,l,u,p[hn],f,!0),ko}function l5(l,u,f){const p=We();if(xi(p,as(),u)){const _=Fn(),b=e2();U2(_,b,p,l,u,function id(l,u,f){return(null===l||rr(l))&&(f=function Ac(l){for(;Array.isArray(l);){if("object"==typeof l[Dc])return l;l=l[B1]}return null}(f[u.index])),f[hn]}(n7(_.data),b,p),f,!0)}return l5}const _4=void 0;var j2=["en",[["a","p"],["AM","PM"],_4],[["AM","PM"],_4,_4],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],_4,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],_4,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",_4,"{1} 'at' {0}",_4],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Qe(l){const f=Math.floor(Math.abs(l)),p=l.toString().replace(/^[^.]*\.?/,"").length;return 1===f&&0===p?1:5}];let ys={};function Dt(l){const u=function ai(l){return l.toLowerCase().replace(/_/g,"-")}(l);let f=yt(u);if(f)return f;const p=u.split("-")[0];if(f=yt(p),f)return f;if("en"===p)return j2;throw new Me(701,!1)}function cC(l){return Dt(l)[fe.PluralCase]}function yt(l){return l in ys||(ys[l]=xt.ng&&xt.ng.common&&xt.ng.common.locales&&xt.ng.common.locales[l]),ys[l]}var fe=(()=>((fe=fe||{})[fe.LocaleId=0]="LocaleId",fe[fe.DayPeriodsFormat=1]="DayPeriodsFormat",fe[fe.DayPeriodsStandalone=2]="DayPeriodsStandalone",fe[fe.DaysFormat=3]="DaysFormat",fe[fe.DaysStandalone=4]="DaysStandalone",fe[fe.MonthsFormat=5]="MonthsFormat",fe[fe.MonthsStandalone=6]="MonthsStandalone",fe[fe.Eras=7]="Eras",fe[fe.FirstDayOfWeek=8]="FirstDayOfWeek",fe[fe.WeekendRange=9]="WeekendRange",fe[fe.DateFormat=10]="DateFormat",fe[fe.TimeFormat=11]="TimeFormat",fe[fe.DateTimeFormat=12]="DateTimeFormat",fe[fe.NumberSymbols=13]="NumberSymbols",fe[fe.NumberFormats=14]="NumberFormats",fe[fe.CurrencyCode=15]="CurrencyCode",fe[fe.CurrencySymbol=16]="CurrencySymbol",fe[fe.CurrencyName=17]="CurrencyName",fe[fe.Currencies=18]="Currencies",fe[fe.Directionality=19]="Directionality",fe[fe.PluralCase=20]="PluralCase",fe[fe.ExtraData=21]="ExtraData",fe))();const C0="en-US";let sD=C0;function Vd(l,u,f,p,m){if(l=ie(l),Array.isArray(l))for(let _=0;_<l.length;_++)Vd(l[_],u,f,p,m);else{const _=Fn(),b=We();let x=K6(l)?l:ie(l.provide),D=Nv(l);const z=vi(),E=1048575&z.providerIndexes,U=z.directiveStart,ee=z.providerIndexes>>20;if(K6(l)||!l.multi){const ce=new Vs(D,m,e0),Le=Ln(x,u,m?E:E+ee,U);-1===Le?(z6(Is(z,b),_,x),Id(_,l,u.length),u.push(x),z.directiveStart++,z.directiveEnd++,m&&(z.providerIndexes+=1048576),f.push(ce),b.push(ce)):(f[Le]=ce,b[Le]=ce)}else{const ce=Ln(x,u,E+ee,U),Le=Ln(x,u,E,E+ee),gt=Le>=0&&f[Le];if(m&&!gt||!m&&!(ce>=0&&f[ce])){z6(Is(z,b),_,x);const At=function Pp(l,u,f,p,m){const _=new Vs(l,f,e0);return _.multi=[],_.index=u,_.componentProviders=0,Np(_,m,p&&!f),_}(m?T0:w1,f.length,m,p,D);!m&&gt&&(f[Le].providerFactory=At),Id(_,l,u.length,0),u.push(x),z.directiveStart++,z.directiveEnd++,m&&(z.providerIndexes+=1048576),f.push(At),b.push(At)}else Id(_,l,ce>-1?ce:Le,Np(f[m?Le:ce],D,!m&&p));!m&&p&&gt&&f[Le].componentProviders++}}}function Id(l,u,f,p){const m=K6(u),_=function oT(l){return!!l.useClass}(u);if(m||_){const D=(_?ie(u.useClass):u).prototype.ngOnDestroy;if(D){const z=l.destroyHooks||(l.destroyHooks=[]);if(!m&&u.multi){const E=z.indexOf(f);-1===E?z.push(f,[p,D]):z[E+1].push(p,D)}else z.push(f,D)}}}function Np(l,u,f){return f&&l.componentProviders++,l.multi.push(u)-1}function Ln(l,u,f,p){for(let m=f;m<p;m++)if(u[m]===l)return m;return-1}function w1(l,u,f,p){return v5(this.multi,[])}function T0(l,u,f,p){const m=this.multi;let _;if(this.providerFactory){const b=this.providerFactory.componentProviders,x=ca(f,f[at],this.providerFactory.index,p);_=x.slice(0,b),v5(m,_);for(let D=b;D<x.length;D++)_.push(x[D])}else _=[],v5(m,_);return _}function v5(l,u){for(let f=0;f<l.length;f++)u.push((0,l[f])());return u}function Rp(l,u=[]){return f=>{f.providersResolver=(p,m)=>function $3(l,u,f){const p=Fn();if(p.firstCreatePass){const m=rr(l);Vd(f,p.data,p.blueprint,m,!0),Vd(u,p.data,p.blueprint,m,!1)}}(p,m?m(l):l,u)}}class Z3{}class Op{}function TC(l,u){return new DC(l,u??null)}class DC extends Z3{constructor(u,f){super(),this._parent=f,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new a0(this);const p=t1(u);this._bootstrapComponents=xo(p.bootstrap),this._r3Injector=Ma(u,f,[{provide:Z3,useValue:this},{provide:z3,useValue:this.componentFactoryResolver}],ge(u),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(u)}get injector(){return this._r3Injector}destroy(){const u=this._r3Injector;!u.destroyed&&u.destroy(),this.destroyCbs.forEach(f=>f()),this.destroyCbs=null}onDestroy(u){this.destroyCbs.push(u)}}class Fp extends Op{constructor(u){super(),this.moduleType=u}create(u){return new DC(this.moduleType,u)}}class mD extends Z3{constructor(u,f,p){super(),this.componentFactoryResolver=new a0(this),this.instance=null;const m=new Iv([...u,{provide:Z3,useValue:this},{provide:z3,useValue:this.componentFactoryResolver}],f||F7(),p,new Set(["environment"]));this.injector=m,m.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(u){this.injector.onDestroy(u)}}function Nd(l,u,f=null){return new mD(l,u,f).injector}let gD=(()=>{class l{constructor(f){this._injector=f,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(f){if(!f.standalone)return null;if(!this.cachedInjectors.has(f.id)){const p=Lv(0,f.type),m=p.length>0?Nd([p],this._injector,`Standalone[${f.type.name}]`):null;this.cachedInjectors.set(f.id,m)}return this.cachedInjectors.get(f.id)}ngOnDestroy(){try{for(const f of this.cachedInjectors.values())null!==f&&f.destroy()}finally{this.cachedInjectors.clear()}}}return l.\u0275prov=lt({token:l,providedIn:"environment",factory:()=>new l(Ke(e4))}),l})();function Bp(l){l.getStandaloneInjector=u=>u.get(gD).getOrCreateStandaloneInjector(l)}function D0(l,u,f){const p=yi()+l,m=We();return m[p]===Mn?vs(m,p,f?u.call(f):u()):function U8(l,u){return l[u]}(m,p)}function y5(l,u,f,p){return Od(We(),yi(),l,u,f,p)}function K3(l,u){const f=l[u];return f===Mn?void 0:f}function Od(l,u,f,p,m,_){const b=u+f;return xi(l,b,m)?vs(l,b+1,_?p.call(_,m):p(m)):K3(l,b+1)}function z0(l,u){const f=Fn();let p;const m=l+Rn;f.firstCreatePass?(p=function NC(l,u){if(u)for(let f=u.length-1;f>=0;f--){const p=u[f];if(l===p.name)return p}}(u,f.pipeRegistry),f.data[m]=p,p.onDestroy&&(f.destroyHooks||(f.destroyHooks=[])).push(m,p.onDestroy)):p=f.data[m];const _=p.factory||(p.factory=Se(p.type)),b=z1(e0);try{const x=oa(!1),D=_();return oa(x),function Y8(l,u,f,p){f>=l.data.length&&(l.data[f]=null,l.blueprint[f]=null),u[f]=p}(f,We(),m,D),D}finally{z1(b)}}function A0(l,u,f){const p=l+Rn,m=We(),_=co(m,p);return H0(m,p)?Od(m,yi(),u,_.transform,f,_):_.transform(f)}function Yp(l,u,f,p){const m=l+Rn,_=We(),b=co(_,m);return H0(_,m)?function Q3(l,u,f,p,m,_,b){const x=u+f;return N3(l,x,m,_)?vs(l,x+2,b?p.call(b,m,_):p(m,_)):K3(l,x+2)}(_,yi(),u,b.transform,f,p,b):b.transform(f,p)}function H0(l,u){return l[at].data[u].pure}function L0(l){return u=>{setTimeout(l,void 0,u)}}const zo=class FC extends o.x{constructor(u=!1){super(),this.__isAsync=u}emit(u){super.next(u)}subscribe(u,f,p){let m=u,_=f||(()=>null),b=p;if(u&&"object"==typeof u){const D=u;m=D.next?.bind(D),_=D.error?.bind(D),b=D.complete?.bind(D)}this.__isAsync&&(_=L0(_),m&&(m=L0(m)),b&&(b=L0(b)));const x=super.subscribe({next:m,error:_,complete:b});return u instanceof j.w0&&u.add(x),x}};function vD(){return this._results[Symbol.iterator]()}class Bd{get changes(){return this._changes||(this._changes=new zo)}constructor(u=!1){this._emitDistinctChangesOnly=u,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const f=Bd.prototype;f[Symbol.iterator]||(f[Symbol.iterator]=vD)}get(u){return this._results[u]}map(u){return this._results.map(u)}filter(u){return this._results.filter(u)}find(u){return this._results.find(u)}reduce(u,f){return this._results.reduce(u,f)}forEach(u){this._results.forEach(u)}some(u){return this._results.some(u)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(u,f){const p=this;p.dirty=!1;const m=function Br(l){return l.flat(Number.POSITIVE_INFINITY)}(u);(this._changesDetected=!function ov(l,u,f){if(l.length!==u.length)return!1;for(let p=0;p<l.length;p++){let m=l[p],_=u[p];if(f&&(m=f(m),_=f(_)),_!==m)return!1}return!0}(p._results,m,f))&&(p._results=m,p.length=m.length,p.last=m[this.length-1],p.first=m[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ao=(()=>{class l{}return l.__NG_ELEMENT_ID__=D4,l})();const T4=Ao,BC=class extends T4{constructor(u,f,p){super(),this._declarationLView=u,this._declarationTContainer=f,this.elementRef=p}createEmbeddedView(u,f){const p=this._declarationTContainer.tView,m=K7(this._declarationLView,p,u,16,null,p.declTNode,null,null,null,null,f||null);m[ks]=this._declarationLView[this._declarationTContainer.index];const b=this._declarationLView[vr];return null!==b&&(m[vr]=b.createEmbeddedView(p)),py(p,m,u),new o0(m)}};function D4(){return b5(vi(),We())}function b5(l,u){return 4&l.type?new BC(u,l,t4(l,u)):null}let La=(()=>{class l{}return l.__NG_ELEMENT_ID__=UC,l})();function UC(){return $1(vi(),We())}const jC=La,E0=class extends jC{constructor(u,f,p){super(),this._lContainer=u,this._hostTNode=f,this._hostLView=p}get element(){return t4(this._hostTNode,this._hostLView)}get injector(){return new la(this._hostTNode,this._hostLView)}get parentInjector(){const u=Rc(this._hostTNode,this._hostLView);if(a3(u)){const f=l3(u,this._hostLView),p=c3(u);return new la(f[at].data[p+8],f)}return new la(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(u){const f=WC(this._lContainer);return null!==f&&f[u]||null}get length(){return this._lContainer.length-d2}createEmbeddedView(u,f,p){let m,_;"number"==typeof p?m=p:null!=p&&(m=p.index,_=p.injector);const b=u.createEmbeddedView(f||{},_);return this.insert(b,m),b}createComponent(u,f,p,m,_){const b=u&&!function h3(l){return"function"==typeof l}(u);let x;if(b)x=f;else{const U=f||{};x=U.index,p=U.injector,m=U.projectableNodes,_=U.environmentInjector||U.ngModuleRef}const D=b?u:new B8(et(u)),z=p||this.parentInjector;if(!_&&null==D.ngModule){const ee=(b?z:this.parentInjector).get(e4,null);ee&&(_=ee)}const E=D.create(z,m,void 0,_);return this.insert(E.hostView,x),E}insert(u,f){const p=u._lView,m=p[at];if(function Pl(l){return Ai(l[jn])}(p)){const E=this.indexOf(u);if(-1!==E)this.detach(E);else{const U=p[jn],ee=new E0(U,U[u2],U[jn]);ee.detach(ee.indexOf(u))}}const _=this._adjustIndex(f),b=this._lContainer;!function w3(l,u,f,p){const m=d2+p,_=f.length;p>0&&(f[m-1][U1]=u),p<_-d2?(u[U1]=f[m],s8(f,d2+p,u)):(f.push(u),u[U1]=null),u[jn]=f;const b=u[ks];null!==b&&f!==b&&function T7(l,u){const f=l[ro];u[j1]!==u[jn][jn][j1]&&(l[W1]=!0),null===f?l[ro]=[u]:f.push(u)}(b,u);const x=u[vr];null!==x&&x.insertView(l),u[nn]|=64}(m,p,b,_);const x=c9(_,b),D=p[hn],z=S3(D,b[io]);return null!==z&&function y8(l,u,f,p,m,_){p[B1]=m,p[u2]=u,M8(l,p,f,1,m,_)}(m,b[u2],D,p,z,x),u.attachToViewContainerRef(),s8(qp(b),_,u),u}move(u,f){return this.insert(u,f)}indexOf(u){const f=WC(this._lContainer);return null!==f?f.indexOf(u):-1}remove(u){const f=this._adjustIndex(u,-1),p=Gc(this._lContainer,f);p&&(L6(qp(this._lContainer),f),k7(p[at],p))}detach(u){const f=this._adjustIndex(u,-1),p=Gc(this._lContainer,f);return p&&null!=L6(qp(this._lContainer),f)?new o0(p):null}_adjustIndex(u,f=0){return u??this.length+f}};function WC(l){return l[As]}function qp(l){return l[As]||(l[As]=[])}function $1(l,u){let f;const p=u[l.index];if(Ai(p))f=p;else{let m;if(8&l.type)m=g1(p);else{const _=u[hn];m=_.createComment("");const b=ri(l,u);ya(_,S3(_,b),m,function C8(l,u){return l.nextSibling(u)}(_,b),!1)}u[l.index]=f=N8(p,u,m,l),td(u,f)}return new E0(f,l,u)}class V0{constructor(u){this.queryList=u,this.matches=null}clone(){return new V0(this.queryList)}setDirty(){this.queryList.setDirty()}}class I0{constructor(u=[]){this.queries=u}createEmbeddedView(u){const f=u.queries;if(null!==f){const p=null!==u.contentQueries?u.contentQueries[0]:f.length,m=[];for(let _=0;_<p;_++){const b=f.getByIndex(_);m.push(this.queries[b.indexInDeclarationView].clone())}return new I0(m)}return null}insertView(u){this.dirtyQueriesWithMatches(u)}detachView(u){this.dirtyQueriesWithMatches(u)}dirtyQueriesWithMatches(u){for(let f=0;f<this.queries.length;f++)null!==Va(u,f).matches&&this.queries[f].setDirty()}}class Gp{constructor(u,f,p=null){this.predicate=u,this.flags=f,this.read=p}}class $p{constructor(u=[]){this.queries=u}elementStart(u,f){for(let p=0;p<this.queries.length;p++)this.queries[p].elementStart(u,f)}elementEnd(u){for(let f=0;f<this.queries.length;f++)this.queries[f].elementEnd(u)}embeddedTView(u){let f=null;for(let p=0;p<this.length;p++){const m=null!==f?f.length:0,_=this.getByIndex(p).embeddedTView(u,m);_&&(_.indexInDeclarationView=p,null!==f?f.push(_):f=[_])}return null!==f?new $p(f):null}template(u,f){for(let p=0;p<this.queries.length;p++)this.queries[p].template(u,f)}getByIndex(u){return this.queries[u]}get length(){return this.queries.length}track(u){this.queries.push(u)}}class k4{constructor(u,f=-1){this.metadata=u,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=f}elementStart(u,f){this.isApplyingToNode(f)&&this.matchTNode(u,f)}elementEnd(u){this._declarationNodeIndex===u.index&&(this._appliesToNextNode=!1)}template(u,f){this.elementStart(u,f)}embeddedTView(u,f){return this.isApplyingToNode(u)?(this.crossesNgTemplate=!0,this.addMatch(-u.index,f),new k4(this.metadata)):null}isApplyingToNode(u){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const f=this._declarationNodeIndex;let p=u.parent;for(;null!==p&&8&p.type&&p.index!==f;)p=p.parent;return f===(null!==p?p.index:-1)}return this._appliesToNextNode}matchTNode(u,f){const p=this.metadata.predicate;if(Array.isArray(p))for(let m=0;m<p.length;m++){const _=p[m];this.matchTNodeWithReadOption(u,f,yD(f,_)),this.matchTNodeWithReadOption(u,f,u3(f,u,_,!1,!1))}else p===Ao?4&f.type&&this.matchTNodeWithReadOption(u,f,-1):this.matchTNodeWithReadOption(u,f,u3(f,u,p,!1,!1))}matchTNodeWithReadOption(u,f,p){if(null!==p){const m=this.metadata.read;if(null!==m)if(m===A3||m===La||m===Ao&&4&f.type)this.addMatch(f.index,-2);else{const _=u3(f,u,m,!1,!1);null!==_&&this.addMatch(f.index,_)}else this.addMatch(f.index,p)}}addMatch(u,f){null===this.matches?this.matches=[u,f]:this.matches.push(u,f)}}function yD(l,u){const f=l.localNames;if(null!==f)for(let p=0;p<f.length;p+=2)if(f[p]===u)return f[p+1];return null}function N0(l,u,f,p){return-1===f?function YC(l,u){return 11&l.type?t4(l,u):4&l.type?b5(l,u):null}(u,l):-2===f?function Ea(l,u,f){return f===A3?t4(u,l):f===Ao?b5(u,l):f===La?$1(u,l):void 0}(l,u,p):ca(l,l[at],f,u)}function Zp(l,u,f,p){const m=u[vr].queries[p];if(null===m.matches){const _=l.data,b=f.matches,x=[];for(let D=0;D<b.length;D+=2){const z=b[D];x.push(z<0?null:N0(u,_[z],b[D+1],f.metadata.read))}m.matches=x}return m.matches}function Ud(l,u,f,p){const m=l.queries.getByIndex(f),_=m.matches;if(null!==_){const b=Zp(l,u,m,f);for(let x=0;x<_.length;x+=2){const D=_[x];if(D>0)p.push(b[x/2]);else{const z=_[x+1],E=u[-D];for(let U=d2;U<E.length;U++){const ee=E[U];ee[ks]===ee[jn]&&Ud(ee[at],ee,z,p)}if(null!==E[ro]){const U=E[ro];for(let ee=0;ee<U.length;ee++){const ce=U[ee];Ud(ce[at],ce,z,p)}}}}}return p}function Kp(l){const u=We(),f=Fn(),p=sa();Lc(p+1);const m=Va(f,p);if(l.dirty&&function Zu(l){return 4==(4&l[nn])}(u)===(2==(2&m.metadata.flags))){if(null===m.matches)l.reset([]);else{const _=m.crossesNgTemplate?Ud(f,u,p,[]):Zp(f,u,m,p);l.reset(_,U7),l.notifyOnChanges()}return!0}return!1}function z4(l,u,f){const p=Fn();p.firstCreatePass&&(Qp(p,new Gp(l,u,f),-1),2==(2&u)&&(p.staticViewQueries=!0)),Wn(p,We(),u)}function jd(l,u,f,p){const m=Fn();if(m.firstCreatePass){const _=vi();Qp(m,new Gp(u,f,p),_.index),function GC(l,u){const f=l.contentQueries||(l.contentQueries=[]);u!==(f.length?f[f.length-1]:-1)&&f.push(l.queries.length-1,u)}(m,l),2==(2&f)&&(m.staticContentQueries=!0)}Wn(m,We(),f)}function qC(){return function ti(l,u){return l[vr].queries[u].queryList}(We(),sa())}function Wn(l,u,f){const p=new Bd(4==(4&f));De(l,u,p,p.destroy),null===u[vr]&&(u[vr]=new I0),u[vr].queries.push(new V0(p))}function Qp(l,u,f){null===l.queries&&(l.queries=new $p),l.queries.track(new k4(u,f))}function Va(l,u){return l.queries.getByIndex(u)}function Jp(l){return!!t1(l)}function $r(...l){}const k5=new un("Application Initializer");let z5=(()=>{class l{constructor(f){this.appInits=f,this.resolve=$r,this.reject=$r,this.initialized=!1,this.done=!1,this.donePromise=new Promise((p,m)=>{this.resolve=p,this.reject=m})}runInitializers(){if(this.initialized)return;const f=[],p=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let m=0;m<this.appInits.length;m++){const _=this.appInits[m]();if(ep(_))f.push(_);else if(Z8(_)){const b=new Promise((x,D)=>{_.subscribe({complete:x,error:D})});f.push(b)}}Promise.all(f).then(()=>{p()}).catch(m=>{this.reject(m)}),0===f.length&&p(),this.initialized=!0}}return l.\u0275fac=function(f){return new(f||l)(Ke(k5,8))},l.\u0275prov=lt({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const lb=new un("AppId",{providedIn:"root",factory:function ub(){return`${om()}${om()}${om()}`}});function om(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const db=new un("Platform Initializer"),AD=new un("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),HD=new un("AnimationModuleType");let LD=(()=>{class l{log(f){console.log(f)}warn(f){console.warn(f)}}return l.\u0275fac=function(f){return new(f||l)},l.\u0275prov=lt({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})();const Qd=new un("LocaleId",{providedIn:"root",factory:()=>pt(Qd,ht.Optional|ht.SkipSelf)||function ED(){return typeof $localize<"u"&&$localize.locale||C0}()}),VD=new un("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class fb{constructor(u,f){this.ngModuleFactory=u,this.componentFactories=f}}let ID=(()=>{class l{compileModuleSync(f){return new Fp(f)}compileModuleAsync(f){return Promise.resolve(this.compileModuleSync(f))}compileModuleAndAllComponentsSync(f){const p=this.compileModuleSync(f),_=xo(t1(f).declarations).reduce((b,x)=>{const D=et(x);return D&&b.push(new B8(D)),b},[]);return new fb(p,_)}compileModuleAndAllComponentsAsync(f){return Promise.resolve(this.compileModuleAndAllComponentsSync(f))}clearCache(){}clearCacheFor(f){}getModuleId(f){}}return l.\u0275fac=function(f){return new(f||l)},l.\u0275prov=lt({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const am=(()=>Promise.resolve(0))();function Lo(l){typeof Zone>"u"?am.then(()=>{l&&l.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",l)}class Kr{constructor({enableLongStackTrace:u=!1,shouldCoalesceEventChangeDetection:f=!1,shouldCoalesceRunChangeDetection:p=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new zo(!1),this.onMicrotaskEmpty=new zo(!1),this.onStable=new zo(!1),this.onError=new zo(!1),typeof Zone>"u")throw new Me(908,!1);Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),u&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!p&&f,m.shouldCoalesceRunChangeDetection=p,m.lastRequestAnimationFrameId=-1,m.nativeRequestAnimationFrame=function mb(){let l=xt.requestAnimationFrame,u=xt.cancelAnimationFrame;if(typeof Zone<"u"&&l&&u){const f=l[Zone.__symbol__("OriginalDelegate")];f&&(l=f);const p=u[Zone.__symbol__("OriginalDelegate")];p&&(u=p)}return{nativeRequestAnimationFrame:l,nativeCancelAnimationFrame:u}}().nativeRequestAnimationFrame,function E4(l){const u=()=>{!function L4(l){l.isCheckStableRunning||-1!==l.lastRequestAnimationFrameId||(l.lastRequestAnimationFrameId=l.nativeRequestAnimationFrame.call(xt,()=>{l.fakeTopEventTask||(l.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{l.lastRequestAnimationFrameId=-1,V4(l),l.isCheckStableRunning=!0,Na(l),l.isCheckStableRunning=!1},void 0,()=>{},()=>{})),l.fakeTopEventTask.invoke()}),V4(l))}(l)};l._inner=l._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(f,p,m,_,b,x)=>{try{return cm(l),f.invokeTask(m,_,b,x)}finally{(l.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||l.shouldCoalesceRunChangeDetection)&&u(),ef(l)}},onInvoke:(f,p,m,_,b,x,D)=>{try{return cm(l),f.invoke(m,_,b,x,D)}finally{l.shouldCoalesceRunChangeDetection&&u(),ef(l)}},onHasTask:(f,p,m,_)=>{f.hasTask(m,_),p===m&&("microTask"==_.change?(l._hasPendingMicrotasks=_.microTask,V4(l),Na(l)):"macroTask"==_.change&&(l.hasPendingMacrotasks=_.macroTask))},onHandleError:(f,p,m,_)=>(f.handleError(m,_),l.runOutsideAngular(()=>l.onError.emit(_)),!1)})}(m)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Kr.isInAngularZone())throw new Me(909,!1)}static assertNotInAngularZone(){if(Kr.isInAngularZone())throw new Me(909,!1)}run(u,f,p){return this._inner.run(u,f,p)}runTask(u,f,p,m){const _=this._inner,b=_.scheduleEventTask("NgZoneEvent: "+m,u,Xd,$r,$r);try{return _.runTask(b,f,p)}finally{_.cancelTask(b)}}runGuarded(u,f,p){return this._inner.runGuarded(u,f,p)}runOutsideAngular(u){return this._outer.run(u)}}const Xd={};function Na(l){if(0==l._nesting&&!l.hasPendingMicrotasks&&!l.isStable)try{l._nesting++,l.onMicrotaskEmpty.emit(null)}finally{if(l._nesting--,!l.hasPendingMicrotasks)try{l.runOutsideAngular(()=>l.onStable.emit(null))}finally{l.isStable=!0}}}function V4(l){l.hasPendingMicrotasks=!!(l._hasPendingMicrotasks||(l.shouldCoalesceEventChangeDetection||l.shouldCoalesceRunChangeDetection)&&-1!==l.lastRequestAnimationFrameId)}function cm(l){l._nesting++,l.isStable&&(l.isStable=!1,l.onUnstable.emit(null))}function ef(l){l._nesting--,Na(l)}class lm{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new zo,this.onMicrotaskEmpty=new zo,this.onStable=new zo,this.onError=new zo}run(u,f,p){return u.apply(f,p)}runGuarded(u,f,p){return u.apply(f,p)}runOutsideAngular(u){return u()}runTask(u,f,p,m){return u.apply(f,p)}}const um=new un(""),dm=new un("");let F0,RD=(()=>{class l{constructor(f,p,m){this._ngZone=f,this.registry=p,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,F0||(function gb(l){F0=l}(m),m.addToWindow(p)),this._watchAngularEvents(),f.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Kr.assertNotInAngularZone(),Lo(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Lo(()=>{for(;0!==this._callbacks.length;){let f=this._callbacks.pop();clearTimeout(f.timeoutId),f.doneCb(this._didWork)}this._didWork=!1});else{let f=this.getPendingTasks();this._callbacks=this._callbacks.filter(p=>!p.updateCb||!p.updateCb(f)||(clearTimeout(p.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(f=>({source:f.source,creationLocation:f.creationLocation,data:f.data})):[]}addCallback(f,p,m){let _=-1;p&&p>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==_),f(this._didWork,this.getPendingTasks())},p)),this._callbacks.push({doneCb:f,timeoutId:_,updateCb:m})}whenStable(f,p,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(f,p,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(f){this.registry.registerApplication(f,this)}unregisterApplication(f){this.registry.unregisterApplication(f)}findProviders(f,p,m){return[]}}return l.\u0275fac=function(f){return new(f||l)(Ke(Kr),Ke(fm),Ke(dm))},l.\u0275prov=lt({token:l,factory:l.\u0275fac}),l})(),fm=(()=>{class l{constructor(){this._applications=new Map}registerApplication(f,p){this._applications.set(f,p)}unregisterApplication(f){this._applications.delete(f)}unregisterAllApplications(){this._applications.clear()}getTestability(f){return this._applications.get(f)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(f,p=!0){return F0?.findTestabilityInTree(this,f,p)??null}}return l.\u0275fac=function(f){return new(f||l)},l.\u0275prov=lt({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})();const Qr=!1;let Sr=null;const _b=new un("AllowMultipleToken"),tf=new un("PlatformDestroyListeners"),vb=new un("appBootstrapListener");class I4{constructor(u,f){this.name=u,this.token=f}}function bb(l,u,f=[]){const p=`Platform: ${u}`,m=new un(p);return(_=[])=>{let b=H5();if(!b||b.injector.get(_b,!1)){const x=[...f,..._,{provide:m,useValue:!0}];l?l(x):function J3(l){if(Sr&&!Sr.get(_b,!1))throw new Me(400,!1);Sr=l;const u=l.get(rf);(function Cb(l){const u=l.get(db,null);u&&u.forEach(f=>f())})(l)}(function nf(l=[],u){return H3.create({name:u,providers:[{provide:T8,useValue:"platform"},{provide:tf,useValue:new Set([()=>Sr=null])},...l]})}(x,p))}return function hm(l){const u=H5();if(!u)throw new Me(401,!1);return u}()}}function H5(){return Sr?.get(rf)??null}let rf=(()=>{class l{constructor(f){this._injector=f,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(f,p){const m=function L5(l,u){let f;return f="noop"===l?new lm:("zone.js"===l?void 0:l)||new Kr(u),f}(p?.ngZone,function pm(l){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!l||!l.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!l||!l.ngZoneRunCoalescing)||!1}}(p)),_=[{provide:Kr,useValue:m}];return m.run(()=>{const b=H3.create({providers:_,parent:this.injector,name:f.moduleType.name}),x=f.create(b),D=x.injector.get(z8,null);if(!D)throw new Me(402,!1);return m.runOutsideAngular(()=>{const z=m.onError.subscribe({next:E=>{D.handleError(E)}});x.onDestroy(()=>{af(this._modules,x),z.unsubscribe()})}),function Mb(l,u,f){try{const p=f();return ep(p)?p.catch(m=>{throw u.runOutsideAngular(()=>l.handleError(m)),m}):p}catch(p){throw u.runOutsideAngular(()=>l.handleError(p)),p}}(D,m,()=>{const z=x.injector.get(z5);return z.runInitializers(),z.donePromise.then(()=>(function uC(l){Xe(l,"Expected localeId to be defined"),"string"==typeof l&&(sD=l.toLowerCase().replace(/_/g,"-"))}(x.injector.get(Qd,C0)||C0),this._moduleDoBootstrap(x),x))})})}bootstrapModule(f,p=[]){const m=sf({},p);return function OD(l,u,f){const p=new Fp(f);return Promise.resolve(p)}(0,0,f).then(_=>this.bootstrapModuleFactory(_,m))}_moduleDoBootstrap(f){const p=f.injector.get(N4);if(f._bootstrapComponents.length>0)f._bootstrapComponents.forEach(m=>p.bootstrap(m));else{if(!f.instance.ngDoBootstrap)throw new Me(-403,!1);f.instance.ngDoBootstrap(p)}this._modules.push(f)}onDestroy(f){this._destroyListeners.push(f)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Me(404,!1);this._modules.slice().forEach(p=>p.destroy()),this._destroyListeners.forEach(p=>p());const f=this._injector.get(tf,null);f&&(f.forEach(p=>p()),f.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return l.\u0275fac=function(f){return new(f||l)(Ke(H3))},l.\u0275prov=lt({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})();function sf(l,u){return Array.isArray(u)?u.reduce(sf,l):{...l,...u}}let N4=(()=>{class l{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(f,p,m){this._zone=f,this._injector=p,this._exceptionHandler=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new F.y(x=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{x.next(this._stable),x.complete()})}),b=new F.y(x=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{Kr.assertNotInAngularZone(),Lo(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,x.next(!0))})})});const z=this._zone.onUnstable.subscribe(()=>{Kr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{x.next(!1)}))});return()=>{D.unsubscribe(),z.unsubscribe()}});this.isStable=(0,le.T)(_,b.pipe((0,de.B)()))}bootstrap(f,p){const m=f instanceof D8;if(!this._injector.get(z5).done){!m&&Ft(f);throw new Me(405,Qr)}let b;b=m?f:this._injector.get(z3).resolveComponentFactory(f),this.componentTypes.push(b.componentType);const x=function A5(l){return l.isBoundToModule}(b)?void 0:this._injector.get(Z3),z=b.create(H3.NULL,[],p||b.selector,x),E=z.location.nativeElement,U=z.injector.get(um,null);return U?.registerApplication(E),z.onDestroy(()=>{this.detachView(z.hostView),af(this.components,z),U?.unregisterApplication(E)}),this._loadComponent(z),z}tick(){if(this._runningTick)throw new Me(101,!1);try{this._runningTick=!0;for(let f of this._views)f.detectChanges()}catch(f){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(f))}finally{this._runningTick=!1}}attachView(f){const p=f;this._views.push(p),p.attachToAppRef(this)}detachView(f){const p=f;af(this._views,p),p.detachFromAppRef()}_loadComponent(f){this.attachView(f.hostView),this.tick(),this.components.push(f);const p=this._injector.get(vb,[]);p.push(...this._bootstrapListeners),p.forEach(m=>m(f))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(f=>f()),this._views.slice().forEach(f=>f.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(f){return this._destroyListeners.push(f),()=>af(this._destroyListeners,f)}destroy(){if(this._destroyed)throw new Me(406,!1);const f=this._injector;f.destroy&&!f.destroyed&&f.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return l.\u0275fac=function(f){return new(f||l)(Ke(Kr),Ke(e4),Ke(z8))},l.\u0275prov=lt({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();function af(l,u){const f=l.indexOf(u);f>-1&&l.splice(f,1)}function cf(){return!1}let wb=(()=>{class l{}return l.__NG_ELEMENT_ID__=uf,l})();function uf(l){return function df(l,u,f){if(Rr(l)&&!f){const p=sr(l.index,u);return new o0(p,p)}return 47&l.type?new o0(u[j1],u):null}(vi(),We(),16==(16&l))}class Cm{constructor(){}supports(u){return fd(u)}create(u){return new $D(u)}}const Tb=(l,u)=>u;class $D{constructor(u){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=u||Tb}forEachItem(u){let f;for(f=this._itHead;null!==f;f=f._next)u(f)}forEachOperation(u){let f=this._itHead,p=this._removalsHead,m=0,_=null;for(;f||p;){const b=!p||f&&f.currentIndex<mf(p,m,_)?f:p,x=mf(b,m,_),D=b.currentIndex;if(b===p)m--,p=p._nextRemoved;else if(f=f._next,null==b.previousIndex)m++;else{_||(_=[]);const z=x-m,E=D-m;if(z!=E){for(let ee=0;ee<z;ee++){const ce=ee<_.length?_[ee]:_[ee]=0,Le=ce+ee;E<=Le&&Le<z&&(_[ee]=ce+1)}_[b.previousIndex]=E-z}}x!==D&&u(b,x,D)}}forEachPreviousItem(u){let f;for(f=this._previousItHead;null!==f;f=f._nextPrevious)u(f)}forEachAddedItem(u){let f;for(f=this._additionsHead;null!==f;f=f._nextAdded)u(f)}forEachMovedItem(u){let f;for(f=this._movesHead;null!==f;f=f._nextMoved)u(f)}forEachRemovedItem(u){let f;for(f=this._removalsHead;null!==f;f=f._nextRemoved)u(f)}forEachIdentityChange(u){let f;for(f=this._identityChangesHead;null!==f;f=f._nextIdentityChange)u(f)}diff(u){if(null==u&&(u=[]),!fd(u))throw new Me(900,!1);return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let m,_,b,f=this._itHead,p=!1;if(Array.isArray(u)){this.length=u.length;for(let x=0;x<this.length;x++)_=u[x],b=this._trackByFn(x,_),null!==f&&Object.is(f.trackById,b)?(p&&(f=this._verifyReinsertion(f,_,b,x)),Object.is(f.item,_)||this._addIdentityChange(f,_)):(f=this._mismatch(f,_,b,x),p=!0),f=f._next}else m=0,function GT(l,u){if(Array.isArray(l))for(let f=0;f<l.length;f++)u(l[f]);else{const f=l[Symbol.iterator]();let p;for(;!(p=f.next()).done;)u(p.value)}}(u,x=>{b=this._trackByFn(m,x),null!==f&&Object.is(f.trackById,b)?(p&&(f=this._verifyReinsertion(f,x,b,m)),Object.is(f.item,x)||this._addIdentityChange(f,x)):(f=this._mismatch(f,x,b,m),p=!0),f=f._next,m++}),this.length=m;return this._truncate(f),this.collection=u,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let u;for(u=this._previousItHead=this._itHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._additionsHead;null!==u;u=u._nextAdded)u.previousIndex=u.currentIndex;for(this._additionsHead=this._additionsTail=null,u=this._movesHead;null!==u;u=u._nextMoved)u.previousIndex=u.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(u,f,p,m){let _;return null===u?_=this._itTail:(_=u._prev,this._remove(u)),null!==(u=null===this._unlinkedRecords?null:this._unlinkedRecords.get(p,null))?(Object.is(u.item,f)||this._addIdentityChange(u,f),this._reinsertAfter(u,_,m)):null!==(u=null===this._linkedRecords?null:this._linkedRecords.get(p,m))?(Object.is(u.item,f)||this._addIdentityChange(u,f),this._moveAfter(u,_,m)):u=this._addAfter(new Db(f,p),_,m),u}_verifyReinsertion(u,f,p,m){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(p,null);return null!==_?u=this._reinsertAfter(_,u._prev,m):u.currentIndex!=m&&(u.currentIndex=m,this._addToMoves(u,m)),u}_truncate(u){for(;null!==u;){const f=u._next;this._addToRemovals(this._unlink(u)),u=f}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(u,f,p){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(u);const m=u._prevRemoved,_=u._nextRemoved;return null===m?this._removalsHead=_:m._nextRemoved=_,null===_?this._removalsTail=m:_._prevRemoved=m,this._insertAfter(u,f,p),this._addToMoves(u,p),u}_moveAfter(u,f,p){return this._unlink(u),this._insertAfter(u,f,p),this._addToMoves(u,p),u}_addAfter(u,f,p){return this._insertAfter(u,f,p),this._additionsTail=null===this._additionsTail?this._additionsHead=u:this._additionsTail._nextAdded=u,u}_insertAfter(u,f,p){const m=null===f?this._itHead:f._next;return u._next=m,u._prev=f,null===m?this._itTail=u:m._prev=u,null===f?this._itHead=u:f._next=u,null===this._linkedRecords&&(this._linkedRecords=new kb),this._linkedRecords.put(u),u.currentIndex=p,u}_remove(u){return this._addToRemovals(this._unlink(u))}_unlink(u){null!==this._linkedRecords&&this._linkedRecords.remove(u);const f=u._prev,p=u._next;return null===f?this._itHead=p:f._next=p,null===p?this._itTail=f:p._prev=f,u}_addToMoves(u,f){return u.previousIndex===f||(this._movesTail=null===this._movesTail?this._movesHead=u:this._movesTail._nextMoved=u),u}_addToRemovals(u){return null===this._unlinkedRecords&&(this._unlinkedRecords=new kb),this._unlinkedRecords.put(u),u.currentIndex=null,u._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=u,u._prevRemoved=null):(u._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=u),u}_addIdentityChange(u,f){return u.item=f,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=u:this._identityChangesTail._nextIdentityChange=u,u}}class Db{constructor(u,f){this.item=u,this.trackById=f,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ZD{constructor(){this._head=null,this._tail=null}add(u){null===this._head?(this._head=this._tail=u,u._nextDup=null,u._prevDup=null):(this._tail._nextDup=u,u._prevDup=this._tail,u._nextDup=null,this._tail=u)}get(u,f){let p;for(p=this._head;null!==p;p=p._nextDup)if((null===f||f<=p.currentIndex)&&Object.is(p.trackById,u))return p;return null}remove(u){const f=u._prevDup,p=u._nextDup;return null===f?this._head=p:f._nextDup=p,null===p?this._tail=f:p._prevDup=f,null===this._head}}class kb{constructor(){this.map=new Map}put(u){const f=u.trackById;let p=this.map.get(f);p||(p=new ZD,this.map.set(f,p)),p.add(u)}get(u,f){const m=this.map.get(u);return m?m.get(u,f):null}remove(u){const f=u.trackById;return this.map.get(f).remove(u)&&this.map.delete(f),u}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function mf(l,u,f){const p=l.previousIndex;if(null===p)return p;let m=0;return f&&p<f.length&&(m=f[p]),p+u+m}class ui{constructor(){}supports(u){return u instanceof Map||$9(u)}create(){return new KD}}class KD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(u){let f;for(f=this._mapHead;null!==f;f=f._next)u(f)}forEachPreviousItem(u){let f;for(f=this._previousMapHead;null!==f;f=f._nextPrevious)u(f)}forEachChangedItem(u){let f;for(f=this._changesHead;null!==f;f=f._nextChanged)u(f)}forEachAddedItem(u){let f;for(f=this._additionsHead;null!==f;f=f._nextAdded)u(f)}forEachRemovedItem(u){let f;for(f=this._removalsHead;null!==f;f=f._nextRemoved)u(f)}diff(u){if(u){if(!(u instanceof Map||$9(u)))throw new Me(900,!1)}else u=new Map;return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let f=this._mapHead;if(this._appendAfter=null,this._forEach(u,(p,m)=>{if(f&&f.key===m)this._maybeAddToChanges(f,p),this._appendAfter=f,f=f._next;else{const _=this._getOrCreateRecordForKey(m,p);f=this._insertBeforeOrAppend(f,_)}}),f){f._prev&&(f._prev._next=null),this._removalsHead=f;for(let p=f;null!==p;p=p._nextRemoved)p===this._mapHead&&(this._mapHead=null),this._records.delete(p.key),p._nextRemoved=p._next,p.previousValue=p.currentValue,p.currentValue=null,p._prev=null,p._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(u,f){if(u){const p=u._prev;return f._next=u,f._prev=p,u._prev=f,p&&(p._next=f),u===this._mapHead&&(this._mapHead=f),this._appendAfter=u,u}return this._appendAfter?(this._appendAfter._next=f,f._prev=this._appendAfter):this._mapHead=f,this._appendAfter=f,null}_getOrCreateRecordForKey(u,f){if(this._records.has(u)){const m=this._records.get(u);this._maybeAddToChanges(m,f);const _=m._prev,b=m._next;return _&&(_._next=b),b&&(b._prev=_),m._next=null,m._prev=null,m}const p=new QD(u);return this._records.set(u,p),p.currentValue=f,this._addToAdditions(p),p}_reset(){if(this.isDirty){let u;for(this._previousMapHead=this._mapHead,u=this._previousMapHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._changesHead;null!==u;u=u._nextChanged)u.previousValue=u.currentValue;for(u=this._additionsHead;null!=u;u=u._nextAdded)u.previousValue=u.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(u,f){Object.is(f,u.currentValue)||(u.previousValue=u.currentValue,u.currentValue=f,this._addToChanges(u))}_addToAdditions(u){null===this._additionsHead?this._additionsHead=this._additionsTail=u:(this._additionsTail._nextAdded=u,this._additionsTail=u)}_addToChanges(u){null===this._changesHead?this._changesHead=this._changesTail=u:(this._changesTail._nextChanged=u,this._changesTail=u)}_forEach(u,f){u instanceof Map?u.forEach(f):Object.keys(u).forEach(p=>f(u[p],p))}}class QD{constructor(u){this.key=u,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function zb(){return new bm([new Cm])}let bm=(()=>{class l{constructor(f){this.factories=f}static create(f,p){if(null!=p){const m=p.factories.slice();f=f.concat(m)}return new l(f)}static extend(f){return{provide:l,useFactory:p=>l.create(f,p||zb()),deps:[[l,new ma,new Uc]]}}find(f){const p=this.factories.find(m=>m.supports(f));if(null!=p)return p;throw new Me(901,!1)}}return l.\u0275prov=lt({token:l,providedIn:"root",factory:zb}),l})();function Ab(){return new j0([new ui])}let j0=(()=>{class l{constructor(f){this.factories=f}static create(f,p){if(p){const m=p.factories.slice();f=f.concat(m)}return new l(f)}static extend(f){return{provide:l,useFactory:p=>l.create(f,p||Ab()),deps:[[l,new ma,new Uc]]}}find(f){const p=this.factories.find(m=>m.supports(f));if(p)return p;throw new Me(901,!1)}}return l.\u0275prov=lt({token:l,providedIn:"root",factory:Ab}),l})();const N5=bb(null,"core",[]);let gf=(()=>{class l{constructor(f){}}return l.\u0275fac=function(f){return new(f||l)(Ke(N4))},l.\u0275mod=Mt({type:l}),l.\u0275inj=r1({}),l})();function Mm(l){return"boolean"==typeof l?l:null!=l&&"false"!==l}},3942:(Ht,Ne,N)=>{N.d(Ne,{Z:()=>ot});var o=N(2090),j=N(4859),F=N(9681),le=N(1877);class de{constructor(Me,Ie){this._delegate=Me,this.firebase=Ie,(0,F._addComponent)(Me,new j.wA("app-compat",()=>this,"PUBLIC")),this.container=Me.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Me){this._delegate.automaticDataCollectionEnabled=Me}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Me=>{this._delegate.checkDestroyed(),Me()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(Me,Ie=F._DEFAULT_ENTRY_NAME){var Re;this._delegate.checkDestroyed();const Oe=this._delegate.container.getProvider(Me);return!Oe.isInitialized()&&"EXPLICIT"===(null===(Re=Oe.getComponent())||void 0===Re?void 0:Re.instantiationMode)&&Oe.initialize(),Oe.getImmediate({identifier:Ie})}_removeServiceInstance(Me,Ie=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Me).clearInstance(Ie)}_addComponent(Me){(0,F._addComponent)(this._delegate,Me)}_addOrOverwriteComponent(Me){(0,F._addOrOverwriteComponent)(this._delegate,Me)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ke=new o.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function _e(){const st=function ge(st){const Me={},Ie={__esModule:!0,initializeApp:function Be(oe,he={}){const ze=F.initializeApp(oe,he);if((0,o.r3)(Me,ze.name))return Me[ze.name];const ct=new st(ze,Ie);return Me[ze.name]=ct,ct},app:Oe,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function Pe(oe){const he=oe.name,ze=he.replace("-compat","");if(F._registerComponent(oe)&&"PUBLIC"===oe.type){const ct=(Ze=Oe())=>{if("function"!=typeof Ze[ze])throw ke.create("invalid-app-argument",{appName:he});return Ze[ze]()};void 0!==oe.serviceProps&&(0,o.ZB)(ct,oe.serviceProps),Ie[ze]=ct,st.prototype[ze]=function(...Ze){return this._getService.bind(this,he).apply(this,oe.multipleInstances?Ze:[])}}return"PUBLIC"===oe.type?Ie[ze]:null},removeApp:function Re(oe){delete Me[oe]},useAsService:function it(oe,he){return"serverAuth"===he?null:he},modularAPIs:F}};function Oe(oe){if(!(0,o.r3)(Me,oe=oe||F._DEFAULT_ENTRY_NAME))throw ke.create("no-app",{appName:oe});return Me[oe]}return Ie.default=Ie,Object.defineProperty(Ie,"apps",{get:function je(){return Object.keys(Me).map(oe=>Me[oe])}}),Oe.App=st,Ie}(de);return st.INTERNAL=Object.assign(Object.assign({},st.INTERNAL),{createFirebaseNamespace:_e,extendNamespace:function Me(Ie){(0,o.ZB)(st,Ie)},createSubscribe:o.ne,ErrorFactory:o.LL,deepExtend:o.ZB}),st}(),K=new le.Yd("@firebase/app-compat");if((0,o.jU)()&&void 0!==self.firebase){K.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const st=self.firebase.SDK_VERSION;st&&st.indexOf("LITE")>=0&&K.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ot=$;!function Ae(st){(0,F.registerVersion)("@firebase/app-compat","0.2.5",st)}()},9681:(Ht,Ne,N)=>{N.r(Ne),N.d(Ne,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>F1,_DEFAULT_ENTRY_NAME:()=>qe,_addComponent:()=>Pn,_addOrOverwriteComponent:()=>Pt,_apps:()=>Xe,_clearComponents:()=>r1,_components:()=>bt,_getProvider:()=>lt,_registerComponent:()=>Lt,_removeServiceInstance:()=>rn,deleteApp:()=>D2,getApp:()=>E1,getApps:()=>J1,initializeApp:()=>P2,onLog:()=>ht,registerVersion:()=>C1,setLogLevel:()=>V1});var o=N(5861),j=N(4859),F=N(1877),le=N(2090),de=N(8766);class ae{constructor(Ve){this.container=Ve}getPlatformInfoString(){return this.container.getProviders().map(pt=>{if(function ke(Ke){return"VERSION"===Ke.getComponent()?.type}(pt)){const Vt=pt.getImmediate();return`${Vt.library}/${Vt.version}`}return null}).filter(pt=>pt).join(" ")}}const ge="@firebase/app",$=new F.Yd("@firebase/app"),qe="[DEFAULT]",$e={[ge]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Xe=new Map,bt=new Map;function Pn(Ke,Ve){try{Ke.container.addComponent(Ve)}catch(pt){$.debug(`Component ${Ve.name} failed to register with FirebaseApp ${Ke.name}`,pt)}}function Pt(Ke,Ve){Ke.container.addOrOverwriteComponent(Ve)}function Lt(Ke){const Ve=Ke.name;if(bt.has(Ve))return $.debug(`There were multiple attempts to register component ${Ve}.`),!1;bt.set(Ve,Ke);for(const pt of Xe.values())Pn(pt,Ke);return!0}function lt(Ke,Ve){const pt=Ke.container.getProvider("heartbeat").getImmediate({optional:!0});return pt&&pt.triggerHeartbeat(),Ke.container.getProvider(Ve)}function rn(Ke,Ve,pt=qe){lt(Ke,Ve).clearInstance(pt)}function r1(){bt.clear()}const An=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class s1{constructor(Ve,pt,Vt){this._isDeleted=!1,this._options=Object.assign({},Ve),this._config=Object.assign({},pt),this._name=pt.name,this._automaticDataCollectionEnabled=pt.automaticDataCollectionEnabled,this._container=Vt,this.container.addComponent(new j.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ve){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ve}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ve){this._isDeleted=Ve}checkDestroyed(){if(this.isDeleted)throw An.create("app-deleted",{appName:this._name})}}const F1="9.18.0";function P2(Ke,Ve={}){let pt=Ke;"object"!=typeof Ve&&(Ve={name:Ve});const Vt=Object.assign({name:qe,automaticDataCollectionEnabled:!1},Ve),Xt=Vt.name;if("string"!=typeof Xt||!Xt)throw An.create("bad-app-name",{appName:String(Xt)});if(pt||(pt=(0,le.aH)()),!pt)throw An.create("no-options");const vn=Xe.get(Xt);if(vn){if((0,le.vZ)(pt,vn.options)&&(0,le.vZ)(Vt,vn.config))return vn;throw An.create("duplicate-app",{appName:Xt})}const m1=new j.H0(Xt);for(const q of bt.values())m1.addComponent(q);const Z=new s1(pt,Vt,m1);return Xe.set(Xt,Z),Z}function E1(Ke=qe){const Ve=Xe.get(Ke);if(!Ve&&Ke===qe)return P2();if(!Ve)throw An.create("no-app",{appName:Ke});return Ve}function J1(){return Array.from(Xe.values())}function D2(Ke){return Un.apply(this,arguments)}function Un(){return(Un=(0,o.Z)(function*(Ke){const Ve=Ke.name;Xe.has(Ve)&&(Xe.delete(Ve),yield Promise.all(Ke.container.getProviders().map(pt=>pt.delete())),Ke.isDeleted=!0)})).apply(this,arguments)}function C1(Ke,Ve,pt){var Vt;let Xt=null!==(Vt=$e[Ke])&&void 0!==Vt?Vt:Ke;pt&&(Xt+=`-${pt}`);const vn=Xt.match(/\s|\//),m1=Ve.match(/\s|\//);if(vn||m1){const Z=[`Unable to register library "${Xt}" with version "${Ve}":`];return vn&&Z.push(`library name "${Xt}" contains illegal characters (whitespace or "/")`),vn&&m1&&Z.push("and"),m1&&Z.push(`version name "${Ve}" contains illegal characters (whitespace or "/")`),void $.warn(Z.join(" "))}Lt(new j.wA(`${Xt}-version`,()=>({library:Xt,version:Ve}),"VERSION"))}function ht(Ke,Ve){if(null!==Ke&&"function"!=typeof Ke)throw An.create("invalid-log-argument");(0,F.Am)(Ke,Ve)}function V1(Ke){(0,F.Ub)(Ke)}const k2="firebase-heartbeat-database",z1=1,I1="firebase-heartbeat-store";let z2=null;function xt(){return z2||(z2=(0,de.X3)(k2,z1,{upgrade:(Ke,Ve)=>{0===Ve&&Ke.createObjectStore(I1)}}).catch(Ke=>{throw An.create("idb-open",{originalErrorMessage:Ke.message})})),z2}function Gt(){return(Gt=(0,o.Z)(function*(Ke){try{return(yield xt()).transaction(I1).objectStore(I1).get(x1(Ke))}catch(Ve){if(Ve instanceof le.ZR)$.warn(Ve.message);else{const pt=An.create("idb-get",{originalErrorMessage:Ve?.message});$.warn(pt.message)}}})).apply(this,arguments)}function l1(Ke,Ve){return u1.apply(this,arguments)}function u1(){return(u1=(0,o.Z)(function*(Ke,Ve){try{const Vt=(yield xt()).transaction(I1,"readwrite");return yield Vt.objectStore(I1).put(Ve,x1(Ke)),Vt.done}catch(pt){if(pt instanceof le.ZR)$.warn(pt.message);else{const Vt=An.create("idb-set",{originalErrorMessage:pt?.message});$.warn(Vt.message)}}})).apply(this,arguments)}function x1(Ke){return`${Ke.name}!${Ke.options.appId}`}class R2{constructor(Ve){this.container=Ve,this._heartbeatsCache=null;const pt=this.container.getProvider("app").getImmediate();this._storage=new sn(pt),this._heartbeatsCachePromise=this._storage.read().then(Vt=>(this._heartbeatsCache=Vt,Vt))}triggerHeartbeat(){var Ve=this;return(0,o.Z)(function*(){const Vt=Ve.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Xt=Jt();if(null===Ve._heartbeatsCache&&(Ve._heartbeatsCache=yield Ve._heartbeatsCachePromise),Ve._heartbeatsCache.lastSentHeartbeatDate!==Xt&&!Ve._heartbeatsCache.heartbeats.some(vn=>vn.date===Xt))return Ve._heartbeatsCache.heartbeats.push({date:Xt,agent:Vt}),Ve._heartbeatsCache.heartbeats=Ve._heartbeatsCache.heartbeats.filter(vn=>{const m1=new Date(vn.date).valueOf();return Date.now()-m1<=2592e6}),Ve._storage.overwrite(Ve._heartbeatsCache)})()}getHeartbeatsHeader(){var Ve=this;return(0,o.Z)(function*(){if(null===Ve._heartbeatsCache&&(yield Ve._heartbeatsCachePromise),null===Ve._heartbeatsCache||0===Ve._heartbeatsCache.heartbeats.length)return"";const pt=Jt(),{heartbeatsToSend:Vt,unsentEntries:Xt}=function Z2(Ke,Ve=1024){const pt=[];let Vt=Ke.slice();for(const Xt of Ke){const vn=pt.find(m1=>m1.agent===Xt.agent);if(vn){if(vn.dates.push(Xt.date),$n(pt)>Ve){vn.dates.pop();break}}else if(pt.push({agent:Xt.agent,dates:[Xt.date]}),$n(pt)>Ve){pt.pop();break}Vt=Vt.slice(1)}return{heartbeatsToSend:pt,unsentEntries:Vt}}(Ve._heartbeatsCache.heartbeats),vn=(0,le.L)(JSON.stringify({version:2,heartbeats:Vt}));return Ve._heartbeatsCache.lastSentHeartbeatDate=pt,Xt.length>0?(Ve._heartbeatsCache.heartbeats=Xt,yield Ve._storage.overwrite(Ve._heartbeatsCache)):(Ve._heartbeatsCache.heartbeats=[],Ve._storage.overwrite(Ve._heartbeatsCache)),vn})()}}function Jt(){return(new Date).toISOString().substring(0,10)}class sn{constructor(Ve){this.app=Ve,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,o.Z)(function*(){return!!(0,le.hl)()&&(0,le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ve=this;return(0,o.Z)(function*(){return(yield Ve._canUseIndexedDBPromise)&&(yield function zt(Ke){return Gt.apply(this,arguments)}(Ve.app))||{heartbeats:[]}})()}overwrite(Ve){var pt=this;return(0,o.Z)(function*(){var Vt;if(yield pt._canUseIndexedDBPromise){const vn=yield pt.read();return l1(pt.app,{lastSentHeartbeatDate:null!==(Vt=Ve.lastSentHeartbeatDate)&&void 0!==Vt?Vt:vn.lastSentHeartbeatDate,heartbeats:Ve.heartbeats})}})()}add(Ve){var pt=this;return(0,o.Z)(function*(){var Vt;if(yield pt._canUseIndexedDBPromise){const vn=yield pt.read();return l1(pt.app,{lastSentHeartbeatDate:null!==(Vt=Ve.lastSentHeartbeatDate)&&void 0!==Vt?Vt:vn.lastSentHeartbeatDate,heartbeats:[...vn.heartbeats,...Ve.heartbeats]})}})()}}function $n(Ke){return(0,le.L)(JSON.stringify({version:2,heartbeats:Ke})).length}!function M1(Ke){Lt(new j.wA("platform-logger",Ve=>new ae(Ve),"PRIVATE")),Lt(new j.wA("heartbeat",Ve=>new R2(Ve),"PRIVATE")),C1(ge,"0.9.5",Ke),C1(ge,"0.9.5","esm2017"),C1("fire-js","")}("")},4859:(Ht,Ne,N)=>{N.d(Ne,{H0:()=>ge,wA:()=>F,zt:()=>de});var o=N(5861),j=N(2090);class F{constructor($,K,ie){this.name=$,this.instanceFactory=K,this.type=ie,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const le="[DEFAULT]";class de{constructor($,K){this.name=$,this.container=K,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const K=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(K)){const ie=new j.BH;if(this.instancesDeferred.set(K,ie),this.isInitialized(K)||this.shouldAutoInitialize())try{const Je=this.getOrInitializeService({instanceIdentifier:K});Je&&ie.resolve(Je)}catch{}}return this.instancesDeferred.get(K).promise}getImmediate($){var K;const ie=this.normalizeInstanceIdentifier($?.identifier),Je=null!==(K=$?.optional)&&void 0!==K&&K;if(!this.isInitialized(ie)&&!this.shouldAutoInitialize()){if(Je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ie})}catch(Ae){if(Je)return null;throw Ae}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function ke(_e){return"EAGER"===_e.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:le})}catch{}for(const[K,ie]of this.instancesDeferred.entries()){const Je=this.normalizeInstanceIdentifier(K);try{const Ae=this.getOrInitializeService({instanceIdentifier:Je});ie.resolve(Ae)}catch{}}}}clearInstance($=le){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,o.Z)(function*(){const K=Array.from($.instances.values());yield Promise.all([...K.filter(ie=>"INTERNAL"in ie).map(ie=>ie.INTERNAL.delete()),...K.filter(ie=>"_delete"in ie).map(ie=>ie._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=le){return this.instances.has($)}getOptions($=le){return this.instancesOptions.get($)||{}}initialize($={}){const{options:K={}}=$,ie=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(ie))throw Error(`${this.name}(${ie}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Je=this.getOrInitializeService({instanceIdentifier:ie,options:K});for(const[Ae,ot]of this.instancesDeferred.entries())ie===this.normalizeInstanceIdentifier(Ae)&&ot.resolve(Je);return Je}onInit($,K){var ie;const Je=this.normalizeInstanceIdentifier(K),Ae=null!==(ie=this.onInitCallbacks.get(Je))&&void 0!==ie?ie:new Set;Ae.add($),this.onInitCallbacks.set(Je,Ae);const ot=this.instances.get(Je);return ot&&$(ot,Je),()=>{Ae.delete($)}}invokeOnInitCallbacks($,K){const ie=this.onInitCallbacks.get(K);if(ie)for(const Je of ie)try{Je($,K)}catch{}}getOrInitializeService({instanceIdentifier:$,options:K={}}){let ie=this.instances.get($);if(!ie&&this.component&&(ie=this.component.instanceFactory(this.container,{instanceIdentifier:(_e=$,_e===le?void 0:_e),options:K}),this.instances.set($,ie),this.instancesOptions.set($,K),this.invokeOnInitCallbacks(ie,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,ie)}catch{}var _e;return ie||null}normalizeInstanceIdentifier($=le){return this.component?this.component.multipleInstances?$:le:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ge{constructor($){this.name=$,this.providers=new Map}addComponent($){const K=this.getProvider($.name);if(K.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);K.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const K=new de($,this);return this.providers.set($,K),K}getProviders(){return Array.from(this.providers.values())}}},2833:(Ht,Ne,N)=>{var o=N(5861),j=N(9681),F=N(4859),le=N(2090),de=N(8766);const ae="@firebase/installations",ke="0.6.4",ge=1e4,_e=`w:${ke}`,$="FIS_v2",K="https://firebaseinstallations.googleapis.com/v1",ie=36e5,st=new le.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Me(Q){return Q instanceof le.ZR&&Q.code.includes("request-failed")}function Ie({projectId:Q}){return`${K}/projects/${Q}/installations`}function Re(Q){return{token:Q.token,requestStatus:2,expiresIn:he(Q.expiresIn),creationTime:Date.now()}}function Oe(Q,ve){return Be.apply(this,arguments)}function Be(){return(Be=(0,o.Z)(function*(Q,ve){const et=(yield ve.json()).error;return st.create("request-failed",{requestName:Q,serverCode:et.code,serverMessage:et.message,serverStatus:et.status})})).apply(this,arguments)}function je({apiKey:Q}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Q})}function it(Q){return oe.apply(this,arguments)}function oe(){return(oe=(0,o.Z)(function*(Q){const ve=yield Q();return ve.status>=500&&ve.status<600?Q():ve})).apply(this,arguments)}function he(Q){return Number(Q.replace("s","000"))}function Ze(){return(Ze=(0,o.Z)(function*({appConfig:Q,heartbeatServiceProvider:ve},{fid:Ge}){const et=Ie(Q),cn=je(Q),Bt=ve.getImmediate({optional:!0});if(Bt){const at=yield Bt.getHeartbeatsHeader();at&&cn.append("x-firebase-client",at)}const t1={method:"POST",headers:cn,body:JSON.stringify({fid:Ge,authVersion:$,appId:Q.appId,sdkVersion:_e})},B1=yield it(()=>fetch(et,t1));if(B1.ok){const at=yield B1.json();return{fid:at.fid||Ge,registrationStatus:2,refreshToken:at.refreshToken,authToken:Re(at.authToken)}}throw yield Oe("Create Installation",B1)})).apply(this,arguments)}function jt(Q){return new Promise(ve=>{setTimeout(ve,Q)})}const pe=/^[cdef][\w-]{21}$/,we="";function He(){try{const Q=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(Q),Q[0]=112+Q[0]%16;const Ge=function Ue(Q){return function ut(Q){return btoa(String.fromCharCode(...Q)).replace(/\+/g,"-").replace(/\//g,"_")}(Q).substr(0,22)}(Q);return pe.test(Ge)?Ge:we}catch{return we}}function qe(Q){return`${Q.appName}!${Q.appId}`}const $e=new Map;function Xe(Q,ve){const Ge=qe(Q);Pt(Ge,ve),function Lt(Q,ve){const Ge=function rn(){return!lt&&"BroadcastChannel"in self&&(lt=new BroadcastChannel("[Firebase] FID Change"),lt.onmessage=Q=>{Pt(Q.data.key,Q.data.fid)}),lt}();Ge&&Ge.postMessage({key:Q,fid:ve}),function r1(){0===$e.size&&lt&&(lt.close(),lt=null)}()}(Ge,ve)}function Pt(Q,ve){const Ge=$e.get(Q);if(Ge)for(const et of Ge)et(ve)}let lt=null;const e1="firebase-installations-database",An=1,s1="firebase-installations-store";let F1=null;function P2(){return F1||(F1=(0,de.X3)(e1,An,{upgrade:(Q,ve)=>{0===ve&&Q.createObjectStore(s1)}})),F1}function E1(Q,ve){return J1.apply(this,arguments)}function J1(){return(J1=(0,o.Z)(function*(Q,ve){const Ge=qe(Q),cn=(yield P2()).transaction(s1,"readwrite"),Bt=cn.objectStore(s1),Ft=yield Bt.get(Ge);return yield Bt.put(ve,Ge),yield cn.done,(!Ft||Ft.fid!==ve.fid)&&Xe(Q,ve.fid),ve})).apply(this,arguments)}function D2(Q){return Un.apply(this,arguments)}function Un(){return(Un=(0,o.Z)(function*(Q){const ve=qe(Q),et=(yield P2()).transaction(s1,"readwrite");yield et.objectStore(s1).delete(ve),yield et.done})).apply(this,arguments)}function C1(Q,ve){return ht.apply(this,arguments)}function ht(){return(ht=(0,o.Z)(function*(Q,ve){const Ge=qe(Q),cn=(yield P2()).transaction(s1,"readwrite"),Bt=cn.objectStore(s1),Ft=yield Bt.get(Ge),t1=ve(Ft);return void 0===t1?yield Bt.delete(Ge):yield Bt.put(t1,Ge),yield cn.done,t1&&(!Ft||Ft.fid!==t1.fid)&&Xe(Q,t1.fid),t1})).apply(this,arguments)}function V1(Q){return k2.apply(this,arguments)}function k2(){return k2=(0,o.Z)(function*(Q){let ve;const Ge=yield C1(Q.appConfig,et=>{const cn=function z1(Q){return u1(Q||{fid:He(),registrationStatus:0})}(et),Bt=function I1(Q,ve){if(0===ve.registrationStatus){if(!navigator.onLine)return{installationEntry:ve,registrationPromise:Promise.reject(st.create("app-offline"))};const Ge={fid:ve.fid,registrationStatus:1,registrationTime:Date.now()},et=function z2(Q,ve){return xt.apply(this,arguments)}(Q,Ge);return{installationEntry:Ge,registrationPromise:et}}return 1===ve.registrationStatus?{installationEntry:ve,registrationPromise:zt(Q)}:{installationEntry:ve}}(Q,cn);return ve=Bt.registrationPromise,Bt.installationEntry});return Ge.fid===we?{installationEntry:yield ve}:{installationEntry:Ge,registrationPromise:ve}}),k2.apply(this,arguments)}function xt(){return xt=(0,o.Z)(function*(Q,ve){try{const Ge=yield function ct(Q,ve){return Ze.apply(this,arguments)}(Q,ve);return E1(Q.appConfig,Ge)}catch(Ge){throw Me(Ge)&&409===Ge.customData.serverCode?yield D2(Q.appConfig):yield E1(Q.appConfig,{fid:ve.fid,registrationStatus:0}),Ge}}),xt.apply(this,arguments)}function zt(Q){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,o.Z)(function*(Q){let ve=yield l1(Q.appConfig);for(;1===ve.registrationStatus;)yield jt(100),ve=yield l1(Q.appConfig);if(0===ve.registrationStatus){const{installationEntry:Ge,registrationPromise:et}=yield V1(Q);return et||Ge}return ve})).apply(this,arguments)}function l1(Q){return C1(Q,ve=>{if(!ve)throw st.create("installation-not-found");return u1(ve)})}function u1(Q){return function x1(Q){return 1===Q.registrationStatus&&Q.registrationTime+ge<Date.now()}(Q)?{fid:Q.fid,registrationStatus:0}:Q}function b1(){return(b1=(0,o.Z)(function*({appConfig:Q,heartbeatServiceProvider:ve},Ge){const et=function R2(Q,{fid:ve}){return`${Ie(Q)}/${ve}/authTokens:generate`}(Q,Ge),cn=function Pe(Q,{refreshToken:ve}){const Ge=je(Q);return Ge.append("Authorization",function ze(Q){return`${$} ${Q}`}(ve)),Ge}(Q,Ge),Bt=ve.getImmediate({optional:!0});if(Bt){const at=yield Bt.getHeartbeatsHeader();at&&cn.append("x-firebase-client",at)}const t1={method:"POST",headers:cn,body:JSON.stringify({installation:{sdkVersion:_e,appId:Q.appId}})},B1=yield it(()=>fetch(et,t1));if(B1.ok)return Re(yield B1.json());throw yield Oe("Generate Auth Token",B1)})).apply(this,arguments)}function Jt(Q){return Z2.apply(this,arguments)}function Z2(){return Z2=(0,o.Z)(function*(Q,ve=!1){let Ge;const et=yield C1(Q.appConfig,Bt=>{if(!pt(Bt))throw st.create("not-registered");const Ft=Bt.authToken;if(!ve&&function Vt(Q){return 2===Q.requestStatus&&!function Xt(Q){const ve=Date.now();return ve<Q.creationTime||Q.creationTime+Q.expiresIn<ve+ie}(Q)}(Ft))return Bt;if(1===Ft.requestStatus)return Ge=function sn(Q,ve){return $n.apply(this,arguments)}(Q,ve),Bt;{if(!navigator.onLine)throw st.create("app-offline");const t1=function vn(Q){const ve={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},Q),{authToken:ve})}(Bt);return Ge=function Ke(Q,ve){return Ve.apply(this,arguments)}(Q,t1),t1}});return Ge?yield Ge:et.authToken}),Z2.apply(this,arguments)}function $n(){return($n=(0,o.Z)(function*(Q,ve){let Ge=yield M1(Q.appConfig);for(;1===Ge.authToken.requestStatus;)yield jt(100),Ge=yield M1(Q.appConfig);const et=Ge.authToken;return 0===et.requestStatus?Jt(Q,ve):et})).apply(this,arguments)}function M1(Q){return C1(Q,ve=>{if(!pt(ve))throw st.create("not-registered");return function m1(Q){return 1===Q.requestStatus&&Q.requestTime+ge<Date.now()}(ve.authToken)?Object.assign(Object.assign({},ve),{authToken:{requestStatus:0}}):ve})}function Ve(){return Ve=(0,o.Z)(function*(Q,ve){try{const Ge=yield function N1(Q,ve){return b1.apply(this,arguments)}(Q,ve),et=Object.assign(Object.assign({},ve),{authToken:Ge});return yield E1(Q.appConfig,et),Ge}catch(Ge){if(!Me(Ge)||401!==Ge.customData.serverCode&&404!==Ge.customData.serverCode){const et=Object.assign(Object.assign({},ve),{authToken:{requestStatus:0}});yield E1(Q.appConfig,et)}else yield D2(Q.appConfig);throw Ge}}),Ve.apply(this,arguments)}function pt(Q){return void 0!==Q&&2===Q.registrationStatus}function q(){return(q=(0,o.Z)(function*(Q){const ve=Q,{installationEntry:Ge,registrationPromise:et}=yield V1(ve);return et?et.catch(console.error):Jt(ve).catch(console.error),Ge.fid})).apply(this,arguments)}function P(){return P=(0,o.Z)(function*(Q,ve=!1){const Ge=Q;return yield function V(Q){return se.apply(this,arguments)}(Ge),(yield Jt(Ge,ve)).token}),P.apply(this,arguments)}function se(){return(se=(0,o.Z)(function*(Q){const{registrationPromise:ve}=yield V1(Q);ve&&(yield ve)})).apply(this,arguments)}function A1(Q){return st.create("missing-app-config-values",{valueName:Q})}const ne="installations",mt=Q=>{const ve=Q.getProvider("app").getImmediate(),Ge=function fn(Q){if(!Q||!Q.options)throw A1("App Configuration");if(!Q.name)throw A1("App Name");const ve=["projectId","apiKey","appId"];for(const Ge of ve)if(!Q.options[Ge])throw A1(Ge);return{appName:Q.name,projectId:Q.options.projectId,apiKey:Q.options.apiKey,appId:Q.options.appId}}(ve);return{app:ve,appConfig:Ge,heartbeatServiceProvider:(0,j._getProvider)(ve,"heartbeat"),_delete:()=>Promise.resolve()}},Mt=Q=>{const ve=Q.getProvider("app").getImmediate(),Ge=(0,j._getProvider)(ve,ne).getImmediate();return{getId:()=>function Z(Q){return q.apply(this,arguments)}(Ge),getToken:cn=>function I(Q){return P.apply(this,arguments)}(Ge,cn)}};(function Nt(){(0,j._registerComponent)(new F.wA(ne,mt,"PUBLIC")),(0,j._registerComponent)(new F.wA("installations-internal",Mt,"PRIVATE"))})(),(0,j.registerVersion)(ae,ke),(0,j.registerVersion)(ae,ke,"esm2017")},1877:(Ht,Ne,N)=>{N.d(Ne,{Am:()=>_e,Ub:()=>ge,Yd:()=>ke,in:()=>j});const o=[];var j=(()=>{return($=j||(j={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",j;var $})();const F={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},le=j.INFO,de={[j.DEBUG]:"log",[j.VERBOSE]:"log",[j.INFO]:"info",[j.WARN]:"warn",[j.ERROR]:"error"},ae=($,K,...ie)=>{if(K<$.logLevel)return;const Je=(new Date).toISOString(),Ae=de[K];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${K})`);console[Ae](`[${Je}]  ${$.name}:`,...ie)};class ke{constructor(K){this.name=K,this._logLevel=le,this._logHandler=ae,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(K){if(!(K in j))throw new TypeError(`Invalid value "${K}" assigned to \`logLevel\``);this._logLevel=K}setLogLevel(K){this._logLevel="string"==typeof K?F[K]:K}get logHandler(){return this._logHandler}set logHandler(K){if("function"!=typeof K)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=K}get userLogHandler(){return this._userLogHandler}set userLogHandler(K){this._userLogHandler=K}debug(...K){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...K),this._logHandler(this,j.DEBUG,...K)}log(...K){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...K),this._logHandler(this,j.VERBOSE,...K)}info(...K){this._userLogHandler&&this._userLogHandler(this,j.INFO,...K),this._logHandler(this,j.INFO,...K)}warn(...K){this._userLogHandler&&this._userLogHandler(this,j.WARN,...K),this._logHandler(this,j.WARN,...K)}error(...K){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...K),this._logHandler(this,j.ERROR,...K)}}function ge($){o.forEach(K=>{K.setLogLevel($)})}function _e($,K){for(const ie of o){let Je=null;K&&K.level&&(Je=F[K.level]),ie.userLogHandler=null===$?null:(Ae,ot,...st)=>{const Me=st.map(Ie=>{if(null==Ie)return null;if("string"==typeof Ie)return Ie;if("number"==typeof Ie||"boolean"==typeof Ie)return Ie.toString();if(Ie instanceof Error)return Ie.message;try{return JSON.stringify(Ie)}catch{return null}}).filter(Ie=>Ie).join(" ");ot>=(Je??Ae.logLevel)&&$({level:j[ot].toLowerCase(),message:Me,args:st,type:Ae.name})}}}},259:(Ht,Ne,N)=>{N.d(Ne,{C6:()=>o.getApps,KN:()=>o.registerVersion,Mq:()=>o.getApp,ZF:()=>o.initializeApp});var o=N(9681);(0,o.registerVersion)("firebase","9.18.0","app")},9260:(Ht,Ne,N)=>{N.d(Ne,{Z:()=>o.Z});var o=N(3942);o.Z.registerVersion("firebase","9.18.0","app-compat")},9568:(Ht,Ne,N)=>{N.r(Ne);var o=N(5861),j=N(3942),F=N(5114),le=N(2090),ke=(N(9681),N(1877),N(4859));function ge(){return window}const _e=2e3;function K(){return K=(0,o.Z)(function*(I,P,V){var se;const{BuildInfo:me}=ge();(0,F.ap)(P.sessionId,"AuthEvent did not contain a session ID");const vt=yield function Ie(I){return Re.apply(this,arguments)}(P.sessionId),Ot={};return(0,F.aq)()?Ot.ibi=me.packageName:(0,F.ar)()?Ot.apn=me.packageName:(0,F.as)(I,"operation-not-supported-in-this-environment"),me.displayName&&(Ot.appDisplayName=me.displayName),Ot.sessionId=vt,(0,F.at)(I,V,P.type,void 0,null!==(se=P.eventId)&&void 0!==se?se:void 0,Ot)}),K.apply(this,arguments)}function Je(){return(Je=(0,o.Z)(function*(I){const{BuildInfo:P}=ge(),V={};(0,F.aq)()?V.iosBundleId=P.packageName:(0,F.ar)()?V.androidPackageName=P.packageName:(0,F.as)(I,"operation-not-supported-in-this-environment"),yield(0,F.au)(I,V)})).apply(this,arguments)}function st(){return(st=(0,o.Z)(function*(I,P,V){const{cordova:se}=ge();let me=()=>{};try{yield new Promise((vt,Ot)=>{let Kt=null;function an(){var fn;vt();const A1=null===(fn=se.plugins.browsertab)||void 0===fn?void 0:fn.close;"function"==typeof A1&&A1(),"function"==typeof V?.close&&V.close()}function Zt(){Kt||(Kt=window.setTimeout(()=>{Ot((0,F.aw)(I,"redirect-cancelled-by-user"))},_e))}function Vn(){"visible"===document?.visibilityState&&Zt()}P.addPassiveListener(an),document.addEventListener("resume",Zt,!1),(0,F.ar)()&&document.addEventListener("visibilitychange",Vn,!1),me=()=>{P.removePassiveListener(an),document.removeEventListener("resume",Zt,!1),document.removeEventListener("visibilitychange",Vn,!1),Kt&&window.clearTimeout(Kt)}})}finally{me()}})).apply(this,arguments)}function Re(){return(Re=(0,o.Z)(function*(I){const P=function Oe(I){if((0,F.ap)(/[0-9a-zA-Z]+/.test(I),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(I);const P=new ArrayBuffer(I.length),V=new Uint8Array(P);for(let se=0;se<I.length;se++)V[se]=I.charCodeAt(se);return V}(I),V=yield crypto.subtle.digest("SHA-256",P);return Array.from(new Uint8Array(V)).map(me=>me.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Be=20;class je extends F.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(P=>{this.resolveInialized=P})}addPassiveListener(P){this.passiveListeners.add(P)}removePassiveListener(P){this.passiveListeners.delete(P)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(P){return this.resolveInialized(),this.passiveListeners.forEach(V=>V(P)),super.onEvent(P)}initialized(){var P=this;return(0,o.Z)(function*(){yield P.initPromise})()}}function oe(I){return he.apply(this,arguments)}function he(){return(he=(0,o.Z)(function*(I){const P=yield Ze()._get(jt(I));return P&&(yield Ze()._remove(jt(I))),P})).apply(this,arguments)}function ct(){const I=[],P="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let V=0;V<Be;V++){const se=Math.floor(Math.random()*P.length);I.push(P.charAt(se))}return I.join("")}function Ze(){return(0,F.az)(F.b)}function jt(I){return(0,F.aA)("authEvent",I.config.apiKey,I.name)}function we(I){if(!I?.includes("?"))return{};const[P,...V]=I.split("?");return(0,le.zd)(V.join("?"))}const qe=class Ue{constructor(){this._redirectPersistence=F.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=F.aB,this._overrideRedirectResult=F.aC}_initialize(P){var V=this;return(0,o.Z)(function*(){const se=P._key();let me=V.eventManagers.get(se);return me||(me=new je(P),V.eventManagers.set(se,me),V.attachCallbackListeners(P,me)),me})()}_openPopup(P){(0,F.as)(P,"operation-not-supported-in-this-environment")}_openRedirect(P,V,se,me){var vt=this;return(0,o.Z)(function*(){!function Me(I){var P,V,se,me,vt,Ot,Kt,an,Zt,Vn;const fn=ge();(0,F.ax)("function"==typeof(null===(P=fn?.universalLinks)||void 0===P?void 0:P.subscribe),I,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,F.ax)(typeof(null===(V=fn?.BuildInfo)||void 0===V?void 0:V.packageName)<"u",I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,F.ax)("function"==typeof(null===(vt=null===(me=null===(se=fn?.cordova)||void 0===se?void 0:se.plugins)||void 0===me?void 0:me.browsertab)||void 0===vt?void 0:vt.openUrl),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,F.ax)("function"==typeof(null===(an=null===(Kt=null===(Ot=fn?.cordova)||void 0===Ot?void 0:Ot.plugins)||void 0===Kt?void 0:Kt.browsertab)||void 0===an?void 0:an.isAvailable),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,F.ax)("function"==typeof(null===(Vn=null===(Zt=fn?.cordova)||void 0===Zt?void 0:Zt.InAppBrowser)||void 0===Vn?void 0:Vn.open),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(P);const Ot=yield vt._initialize(P);yield Ot.initialized(),Ot.resetRedirect(),(0,F.aD)(),yield vt._originValidation(P);const Kt=function Pe(I,P,V=null){return{type:P,eventId:V,urlResponse:null,sessionId:ct(),postBody:null,tenantId:I.tenantId,error:(0,F.aw)(I,"no-auth-event")}}(P,se,me);yield function it(I,P){return Ze()._set(jt(I),P)}(P,Kt);const an=yield function $(I,P,V){return K.apply(this,arguments)}(P,Kt,V),Zt=yield function Ae(I){const{cordova:P}=ge();return new Promise(V=>{P.plugins.browsertab.isAvailable(se=>{let me=null;se?P.plugins.browsertab.openUrl(I):me=P.InAppBrowser.open(I,(0,F.av)()?"_blank":"_system","location=yes"),V(me)})})}(an);return function ot(I,P,V){return st.apply(this,arguments)}(P,Ot,Zt)})()}_isIframeWebStorageSupported(P,V){throw new Error("Method not implemented.")}_originValidation(P){const V=P._key();return this.originValidationPromises[V]||(this.originValidationPromises[V]=function ie(I){return Je.apply(this,arguments)}(P)),this.originValidationPromises[V]}attachCallbackListeners(P,V){const{universalLinks:se,handleOpenURL:me,BuildInfo:vt}=ge(),Ot=setTimeout((0,o.Z)(function*(){yield oe(P),V.onEvent($e())}),500),Kt=function(){var Vn=(0,o.Z)(function*(fn){clearTimeout(Ot);const A1=yield oe(P);let ne=null;A1&&fn?.url&&(ne=function ze(I,P){var V,se;const me=function pe(I){const P=we(I),V=P.link?decodeURIComponent(P.link):void 0,se=we(V).link,me=P.deep_link_id?decodeURIComponent(P.deep_link_id):void 0;return we(me).link||me||se||V||I}(P);if(me.includes("/__/auth/callback")){const vt=we(me),Ot=vt.firebaseError?function ut(I){try{return JSON.parse(I)}catch{return null}}(decodeURIComponent(vt.firebaseError)):null,Kt=null===(se=null===(V=Ot?.code)||void 0===V?void 0:V.split("auth/"))||void 0===se?void 0:se[1],an=Kt?(0,F.aw)(Kt):null;return an?{type:I.type,eventId:I.eventId,tenantId:I.tenantId,error:an,urlResponse:null,sessionId:null,postBody:null}:{type:I.type,eventId:I.eventId,tenantId:I.tenantId,sessionId:I.sessionId,urlResponse:me,postBody:null}}return null}(A1,fn.url)),V.onEvent(ne||$e())});return function(A1){return Vn.apply(this,arguments)}}();typeof se<"u"&&"function"==typeof se.subscribe&&se.subscribe(null,Kt);const an=me,Zt=`${vt.packageName.toLowerCase()}://`;ge().handleOpenURL=function(){var Vn=(0,o.Z)(function*(fn){if(fn.toLowerCase().startsWith(Zt)&&Kt({url:fn}),"function"==typeof an)try{an(fn)}catch(A1){console.error(A1)}});return function(fn){return Vn.apply(this,arguments)}}()}};function $e(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,F.aw)("no-auth-event")}}const Pt=1e3;function Lt(){var I;return(null===(I=self?.location)||void 0===I?void 0:I.protocol)||null}function rn(I=(0,le.z$)()){return!("file:"!==Lt()&&"ionic:"!==Lt()&&"capacitor:"!==Lt()||!I.toLowerCase().match(/iphone|ipad|ipod|android/))}function F1(){try{const I=self.localStorage,P=F.aI();if(I)return I.setItem(P,"1"),I.removeItem(P),!function s1(I=(0,le.z$)()){return function e1(){return(0,le.w1)()&&11===document?.documentMode}()||function An(I=(0,le.z$)()){return/Edge\/\d+/.test(I)}(I)}()||(0,le.hl)()}catch{return P2()&&(0,le.hl)()}return!1}function P2(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function E1(){return(function lt(){return"http:"===Lt()||"https:"===Lt()}()||(0,le.ru)()||rn())&&!function r1(){return(0,le.b$)()||(0,le.UG)()}()&&F1()&&!P2()}function J1(){return rn()&&typeof document<"u"}function Un(){return(Un=(0,o.Z)(function*(){return!!J1()&&new Promise(I=>{const P=setTimeout(()=>{I(!1)},Pt);document.addEventListener("deviceready",()=>{clearTimeout(P),I(!0)})})})).apply(this,arguments)}const ht={LOCAL:"local",NONE:"none",SESSION:"session"},V1=F.ax,k2="persistence";function I1(I){return z2.apply(this,arguments)}function z2(){return(z2=(0,o.Z)(function*(I){yield I._initializationPromise;const P=zt(),V=F.aA(k2,I.config.apiKey,I.name);P&&P.setItem(V,I._getPersistence())})).apply(this,arguments)}function zt(){var I;try{return(null===(I=function C1(){return typeof window<"u"?window:null}())||void 0===I?void 0:I.sessionStorage)||null}catch{return null}}const Gt=F.ax;class l1{constructor(){this.browserResolver=F.az(F.k),this.cordovaResolver=F.az(qe),this.underlyingResolver=null,this._redirectPersistence=F.a,this._completeRedirectFn=F.aB,this._overrideRedirectResult=F.aC}_initialize(P){var V=this;return(0,o.Z)(function*(){return yield V.selectUnderlyingResolver(),V.assertedUnderlyingResolver._initialize(P)})()}_openPopup(P,V,se,me){var vt=this;return(0,o.Z)(function*(){return yield vt.selectUnderlyingResolver(),vt.assertedUnderlyingResolver._openPopup(P,V,se,me)})()}_openRedirect(P,V,se,me){var vt=this;return(0,o.Z)(function*(){return yield vt.selectUnderlyingResolver(),vt.assertedUnderlyingResolver._openRedirect(P,V,se,me)})()}_isIframeWebStorageSupported(P,V){this.assertedUnderlyingResolver._isIframeWebStorageSupported(P,V)}_originValidation(P){return this.assertedUnderlyingResolver._originValidation(P)}get _shouldInitProactively(){return J1()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Gt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var P=this;return(0,o.Z)(function*(){if(P.underlyingResolver)return;const V=yield function D2(){return Un.apply(this,arguments)}();P.underlyingResolver=V?P.cordovaResolver:P.browserResolver})()}}function u1(I){return I.unwrap()}function N1(I){return R2(I)}function R2(I){const{_tokenResponse:P}=I instanceof le.ZR?I.customData:I;if(!P)return null;if(!(I instanceof le.ZR)&&"temporaryProof"in P&&"phoneNumber"in P)return F.P.credentialFromResult(I);const V=P.providerId;if(!V||V===F.o.PASSWORD)return null;let se;switch(V){case F.o.GOOGLE:se=F.Q;break;case F.o.FACEBOOK:se=F.N;break;case F.o.GITHUB:se=F.T;break;case F.o.TWITTER:se=F.W;break;default:const{oauthIdToken:me,oauthAccessToken:vt,oauthTokenSecret:Ot,pendingToken:Kt,nonce:an}=P;return vt||Ot||me||Kt?Kt?V.startsWith("saml.")?F.aL._create(V,Kt):F.J._fromParams({providerId:V,signInMethod:V,pendingToken:Kt,idToken:me,accessToken:vt}):new F.U(V).credential({idToken:me,accessToken:vt,rawNonce:an}):null}return I instanceof le.ZR?se.credentialFromError(I):se.credentialFromResult(I)}function Jt(I,P){return P.catch(V=>{throw V instanceof le.ZR&&function b1(I,P){var V;const se=null===(V=P.customData)||void 0===V?void 0:V._tokenResponse;if("auth/multi-factor-auth-required"===P?.code)P.resolver=new $n(I,F.an(I,P));else if(se){const me=R2(P),vt=P;me&&(vt.credential=me,vt.tenantId=se.tenantId||void 0,vt.email=se.email||void 0,vt.phoneNumber=se.phoneNumber||void 0)}}(I,V),V}).then(V=>{const me=V.user;return{operationType:V.operationType,credential:N1(V),additionalUserInfo:F.al(V),user:M1.getOrCreate(me)}})}function Z2(I,P){return sn.apply(this,arguments)}function sn(){return(sn=(0,o.Z)(function*(I,P){const V=yield P;return{verificationId:V.verificationId,confirm:se=>Jt(I,V.confirm(se))}})).apply(this,arguments)}class $n{constructor(P,V){this.resolver=V,this.auth=function x1(I){return I.wrapped()}(P)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(P){return Jt(u1(this.auth),this.resolver.resolveSignIn(P))}}class M1{constructor(P){this._delegate=P,this.multiFactor=F.ao(P)}static getOrCreate(P){return M1.USER_MAP.has(P)||M1.USER_MAP.set(P,new M1(P)),M1.USER_MAP.get(P)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(P){return this._delegate.getIdTokenResult(P)}getIdToken(P){return this._delegate.getIdToken(P)}linkAndRetrieveDataWithCredential(P){return this.linkWithCredential(P)}linkWithCredential(P){var V=this;return(0,o.Z)(function*(){return Jt(V.auth,F.Z(V._delegate,P))})()}linkWithPhoneNumber(P,V){var se=this;return(0,o.Z)(function*(){return Z2(se.auth,F.l(se._delegate,P,V))})()}linkWithPopup(P){var V=this;return(0,o.Z)(function*(){return Jt(V.auth,F.d(V._delegate,P,l1))})()}linkWithRedirect(P){var V=this;return(0,o.Z)(function*(){return yield I1(F.aE(V.auth)),F.g(V._delegate,P,l1)})()}reauthenticateAndRetrieveDataWithCredential(P){return this.reauthenticateWithCredential(P)}reauthenticateWithCredential(P){var V=this;return(0,o.Z)(function*(){return Jt(V.auth,F._(V._delegate,P))})()}reauthenticateWithPhoneNumber(P,V){return Z2(this.auth,F.r(this._delegate,P,V))}reauthenticateWithPopup(P){return Jt(this.auth,F.e(this._delegate,P,l1))}reauthenticateWithRedirect(P){var V=this;return(0,o.Z)(function*(){return yield I1(F.aE(V.auth)),F.h(V._delegate,P,l1)})()}sendEmailVerification(P){return F.ab(this._delegate,P)}unlink(P){var V=this;return(0,o.Z)(function*(){return yield F.ak(V._delegate,P),V})()}updateEmail(P){return F.ag(this._delegate,P)}updatePassword(P){return F.ah(this._delegate,P)}updatePhoneNumber(P){return F.u(this._delegate,P)}updateProfile(P){return F.af(this._delegate,P)}verifyBeforeUpdateEmail(P,V){return F.ac(this._delegate,P,V)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}M1.USER_MAP=new WeakMap;const Ke=F.ax;let Ve=(()=>{class I{constructor(V,se){if(this.app=V,se.isInitialized())return this._delegate=se.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:me}=V.options;Ke(me,"invalid-api-key",{appName:V.name}),Ke(me,"invalid-api-key",{appName:V.name});const vt=typeof window<"u"?l1:void 0;this._delegate=se.initialize({options:{persistence:Vt(me,V.name),popupRedirectResolver:vt}}),this._delegate._updateErrorMap(F.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?M1.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(V){this._delegate.languageCode=V}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(V){this._delegate.tenantId=V}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(V,se){F.G(this._delegate,V,se)}applyActionCode(V){return F.a2(this._delegate,V)}checkActionCode(V){return F.a3(this._delegate,V)}confirmPasswordReset(V,se){return F.a1(this._delegate,V,se)}createUserWithEmailAndPassword(V,se){var me=this;return(0,o.Z)(function*(){return Jt(me._delegate,F.a5(me._delegate,V,se))})()}fetchProvidersForEmail(V){return this.fetchSignInMethodsForEmail(V)}fetchSignInMethodsForEmail(V){return F.aa(this._delegate,V)}isSignInWithEmailLink(V){return F.a8(this._delegate,V)}getRedirectResult(){var V=this;return(0,o.Z)(function*(){Ke(E1(),V._delegate,"operation-not-supported-in-this-environment");const se=yield F.j(V._delegate,l1);return se?Jt(V._delegate,Promise.resolve(se)):{credential:null,user:null}})()}addFrameworkForLogging(V){!function Xe(I,P){(0,F.aE)(I)._logFramework(P)}(this._delegate,V)}onAuthStateChanged(V,se,me){const{next:vt,error:Ot,complete:Kt}=pt(V,se,me);return this._delegate.onAuthStateChanged(vt,Ot,Kt)}onIdTokenChanged(V,se,me){const{next:vt,error:Ot,complete:Kt}=pt(V,se,me);return this._delegate.onIdTokenChanged(vt,Ot,Kt)}sendSignInLinkToEmail(V,se){return F.a7(this._delegate,V,se)}sendPasswordResetEmail(V,se){return F.a0(this._delegate,V,se||void 0)}setPersistence(V){var se=this;return(0,o.Z)(function*(){let me;switch(function z1(I,P){V1(Object.values(ht).includes(P),I,"invalid-persistence-type"),(0,le.b$)()?V1(P!==ht.SESSION,I,"unsupported-persistence-type"):(0,le.UG)()?V1(P===ht.NONE,I,"unsupported-persistence-type"):P2()?V1(P===ht.NONE||P===ht.LOCAL&&(0,le.hl)(),I,"unsupported-persistence-type"):V1(P===ht.NONE||F1(),I,"unsupported-persistence-type")}(se._delegate,V),V){case ht.SESSION:me=F.a;break;case ht.LOCAL:me=(yield F.az(F.i)._isAvailable())?F.i:F.b;break;case ht.NONE:me=F.L;break;default:return F.as("argument-error",{appName:se._delegate.name})}return se._delegate.setPersistence(me)})()}signInAndRetrieveDataWithCredential(V){return this.signInWithCredential(V)}signInAnonymously(){return Jt(this._delegate,F.X(this._delegate))}signInWithCredential(V){return Jt(this._delegate,F.Y(this._delegate,V))}signInWithCustomToken(V){return Jt(this._delegate,F.$(this._delegate,V))}signInWithEmailAndPassword(V,se){return Jt(this._delegate,F.a6(this._delegate,V,se))}signInWithEmailLink(V,se){return Jt(this._delegate,F.a9(this._delegate,V,se))}signInWithPhoneNumber(V,se){return Z2(this._delegate,F.s(this._delegate,V,se))}signInWithPopup(V){var se=this;return(0,o.Z)(function*(){return Ke(E1(),se._delegate,"operation-not-supported-in-this-environment"),Jt(se._delegate,F.c(se._delegate,V,l1))})()}signInWithRedirect(V){var se=this;return(0,o.Z)(function*(){return Ke(E1(),se._delegate,"operation-not-supported-in-this-environment"),yield I1(se._delegate),F.f(se._delegate,V,l1)})()}updateCurrentUser(V){return this._delegate.updateCurrentUser(V)}verifyPasswordResetCode(V){return F.a4(this._delegate,V)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return I.Persistence=ht,I})();function pt(I,P,V){let se=I;"function"!=typeof I&&({next:se,error:P,complete:V}=I);const me=se;return{next:Ot=>me(Ot&&M1.getOrCreate(Ot)),error:P,complete:V}}function Vt(I,P){const V=function xt(I,P){const V=zt();if(!V)return[];const se=F.aA(k2,I,P);switch(V.getItem(se)){case ht.NONE:return[F.L];case ht.LOCAL:return[F.i,F.a];case ht.SESSION:return[F.a];default:return[]}}(I,P);if(typeof self<"u"&&!V.includes(F.i)&&V.push(F.i),typeof window<"u")for(const se of[F.b,F.a])V.includes(se)||V.push(se);return V.includes(F.L)||V.push(F.L),V}class Xt{constructor(){this.providerId="phone",this._delegate=new F.P(u1(j.Z.auth()))}static credential(P,V){return F.P.credential(P,V)}verifyPhoneNumber(P,V){return this._delegate.verifyPhoneNumber(P,V)}unwrap(){return this._delegate}}Xt.PHONE_SIGN_IN_METHOD=F.P.PHONE_SIGN_IN_METHOD,Xt.PROVIDER_ID=F.P.PROVIDER_ID;const vn=F.ax;class m1{constructor(P,V,se=j.Z.app()){var me;vn(null===(me=se.options)||void 0===me?void 0:me.apiKey,"invalid-api-key",{appName:se.name}),this._delegate=new F.R(P,V,se.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function q(I){I.INTERNAL.registerComponent(new ke.wA("auth-compat",P=>{const V=P.getProvider("app-compat").getImmediate(),se=P.getProvider("auth");return new Ve(V,se)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:F.A.EMAIL_SIGNIN,PASSWORD_RESET:F.A.PASSWORD_RESET,RECOVER_EMAIL:F.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:F.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:F.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:F.A.VERIFY_EMAIL}},EmailAuthProvider:F.M,FacebookAuthProvider:F.N,GithubAuthProvider:F.T,GoogleAuthProvider:F.Q,OAuthProvider:F.U,SAMLAuthProvider:F.V,PhoneAuthProvider:Xt,PhoneMultiFactorGenerator:F.m,RecaptchaVerifier:m1,TwitterAuthProvider:F.W,Auth:Ve,AuthCredential:F.H,Error:le.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),I.registerVersion("@firebase/auth-compat","0.3.5")}(j.Z)},751:(Ht,Ne,N)=>{N.d(Ne,{KL:()=>an,Gb:()=>se});var o=N(5861),F=(N(2833),N(4859)),le=N(8766),de=N(2090),ae=N(9681);const ke="/firebase-messaging-sw.js",ge="/firebase-cloud-messaging-push-scope",_e="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",$="https://fcmregistrations.googleapis.com/v1",K="google.c.a.c_id",ie="google.c.a.c_l",Je="google.c.a.ts",Ae="google.c.a.e";var st=(()=>{return(ne=st||(st={})).PUSH_RECEIVED="push-received",ne.NOTIFICATION_CLICKED="notification-clicked",st;var ne})();function Me(ne){const ye=new Uint8Array(ne);return btoa(String.fromCharCode(...ye)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ie(ne){const mt=(ne+"=".repeat((4-ne.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Mt=atob(mt),Nt=new Uint8Array(Mt.length);for(let Q=0;Q<Mt.length;++Q)Nt[Q]=Mt.charCodeAt(Q);return Nt}const Re="fcm_token_details_db",Oe=5,Be="fcm_token_object_Store";function Pe(){return Pe=(0,o.Z)(function*(ne){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Q=>Q.name).includes(Re))return null;let ye=null;return(yield(0,le.X3)(Re,Oe,{upgrade:(Mt=(0,o.Z)(function*(Nt,Q,ve,Ge){var et;if(Q<2||!Nt.objectStoreNames.contains(Be))return;const cn=Ge.objectStore(Be),Bt=yield cn.index("fcmSenderId").get(ne);if(yield cn.clear(),Bt)if(2===Q){const Ft=Bt;if(!Ft.auth||!Ft.p256dh||!Ft.endpoint)return;ye={token:Ft.fcmToken,createTime:null!==(et=Ft.createTime)&&void 0!==et?et:Date.now(),subscriptionOptions:{auth:Ft.auth,p256dh:Ft.p256dh,endpoint:Ft.endpoint,swScope:Ft.swScope,vapidKey:"string"==typeof Ft.vapidKey?Ft.vapidKey:Me(Ft.vapidKey)}}}else if(3===Q){const Ft=Bt;ye={token:Ft.fcmToken,createTime:Ft.createTime,subscriptionOptions:{auth:Me(Ft.auth),p256dh:Me(Ft.p256dh),endpoint:Ft.endpoint,swScope:Ft.swScope,vapidKey:Me(Ft.vapidKey)}}}else if(4===Q){const Ft=Bt;ye={token:Ft.fcmToken,createTime:Ft.createTime,subscriptionOptions:{auth:Me(Ft.auth),p256dh:Me(Ft.p256dh),endpoint:Ft.endpoint,swScope:Ft.swScope,vapidKey:Me(Ft.vapidKey)}}}}),function(Q,ve,Ge,et){return Mt.apply(this,arguments)})})).close(),yield(0,le.Lj)(Re),yield(0,le.Lj)("fcm_vapid_details_db"),yield(0,le.Lj)("undefined"),function it(ne){if(!ne||!ne.subscriptionOptions)return!1;const{subscriptionOptions:ye}=ne;return"number"==typeof ne.createTime&&ne.createTime>0&&"string"==typeof ne.token&&ne.token.length>0&&"string"==typeof ye.auth&&ye.auth.length>0&&"string"==typeof ye.p256dh&&ye.p256dh.length>0&&"string"==typeof ye.endpoint&&ye.endpoint.length>0&&"string"==typeof ye.swScope&&ye.swScope.length>0&&"string"==typeof ye.vapidKey&&ye.vapidKey.length>0}(ye)?ye:null;var Mt}),Pe.apply(this,arguments)}const oe="firebase-messaging-database",he=1,ze="firebase-messaging-store";let ct=null;function Ze(){return ct||(ct=(0,le.X3)(oe,he,{upgrade:(ne,ye)=>{0===ye&&ne.createObjectStore(ze)}})),ct}function jt(ne){return ut.apply(this,arguments)}function ut(){return ut=(0,o.Z)(function*(ne){const ye=qe(ne),Mt=yield(yield Ze()).transaction(ze).objectStore(ze).get(ye);if(Mt)return Mt;{const Nt=yield function je(ne){return Pe.apply(this,arguments)}(ne.appConfig.senderId);if(Nt)return yield pe(ne,Nt),Nt}}),ut.apply(this,arguments)}function pe(ne,ye){return we.apply(this,arguments)}function we(){return(we=(0,o.Z)(function*(ne,ye){const mt=qe(ne),Nt=(yield Ze()).transaction(ze,"readwrite");return yield Nt.objectStore(ze).put(ye,mt),yield Nt.done,ye})).apply(this,arguments)}function Ue(){return(Ue=(0,o.Z)(function*(ne){const ye=qe(ne),Mt=(yield Ze()).transaction(ze,"readwrite");yield Mt.objectStore(ze).delete(ye),yield Mt.done})).apply(this,arguments)}function qe({appConfig:ne}){return ne.appId}const Xe=new de.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function bt(ne,ye){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,o.Z)(function*(ne,ye){const mt=yield e1(ne),Mt=s1(ye),Nt={method:"POST",headers:mt,body:JSON.stringify(Mt)};let Q;try{Q=yield(yield fetch(r1(ne.appConfig),Nt)).json()}catch(ve){throw Xe.create("token-subscribe-failed",{errorInfo:ve?.toString()})}if(Q.error)throw Xe.create("token-subscribe-failed",{errorInfo:Q.error.message});if(!Q.token)throw Xe.create("token-subscribe-no-token");return Q.token})).apply(this,arguments)}function Lt(){return(Lt=(0,o.Z)(function*(ne,ye){const mt=yield e1(ne),Mt=s1(ye.subscriptionOptions),Nt={method:"PATCH",headers:mt,body:JSON.stringify(Mt)};let Q;try{Q=yield(yield fetch(`${r1(ne.appConfig)}/${ye.token}`,Nt)).json()}catch(ve){throw Xe.create("token-update-failed",{errorInfo:ve?.toString()})}if(Q.error)throw Xe.create("token-update-failed",{errorInfo:Q.error.message});if(!Q.token)throw Xe.create("token-update-no-token");return Q.token})).apply(this,arguments)}function lt(ne,ye){return rn.apply(this,arguments)}function rn(){return(rn=(0,o.Z)(function*(ne,ye){const Mt={method:"DELETE",headers:yield e1(ne)};try{const Q=yield(yield fetch(`${r1(ne.appConfig)}/${ye}`,Mt)).json();if(Q.error)throw Xe.create("token-unsubscribe-failed",{errorInfo:Q.error.message})}catch(Nt){throw Xe.create("token-unsubscribe-failed",{errorInfo:Nt?.toString()})}})).apply(this,arguments)}function r1({projectId:ne}){return`${$}/projects/${ne}/registrations`}function e1(ne){return An.apply(this,arguments)}function An(){return(An=(0,o.Z)(function*({appConfig:ne,installations:ye}){const mt=yield ye.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":ne.apiKey,"x-goog-firebase-installations-auth":`FIS ${mt}`})})).apply(this,arguments)}function s1({p256dh:ne,auth:ye,endpoint:mt,vapidKey:Mt}){const Nt={web:{endpoint:mt,auth:ye,p256dh:ne}};return Mt!==_e&&(Nt.web.applicationPubKey=Mt),Nt}const F1=6048e5;function E1(){return E1=(0,o.Z)(function*(ne){const ye=yield function k2(ne,ye){return z1.apply(this,arguments)}(ne.swRegistration,ne.vapidKey),mt={vapidKey:ne.vapidKey,swScope:ne.swRegistration.scope,endpoint:ye.endpoint,auth:Me(ye.getKey("auth")),p256dh:Me(ye.getKey("p256dh"))},Mt=yield jt(ne.firebaseDependencies);if(Mt){if(function I1(ne,ye){return ye.vapidKey===ne.vapidKey&&ye.endpoint===ne.endpoint&&ye.auth===ne.auth&&ye.p256dh===ne.p256dh}(Mt.subscriptionOptions,mt))return Date.now()>=Mt.createTime+F1?function Un(ne,ye){return C1.apply(this,arguments)}(ne,{token:Mt.token,createTime:Date.now(),subscriptionOptions:mt}):Mt.token;try{yield lt(ne.firebaseDependencies,Mt.token)}catch(Nt){console.warn(Nt)}return ht(ne.firebaseDependencies,mt)}return ht(ne.firebaseDependencies,mt)}),E1.apply(this,arguments)}function D2(){return D2=(0,o.Z)(function*(ne){const ye=yield jt(ne.firebaseDependencies);ye&&(yield lt(ne.firebaseDependencies,ye.token),yield function He(ne){return Ue.apply(this,arguments)}(ne.firebaseDependencies));const mt=yield ne.swRegistration.pushManager.getSubscription();return!mt||mt.unsubscribe()}),D2.apply(this,arguments)}function C1(){return C1=(0,o.Z)(function*(ne,ye){try{const mt=yield function Pt(ne,ye){return Lt.apply(this,arguments)}(ne.firebaseDependencies,ye),Mt=Object.assign(Object.assign({},ye),{token:mt,createTime:Date.now()});return yield pe(ne.firebaseDependencies,Mt),mt}catch(mt){throw yield function J1(ne){return D2.apply(this,arguments)}(ne),mt}}),C1.apply(this,arguments)}function ht(ne,ye){return V1.apply(this,arguments)}function V1(){return(V1=(0,o.Z)(function*(ne,ye){const Mt={token:yield bt(ne,ye),createTime:Date.now(),subscriptionOptions:ye};return yield pe(ne,Mt),Mt.token})).apply(this,arguments)}function z1(){return(z1=(0,o.Z)(function*(ne,ye){return(yield ne.pushManager.getSubscription())||ne.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ie(ye)})})).apply(this,arguments)}function z2(ne){const ye={from:ne.from,collapseKey:ne.collapse_key,messageId:ne.fcmMessageId};return function xt(ne,ye){if(!ye.notification)return;ne.notification={};const mt=ye.notification.title;mt&&(ne.notification.title=mt);const Mt=ye.notification.body;Mt&&(ne.notification.body=Mt);const Nt=ye.notification.image;Nt&&(ne.notification.image=Nt);const Q=ye.notification.icon;Q&&(ne.notification.icon=Q)}(ye,ne),function zt(ne,ye){ye.data&&(ne.data=ye.data)}(ye,ne),function Gt(ne,ye){var mt,Mt,Nt,Q,ve;if(!(ye.fcmOptions||null!==(mt=ye.notification)&&void 0!==mt&&mt.click_action))return;ne.fcmOptions={};const Ge=null!==(Nt=null===(Mt=ye.fcmOptions)||void 0===Mt?void 0:Mt.link)&&void 0!==Nt?Nt:null===(Q=ye.notification)||void 0===Q?void 0:Q.click_action;Ge&&(ne.fcmOptions.link=Ge);const et=null===(ve=ye.fcmOptions)||void 0===ve?void 0:ve.analytics_label;et&&(ne.fcmOptions.analyticsLabel=et)}(ye,ne),ye}function u1(ne,ye){const mt=[];for(let Mt=0;Mt<ne.length;Mt++)mt.push(ne.charAt(Mt)),Mt<ye.length&&mt.push(ye.charAt(Mt));return mt.join("")}function N1(ne){return Xe.create("missing-app-config-values",{valueName:ne})}u1("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),u1("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class b1{constructor(ye,mt,Mt){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Nt=function x1(ne){if(!ne||!ne.options)throw N1("App Configuration Object");if(!ne.name)throw N1("App Name");const ye=["projectId","apiKey","appId","messagingSenderId"],{options:mt}=ne;for(const Mt of ye)if(!mt[Mt])throw N1(Mt);return{appName:ne.name,projectId:mt.projectId,apiKey:mt.apiKey,appId:mt.appId,senderId:mt.messagingSenderId}}(ye);this.firebaseDependencies={app:ye,appConfig:Nt,installations:mt,analyticsProvider:Mt}}_delete(){return Promise.resolve()}}function R2(ne){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,o.Z)(function*(ne){try{ne.swRegistration=yield navigator.serviceWorker.register(ke,{scope:ge}),ne.swRegistration.update().catch(()=>{})}catch(ye){throw Xe.create("failed-service-worker-registration",{browserErrorMessage:ye?.message})}})).apply(this,arguments)}function sn(){return(sn=(0,o.Z)(function*(ne,ye){if(!ye&&!ne.swRegistration&&(yield R2(ne)),ye||!ne.swRegistration){if(!(ye instanceof ServiceWorkerRegistration))throw Xe.create("invalid-sw-registration");ne.swRegistration=ye}})).apply(this,arguments)}function M1(){return(M1=(0,o.Z)(function*(ne,ye){ye?ne.vapidKey=ye:ne.vapidKey||(ne.vapidKey=_e)})).apply(this,arguments)}function Ve(){return Ve=(0,o.Z)(function*(ne,ye){if(!navigator)throw Xe.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Xe.create("permission-blocked");return yield function $n(ne,ye){return M1.apply(this,arguments)}(ne,ye?.vapidKey),yield function Z2(ne,ye){return sn.apply(this,arguments)}(ne,ye?.serviceWorkerRegistration),function P2(ne){return E1.apply(this,arguments)}(ne)}),Ve.apply(this,arguments)}function Vt(){return(Vt=(0,o.Z)(function*(ne,ye,mt){const Mt=function Xt(ne){switch(ne){case st.NOTIFICATION_CLICKED:return"notification_open";case st.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(ye);(yield ne.firebaseDependencies.analyticsProvider.get()).logEvent(Mt,{message_id:mt[K],message_name:mt[ie],message_time:mt[Je],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function m1(){return m1=(0,o.Z)(function*(ne,ye){const mt=ye.data;if(!mt.isFirebaseMessaging)return;ne.onMessageHandler&&mt.messageType===st.PUSH_RECEIVED&&("function"==typeof ne.onMessageHandler?ne.onMessageHandler(z2(mt)):ne.onMessageHandler.next(z2(mt)));const Mt=mt.data;(function l1(ne){return"object"==typeof ne&&!!ne&&K in ne})(Mt)&&"1"===Mt[Ae]&&(yield function pt(ne,ye,mt){return Vt.apply(this,arguments)}(ne,mt.messageType,Mt))}),m1.apply(this,arguments)}const Z="@firebase/messaging",q="0.12.4",I=ne=>{const ye=new b1(ne.getProvider("app").getImmediate(),ne.getProvider("installations-internal").getImmediate(),ne.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",mt=>function vn(ne,ye){return m1.apply(this,arguments)}(ye,mt)),ye},P=ne=>{const ye=ne.getProvider("messaging").getImmediate();return{getToken:Mt=>function Ke(ne,ye){return Ve.apply(this,arguments)}(ye,Mt)}};function se(){return me.apply(this,arguments)}function me(){return(me=(0,o.Z)(function*(){try{yield(0,de.eu)()}catch{return!1}return typeof window<"u"&&(0,de.hl)()&&(0,de.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function an(ne=(0,ae.getApp)()){return se().then(ye=>{if(!ye)throw Xe.create("unsupported-browser")},ye=>{throw Xe.create("indexed-db-unsupported")}),(0,ae._getProvider)((0,de.m9)(ne),"messaging").getImmediate()}!function V(){(0,ae._registerComponent)(new F.wA("messaging",I,"PUBLIC")),(0,ae._registerComponent)(new F.wA("messaging-internal",P,"PRIVATE")),(0,ae.registerVersion)(Z,q),(0,ae.registerVersion)(Z,q,"esm2017")}()},8766:(Ht,Ne,N)=>{N.d(Ne,{Lj:()=>Be,X3:()=>Oe});var o=N(5861);const j=(he,ze)=>ze.some(ct=>he instanceof ct);let F,le;const ke=new WeakMap,ge=new WeakMap,_e=new WeakMap,$=new WeakMap,K=new WeakMap;let Ae={get(he,ze,ct){if(he instanceof IDBTransaction){if("done"===ze)return ge.get(he);if("objectStoreNames"===ze)return he.objectStoreNames||_e.get(he);if("store"===ze)return ct.objectStoreNames[1]?void 0:ct.objectStore(ct.objectStoreNames[0])}return Ie(he[ze])},set:(he,ze,ct)=>(he[ze]=ct,!0),has:(he,ze)=>he instanceof IDBTransaction&&("done"===ze||"store"===ze)||ze in he};function Me(he){return"function"==typeof he?function st(he){return he!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ae(){return le||(le=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(he)?function(...ze){return he.apply(Re(this),ze),Ie(ke.get(this))}:function(...ze){return Ie(he.apply(Re(this),ze))}:function(ze,...ct){const Ze=he.call(Re(this),ze,...ct);return _e.set(Ze,ze.sort?ze.sort():[ze]),Ie(Ze)}}(he):(he instanceof IDBTransaction&&function Je(he){if(ge.has(he))return;const ze=new Promise((ct,Ze)=>{const jt=()=>{he.removeEventListener("complete",ut),he.removeEventListener("error",pe),he.removeEventListener("abort",pe)},ut=()=>{ct(),jt()},pe=()=>{Ze(he.error||new DOMException("AbortError","AbortError")),jt()};he.addEventListener("complete",ut),he.addEventListener("error",pe),he.addEventListener("abort",pe)});ge.set(he,ze)}(he),j(he,function de(){return F||(F=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(he,Ae):he)}function Ie(he){if(he instanceof IDBRequest)return function ie(he){const ze=new Promise((ct,Ze)=>{const jt=()=>{he.removeEventListener("success",ut),he.removeEventListener("error",pe)},ut=()=>{ct(Ie(he.result)),jt()},pe=()=>{Ze(he.error),jt()};he.addEventListener("success",ut),he.addEventListener("error",pe)});return ze.then(ct=>{ct instanceof IDBCursor&&ke.set(ct,he)}).catch(()=>{}),K.set(ze,he),ze}(he);if($.has(he))return $.get(he);const ze=Me(he);return ze!==he&&($.set(he,ze),K.set(ze,he)),ze}const Re=he=>K.get(he);function Oe(he,ze,{blocked:ct,upgrade:Ze,blocking:jt,terminated:ut}={}){const pe=indexedDB.open(he,ze),we=Ie(pe);return Ze&&pe.addEventListener("upgradeneeded",He=>{Ze(Ie(pe.result),He.oldVersion,He.newVersion,Ie(pe.transaction))}),ct&&pe.addEventListener("blocked",()=>ct()),we.then(He=>{ut&&He.addEventListener("close",()=>ut()),jt&&He.addEventListener("versionchange",()=>jt())}).catch(()=>{}),we}function Be(he,{blocked:ze}={}){const ct=indexedDB.deleteDatabase(he);return ze&&ct.addEventListener("blocked",()=>ze()),Ie(ct).then(()=>{})}const je=["get","getKey","getAll","getAllKeys","count"],Pe=["put","add","delete","clear"],it=new Map;function oe(he,ze){if(!(he instanceof IDBDatabase)||ze in he||"string"!=typeof ze)return;if(it.get(ze))return it.get(ze);const ct=ze.replace(/FromIndex$/,""),Ze=ze!==ct,jt=Pe.includes(ct);if(!(ct in(Ze?IDBIndex:IDBObjectStore).prototype)||!jt&&!je.includes(ct))return;const ut=function(){var pe=(0,o.Z)(function*(we,...He){const Ue=this.transaction(we,jt?"readwrite":"readonly");let qe=Ue.store;return Ze&&(qe=qe.index(He.shift())),(yield Promise.all([qe[ct](...He),jt&&Ue.done]))[0]});return function(He){return pe.apply(this,arguments)}}();return it.set(ze,ut),ut}!function ot(he){Ae=he(Ae)}(he=>({...he,get:(ze,ct,Ze)=>oe(ze,ct)||he.get(ze,ct,Ze),has:(ze,ct)=>!!oe(ze,ct)||he.has(ze,ct)}))},5861:(Ht,Ne,N)=>{function o(F,le,de,ae,ke,ge,_e){try{var $=F[ge](_e),K=$.value}catch(ie){return void de(ie)}$.done?le(K):Promise.resolve(K).then(ae,ke)}function j(F){return function(){var le=this,de=arguments;return new Promise(function(ae,ke){var ge=F.apply(le,de);function _e(K){o(ge,ae,ke,_e,$,"next",K)}function $(K){o(ge,ae,ke,_e,$,"throw",K)}_e(void 0)})}}N.d(Ne,{Z:()=>j})}},Ht=>{Ht(Ht.s=9781)}]);